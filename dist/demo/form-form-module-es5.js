function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _iterableToArrayLimit(arr, i) { if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }

function _createForOfIteratorHelper(o) { if (typeof Symbol === "undefined" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (o = _unsupportedIterableToArray(o))) { var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e10) { throw _e10; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var it, normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e11) { didErr = true; err = _e11; }, f: function f() { try { if (!normalCompletion && it["return"] != null) it["return"](); } finally { if (didErr) throw err; } } }; }

function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }

function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _iterableToArray(iter) { if (typeof Symbol !== "undefined" && Symbol.iterator in Object(iter)) return Array.from(iter); }

function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["form-form-module"], {
  /***/
  "./node_modules/@ng-select/ng-select/__ivy_ngcc__/fesm2015/ng-select-ng-select.js":
  /*!****************************************************************************************!*\
    !*** ./node_modules/@ng-select/ng-select/__ivy_ngcc__/fesm2015/ng-select-ng-select.js ***!
    \****************************************************************************************/

  /*! exports provided: NgSelectComponent, NgSelectConfig, NgSelectModule, SELECTION_MODEL_FACTORY, ɵb, ɵc, ɵd, ɵe, ɵf, ɵg, ɵh, ɵi, ɵj, ɵk, ɵl, ɵm, ɵn, ɵo, ɵp, ɵq, ɵr, ɵs */

  /***/
  function node_modulesNgSelectNgSelect__ivy_ngcc__Fesm2015NgSelectNgSelectJs(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "NgSelectComponent", function () {
      return NgSelectComponent;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "NgSelectConfig", function () {
      return NgSelectConfig;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "NgSelectModule", function () {
      return NgSelectModule;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "SELECTION_MODEL_FACTORY", function () {
      return SELECTION_MODEL_FACTORY;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "ɵb", function () {
      return DefaultSelectionModelFactory;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "ɵc", function () {
      return DefaultSelectionModel;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "ɵd", function () {
      return NgDropdownPanelService;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "ɵe", function () {
      return NgItemLabelDirective;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "ɵf", function () {
      return NgOptionTemplateDirective;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "ɵg", function () {
      return NgOptgroupTemplateDirective;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "ɵh", function () {
      return NgLabelTemplateDirective;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "ɵi", function () {
      return NgMultiLabelTemplateDirective;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "ɵj", function () {
      return NgHeaderTemplateDirective;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "ɵk", function () {
      return NgFooterTemplateDirective;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "ɵl", function () {
      return NgNotFoundTemplateDirective;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "ɵm", function () {
      return NgTypeToSearchTemplateDirective;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "ɵn", function () {
      return NgLoadingTextTemplateDirective;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "ɵo", function () {
      return NgTagTemplateDirective;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "ɵp", function () {
      return NgLoadingSpinnerTemplateDirective;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "ɵq", function () {
      return NgDropdownPanelComponent;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "ɵr", function () {
      return NgOptionComponent;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "ɵs", function () {
      return ConsoleService;
    });
    /* harmony import */


    var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
    /*! @angular/core */
    "./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");
    /* harmony import */


    var _angular_forms__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(
    /*! @angular/forms */
    "./node_modules/@angular/forms/__ivy_ngcc__/fesm2015/forms.js");
    /* harmony import */


    var rxjs_operators__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(
    /*! rxjs/operators */
    "./node_modules/rxjs/_esm2015/operators/index.js");
    /* harmony import */


    var rxjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(
    /*! rxjs */
    "./node_modules/rxjs/_esm2015/index.js");
    /* harmony import */


    var _angular_common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(
    /*! @angular/common */
    "./node_modules/@angular/common/__ivy_ngcc__/fesm2015/common.js");
    /**
     * @fileoverview added by tsickle
     * Generated from: lib/value-utils.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */

    /** @type {?} */


    var _c0 = ["content"];
    var _c1 = ["scroll"];
    var _c2 = ["padding"];

    var _c3 = function _c3(a0) {
      return {
        searchTerm: a0
      };
    };

    function NgDropdownPanelComponent_div_0_Template(rf, ctx) {
      if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 6);

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainer"](1, 7);

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
      }

      if (rf & 2) {
        var ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngTemplateOutlet", ctx_r0.headerTemplate)("ngTemplateOutletContext", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](2, _c3, ctx_r0.filterValue));
      }
    }

    function NgDropdownPanelComponent_div_8_Template(rf, ctx) {
      if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 8);

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainer"](1, 7);

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
      }

      if (rf & 2) {
        var ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngTemplateOutlet", ctx_r4.footerTemplate)("ngTemplateOutletContext", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](2, _c3, ctx_r4.filterValue));
      }
    }

    var _c4 = ["*"];
    var _c5 = ["searchInput"];

    function NgSelectComponent_ng_container_4_div_1_ng_template_1_Template(rf, ctx) {
      if (rf & 1) {
        var _r13 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "span", 15);

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function NgSelectComponent_ng_container_4_div_1_ng_template_1_Template_span_click_0_listener() {
          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r13);

          var item_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;

          var ctx_r11 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);

          return ctx_r11.unselect(item_r7);
        });

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, "\xD7");

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](2, "span", 16);
      }

      if (rf & 2) {
        var item_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;

        var ctx_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngItemLabel", item_r7.label)("escape", ctx_r9.escapeHTML);
      }
    }

    function NgSelectComponent_ng_container_4_div_1_ng_template_3_Template(rf, ctx) {}

    var _c6 = function _c6(a0, a1, a2) {
      return {
        item: a0,
        clear: a1,
        label: a2
      };
    };

    function NgSelectComponent_ng_container_4_div_1_Template(rf, ctx) {
      if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 12);

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, NgSelectComponent_ng_container_4_div_1_ng_template_1_Template, 3, 2, "ng-template", null, 13, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplateRefExtractor"]);

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](3, NgSelectComponent_ng_container_4_div_1_ng_template_3_Template, 0, 0, "ng-template", 14);

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
      }

      if (rf & 2) {
        var item_r7 = ctx.$implicit;

        var _r8 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵreference"](2);

        var ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassProp"]("ng-value-disabled", item_r7.disabled);

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngTemplateOutlet", ctx_r6.labelTemplate || _r8)("ngTemplateOutletContext", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction3"](4, _c6, item_r7.value, ctx_r6.clearItem, item_r7.label));
      }
    }

    function NgSelectComponent_ng_container_4_Template(rf, ctx) {
      if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, NgSelectComponent_ng_container_4_div_1_Template, 4, 8, "div", 11);

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
      }

      if (rf & 2) {
        var ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx_r0.selectedItems)("ngForTrackBy", ctx_r0.trackByOption);
      }
    }

    function NgSelectComponent_5_ng_template_0_Template(rf, ctx) {}

    var _c7 = function _c7(a0, a1) {
      return {
        items: a0,
        clear: a1
      };
    };

    function NgSelectComponent_5_Template(rf, ctx) {
      if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, NgSelectComponent_5_ng_template_0_Template, 0, 0, "ng-template", 14);
      }

      if (rf & 2) {
        var ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngTemplateOutlet", ctx_r1.multiLabelTemplate)("ngTemplateOutletContext", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction2"](2, _c7, ctx_r1.selectedValues, ctx_r1.clearItem));
      }
    }

    function NgSelectComponent_ng_container_9_ng_template_1_Template(rf, ctx) {
      if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "div", 19);
      }
    }

    function NgSelectComponent_ng_container_9_ng_template_3_Template(rf, ctx) {}

    function NgSelectComponent_ng_container_9_Template(rf, ctx) {
      if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, NgSelectComponent_ng_container_9_ng_template_1_Template, 1, 0, "ng-template", null, 17, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplateRefExtractor"]);

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](3, NgSelectComponent_ng_container_9_ng_template_3_Template, 0, 0, "ng-template", 18);

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
      }

      if (rf & 2) {
        var _r16 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵreference"](2);

        var ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngTemplateOutlet", ctx_r3.loadingSpinnerTemplate || _r16);
      }
    }

    function NgSelectComponent_span_10_Template(rf, ctx) {
      if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "span", 20);

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "span", 21);

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2, "\xD7");

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
      }

      if (rf & 2) {
        var ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("title", ctx_r4.clearAllText);
      }
    }

    function NgSelectComponent_ng_dropdown_panel_13_div_2_ng_template_1_Template(rf, ctx) {
      if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "span", 27);
      }

      if (rf & 2) {
        var item_r24 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;

        var ctx_r26 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngItemLabel", item_r24.label)("escape", ctx_r26.escapeHTML);
      }
    }

    function NgSelectComponent_ng_dropdown_panel_13_div_2_ng_template_3_Template(rf, ctx) {}

    var _c8 = function _c8(a0, a1, a2, a3) {
      return {
        item: a0,
        item$: a1,
        index: a2,
        searchTerm: a3
      };
    };

    function NgSelectComponent_ng_dropdown_panel_13_div_2_Template(rf, ctx) {
      if (rf & 1) {
        var _r30 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 25);

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function NgSelectComponent_ng_dropdown_panel_13_div_2_Template_div_click_0_listener() {
          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r30);

          var item_r24 = ctx.$implicit;

          var ctx_r29 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);

          return ctx_r29.toggleItem(item_r24);
        })("mouseover", function NgSelectComponent_ng_dropdown_panel_13_div_2_Template_div_mouseover_0_listener() {
          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r30);

          var item_r24 = ctx.$implicit;

          var ctx_r31 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);

          return ctx_r31.onItemHover(item_r24);
        });

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, NgSelectComponent_ng_dropdown_panel_13_div_2_ng_template_1_Template, 1, 2, "ng-template", null, 26, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplateRefExtractor"]);

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](3, NgSelectComponent_ng_dropdown_panel_13_div_2_ng_template_3_Template, 0, 0, "ng-template", 14);

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
      }

      if (rf & 2) {
        var item_r24 = ctx.$implicit;

        var _r25 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵreference"](2);

        var ctx_r19 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassProp"]("ng-option-disabled", item_r24.disabled)("ng-option-selected", item_r24.selected)("ng-optgroup", item_r24.children)("ng-option", !item_r24.children)("ng-option-child", !!item_r24.parent)("ng-option-marked", item_r24 === ctx_r19.itemsList.markedItem);

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵattribute"]("role", item_r24.children ? "group" : "option")("aria-selected", item_r24.selected)("id", item_r24 == null ? null : item_r24.htmlId);

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngTemplateOutlet", item_r24.children ? ctx_r19.optgroupTemplate || _r25 : ctx_r19.optionTemplate || _r25)("ngTemplateOutletContext", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction4"](17, _c8, item_r24.value, item_r24, item_r24.index, ctx_r19.searchTerm));
      }
    }

    function NgSelectComponent_ng_dropdown_panel_13_div_3_ng_template_1_Template(rf, ctx) {
      if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "span");

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "span", 30);

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2);

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3);

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
      }

      if (rf & 2) {
        var ctx_r33 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](3);

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx_r33.addTagText);

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"]("\"", ctx_r33.searchTerm, "\"");
      }
    }

    function NgSelectComponent_ng_dropdown_panel_13_div_3_ng_template_3_Template(rf, ctx) {}

    function NgSelectComponent_ng_dropdown_panel_13_div_3_Template(rf, ctx) {
      if (rf & 1) {
        var _r36 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 28);

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("mouseover", function NgSelectComponent_ng_dropdown_panel_13_div_3_Template_div_mouseover_0_listener() {
          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r36);

          var ctx_r35 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);

          return ctx_r35.itemsList.unmarkItem();
        })("click", function NgSelectComponent_ng_dropdown_panel_13_div_3_Template_div_click_0_listener() {
          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r36);

          var ctx_r37 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);

          return ctx_r37.selectTag();
        });

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, NgSelectComponent_ng_dropdown_panel_13_div_3_ng_template_1_Template, 4, 2, "ng-template", null, 29, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplateRefExtractor"]);

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](3, NgSelectComponent_ng_dropdown_panel_13_div_3_ng_template_3_Template, 0, 0, "ng-template", 14);

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
      }

      if (rf & 2) {
        var _r32 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵreference"](2);

        var ctx_r20 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassProp"]("ng-option-marked", !ctx_r20.itemsList.markedItem);

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngTemplateOutlet", ctx_r20.tagTemplate || _r32)("ngTemplateOutletContext", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](4, _c3, ctx_r20.searchTerm));
      }
    }

    function NgSelectComponent_ng_dropdown_panel_13_ng_container_4_ng_template_1_Template(rf, ctx) {
      if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 32);

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
      }

      if (rf & 2) {
        var ctx_r39 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](3);

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx_r39.notFoundText);
      }
    }

    function NgSelectComponent_ng_dropdown_panel_13_ng_container_4_ng_template_3_Template(rf, ctx) {}

    function NgSelectComponent_ng_dropdown_panel_13_ng_container_4_Template(rf, ctx) {
      if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, NgSelectComponent_ng_dropdown_panel_13_ng_container_4_ng_template_1_Template, 2, 1, "ng-template", null, 31, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplateRefExtractor"]);

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](3, NgSelectComponent_ng_dropdown_panel_13_ng_container_4_ng_template_3_Template, 0, 0, "ng-template", 14);

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
      }

      if (rf & 2) {
        var _r38 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵreference"](2);

        var ctx_r21 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngTemplateOutlet", ctx_r21.notFoundTemplate || _r38)("ngTemplateOutletContext", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](2, _c3, ctx_r21.searchTerm));
      }
    }

    function NgSelectComponent_ng_dropdown_panel_13_ng_container_5_ng_template_1_Template(rf, ctx) {
      if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 32);

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
      }

      if (rf & 2) {
        var ctx_r42 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](3);

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx_r42.typeToSearchText);
      }
    }

    function NgSelectComponent_ng_dropdown_panel_13_ng_container_5_ng_template_3_Template(rf, ctx) {}

    function NgSelectComponent_ng_dropdown_panel_13_ng_container_5_Template(rf, ctx) {
      if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, NgSelectComponent_ng_dropdown_panel_13_ng_container_5_ng_template_1_Template, 2, 1, "ng-template", null, 33, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplateRefExtractor"]);

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](3, NgSelectComponent_ng_dropdown_panel_13_ng_container_5_ng_template_3_Template, 0, 0, "ng-template", 18);

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
      }

      if (rf & 2) {
        var _r41 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵreference"](2);

        var ctx_r22 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngTemplateOutlet", ctx_r22.typeToSearchTemplate || _r41);
      }
    }

    function NgSelectComponent_ng_dropdown_panel_13_ng_container_6_ng_template_1_Template(rf, ctx) {
      if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 32);

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
      }

      if (rf & 2) {
        var ctx_r45 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](3);

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx_r45.loadingText);
      }
    }

    function NgSelectComponent_ng_dropdown_panel_13_ng_container_6_ng_template_3_Template(rf, ctx) {}

    function NgSelectComponent_ng_dropdown_panel_13_ng_container_6_Template(rf, ctx) {
      if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, NgSelectComponent_ng_dropdown_panel_13_ng_container_6_ng_template_1_Template, 2, 1, "ng-template", null, 34, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplateRefExtractor"]);

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](3, NgSelectComponent_ng_dropdown_panel_13_ng_container_6_ng_template_3_Template, 0, 0, "ng-template", 14);

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
      }

      if (rf & 2) {
        var _r44 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵreference"](2);

        var ctx_r23 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngTemplateOutlet", ctx_r23.loadingTextTemplate || _r44)("ngTemplateOutletContext", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](2, _c3, ctx_r23.searchTerm));
      }
    }

    function NgSelectComponent_ng_dropdown_panel_13_Template(rf, ctx) {
      if (rf & 1) {
        var _r48 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "ng-dropdown-panel", 22);

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("update", function NgSelectComponent_ng_dropdown_panel_13_Template_ng_dropdown_panel_update_0_listener($event) {
          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r48);

          var ctx_r47 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();

          return ctx_r47.viewPortItems = $event;
        })("scroll", function NgSelectComponent_ng_dropdown_panel_13_Template_ng_dropdown_panel_scroll_0_listener($event) {
          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r48);

          var ctx_r49 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();

          return ctx_r49.scroll.emit($event);
        })("scrollToEnd", function NgSelectComponent_ng_dropdown_panel_13_Template_ng_dropdown_panel_scrollToEnd_0_listener($event) {
          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r48);

          var ctx_r50 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();

          return ctx_r50.scrollToEnd.emit($event);
        })("outsideClick", function NgSelectComponent_ng_dropdown_panel_13_Template_ng_dropdown_panel_outsideClick_0_listener() {
          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r48);

          var ctx_r51 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();

          return ctx_r51.close();
        });

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](1);

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, NgSelectComponent_ng_dropdown_panel_13_div_2_Template, 4, 22, "div", 23);

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](3, NgSelectComponent_ng_dropdown_panel_13_div_3_Template, 4, 6, "div", 24);

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](4, NgSelectComponent_ng_dropdown_panel_13_ng_container_4_Template, 4, 4, "ng-container", 3);

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](5, NgSelectComponent_ng_dropdown_panel_13_ng_container_5_Template, 4, 1, "ng-container", 3);

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](6, NgSelectComponent_ng_dropdown_panel_13_ng_container_6_Template, 4, 4, "ng-container", 3);

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
      }

      if (rf & 2) {
        var ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassProp"]("ng-select-multiple", ctx_r5.multiple);

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("virtualScroll", ctx_r5.virtualScroll)("bufferAmount", ctx_r5.bufferAmount)("appendTo", ctx_r5.appendTo)("position", ctx_r5.dropdownPosition)("headerTemplate", ctx_r5.headerTemplate)("footerTemplate", ctx_r5.footerTemplate)("filterValue", ctx_r5.searchTerm)("items", ctx_r5.itemsList.filteredItems)("markedItem", ctx_r5.itemsList.markedItem)("ngClass", ctx_r5.appendTo ? ctx_r5.classes : null)("id", ctx_r5.dropdownId);

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx_r5.viewPortItems)("ngForTrackBy", ctx_r5.trackByOption);

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r5.showAddTag);

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r5.showNoItemsFound());

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r5.showTypeToSearch());

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);

        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r5.loading && ctx_r5.itemsList.filteredItems.length === 0);
      }
    }

    var unescapedHTMLExp = /[&<>"']/g;
    /** @type {?} */

    var hasUnescapedHTMLExp = RegExp(unescapedHTMLExp.source);
    /** @type {?} */

    var htmlEscapes = {
      '&': '&amp;',
      '<': '&lt;',
      '>': '&gt;',
      '"': '&quot;',
      '\'': '&#39;'
    };
    /**
     * @param {?} string
     * @return {?}
     */

    function escapeHTML(string) {
      return string && hasUnescapedHTMLExp.test(string) ? string.replace(unescapedHTMLExp,
      /**
      * @param {?} chr
      * @return {?}
      */
      function (chr) {
        return htmlEscapes[chr];
      }) : string;
    }
    /**
     * @param {?} value
     * @return {?}
     */


    function isDefined(value) {
      return value !== undefined && value !== null;
    }
    /**
     * @param {?} value
     * @return {?}
     */


    function isObject(value) {
      return typeof value === 'object' && isDefined(value);
    }
    /**
     * @param {?} value
     * @return {?}
     */


    function isPromise(value) {
      return value instanceof Promise;
    }
    /**
     * @param {?} value
     * @return {?}
     */


    function isFunction(value) {
      return value instanceof Function;
    }
    /**
     * @fileoverview added by tsickle
     * Generated from: lib/ng-templates.directive.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */


    var NgItemLabelDirective = /*#__PURE__*/function () {
      /**
       * @param {?} element
       */
      function NgItemLabelDirective(element) {
        _classCallCheck(this, NgItemLabelDirective);

        this.element = element;
        this.escape = true;
      }
      /**
       * @param {?} changes
       * @return {?}
       */


      _createClass(NgItemLabelDirective, [{
        key: "ngOnChanges",
        value: function ngOnChanges(changes) {
          this.element.nativeElement.innerHTML = this.escape ? escapeHTML(this.ngItemLabel) : this.ngItemLabel;
        }
      }]);

      return NgItemLabelDirective;
    }();

    NgItemLabelDirective.ɵfac = function NgItemLabelDirective_Factory(t) {
      return new (t || NgItemLabelDirective)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"]));
    };

    NgItemLabelDirective.ɵdir = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineDirective"]({
      type: NgItemLabelDirective,
      selectors: [["", "ngItemLabel", ""]],
      inputs: {
        escape: "escape",
        ngItemLabel: "ngItemLabel"
      },
      features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]]
    });
    /** @nocollapse */

    NgItemLabelDirective.ctorParameters = function () {
      return [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"]
      }];
    };

    NgItemLabelDirective.propDecorators = {
      ngItemLabel: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
      }],
      escape: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
      }]
    };
    /*@__PURE__*/

    (function () {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](NgItemLabelDirective, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Directive"],
        args: [{
          selector: '[ngItemLabel]'
        }]
      }], function () {
        return [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"]
        }];
      }, {
        escape: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }],
        ngItemLabel: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }]
      });
    })();

    if (false) {}

    var NgOptionTemplateDirective =
    /**
     * @param {?} template
     */
    function NgOptionTemplateDirective(template) {
      _classCallCheck(this, NgOptionTemplateDirective);

      this.template = template;
    };

    NgOptionTemplateDirective.ɵfac = function NgOptionTemplateDirective_Factory(t) {
      return new (t || NgOptionTemplateDirective)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["TemplateRef"]));
    };

    NgOptionTemplateDirective.ɵdir = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineDirective"]({
      type: NgOptionTemplateDirective,
      selectors: [["", "ng-option-tmp", ""]]
    });
    /** @nocollapse */

    NgOptionTemplateDirective.ctorParameters = function () {
      return [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["TemplateRef"]
      }];
    };
    /*@__PURE__*/


    (function () {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](NgOptionTemplateDirective, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Directive"],
        args: [{
          selector: '[ng-option-tmp]'
        }]
      }], function () {
        return [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["TemplateRef"]
        }];
      }, null);
    })();

    if (false) {}

    var NgOptgroupTemplateDirective =
    /**
     * @param {?} template
     */
    function NgOptgroupTemplateDirective(template) {
      _classCallCheck(this, NgOptgroupTemplateDirective);

      this.template = template;
    };

    NgOptgroupTemplateDirective.ɵfac = function NgOptgroupTemplateDirective_Factory(t) {
      return new (t || NgOptgroupTemplateDirective)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["TemplateRef"]));
    };

    NgOptgroupTemplateDirective.ɵdir = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineDirective"]({
      type: NgOptgroupTemplateDirective,
      selectors: [["", "ng-optgroup-tmp", ""]]
    });
    /** @nocollapse */

    NgOptgroupTemplateDirective.ctorParameters = function () {
      return [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["TemplateRef"]
      }];
    };
    /*@__PURE__*/


    (function () {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](NgOptgroupTemplateDirective, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Directive"],
        args: [{
          selector: '[ng-optgroup-tmp]'
        }]
      }], function () {
        return [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["TemplateRef"]
        }];
      }, null);
    })();

    if (false) {}

    var NgLabelTemplateDirective =
    /**
     * @param {?} template
     */
    function NgLabelTemplateDirective(template) {
      _classCallCheck(this, NgLabelTemplateDirective);

      this.template = template;
    };

    NgLabelTemplateDirective.ɵfac = function NgLabelTemplateDirective_Factory(t) {
      return new (t || NgLabelTemplateDirective)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["TemplateRef"]));
    };

    NgLabelTemplateDirective.ɵdir = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineDirective"]({
      type: NgLabelTemplateDirective,
      selectors: [["", "ng-label-tmp", ""]]
    });
    /** @nocollapse */

    NgLabelTemplateDirective.ctorParameters = function () {
      return [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["TemplateRef"]
      }];
    };
    /*@__PURE__*/


    (function () {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](NgLabelTemplateDirective, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Directive"],
        args: [{
          selector: '[ng-label-tmp]'
        }]
      }], function () {
        return [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["TemplateRef"]
        }];
      }, null);
    })();

    if (false) {}

    var NgMultiLabelTemplateDirective =
    /**
     * @param {?} template
     */
    function NgMultiLabelTemplateDirective(template) {
      _classCallCheck(this, NgMultiLabelTemplateDirective);

      this.template = template;
    };

    NgMultiLabelTemplateDirective.ɵfac = function NgMultiLabelTemplateDirective_Factory(t) {
      return new (t || NgMultiLabelTemplateDirective)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["TemplateRef"]));
    };

    NgMultiLabelTemplateDirective.ɵdir = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineDirective"]({
      type: NgMultiLabelTemplateDirective,
      selectors: [["", "ng-multi-label-tmp", ""]]
    });
    /** @nocollapse */

    NgMultiLabelTemplateDirective.ctorParameters = function () {
      return [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["TemplateRef"]
      }];
    };
    /*@__PURE__*/


    (function () {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](NgMultiLabelTemplateDirective, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Directive"],
        args: [{
          selector: '[ng-multi-label-tmp]'
        }]
      }], function () {
        return [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["TemplateRef"]
        }];
      }, null);
    })();

    if (false) {}

    var NgHeaderTemplateDirective =
    /**
     * @param {?} template
     */
    function NgHeaderTemplateDirective(template) {
      _classCallCheck(this, NgHeaderTemplateDirective);

      this.template = template;
    };

    NgHeaderTemplateDirective.ɵfac = function NgHeaderTemplateDirective_Factory(t) {
      return new (t || NgHeaderTemplateDirective)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["TemplateRef"]));
    };

    NgHeaderTemplateDirective.ɵdir = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineDirective"]({
      type: NgHeaderTemplateDirective,
      selectors: [["", "ng-header-tmp", ""]]
    });
    /** @nocollapse */

    NgHeaderTemplateDirective.ctorParameters = function () {
      return [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["TemplateRef"]
      }];
    };
    /*@__PURE__*/


    (function () {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](NgHeaderTemplateDirective, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Directive"],
        args: [{
          selector: '[ng-header-tmp]'
        }]
      }], function () {
        return [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["TemplateRef"]
        }];
      }, null);
    })();

    if (false) {}

    var NgFooterTemplateDirective =
    /**
     * @param {?} template
     */
    function NgFooterTemplateDirective(template) {
      _classCallCheck(this, NgFooterTemplateDirective);

      this.template = template;
    };

    NgFooterTemplateDirective.ɵfac = function NgFooterTemplateDirective_Factory(t) {
      return new (t || NgFooterTemplateDirective)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["TemplateRef"]));
    };

    NgFooterTemplateDirective.ɵdir = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineDirective"]({
      type: NgFooterTemplateDirective,
      selectors: [["", "ng-footer-tmp", ""]]
    });
    /** @nocollapse */

    NgFooterTemplateDirective.ctorParameters = function () {
      return [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["TemplateRef"]
      }];
    };
    /*@__PURE__*/


    (function () {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](NgFooterTemplateDirective, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Directive"],
        args: [{
          selector: '[ng-footer-tmp]'
        }]
      }], function () {
        return [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["TemplateRef"]
        }];
      }, null);
    })();

    if (false) {}

    var NgNotFoundTemplateDirective =
    /**
     * @param {?} template
     */
    function NgNotFoundTemplateDirective(template) {
      _classCallCheck(this, NgNotFoundTemplateDirective);

      this.template = template;
    };

    NgNotFoundTemplateDirective.ɵfac = function NgNotFoundTemplateDirective_Factory(t) {
      return new (t || NgNotFoundTemplateDirective)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["TemplateRef"]));
    };

    NgNotFoundTemplateDirective.ɵdir = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineDirective"]({
      type: NgNotFoundTemplateDirective,
      selectors: [["", "ng-notfound-tmp", ""]]
    });
    /** @nocollapse */

    NgNotFoundTemplateDirective.ctorParameters = function () {
      return [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["TemplateRef"]
      }];
    };
    /*@__PURE__*/


    (function () {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](NgNotFoundTemplateDirective, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Directive"],
        args: [{
          selector: '[ng-notfound-tmp]'
        }]
      }], function () {
        return [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["TemplateRef"]
        }];
      }, null);
    })();

    if (false) {}

    var NgTypeToSearchTemplateDirective =
    /**
     * @param {?} template
     */
    function NgTypeToSearchTemplateDirective(template) {
      _classCallCheck(this, NgTypeToSearchTemplateDirective);

      this.template = template;
    };

    NgTypeToSearchTemplateDirective.ɵfac = function NgTypeToSearchTemplateDirective_Factory(t) {
      return new (t || NgTypeToSearchTemplateDirective)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["TemplateRef"]));
    };

    NgTypeToSearchTemplateDirective.ɵdir = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineDirective"]({
      type: NgTypeToSearchTemplateDirective,
      selectors: [["", "ng-typetosearch-tmp", ""]]
    });
    /** @nocollapse */

    NgTypeToSearchTemplateDirective.ctorParameters = function () {
      return [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["TemplateRef"]
      }];
    };
    /*@__PURE__*/


    (function () {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](NgTypeToSearchTemplateDirective, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Directive"],
        args: [{
          selector: '[ng-typetosearch-tmp]'
        }]
      }], function () {
        return [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["TemplateRef"]
        }];
      }, null);
    })();

    if (false) {}

    var NgLoadingTextTemplateDirective =
    /**
     * @param {?} template
     */
    function NgLoadingTextTemplateDirective(template) {
      _classCallCheck(this, NgLoadingTextTemplateDirective);

      this.template = template;
    };

    NgLoadingTextTemplateDirective.ɵfac = function NgLoadingTextTemplateDirective_Factory(t) {
      return new (t || NgLoadingTextTemplateDirective)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["TemplateRef"]));
    };

    NgLoadingTextTemplateDirective.ɵdir = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineDirective"]({
      type: NgLoadingTextTemplateDirective,
      selectors: [["", "ng-loadingtext-tmp", ""]]
    });
    /** @nocollapse */

    NgLoadingTextTemplateDirective.ctorParameters = function () {
      return [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["TemplateRef"]
      }];
    };
    /*@__PURE__*/


    (function () {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](NgLoadingTextTemplateDirective, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Directive"],
        args: [{
          selector: '[ng-loadingtext-tmp]'
        }]
      }], function () {
        return [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["TemplateRef"]
        }];
      }, null);
    })();

    if (false) {}

    var NgTagTemplateDirective =
    /**
     * @param {?} template
     */
    function NgTagTemplateDirective(template) {
      _classCallCheck(this, NgTagTemplateDirective);

      this.template = template;
    };

    NgTagTemplateDirective.ɵfac = function NgTagTemplateDirective_Factory(t) {
      return new (t || NgTagTemplateDirective)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["TemplateRef"]));
    };

    NgTagTemplateDirective.ɵdir = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineDirective"]({
      type: NgTagTemplateDirective,
      selectors: [["", "ng-tag-tmp", ""]]
    });
    /** @nocollapse */

    NgTagTemplateDirective.ctorParameters = function () {
      return [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["TemplateRef"]
      }];
    };
    /*@__PURE__*/


    (function () {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](NgTagTemplateDirective, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Directive"],
        args: [{
          selector: '[ng-tag-tmp]'
        }]
      }], function () {
        return [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["TemplateRef"]
        }];
      }, null);
    })();

    if (false) {}

    var NgLoadingSpinnerTemplateDirective =
    /**
     * @param {?} template
     */
    function NgLoadingSpinnerTemplateDirective(template) {
      _classCallCheck(this, NgLoadingSpinnerTemplateDirective);

      this.template = template;
    };

    NgLoadingSpinnerTemplateDirective.ɵfac = function NgLoadingSpinnerTemplateDirective_Factory(t) {
      return new (t || NgLoadingSpinnerTemplateDirective)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["TemplateRef"]));
    };

    NgLoadingSpinnerTemplateDirective.ɵdir = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineDirective"]({
      type: NgLoadingSpinnerTemplateDirective,
      selectors: [["", "ng-loadingspinner-tmp", ""]]
    });
    /** @nocollapse */

    NgLoadingSpinnerTemplateDirective.ctorParameters = function () {
      return [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["TemplateRef"]
      }];
    };
    /*@__PURE__*/


    (function () {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](NgLoadingSpinnerTemplateDirective, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Directive"],
        args: [{
          selector: '[ng-loadingspinner-tmp]'
        }]
      }], function () {
        return [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["TemplateRef"]
        }];
      }, null);
    })();

    if (false) {}
    /**
     * @fileoverview added by tsickle
     * Generated from: lib/console.service.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */


    var ConsoleService = /*#__PURE__*/function () {
      function ConsoleService() {
        _classCallCheck(this, ConsoleService);
      }

      _createClass(ConsoleService, [{
        key: "warn",

        /**
         * @param {?} message
         * @return {?}
         */
        value: function warn(message) {
          console.warn(message);
        }
      }]);

      return ConsoleService;
    }();

    ConsoleService.ɵfac = function ConsoleService_Factory(t) {
      return new (t || ConsoleService)();
    };
    /** @nocollapse */


    ConsoleService.ɵprov = Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"])({
      factory: function ConsoleService_Factory() {
        return new ConsoleService();
      },
      token: ConsoleService,
      providedIn: "root"
    });
    /*@__PURE__*/

    (function () {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ConsoleService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"],
        args: [{
          providedIn: 'root'
        }]
      }], null, null);
    })();
    /**
     * @fileoverview added by tsickle
     * Generated from: lib/id.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */

    /**
     * @return {?}
     */


    function newId() {
      // First character is an 'a', it's good practice to tag id to begin with a letter
      return 'axxxxxxxxxxx'.replace(/[x]/g,
      /**
      * @param {?} _
      * @return {?}
      */
      function (_) {
        // tslint:disable-next-line:no-bitwise

        /** @type {?} */
        var val = Math.random() * 16 | 0;
        return val.toString(16);
      });
    }
    /**
     * @fileoverview added by tsickle
     * Generated from: lib/search-helper.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */

    /** @type {?} */


    var diacritics = {
      "\u24B6": 'A',
      "\uFF21": 'A',
      "\xC0": 'A',
      "\xC1": 'A',
      "\xC2": 'A',
      "\u1EA6": 'A',
      "\u1EA4": 'A',
      "\u1EAA": 'A',
      "\u1EA8": 'A',
      "\xC3": 'A',
      "\u0100": 'A',
      "\u0102": 'A',
      "\u1EB0": 'A',
      "\u1EAE": 'A',
      "\u1EB4": 'A',
      "\u1EB2": 'A',
      "\u0226": 'A',
      "\u01E0": 'A',
      "\xC4": 'A',
      "\u01DE": 'A',
      "\u1EA2": 'A',
      "\xC5": 'A',
      "\u01FA": 'A',
      "\u01CD": 'A',
      "\u0200": 'A',
      "\u0202": 'A',
      "\u1EA0": 'A',
      "\u1EAC": 'A',
      "\u1EB6": 'A',
      "\u1E00": 'A',
      "\u0104": 'A',
      "\u023A": 'A',
      "\u2C6F": 'A',
      "\uA732": 'AA',
      "\xC6": 'AE',
      "\u01FC": 'AE',
      "\u01E2": 'AE',
      "\uA734": 'AO',
      "\uA736": 'AU',
      "\uA738": 'AV',
      "\uA73A": 'AV',
      "\uA73C": 'AY',
      "\u24B7": 'B',
      "\uFF22": 'B',
      "\u1E02": 'B',
      "\u1E04": 'B',
      "\u1E06": 'B',
      "\u0243": 'B',
      "\u0182": 'B',
      "\u0181": 'B',
      "\u24B8": 'C',
      "\uFF23": 'C',
      "\u0106": 'C',
      "\u0108": 'C',
      "\u010A": 'C',
      "\u010C": 'C',
      "\xC7": 'C',
      "\u1E08": 'C',
      "\u0187": 'C',
      "\u023B": 'C',
      "\uA73E": 'C',
      "\u24B9": 'D',
      "\uFF24": 'D',
      "\u1E0A": 'D',
      "\u010E": 'D',
      "\u1E0C": 'D',
      "\u1E10": 'D',
      "\u1E12": 'D',
      "\u1E0E": 'D',
      "\u0110": 'D',
      "\u018B": 'D',
      "\u018A": 'D',
      "\u0189": 'D',
      "\uA779": 'D',
      "\u01F1": 'DZ',
      "\u01C4": 'DZ',
      "\u01F2": 'Dz',
      "\u01C5": 'Dz',
      "\u24BA": 'E',
      "\uFF25": 'E',
      "\xC8": 'E',
      "\xC9": 'E',
      "\xCA": 'E',
      "\u1EC0": 'E',
      "\u1EBE": 'E',
      "\u1EC4": 'E',
      "\u1EC2": 'E',
      "\u1EBC": 'E',
      "\u0112": 'E',
      "\u1E14": 'E',
      "\u1E16": 'E',
      "\u0114": 'E',
      "\u0116": 'E',
      "\xCB": 'E',
      "\u1EBA": 'E',
      "\u011A": 'E',
      "\u0204": 'E',
      "\u0206": 'E',
      "\u1EB8": 'E',
      "\u1EC6": 'E',
      "\u0228": 'E',
      "\u1E1C": 'E',
      "\u0118": 'E',
      "\u1E18": 'E',
      "\u1E1A": 'E',
      "\u0190": 'E',
      "\u018E": 'E',
      "\u24BB": 'F',
      "\uFF26": 'F',
      "\u1E1E": 'F',
      "\u0191": 'F',
      "\uA77B": 'F',
      "\u24BC": 'G',
      "\uFF27": 'G',
      "\u01F4": 'G',
      "\u011C": 'G',
      "\u1E20": 'G',
      "\u011E": 'G',
      "\u0120": 'G',
      "\u01E6": 'G',
      "\u0122": 'G',
      "\u01E4": 'G',
      "\u0193": 'G',
      "\uA7A0": 'G',
      "\uA77D": 'G',
      "\uA77E": 'G',
      "\u24BD": 'H',
      "\uFF28": 'H',
      "\u0124": 'H',
      "\u1E22": 'H',
      "\u1E26": 'H',
      "\u021E": 'H',
      "\u1E24": 'H',
      "\u1E28": 'H',
      "\u1E2A": 'H',
      "\u0126": 'H',
      "\u2C67": 'H',
      "\u2C75": 'H',
      "\uA78D": 'H',
      "\u24BE": 'I',
      "\uFF29": 'I',
      "\xCC": 'I',
      "\xCD": 'I',
      "\xCE": 'I',
      "\u0128": 'I',
      "\u012A": 'I',
      "\u012C": 'I',
      "\u0130": 'I',
      "\xCF": 'I',
      "\u1E2E": 'I',
      "\u1EC8": 'I',
      "\u01CF": 'I',
      "\u0208": 'I',
      "\u020A": 'I',
      "\u1ECA": 'I',
      "\u012E": 'I',
      "\u1E2C": 'I',
      "\u0197": 'I',
      "\u24BF": 'J',
      "\uFF2A": 'J',
      "\u0134": 'J',
      "\u0248": 'J',
      "\u24C0": 'K',
      "\uFF2B": 'K',
      "\u1E30": 'K',
      "\u01E8": 'K',
      "\u1E32": 'K',
      "\u0136": 'K',
      "\u1E34": 'K',
      "\u0198": 'K',
      "\u2C69": 'K',
      "\uA740": 'K',
      "\uA742": 'K',
      "\uA744": 'K',
      "\uA7A2": 'K',
      "\u24C1": 'L',
      "\uFF2C": 'L',
      "\u013F": 'L',
      "\u0139": 'L',
      "\u013D": 'L',
      "\u1E36": 'L',
      "\u1E38": 'L',
      "\u013B": 'L',
      "\u1E3C": 'L',
      "\u1E3A": 'L',
      "\u0141": 'L',
      "\u023D": 'L',
      "\u2C62": 'L',
      "\u2C60": 'L',
      "\uA748": 'L',
      "\uA746": 'L',
      "\uA780": 'L',
      "\u01C7": 'LJ',
      "\u01C8": 'Lj',
      "\u24C2": 'M',
      "\uFF2D": 'M',
      "\u1E3E": 'M',
      "\u1E40": 'M',
      "\u1E42": 'M',
      "\u2C6E": 'M',
      "\u019C": 'M',
      "\u24C3": 'N',
      "\uFF2E": 'N',
      "\u01F8": 'N',
      "\u0143": 'N',
      "\xD1": 'N',
      "\u1E44": 'N',
      "\u0147": 'N',
      "\u1E46": 'N',
      "\u0145": 'N',
      "\u1E4A": 'N',
      "\u1E48": 'N',
      "\u0220": 'N',
      "\u019D": 'N',
      "\uA790": 'N',
      "\uA7A4": 'N',
      "\u01CA": 'NJ',
      "\u01CB": 'Nj',
      "\u24C4": 'O',
      "\uFF2F": 'O',
      "\xD2": 'O',
      "\xD3": 'O',
      "\xD4": 'O',
      "\u1ED2": 'O',
      "\u1ED0": 'O',
      "\u1ED6": 'O',
      "\u1ED4": 'O',
      "\xD5": 'O',
      "\u1E4C": 'O',
      "\u022C": 'O',
      "\u1E4E": 'O',
      "\u014C": 'O',
      "\u1E50": 'O',
      "\u1E52": 'O',
      "\u014E": 'O',
      "\u022E": 'O',
      "\u0230": 'O',
      "\xD6": 'O',
      "\u022A": 'O',
      "\u1ECE": 'O',
      "\u0150": 'O',
      "\u01D1": 'O',
      "\u020C": 'O',
      "\u020E": 'O',
      "\u01A0": 'O',
      "\u1EDC": 'O',
      "\u1EDA": 'O',
      "\u1EE0": 'O',
      "\u1EDE": 'O',
      "\u1EE2": 'O',
      "\u1ECC": 'O',
      "\u1ED8": 'O',
      "\u01EA": 'O',
      "\u01EC": 'O',
      "\xD8": 'O',
      "\u01FE": 'O',
      "\u0186": 'O',
      "\u019F": 'O',
      "\uA74A": 'O',
      "\uA74C": 'O',
      "\u01A2": 'OI',
      "\uA74E": 'OO',
      "\u0222": 'OU',
      "\u24C5": 'P',
      "\uFF30": 'P',
      "\u1E54": 'P',
      "\u1E56": 'P',
      "\u01A4": 'P',
      "\u2C63": 'P',
      "\uA750": 'P',
      "\uA752": 'P',
      "\uA754": 'P',
      "\u24C6": 'Q',
      "\uFF31": 'Q',
      "\uA756": 'Q',
      "\uA758": 'Q',
      "\u024A": 'Q',
      "\u24C7": 'R',
      "\uFF32": 'R',
      "\u0154": 'R',
      "\u1E58": 'R',
      "\u0158": 'R',
      "\u0210": 'R',
      "\u0212": 'R',
      "\u1E5A": 'R',
      "\u1E5C": 'R',
      "\u0156": 'R',
      "\u1E5E": 'R',
      "\u024C": 'R',
      "\u2C64": 'R',
      "\uA75A": 'R',
      "\uA7A6": 'R',
      "\uA782": 'R',
      "\u24C8": 'S',
      "\uFF33": 'S',
      "\u1E9E": 'S',
      "\u015A": 'S',
      "\u1E64": 'S',
      "\u015C": 'S',
      "\u1E60": 'S',
      "\u0160": 'S',
      "\u1E66": 'S',
      "\u1E62": 'S',
      "\u1E68": 'S',
      "\u0218": 'S',
      "\u015E": 'S',
      "\u2C7E": 'S',
      "\uA7A8": 'S',
      "\uA784": 'S',
      "\u24C9": 'T',
      "\uFF34": 'T',
      "\u1E6A": 'T',
      "\u0164": 'T',
      "\u1E6C": 'T',
      "\u021A": 'T',
      "\u0162": 'T',
      "\u1E70": 'T',
      "\u1E6E": 'T',
      "\u0166": 'T',
      "\u01AC": 'T',
      "\u01AE": 'T',
      "\u023E": 'T',
      "\uA786": 'T',
      "\uA728": 'TZ',
      "\u24CA": 'U',
      "\uFF35": 'U',
      "\xD9": 'U',
      "\xDA": 'U',
      "\xDB": 'U',
      "\u0168": 'U',
      "\u1E78": 'U',
      "\u016A": 'U',
      "\u1E7A": 'U',
      "\u016C": 'U',
      "\xDC": 'U',
      "\u01DB": 'U',
      "\u01D7": 'U',
      "\u01D5": 'U',
      "\u01D9": 'U',
      "\u1EE6": 'U',
      "\u016E": 'U',
      "\u0170": 'U',
      "\u01D3": 'U',
      "\u0214": 'U',
      "\u0216": 'U',
      "\u01AF": 'U',
      "\u1EEA": 'U',
      "\u1EE8": 'U',
      "\u1EEE": 'U',
      "\u1EEC": 'U',
      "\u1EF0": 'U',
      "\u1EE4": 'U',
      "\u1E72": 'U',
      "\u0172": 'U',
      "\u1E76": 'U',
      "\u1E74": 'U',
      "\u0244": 'U',
      "\u24CB": 'V',
      "\uFF36": 'V',
      "\u1E7C": 'V',
      "\u1E7E": 'V',
      "\u01B2": 'V',
      "\uA75E": 'V',
      "\u0245": 'V',
      "\uA760": 'VY',
      "\u24CC": 'W',
      "\uFF37": 'W',
      "\u1E80": 'W',
      "\u1E82": 'W',
      "\u0174": 'W',
      "\u1E86": 'W',
      "\u1E84": 'W',
      "\u1E88": 'W',
      "\u2C72": 'W',
      "\u24CD": 'X',
      "\uFF38": 'X',
      "\u1E8A": 'X',
      "\u1E8C": 'X',
      "\u24CE": 'Y',
      "\uFF39": 'Y',
      "\u1EF2": 'Y',
      "\xDD": 'Y',
      "\u0176": 'Y',
      "\u1EF8": 'Y',
      "\u0232": 'Y',
      "\u1E8E": 'Y',
      "\u0178": 'Y',
      "\u1EF6": 'Y',
      "\u1EF4": 'Y',
      "\u01B3": 'Y',
      "\u024E": 'Y',
      "\u1EFE": 'Y',
      "\u24CF": 'Z',
      "\uFF3A": 'Z',
      "\u0179": 'Z',
      "\u1E90": 'Z',
      "\u017B": 'Z',
      "\u017D": 'Z',
      "\u1E92": 'Z',
      "\u1E94": 'Z',
      "\u01B5": 'Z',
      "\u0224": 'Z',
      "\u2C7F": 'Z',
      "\u2C6B": 'Z',
      "\uA762": 'Z',
      "\u24D0": 'a',
      "\uFF41": 'a',
      "\u1E9A": 'a',
      "\xE0": 'a',
      "\xE1": 'a',
      "\xE2": 'a',
      "\u1EA7": 'a',
      "\u1EA5": 'a',
      "\u1EAB": 'a',
      "\u1EA9": 'a',
      "\xE3": 'a',
      "\u0101": 'a',
      "\u0103": 'a',
      "\u1EB1": 'a',
      "\u1EAF": 'a',
      "\u1EB5": 'a',
      "\u1EB3": 'a',
      "\u0227": 'a',
      "\u01E1": 'a',
      "\xE4": 'a',
      "\u01DF": 'a',
      "\u1EA3": 'a',
      "\xE5": 'a',
      "\u01FB": 'a',
      "\u01CE": 'a',
      "\u0201": 'a',
      "\u0203": 'a',
      "\u1EA1": 'a',
      "\u1EAD": 'a',
      "\u1EB7": 'a',
      "\u1E01": 'a',
      "\u0105": 'a',
      "\u2C65": 'a',
      "\u0250": 'a',
      "\uA733": 'aa',
      "\xE6": 'ae',
      "\u01FD": 'ae',
      "\u01E3": 'ae',
      "\uA735": 'ao',
      "\uA737": 'au',
      "\uA739": 'av',
      "\uA73B": 'av',
      "\uA73D": 'ay',
      "\u24D1": 'b',
      "\uFF42": 'b',
      "\u1E03": 'b',
      "\u1E05": 'b',
      "\u1E07": 'b',
      "\u0180": 'b',
      "\u0183": 'b',
      "\u0253": 'b',
      "\u24D2": 'c',
      "\uFF43": 'c',
      "\u0107": 'c',
      "\u0109": 'c',
      "\u010B": 'c',
      "\u010D": 'c',
      "\xE7": 'c',
      "\u1E09": 'c',
      "\u0188": 'c',
      "\u023C": 'c',
      "\uA73F": 'c',
      "\u2184": 'c',
      "\u24D3": 'd',
      "\uFF44": 'd',
      "\u1E0B": 'd',
      "\u010F": 'd',
      "\u1E0D": 'd',
      "\u1E11": 'd',
      "\u1E13": 'd',
      "\u1E0F": 'd',
      "\u0111": 'd',
      "\u018C": 'd',
      "\u0256": 'd',
      "\u0257": 'd',
      "\uA77A": 'd',
      "\u01F3": 'dz',
      "\u01C6": 'dz',
      "\u24D4": 'e',
      "\uFF45": 'e',
      "\xE8": 'e',
      "\xE9": 'e',
      "\xEA": 'e',
      "\u1EC1": 'e',
      "\u1EBF": 'e',
      "\u1EC5": 'e',
      "\u1EC3": 'e',
      "\u1EBD": 'e',
      "\u0113": 'e',
      "\u1E15": 'e',
      "\u1E17": 'e',
      "\u0115": 'e',
      "\u0117": 'e',
      "\xEB": 'e',
      "\u1EBB": 'e',
      "\u011B": 'e',
      "\u0205": 'e',
      "\u0207": 'e',
      "\u1EB9": 'e',
      "\u1EC7": 'e',
      "\u0229": 'e',
      "\u1E1D": 'e',
      "\u0119": 'e',
      "\u1E19": 'e',
      "\u1E1B": 'e',
      "\u0247": 'e',
      "\u025B": 'e',
      "\u01DD": 'e',
      "\u24D5": 'f',
      "\uFF46": 'f',
      "\u1E1F": 'f',
      "\u0192": 'f',
      "\uA77C": 'f',
      "\u24D6": 'g',
      "\uFF47": 'g',
      "\u01F5": 'g',
      "\u011D": 'g',
      "\u1E21": 'g',
      "\u011F": 'g',
      "\u0121": 'g',
      "\u01E7": 'g',
      "\u0123": 'g',
      "\u01E5": 'g',
      "\u0260": 'g',
      "\uA7A1": 'g',
      "\u1D79": 'g',
      "\uA77F": 'g',
      "\u24D7": 'h',
      "\uFF48": 'h',
      "\u0125": 'h',
      "\u1E23": 'h',
      "\u1E27": 'h',
      "\u021F": 'h',
      "\u1E25": 'h',
      "\u1E29": 'h',
      "\u1E2B": 'h',
      "\u1E96": 'h',
      "\u0127": 'h',
      "\u2C68": 'h',
      "\u2C76": 'h',
      "\u0265": 'h',
      "\u0195": 'hv',
      "\u24D8": 'i',
      "\uFF49": 'i',
      "\xEC": 'i',
      "\xED": 'i',
      "\xEE": 'i',
      "\u0129": 'i',
      "\u012B": 'i',
      "\u012D": 'i',
      "\xEF": 'i',
      "\u1E2F": 'i',
      "\u1EC9": 'i',
      "\u01D0": 'i',
      "\u0209": 'i',
      "\u020B": 'i',
      "\u1ECB": 'i',
      "\u012F": 'i',
      "\u1E2D": 'i',
      "\u0268": 'i',
      "\u0131": 'i',
      "\u24D9": 'j',
      "\uFF4A": 'j',
      "\u0135": 'j',
      "\u01F0": 'j',
      "\u0249": 'j',
      "\u24DA": 'k',
      "\uFF4B": 'k',
      "\u1E31": 'k',
      "\u01E9": 'k',
      "\u1E33": 'k',
      "\u0137": 'k',
      "\u1E35": 'k',
      "\u0199": 'k',
      "\u2C6A": 'k',
      "\uA741": 'k',
      "\uA743": 'k',
      "\uA745": 'k',
      "\uA7A3": 'k',
      "\u24DB": 'l',
      "\uFF4C": 'l',
      "\u0140": 'l',
      "\u013A": 'l',
      "\u013E": 'l',
      "\u1E37": 'l',
      "\u1E39": 'l',
      "\u013C": 'l',
      "\u1E3D": 'l',
      "\u1E3B": 'l',
      "\u017F": 'l',
      "\u0142": 'l',
      "\u019A": 'l',
      "\u026B": 'l',
      "\u2C61": 'l',
      "\uA749": 'l',
      "\uA781": 'l',
      "\uA747": 'l',
      "\u01C9": 'lj',
      "\u24DC": 'm',
      "\uFF4D": 'm',
      "\u1E3F": 'm',
      "\u1E41": 'm',
      "\u1E43": 'm',
      "\u0271": 'm',
      "\u026F": 'm',
      "\u24DD": 'n',
      "\uFF4E": 'n',
      "\u01F9": 'n',
      "\u0144": 'n',
      "\xF1": 'n',
      "\u1E45": 'n',
      "\u0148": 'n',
      "\u1E47": 'n',
      "\u0146": 'n',
      "\u1E4B": 'n',
      "\u1E49": 'n',
      "\u019E": 'n',
      "\u0272": 'n',
      "\u0149": 'n',
      "\uA791": 'n',
      "\uA7A5": 'n',
      "\u01CC": 'nj',
      "\u24DE": 'o',
      "\uFF4F": 'o',
      "\xF2": 'o',
      "\xF3": 'o',
      "\xF4": 'o',
      "\u1ED3": 'o',
      "\u1ED1": 'o',
      "\u1ED7": 'o',
      "\u1ED5": 'o',
      "\xF5": 'o',
      "\u1E4D": 'o',
      "\u022D": 'o',
      "\u1E4F": 'o',
      "\u014D": 'o',
      "\u1E51": 'o',
      "\u1E53": 'o',
      "\u014F": 'o',
      "\u022F": 'o',
      "\u0231": 'o',
      "\xF6": 'o',
      "\u022B": 'o',
      "\u1ECF": 'o',
      "\u0151": 'o',
      "\u01D2": 'o',
      "\u020D": 'o',
      "\u020F": 'o',
      "\u01A1": 'o',
      "\u1EDD": 'o',
      "\u1EDB": 'o',
      "\u1EE1": 'o',
      "\u1EDF": 'o',
      "\u1EE3": 'o',
      "\u1ECD": 'o',
      "\u1ED9": 'o',
      "\u01EB": 'o',
      "\u01ED": 'o',
      "\xF8": 'o',
      "\u01FF": 'o',
      "\u0254": 'o',
      "\uA74B": 'o',
      "\uA74D": 'o',
      "\u0275": 'o',
      "\u01A3": 'oi',
      "\u0223": 'ou',
      "\uA74F": 'oo',
      "\u24DF": 'p',
      "\uFF50": 'p',
      "\u1E55": 'p',
      "\u1E57": 'p',
      "\u01A5": 'p',
      "\u1D7D": 'p',
      "\uA751": 'p',
      "\uA753": 'p',
      "\uA755": 'p',
      "\u24E0": 'q',
      "\uFF51": 'q',
      "\u024B": 'q',
      "\uA757": 'q',
      "\uA759": 'q',
      "\u24E1": 'r',
      "\uFF52": 'r',
      "\u0155": 'r',
      "\u1E59": 'r',
      "\u0159": 'r',
      "\u0211": 'r',
      "\u0213": 'r',
      "\u1E5B": 'r',
      "\u1E5D": 'r',
      "\u0157": 'r',
      "\u1E5F": 'r',
      "\u024D": 'r',
      "\u027D": 'r',
      "\uA75B": 'r',
      "\uA7A7": 'r',
      "\uA783": 'r',
      "\u24E2": 's',
      "\uFF53": 's',
      "\xDF": 's',
      "\u015B": 's',
      "\u1E65": 's',
      "\u015D": 's',
      "\u1E61": 's',
      "\u0161": 's',
      "\u1E67": 's',
      "\u1E63": 's',
      "\u1E69": 's',
      "\u0219": 's',
      "\u015F": 's',
      "\u023F": 's',
      "\uA7A9": 's',
      "\uA785": 's',
      "\u1E9B": 's',
      "\u24E3": 't',
      "\uFF54": 't',
      "\u1E6B": 't',
      "\u1E97": 't',
      "\u0165": 't',
      "\u1E6D": 't',
      "\u021B": 't',
      "\u0163": 't',
      "\u1E71": 't',
      "\u1E6F": 't',
      "\u0167": 't',
      "\u01AD": 't',
      "\u0288": 't',
      "\u2C66": 't',
      "\uA787": 't',
      "\uA729": 'tz',
      "\u24E4": 'u',
      "\uFF55": 'u',
      "\xF9": 'u',
      "\xFA": 'u',
      "\xFB": 'u',
      "\u0169": 'u',
      "\u1E79": 'u',
      "\u016B": 'u',
      "\u1E7B": 'u',
      "\u016D": 'u',
      "\xFC": 'u',
      "\u01DC": 'u',
      "\u01D8": 'u',
      "\u01D6": 'u',
      "\u01DA": 'u',
      "\u1EE7": 'u',
      "\u016F": 'u',
      "\u0171": 'u',
      "\u01D4": 'u',
      "\u0215": 'u',
      "\u0217": 'u',
      "\u01B0": 'u',
      "\u1EEB": 'u',
      "\u1EE9": 'u',
      "\u1EEF": 'u',
      "\u1EED": 'u',
      "\u1EF1": 'u',
      "\u1EE5": 'u',
      "\u1E73": 'u',
      "\u0173": 'u',
      "\u1E77": 'u',
      "\u1E75": 'u',
      "\u0289": 'u',
      "\u24E5": 'v',
      "\uFF56": 'v',
      "\u1E7D": 'v',
      "\u1E7F": 'v',
      "\u028B": 'v',
      "\uA75F": 'v',
      "\u028C": 'v',
      "\uA761": 'vy',
      "\u24E6": 'w',
      "\uFF57": 'w',
      "\u1E81": 'w',
      "\u1E83": 'w',
      "\u0175": 'w',
      "\u1E87": 'w',
      "\u1E85": 'w',
      "\u1E98": 'w',
      "\u1E89": 'w',
      "\u2C73": 'w',
      "\u24E7": 'x',
      "\uFF58": 'x',
      "\u1E8B": 'x',
      "\u1E8D": 'x',
      "\u24E8": 'y',
      "\uFF59": 'y',
      "\u1EF3": 'y',
      "\xFD": 'y',
      "\u0177": 'y',
      "\u1EF9": 'y',
      "\u0233": 'y',
      "\u1E8F": 'y',
      "\xFF": 'y',
      "\u1EF7": 'y',
      "\u1E99": 'y',
      "\u1EF5": 'y',
      "\u01B4": 'y',
      "\u024F": 'y',
      "\u1EFF": 'y',
      "\u24E9": 'z',
      "\uFF5A": 'z',
      "\u017A": 'z',
      "\u1E91": 'z',
      "\u017C": 'z',
      "\u017E": 'z',
      "\u1E93": 'z',
      "\u1E95": 'z',
      "\u01B6": 'z',
      "\u0225": 'z',
      "\u0240": 'z',
      "\u2C6C": 'z',
      "\uA763": 'z',
      "\u0386": "\u0391",
      "\u0388": "\u0395",
      "\u0389": "\u0397",
      "\u038A": "\u0399",
      "\u03AA": "\u0399",
      "\u038C": "\u039F",
      "\u038E": "\u03A5",
      "\u03AB": "\u03A5",
      "\u038F": "\u03A9",
      "\u03AC": "\u03B1",
      "\u03AD": "\u03B5",
      "\u03AE": "\u03B7",
      "\u03AF": "\u03B9",
      "\u03CA": "\u03B9",
      "\u0390": "\u03B9",
      "\u03CC": "\u03BF",
      "\u03CD": "\u03C5",
      "\u03CB": "\u03C5",
      "\u03B0": "\u03C5",
      "\u03C9": "\u03C9",
      "\u03C2": "\u03C3"
    };
    /**
     * @param {?} text
     * @return {?}
     */

    function stripSpecialChars(text) {
      /** @type {?} */
      var match =
      /**
      * @param {?} a
      * @return {?}
      */
      function match(a) {
        return diacritics[a] || a;
      };

      return text.replace(/[^\u0000-\u007E]/g, match);
    }
    /**
     * @fileoverview added by tsickle
     * Generated from: lib/items-list.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */


    var ItemsList = /*#__PURE__*/function () {
      /**
       * @param {?} _ngSelect
       * @param {?} _selectionModel
       */
      function ItemsList(_ngSelect, _selectionModel) {
        _classCallCheck(this, ItemsList);

        this._ngSelect = _ngSelect;
        this._selectionModel = _selectionModel;
        this._items = [];
        this._filteredItems = [];
        this._markedIndex = -1;
      }
      /**
       * @return {?}
       */


      _createClass(ItemsList, [{
        key: "setItems",

        /**
         * @param {?} items
         * @return {?}
         */
        value: function setItems(items) {
          var _this2 = this;

          this._items = items.map(
          /**
          * @param {?} item
          * @param {?} index
          * @return {?}
          */
          function (item, index) {
            return _this2.mapItem(item, index);
          });

          if (this._ngSelect.groupBy) {
            this._groups = this._groupBy(this._items, this._ngSelect.groupBy);
            this._items = this._flatten(this._groups);
          } else {
            this._groups = new Map();

            this._groups.set(undefined, this._items);
          }

          this._filteredItems = _toConsumableArray(this._items);
        }
        /**
         * @param {?} item
         * @return {?}
         */

      }, {
        key: "select",
        value: function select(item) {
          if (item.selected || this.maxItemsSelected) {
            return;
          }
          /** @type {?} */


          var multiple = this._ngSelect.multiple;

          if (!multiple) {
            this.clearSelected();
          }

          this._selectionModel.select(item, multiple, this._ngSelect.selectableGroupAsModel);

          if (this._ngSelect.hideSelected) {
            this._hideSelected(item);
          }
        }
        /**
         * @param {?} item
         * @return {?}
         */

      }, {
        key: "unselect",
        value: function unselect(item) {
          if (!item.selected) {
            return;
          }

          this._selectionModel.unselect(item, this._ngSelect.multiple);

          if (this._ngSelect.hideSelected && isDefined(item.index) && this._ngSelect.multiple) {
            this._showSelected(item);
          }
        }
        /**
         * @param {?} value
         * @return {?}
         */

      }, {
        key: "findItem",
        value: function findItem(value) {
          var _this3 = this;

          /** @type {?} */
          var findBy;

          if (this._ngSelect.compareWith) {
            findBy =
            /**
            * @param {?} item
            * @return {?}
            */
            function findBy(item) {
              return _this3._ngSelect.compareWith(item.value, value);
            };
          } else if (this._ngSelect.bindValue) {
            findBy =
            /**
            * @param {?} item
            * @return {?}
            */
            function findBy(item) {
              return !item.children && _this3.resolveNested(item.value, _this3._ngSelect.bindValue) === value;
            };
          } else {
            findBy =
            /**
            * @param {?} item
            * @return {?}
            */
            function findBy(item) {
              return item.value === value || !item.children && item.label && item.label === _this3.resolveNested(value, _this3._ngSelect.bindLabel);
            };
          }

          return this._items.find(
          /**
          * @param {?} item
          * @return {?}
          */
          function (item) {
            return findBy(item);
          });
        }
        /**
         * @param {?} item
         * @return {?}
         */

      }, {
        key: "addItem",
        value: function addItem(item) {
          /** @type {?} */
          var option = this.mapItem(item, this._items.length);

          this._items.push(option);

          this._filteredItems.push(option);

          return option;
        }
        /**
         * @param {?=} keepDisabled
         * @return {?}
         */

      }, {
        key: "clearSelected",
        value: function clearSelected() {
          var keepDisabled = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;

          this._selectionModel.clear(keepDisabled);

          this._items.forEach(
          /**
          * @param {?} item
          * @return {?}
          */
          function (item) {
            item.selected = keepDisabled && item.selected && item.disabled;
            item.marked = false;
          });

          if (this._ngSelect.hideSelected) {
            this.resetFilteredItems();
          }
        }
        /**
         * @param {?} term
         * @return {?}
         */

      }, {
        key: "findByLabel",
        value: function findByLabel(term) {
          term = stripSpecialChars(term).toLocaleLowerCase();
          return this.filteredItems.find(
          /**
          * @param {?} item
          * @return {?}
          */
          function (item) {
            /** @type {?} */
            var label = stripSpecialChars(item.label).toLocaleLowerCase();
            return label.substr(0, term.length) === term;
          });
        }
        /**
         * @param {?} term
         * @return {?}
         */

      }, {
        key: "filter",
        value: function filter(term) {
          var _this4 = this;

          if (!term) {
            this.resetFilteredItems();
            return;
          }

          this._filteredItems = [];
          term = this._ngSelect.searchFn ? term : stripSpecialChars(term).toLocaleLowerCase();
          /** @type {?} */

          var match = this._ngSelect.searchFn || this._defaultSearchFn;
          /** @type {?} */

          var hideSelected = this._ngSelect.hideSelected;

          for (var _i2 = 0, _Array$from = Array.from(this._groups.keys()); _i2 < _Array$from.length; _i2++) {
            var key = _Array$from[_i2];

            /** @type {?} */
            var matchedItems = [];

            var _iterator = _createForOfIteratorHelper(this._groups.get(key)),
                _step;

            try {
              for (_iterator.s(); !(_step = _iterator.n()).done;) {
                var item = _step.value;

                if (hideSelected && (item.parent && item.parent.selected || item.selected)) {
                  continue;
                }
                /** @type {?} */


                var searchItem = this._ngSelect.searchFn ? item.value : item;

                if (match(term, searchItem)) {
                  matchedItems.push(item);
                }
              }
            } catch (err) {
              _iterator.e(err);
            } finally {
              _iterator.f();
            }

            if (matchedItems.length > 0) {
              (function () {
                var _this4$_filteredItems;

                var _matchedItems$slice = matchedItems.slice(-1),
                    _matchedItems$slice2 = _slicedToArray(_matchedItems$slice, 1),
                    last = _matchedItems$slice2[0];

                if (last.parent) {
                  /** @type {?} */
                  var head = _this4._items.find(
                  /**
                  * @param {?} x
                  * @return {?}
                  */
                  function (x) {
                    return x === last.parent;
                  });

                  _this4._filteredItems.push(head);
                }

                (_this4$_filteredItems = _this4._filteredItems).push.apply(_this4$_filteredItems, matchedItems);
              })();
            }
          }
        }
        /**
         * @return {?}
         */

      }, {
        key: "resetFilteredItems",
        value: function resetFilteredItems() {
          if (this._filteredItems.length === this._items.length) {
            return;
          }

          if (this._ngSelect.hideSelected && this.selectedItems.length > 0) {
            this._filteredItems = this._items.filter(
            /**
            * @param {?} x
            * @return {?}
            */
            function (x) {
              return !x.selected;
            });
          } else {
            this._filteredItems = this._items;
          }
        }
        /**
         * @return {?}
         */

      }, {
        key: "unmarkItem",
        value: function unmarkItem() {
          this._markedIndex = -1;
        }
        /**
         * @return {?}
         */

      }, {
        key: "markNextItem",
        value: function markNextItem() {
          this._stepToItem(+1);
        }
        /**
         * @return {?}
         */

      }, {
        key: "markPreviousItem",
        value: function markPreviousItem() {
          this._stepToItem(-1);
        }
        /**
         * @param {?} item
         * @return {?}
         */

      }, {
        key: "markItem",
        value: function markItem(item) {
          this._markedIndex = this._filteredItems.indexOf(item);
        }
        /**
         * @param {?=} markDefault
         * @return {?}
         */

      }, {
        key: "markSelectedOrDefault",
        value: function markSelectedOrDefault(markDefault) {
          if (this._filteredItems.length === 0) {
            return;
          }
          /** @type {?} */


          var lastMarkedIndex = this._getLastMarkedIndex();

          if (lastMarkedIndex > -1) {
            this._markedIndex = lastMarkedIndex;
          } else {
            this._markedIndex = markDefault ? this.filteredItems.findIndex(
            /**
            * @param {?} x
            * @return {?}
            */
            function (x) {
              return !x.disabled;
            }) : -1;
          }
        }
        /**
         * @param {?} option
         * @param {?} key
         * @return {?}
         */

      }, {
        key: "resolveNested",
        value: function resolveNested(option, key) {
          if (!isObject(option)) {
            return option;
          }

          if (key.indexOf('.') === -1) {
            return option[key];
          } else {
            /** @type {?} */
            var keys = key.split('.');
            /** @type {?} */

            var value = option;

            for (var i = 0, len = keys.length; i < len; ++i) {
              if (value == null) {
                return null;
              }

              value = value[keys[i]];
            }

            return value;
          }
        }
        /**
         * @param {?} item
         * @param {?} index
         * @return {?}
         */

      }, {
        key: "mapItem",
        value: function mapItem(item, index) {
          /** @type {?} */
          var label = isDefined(item.$ngOptionLabel) ? item.$ngOptionLabel : this.resolveNested(item, this._ngSelect.bindLabel);
          /** @type {?} */

          var value = isDefined(item.$ngOptionValue) ? item.$ngOptionValue : item;
          return {
            index: index,
            label: isDefined(label) ? label.toString() : '',
            value: value,
            disabled: item.disabled,
            htmlId: "".concat(this._ngSelect.dropdownId, "-").concat(index)
          };
        }
        /**
         * @return {?}
         */

      }, {
        key: "mapSelectedItems",
        value: function mapSelectedItems() {
          var _this5 = this;

          /** @type {?} */
          var multiple = this._ngSelect.multiple;

          var _iterator2 = _createForOfIteratorHelper(this.selectedItems),
              _step2;

          try {
            for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {
              var selected = _step2.value;

              /** @type {?} */
              var value = this._ngSelect.bindValue ? this.resolveNested(selected.value, this._ngSelect.bindValue) : selected.value;
              /** @type {?} */

              var item = isDefined(value) ? this.findItem(value) : null;

              this._selectionModel.unselect(selected, multiple);

              this._selectionModel.select(item || selected, multiple, this._ngSelect.selectableGroupAsModel);
            }
          } catch (err) {
            _iterator2.e(err);
          } finally {
            _iterator2.f();
          }

          if (this._ngSelect.hideSelected) {
            this._filteredItems = this.filteredItems.filter(
            /**
            * @param {?} x
            * @return {?}
            */
            function (x) {
              return _this5.selectedItems.indexOf(x) === -1;
            });
          }
        }
        /**
         * @private
         * @param {?} item
         * @return {?}
         */

      }, {
        key: "_showSelected",
        value: function _showSelected(item) {
          this._filteredItems.push(item);

          if (item.parent) {
            /** @type {?} */
            var _parent = item.parent;
            /** @type {?} */

            var parentExists = this._filteredItems.find(
            /**
            * @param {?} x
            * @return {?}
            */
            function (x) {
              return x === _parent;
            });

            if (!parentExists) {
              this._filteredItems.push(_parent);
            }
          } else if (item.children) {
            var _iterator3 = _createForOfIteratorHelper(item.children),
                _step3;

            try {
              for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {
                var child = _step3.value;
                child.selected = false;

                this._filteredItems.push(child);
              }
            } catch (err) {
              _iterator3.e(err);
            } finally {
              _iterator3.f();
            }
          }

          this._filteredItems = _toConsumableArray(this._filteredItems.sort(
          /**
          * @param {?} a
          * @param {?} b
          * @return {?}
          */
          function (a, b) {
            return a.index - b.index;
          }));
        }
        /**
         * @private
         * @param {?} item
         * @return {?}
         */

      }, {
        key: "_hideSelected",
        value: function _hideSelected(item) {
          this._filteredItems = this._filteredItems.filter(
          /**
          * @param {?} x
          * @return {?}
          */
          function (x) {
            return x !== item;
          });

          if (item.parent) {
            /** @type {?} */
            var children = item.parent.children;

            if (children.every(
            /**
            * @param {?} x
            * @return {?}
            */
            function (x) {
              return x.selected;
            })) {
              this._filteredItems = this._filteredItems.filter(
              /**
              * @param {?} x
              * @return {?}
              */
              function (x) {
                return x !== item.parent;
              });
            }
          } else if (item.children) {
            this._filteredItems = this.filteredItems.filter(
            /**
            * @param {?} x
            * @return {?}
            */
            function (x) {
              return x.parent !== item;
            });
          }
        }
        /**
         * @private
         * @param {?} search
         * @param {?} opt
         * @return {?}
         */

      }, {
        key: "_defaultSearchFn",
        value: function _defaultSearchFn(search, opt) {
          /** @type {?} */
          var label = stripSpecialChars(opt.label).toLocaleLowerCase();
          return label.indexOf(search) > -1;
        }
        /**
         * @private
         * @param {?} steps
         * @return {?}
         */

      }, {
        key: "_getNextItemIndex",
        value: function _getNextItemIndex(steps) {
          if (steps > 0) {
            return this._markedIndex === this._filteredItems.length - 1 ? 0 : this._markedIndex + 1;
          }

          return this._markedIndex <= 0 ? this._filteredItems.length - 1 : this._markedIndex - 1;
        }
        /**
         * @private
         * @param {?} steps
         * @return {?}
         */

      }, {
        key: "_stepToItem",
        value: function _stepToItem(steps) {
          if (this._filteredItems.length === 0 || this._filteredItems.every(
          /**
          * @param {?} x
          * @return {?}
          */
          function (x) {
            return x.disabled;
          })) {
            return;
          }

          this._markedIndex = this._getNextItemIndex(steps);

          if (this.markedItem.disabled) {
            this._stepToItem(steps);
          }
        }
        /**
         * @private
         * @return {?}
         */

      }, {
        key: "_getLastMarkedIndex",
        value: function _getLastMarkedIndex() {
          if (this._ngSelect.hideSelected) {
            return -1;
          }

          if (this._markedIndex > -1 && this.markedItem === undefined) {
            return -1;
          }
          /** @type {?} */


          var selectedIndex = this._filteredItems.indexOf(this.lastSelectedItem);

          if (this.lastSelectedItem && selectedIndex < 0) {
            return -1;
          }

          return Math.max(this.markedIndex, selectedIndex);
        }
        /**
         * @private
         * @param {?} items
         * @param {?} prop
         * @return {?}
         */

      }, {
        key: "_groupBy",
        value: function _groupBy(items, prop) {
          var _this6 = this;

          /** @type {?} */
          var groups = new Map();

          if (items.length === 0) {
            return groups;
          } // Check if items are already grouped by given key.


          if (Array.isArray(items[0].value[
          /** @type {?} */
          prop])) {
            var _iterator4 = _createForOfIteratorHelper(items),
                _step4;

            try {
              for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {
                var item = _step4.value;

                /** @type {?} */
                var children = (item.value[
                /** @type {?} */
                prop] || []).map(
                /**
                * @param {?} x
                * @param {?} index
                * @return {?}
                */
                function (x, index) {
                  return _this6.mapItem(x, index);
                });
                groups.set(item, children);
              }
            } catch (err) {
              _iterator4.e(err);
            } finally {
              _iterator4.f();
            }

            return groups;
          }
          /** @type {?} */


          var isFnKey = isFunction(this._ngSelect.groupBy);
          /** @type {?} */

          var keyFn =
          /**
          * @param {?} item
          * @return {?}
          */
          function keyFn(item) {
            /** @type {?} */
            var key = isFnKey ?
            /** @type {?} */
            prop(item.value) : item.value[
            /** @type {?} */
            prop];
            return isDefined(key) ? key : undefined;
          }; // Group items by key.


          var _iterator5 = _createForOfIteratorHelper(items),
              _step5;

          try {
            for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {
              var _item = _step5.value;

              /** @type {?} */
              var key = keyFn(_item);
              /** @type {?} */

              var group = groups.get(key);

              if (group) {
                group.push(_item);
              } else {
                groups.set(key, [_item]);
              }
            }
          } catch (err) {
            _iterator5.e(err);
          } finally {
            _iterator5.f();
          }

          return groups;
        }
        /**
         * @private
         * @param {?} groups
         * @return {?}
         */

      }, {
        key: "_flatten",
        value: function _flatten(groups) {
          var _this7 = this;

          /** @type {?} */
          var isGroupByFn = isFunction(this._ngSelect.groupBy);
          /** @type {?} */

          var items = [];

          var _loop = function _loop() {
            var key = _Array$from2[_i3];

            /** @type {?} */
            var i = items.length;

            if (key === undefined) {
              /** @type {?} */
              var withoutGroup = groups.get(undefined) || [];
              items.push.apply(items, _toConsumableArray(withoutGroup.map(
              /**
              * @param {?} x
              * @return {?}
              */
              function (x) {
                return Object.assign(Object.assign({}, x), {
                  index: i++
                });
              })));
              return "continue";
            }
            /** @type {?} */


            var isObjectKey = isObject(key);
            /** @type {?} */

            var parent = {
              label: isObjectKey ? '' : String(key),
              children: undefined,
              parent: null,
              index: i++,
              disabled: !_this7._ngSelect.selectableGroup,
              htmlId: newId()
            };
            /** @type {?} */

            var groupKey = isGroupByFn ? _this7._ngSelect.bindLabel :
            /** @type {?} */
            _this7._ngSelect.groupBy;
            /** @type {?} */

            var groupValue = _this7._ngSelect.groupValue ||
            /**
            * @return {?}
            */
            function () {
              if (isObjectKey) {
                return (
                  /** @type {?} */
                  key.value
                );
              }

              return _defineProperty({}, groupKey, key);
            };
            /** @type {?} */


            var children = groups.get(key).map(
            /**
            * @param {?} x
            * @return {?}
            */
            function (x) {
              x.parent = parent;
              x.children = undefined;
              x.index = i++;
              return x;
            });
            parent.children = children;
            parent.value = groupValue(key, children.map(
            /**
            * @param {?} x
            * @return {?}
            */
            function (x) {
              return x.value;
            }));
            items.push(parent);
            items.push.apply(items, _toConsumableArray(children));
          };

          for (var _i3 = 0, _Array$from2 = Array.from(groups.keys()); _i3 < _Array$from2.length; _i3++) {
            var _ret = _loop();

            if (_ret === "continue") continue;
          }

          return items;
        }
      }, {
        key: "items",
        get: function get() {
          return this._items;
        }
        /**
         * @return {?}
         */

      }, {
        key: "filteredItems",
        get: function get() {
          return this._filteredItems;
        }
        /**
         * @return {?}
         */

      }, {
        key: "markedIndex",
        get: function get() {
          return this._markedIndex;
        }
        /**
         * @return {?}
         */

      }, {
        key: "selectedItems",
        get: function get() {
          return this._selectionModel.value;
        }
        /**
         * @return {?}
         */

      }, {
        key: "markedItem",
        get: function get() {
          return this._filteredItems[this._markedIndex];
        }
        /**
         * @return {?}
         */

      }, {
        key: "noItemsToSelect",
        get: function get() {
          return this._ngSelect.hideSelected && this._items.length === this.selectedItems.length;
        }
        /**
         * @return {?}
         */

      }, {
        key: "maxItemsSelected",
        get: function get() {
          return this._ngSelect.multiple && this._ngSelect.maxSelectedItems <= this.selectedItems.length;
        }
        /**
         * @return {?}
         */

      }, {
        key: "lastSelectedItem",
        get: function get() {
          /** @type {?} */
          var i = this.selectedItems.length - 1;

          for (; i >= 0; i--) {
            /** @type {?} */
            var item = this.selectedItems[i];

            if (!item.disabled) {
              return item;
            }
          }

          return null;
        }
      }]);

      return ItemsList;
    }();

    if (false) {}
    /**
     * @fileoverview added by tsickle
     * Generated from: lib/ng-select.types.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */

    /**
     * @record
     */


    function NgOption() {}

    if (false) {}
    /** @enum {number} */


    var KeyCode = {
      Tab: 9,
      Enter: 13,
      Esc: 27,
      Space: 32,
      ArrowUp: 38,
      ArrowDown: 40,
      Backspace: 8
    };
    KeyCode[KeyCode.Tab] = 'Tab';
    KeyCode[KeyCode.Enter] = 'Enter';
    KeyCode[KeyCode.Esc] = 'Esc';
    KeyCode[KeyCode.Space] = 'Space';
    KeyCode[KeyCode.ArrowUp] = 'ArrowUp';
    KeyCode[KeyCode.ArrowDown] = 'ArrowDown';
    KeyCode[KeyCode.Backspace] = 'Backspace';
    /**
     * @fileoverview added by tsickle
     * Generated from: lib/ng-dropdown-panel.service.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */

    /**
     * @record
     */

    function ItemsRangeResult() {}

    if (false) {}
    /**
     * @record
     */


    function PanelDimensions() {}

    if (false) {}

    var NgDropdownPanelService = /*#__PURE__*/function () {
      function NgDropdownPanelService() {
        _classCallCheck(this, NgDropdownPanelService);

        this._dimensions = {
          itemHeight: 0,
          panelHeight: 0,
          itemsPerViewport: 0
        };
      }
      /**
       * @return {?}
       */


      _createClass(NgDropdownPanelService, [{
        key: "calculateItems",

        /**
         * @param {?} scrollPos
         * @param {?} itemsLength
         * @param {?} buffer
         * @return {?}
         */
        value: function calculateItems(scrollPos, itemsLength, buffer) {
          /** @type {?} */
          var d = this._dimensions;
          /** @type {?} */

          var scrollHeight = d.itemHeight * itemsLength;
          /** @type {?} */

          var scrollTop = Math.max(0, scrollPos);
          /** @type {?} */

          var indexByScrollTop = scrollTop / scrollHeight * itemsLength;
          /** @type {?} */

          var end = Math.min(itemsLength, Math.ceil(indexByScrollTop) + (d.itemsPerViewport + 1));
          /** @type {?} */

          var maxStartEnd = end;
          /** @type {?} */

          var maxStart = Math.max(0, maxStartEnd - d.itemsPerViewport);
          /** @type {?} */

          var start = Math.min(maxStart, Math.floor(indexByScrollTop));
          /** @type {?} */

          var topPadding = d.itemHeight * Math.ceil(start) - d.itemHeight * Math.min(start, buffer);
          topPadding = !isNaN(topPadding) ? topPadding : 0;
          start = !isNaN(start) ? start : -1;
          end = !isNaN(end) ? end : -1;
          start -= buffer;
          start = Math.max(0, start);
          end += buffer;
          end = Math.min(itemsLength, end);
          return {
            topPadding: topPadding,
            scrollHeight: scrollHeight,
            start: start,
            end: end
          };
        }
        /**
         * @param {?} itemHeight
         * @param {?} panelHeight
         * @return {?}
         */

      }, {
        key: "setDimensions",
        value: function setDimensions(itemHeight, panelHeight) {
          /** @type {?} */
          var itemsPerViewport = Math.max(1, Math.floor(panelHeight / itemHeight));
          this._dimensions = {
            itemHeight: itemHeight,
            panelHeight: panelHeight,
            itemsPerViewport: itemsPerViewport
          };
        }
        /**
         * @param {?} itemTop
         * @param {?} itemHeight
         * @param {?} lastScroll
         * @return {?}
         */

      }, {
        key: "getScrollTo",
        value: function getScrollTo(itemTop, itemHeight, lastScroll) {
          var panelHeight = this.dimensions.panelHeight;
          /** @type {?} */

          var itemBottom = itemTop + itemHeight;
          /** @type {?} */

          var top = lastScroll;
          /** @type {?} */

          var bottom = top + panelHeight;

          if (panelHeight >= itemBottom && lastScroll === itemTop) {
            return null;
          }

          if (itemBottom > bottom) {
            return top + itemBottom - bottom;
          } else if (itemTop <= top) {
            return itemTop;
          }

          return null;
        }
      }, {
        key: "dimensions",
        get: function get() {
          return this._dimensions;
        }
      }]);

      return NgDropdownPanelService;
    }();

    NgDropdownPanelService.ɵfac = function NgDropdownPanelService_Factory(t) {
      return new (t || NgDropdownPanelService)();
    };

    NgDropdownPanelService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({
      token: NgDropdownPanelService,
      factory: NgDropdownPanelService.ɵfac
    });
    /*@__PURE__*/

    (function () {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](NgDropdownPanelService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"]
      }], function () {
        return [];
      }, null);
    })();

    if (false) {}
    /**
     * @fileoverview added by tsickle
     * Generated from: lib/ng-dropdown-panel.component.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */

    /** @type {?} */


    var TOP_CSS_CLASS = 'ng-select-top';
    /** @type {?} */

    var BOTTOM_CSS_CLASS = 'ng-select-bottom';
    /** @type {?} */

    var SCROLL_SCHEDULER = typeof requestAnimationFrame !== 'undefined' ? rxjs__WEBPACK_IMPORTED_MODULE_3__["animationFrameScheduler"] : rxjs__WEBPACK_IMPORTED_MODULE_3__["asapScheduler"];

    var NgDropdownPanelComponent = /*#__PURE__*/function () {
      /**
       * @param {?} _renderer
       * @param {?} _zone
       * @param {?} _panelService
       * @param {?} _elementRef
       * @param {?} _document
       */
      function NgDropdownPanelComponent(_renderer, _zone, _panelService, _elementRef, _document) {
        _classCallCheck(this, NgDropdownPanelComponent);

        this._renderer = _renderer;
        this._zone = _zone;
        this._panelService = _panelService;
        this._document = _document;
        this.items = [];
        this.position = 'auto';
        this.virtualScroll = false;
        this.filterValue = null;
        this.update = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.scroll = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.scrollToEnd = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.outsideClick = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this._destroy$ = new rxjs__WEBPACK_IMPORTED_MODULE_3__["Subject"]();
        this._scrollToEndFired = false;
        this._updateScrollHeight = false;
        this._lastScrollPosition = 0;
        this._dropdown = _elementRef.nativeElement;
      }
      /**
       * @return {?}
       */


      _createClass(NgDropdownPanelComponent, [{
        key: "handleMousedown",

        /**
         * @param {?} $event
         * @return {?}
         */
        value: function handleMousedown($event) {
          /** @type {?} */
          var target =
          /** @type {?} */
          $event.target;

          if (target.tagName === 'INPUT') {
            return;
          }

          $event.preventDefault();
        }
        /**
         * @return {?}
         */

      }, {
        key: "ngOnInit",
        value: function ngOnInit() {
          this._select = this._dropdown.parentElement;
          this._virtualPadding = this.paddingElementRef.nativeElement;
          this._scrollablePanel = this.scrollElementRef.nativeElement;
          this._contentPanel = this.contentElementRef.nativeElement;

          this._handleScroll();

          this._handleOutsideClick();

          this._appendDropdown();
        }
        /**
         * @param {?} changes
         * @return {?}
         */

      }, {
        key: "ngOnChanges",
        value: function ngOnChanges(changes) {
          if (changes.items) {
            /** @type {?} */
            var change = changes.items;

            this._onItemsChange(change.currentValue, change.firstChange);
          }
        }
        /**
         * @return {?}
         */

      }, {
        key: "ngOnDestroy",
        value: function ngOnDestroy() {
          this._destroy$.next();

          this._destroy$.complete();

          this._destroy$.unsubscribe();

          if (this.appendTo) {
            this._renderer.removeChild(this._dropdown.parentNode, this._dropdown);
          }
        }
        /**
         * @param {?} option
         * @param {?=} startFromOption
         * @return {?}
         */

      }, {
        key: "scrollTo",
        value: function scrollTo(option) {
          var startFromOption = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;

          if (!option) {
            return;
          }
          /** @type {?} */


          var index = this.items.indexOf(option);

          if (index < 0 || index >= this.itemsLength) {
            return;
          }
          /** @type {?} */


          var scrollTo;

          if (this.virtualScroll) {
            /** @type {?} */
            var itemHeight = this._panelService.dimensions.itemHeight;
            scrollTo = this._panelService.getScrollTo(index * itemHeight, itemHeight, this._lastScrollPosition);
          } else {
            /** @type {?} */
            var item = this._dropdown.querySelector("#".concat(option.htmlId));
            /** @type {?} */


            var lastScroll = startFromOption ? item.offsetTop : this._lastScrollPosition;
            scrollTo = this._panelService.getScrollTo(item.offsetTop, item.clientHeight, lastScroll);
          }

          if (isDefined(scrollTo)) {
            this._scrollablePanel.scrollTop = scrollTo;
          }
        }
        /**
         * @return {?}
         */

      }, {
        key: "scrollToTag",
        value: function scrollToTag() {
          /** @type {?} */
          var panel = this._scrollablePanel;
          panel.scrollTop = panel.scrollHeight - panel.clientHeight;
        }
        /**
         * @return {?}
         */

      }, {
        key: "adjustPosition",
        value: function adjustPosition() {
          /** @type {?} */
          var parent = this._parent.getBoundingClientRect();
          /** @type {?} */


          var select = this._select.getBoundingClientRect();

          this._setOffset(parent, select);
        }
        /**
         * @private
         * @return {?}
         */

      }, {
        key: "_handleDropdownPosition",
        value: function _handleDropdownPosition() {
          this._currentPosition = this._calculateCurrentPosition(this._dropdown);

          if (this._currentPosition === 'top') {
            this._renderer.addClass(this._dropdown, TOP_CSS_CLASS);

            this._renderer.removeClass(this._dropdown, BOTTOM_CSS_CLASS);

            this._renderer.addClass(this._select, TOP_CSS_CLASS);

            this._renderer.removeClass(this._select, BOTTOM_CSS_CLASS);
          } else {
            this._renderer.addClass(this._dropdown, BOTTOM_CSS_CLASS);

            this._renderer.removeClass(this._dropdown, TOP_CSS_CLASS);

            this._renderer.addClass(this._select, BOTTOM_CSS_CLASS);

            this._renderer.removeClass(this._select, TOP_CSS_CLASS);
          }

          if (this.appendTo) {
            this._updatePosition();
          }

          this._dropdown.style.opacity = '1';
        }
        /**
         * @private
         * @return {?}
         */

      }, {
        key: "_handleScroll",
        value: function _handleScroll() {
          var _this8 = this;

          this._zone.runOutsideAngular(
          /**
          * @return {?}
          */
          function () {
            Object(rxjs__WEBPACK_IMPORTED_MODULE_3__["fromEvent"])(_this8.scrollElementRef.nativeElement, 'scroll').pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["takeUntil"])(_this8._destroy$), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["auditTime"])(0, SCROLL_SCHEDULER)).subscribe(
            /**
            * @param {?} e
            * @return {?}
            */
            function (e) {
              return _this8._onContentScrolled(e.target.scrollTop);
            });
          });
        }
        /**
         * @private
         * @return {?}
         */

      }, {
        key: "_handleOutsideClick",
        value: function _handleOutsideClick() {
          var _this9 = this;

          if (!this._document) {
            return;
          }

          this._zone.runOutsideAngular(
          /**
          * @return {?}
          */
          function () {
            Object(rxjs__WEBPACK_IMPORTED_MODULE_3__["merge"])(Object(rxjs__WEBPACK_IMPORTED_MODULE_3__["fromEvent"])(_this9._document, 'touchstart', {
              capture: true
            }), Object(rxjs__WEBPACK_IMPORTED_MODULE_3__["fromEvent"])(_this9._document, 'mousedown', {
              capture: true
            })).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["takeUntil"])(_this9._destroy$)).subscribe(
            /**
            * @param {?} $event
            * @return {?}
            */
            function ($event) {
              return _this9._checkToClose($event);
            });
          });
        }
        /**
         * @private
         * @param {?} $event
         * @return {?}
         */

      }, {
        key: "_checkToClose",
        value: function _checkToClose($event) {
          var _this10 = this;

          if (this._select.contains($event.target) || this._dropdown.contains($event.target)) {
            return;
          }
          /** @type {?} */


          var path = $event.path || $event.composedPath && $event.composedPath();

          if ($event.target && $event.target.shadowRoot && path && path[0] && this._select.contains(path[0])) {
            return;
          }

          this._zone.run(
          /**
          * @return {?}
          */
          function () {
            return _this10.outsideClick.emit();
          });
        }
        /**
         * @private
         * @param {?} items
         * @param {?} firstChange
         * @return {?}
         */

      }, {
        key: "_onItemsChange",
        value: function _onItemsChange(items, firstChange) {
          this.items = items || [];
          this._scrollToEndFired = false;
          this.itemsLength = items.length;

          if (this.virtualScroll) {
            this._updateItemsRange(firstChange);
          } else {
            this._updateItems(firstChange);
          }
        }
        /**
         * @private
         * @param {?} firstChange
         * @return {?}
         */

      }, {
        key: "_updateItems",
        value: function _updateItems(firstChange) {
          var _this11 = this;

          this.update.emit(this.items);

          if (firstChange === false) {
            return;
          }

          this._zone.runOutsideAngular(
          /**
          * @return {?}
          */
          function () {
            Promise.resolve().then(
            /**
            * @return {?}
            */
            function () {
              /** @type {?} */
              var panelHeight = _this11._scrollablePanel.clientHeight;

              _this11._panelService.setDimensions(0, panelHeight);

              _this11._handleDropdownPosition();

              _this11.scrollTo(_this11.markedItem, firstChange);
            });
          });
        }
        /**
         * @private
         * @param {?} firstChange
         * @return {?}
         */

      }, {
        key: "_updateItemsRange",
        value: function _updateItemsRange(firstChange) {
          var _this12 = this;

          this._zone.runOutsideAngular(
          /**
          * @return {?}
          */
          function () {
            _this12._measureDimensions().then(
            /**
            * @return {?}
            */
            function () {
              if (firstChange) {
                _this12._renderItemsRange(_this12._startOffset);

                _this12._handleDropdownPosition();
              } else {
                _this12._renderItemsRange();
              }
            });
          });
        }
        /**
         * @private
         * @param {?} scrollTop
         * @return {?}
         */

      }, {
        key: "_onContentScrolled",
        value: function _onContentScrolled(scrollTop) {
          if (this.virtualScroll) {
            this._renderItemsRange(scrollTop);
          }

          this._lastScrollPosition = scrollTop;

          this._fireScrollToEnd(scrollTop);
        }
        /**
         * @private
         * @param {?} height
         * @return {?}
         */

      }, {
        key: "_updateVirtualHeight",
        value: function _updateVirtualHeight(height) {
          if (this._updateScrollHeight) {
            this._virtualPadding.style.height = "".concat(height, "px");
            this._updateScrollHeight = false;
          }
        }
        /**
         * @private
         * @return {?}
         */

      }, {
        key: "_onItemsLengthChanged",
        value: function _onItemsLengthChanged() {
          this._updateScrollHeight = true;
        }
        /**
         * @private
         * @param {?=} scrollTop
         * @return {?}
         */

      }, {
        key: "_renderItemsRange",
        value: function _renderItemsRange() {
          var _this13 = this;

          var scrollTop = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;

          if (scrollTop && this._lastScrollPosition === scrollTop) {
            return;
          }

          scrollTop = scrollTop || this._scrollablePanel.scrollTop;
          /** @type {?} */

          var range = this._panelService.calculateItems(scrollTop, this.itemsLength, this.bufferAmount);

          this._updateVirtualHeight(range.scrollHeight);

          this._contentPanel.style.transform = "translateY(".concat(range.topPadding, "px)");

          this._zone.run(
          /**
          * @return {?}
          */
          function () {
            _this13.update.emit(_this13.items.slice(range.start, range.end));

            _this13.scroll.emit({
              start: range.start,
              end: range.end
            });
          });

          if (isDefined(scrollTop) && this._lastScrollPosition === 0) {
            this._scrollablePanel.scrollTop = scrollTop;
            this._lastScrollPosition = scrollTop;
          }
        }
        /**
         * @private
         * @return {?}
         */

      }, {
        key: "_measureDimensions",
        value: function _measureDimensions() {
          var _this14 = this;

          if (this._panelService.dimensions.itemHeight > 0 || this.itemsLength === 0) {
            return Promise.resolve(this._panelService.dimensions);
          }

          var _this$items = _slicedToArray(this.items, 1),
              first = _this$items[0];

          this.update.emit([first]);
          return Promise.resolve().then(
          /**
          * @return {?}
          */
          function () {
            /** @type {?} */
            var option = _this14._dropdown.querySelector("#".concat(first.htmlId));
            /** @type {?} */


            var optionHeight = option.clientHeight;
            _this14._virtualPadding.style.height = "".concat(optionHeight * _this14.itemsLength, "px");
            /** @type {?} */

            var panelHeight = _this14._scrollablePanel.clientHeight;

            _this14._panelService.setDimensions(optionHeight, panelHeight);

            return _this14._panelService.dimensions;
          });
        }
        /**
         * @private
         * @param {?} scrollTop
         * @return {?}
         */

      }, {
        key: "_fireScrollToEnd",
        value: function _fireScrollToEnd(scrollTop) {
          var _this15 = this;

          if (this._scrollToEndFired || scrollTop === 0) {
            return;
          }
          /** @type {?} */


          var padding = this.virtualScroll ? this._virtualPadding : this._contentPanel;

          if (scrollTop + this._dropdown.clientHeight >= padding.clientHeight) {
            this._zone.run(
            /**
            * @return {?}
            */
            function () {
              return _this15.scrollToEnd.emit();
            });

            this._scrollToEndFired = true;
          }
        }
        /**
         * @private
         * @param {?} dropdownEl
         * @return {?}
         */

      }, {
        key: "_calculateCurrentPosition",
        value: function _calculateCurrentPosition(dropdownEl) {
          if (this.position !== 'auto') {
            return this.position;
          }
          /** @type {?} */


          var selectRect = this._select.getBoundingClientRect();
          /** @type {?} */


          var scrollTop = document.documentElement.scrollTop || document.body.scrollTop;
          /** @type {?} */

          var offsetTop = selectRect.top + window.pageYOffset;
          /** @type {?} */

          var height = selectRect.height;
          /** @type {?} */

          var dropdownHeight = dropdownEl.getBoundingClientRect().height;

          if (offsetTop + height + dropdownHeight > scrollTop + document.documentElement.clientHeight) {
            return 'top';
          } else {
            return 'bottom';
          }
        }
        /**
         * @private
         * @return {?}
         */

      }, {
        key: "_appendDropdown",
        value: function _appendDropdown() {
          if (!this.appendTo) {
            return;
          }

          this._parent = document.querySelector(this.appendTo);

          if (!parent) {
            throw new Error("appendTo selector ".concat(this.appendTo, " did not found any parent element"));
          }

          this._parent.appendChild(this._dropdown);
        }
        /**
         * @private
         * @return {?}
         */

      }, {
        key: "_updatePosition",
        value: function _updatePosition() {
          /** @type {?} */
          var select = this._select.getBoundingClientRect();
          /** @type {?} */


          var parent = this._parent.getBoundingClientRect();
          /** @type {?} */


          var offsetLeft = select.left - parent.left;

          this._setOffset(parent, select);

          this._dropdown.style.left = offsetLeft + 'px';
          this._dropdown.style.width = select.width + 'px';
          this._dropdown.style.minWidth = select.width + 'px';
        }
        /**
         * @private
         * @param {?} parent
         * @param {?} select
         * @return {?}
         */

      }, {
        key: "_setOffset",
        value: function _setOffset(parent, select) {
          /** @type {?} */
          var delta = select.height;

          if (this._currentPosition === 'top') {
            /** @type {?} */
            var offsetBottom = parent.bottom - select.bottom;
            this._dropdown.style.bottom = offsetBottom + delta + 'px';
            this._dropdown.style.top = 'auto';
          } else if (this._currentPosition === 'bottom') {
            /** @type {?} */
            var offsetTop = select.top - parent.top;
            this._dropdown.style.top = offsetTop + delta + 'px';
            this._dropdown.style.bottom = 'auto';
          }
        }
      }, {
        key: "currentPosition",
        get: function get() {
          return this._currentPosition;
        }
        /**
         * @private
         * @return {?}
         */

      }, {
        key: "itemsLength",
        get: function get() {
          return this._itemsLength;
        }
        /**
         * @private
         * @param {?} value
         * @return {?}
         */
        ,
        set: function set(value) {
          if (value !== this._itemsLength) {
            this._itemsLength = value;

            this._onItemsLengthChanged();
          }
        }
        /**
         * @private
         * @return {?}
         */

      }, {
        key: "_startOffset",
        get: function get() {
          if (this.markedItem) {
            var _this$_panelService$d = this._panelService.dimensions,
                itemHeight = _this$_panelService$d.itemHeight,
                panelHeight = _this$_panelService$d.panelHeight;
            /** @type {?} */

            var offset = this.markedItem.index * itemHeight;
            return panelHeight > offset ? 0 : offset;
          }

          return 0;
        }
      }]);

      return NgDropdownPanelComponent;
    }();

    NgDropdownPanelComponent.ɵfac = function NgDropdownPanelComponent_Factory(t) {
      return new (t || NgDropdownPanelComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["Renderer2"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgZone"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](NgDropdownPanelService), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_common__WEBPACK_IMPORTED_MODULE_4__["DOCUMENT"], 8));
    };

    NgDropdownPanelComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({
      type: NgDropdownPanelComponent,
      selectors: [["ng-dropdown-panel"]],
      viewQuery: function NgDropdownPanelComponent_Query(rf, ctx) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵstaticViewQuery"](_c0, true, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"]);

          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵstaticViewQuery"](_c1, true, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"]);

          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵstaticViewQuery"](_c2, true, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"]);
        }

        if (rf & 2) {
          var _t;

          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.contentElementRef = _t.first);
          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.scrollElementRef = _t.first);
          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.paddingElementRef = _t.first);
        }
      },
      hostBindings: function NgDropdownPanelComponent_HostBindings(rf, ctx) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("mousedown", function NgDropdownPanelComponent_mousedown_HostBindingHandler($event) {
            return ctx.handleMousedown($event);
          });
        }
      },
      inputs: {
        items: "items",
        position: "position",
        virtualScroll: "virtualScroll",
        filterValue: "filterValue",
        markedItem: "markedItem",
        appendTo: "appendTo",
        bufferAmount: "bufferAmount",
        headerTemplate: "headerTemplate",
        footerTemplate: "footerTemplate"
      },
      outputs: {
        update: "update",
        scroll: "scroll",
        scrollToEnd: "scrollToEnd",
        outsideClick: "outsideClick"
      },
      features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]],
      ngContentSelectors: _c4,
      decls: 9,
      vars: 6,
      consts: [["class", "ng-dropdown-header", 4, "ngIf"], [1, "ng-dropdown-panel-items", "scroll-host"], ["scroll", ""], ["padding", ""], ["content", ""], ["class", "ng-dropdown-footer", 4, "ngIf"], [1, "ng-dropdown-header"], [3, "ngTemplateOutlet", "ngTemplateOutletContext"], [1, "ng-dropdown-footer"]],
      template: function NgDropdownPanelComponent_Template(rf, ctx) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵprojectionDef"]();

          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, NgDropdownPanelComponent_div_0_Template, 2, 4, "div", 0);

          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 1, 2);

          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](3, "div", null, 3);

          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "div", null, 4);

          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵprojection"](7);

          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();

          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();

          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](8, NgDropdownPanelComponent_div_8_Template, 2, 4, "div", 5);
        }

        if (rf & 2) {
          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.headerTemplate);

          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);

          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassProp"]("total-padding", ctx.virtualScroll);

          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);

          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassProp"]("scrollable-content", ctx.virtualScroll && ctx.items.length);

          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);

          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.footerTemplate);
        }
      },
      directives: [_angular_common__WEBPACK_IMPORTED_MODULE_4__["NgIf"], _angular_common__WEBPACK_IMPORTED_MODULE_4__["NgTemplateOutlet"]],
      encapsulation: 2,
      changeDetection: 0
    });
    /** @nocollapse */

    NgDropdownPanelComponent.ctorParameters = function () {
      return [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Renderer2"]
      }, {
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgZone"]
      }, {
        type: NgDropdownPanelService
      }, {
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"]
      }, {
        type: undefined,
        decorators: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Optional"]
        }, {
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"],
          args: [_angular_common__WEBPACK_IMPORTED_MODULE_4__["DOCUMENT"]]
        }]
      }];
    };

    NgDropdownPanelComponent.propDecorators = {
      items: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
      }],
      markedItem: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
      }],
      position: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
      }],
      appendTo: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
      }],
      bufferAmount: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
      }],
      virtualScroll: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
      }],
      headerTemplate: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
      }],
      footerTemplate: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
      }],
      filterValue: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
      }],
      update: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
      }],
      scroll: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
      }],
      scrollToEnd: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
      }],
      outsideClick: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
      }],
      contentElementRef: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"],
        args: ['content', {
          read: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"],
          "static": true
        }]
      }],
      scrollElementRef: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"],
        args: ['scroll', {
          read: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"],
          "static": true
        }]
      }],
      paddingElementRef: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"],
        args: ['padding', {
          read: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"],
          "static": true
        }]
      }],
      handleMousedown: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["HostListener"],
        args: ['mousedown', ['$event']]
      }]
    };
    /*@__PURE__*/

    (function () {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](NgDropdownPanelComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
          changeDetection: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectionStrategy"].OnPush,
          encapsulation: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewEncapsulation"].None,
          selector: 'ng-dropdown-panel',
          template: "\n        <div *ngIf=\"headerTemplate\" class=\"ng-dropdown-header\">\n            <ng-container [ngTemplateOutlet]=\"headerTemplate\" [ngTemplateOutletContext]=\"{ searchTerm: filterValue }\"></ng-container>\n        </div>\n        <div #scroll class=\"ng-dropdown-panel-items scroll-host\">\n            <div #padding [class.total-padding]=\"virtualScroll\"></div>\n            <div #content [class.scrollable-content]=\"virtualScroll && items.length\">\n                <ng-content></ng-content>\n            </div>\n        </div>\n        <div *ngIf=\"footerTemplate\" class=\"ng-dropdown-footer\">\n            <ng-container [ngTemplateOutlet]=\"footerTemplate\" [ngTemplateOutletContext]=\"{ searchTerm: filterValue }\"></ng-container>\n        </div>\n    "
        }]
      }], function () {
        return [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Renderer2"]
        }, {
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgZone"]
        }, {
          type: NgDropdownPanelService
        }, {
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"]
        }, {
          type: undefined,
          decorators: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Optional"]
          }, {
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"],
            args: [_angular_common__WEBPACK_IMPORTED_MODULE_4__["DOCUMENT"]]
          }]
        }];
      }, {
        items: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }],
        position: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }],
        virtualScroll: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }],
        filterValue: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }],
        update: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }],
        scroll: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }],
        scrollToEnd: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }],
        outsideClick: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }],
        handleMousedown: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["HostListener"],
          args: ['mousedown', ['$event']]
        }],
        markedItem: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }],
        appendTo: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }],
        bufferAmount: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }],
        headerTemplate: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }],
        footerTemplate: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }],
        contentElementRef: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"],
          args: ['content', {
            read: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"],
            "static": true
          }]
        }],
        scrollElementRef: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"],
          args: ['scroll', {
            read: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"],
            "static": true
          }]
        }],
        paddingElementRef: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"],
          args: ['padding', {
            read: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"],
            "static": true
          }]
        }]
      });
    })();

    if (false) {}
    /**
     * @fileoverview added by tsickle
     * Generated from: lib/ng-option.component.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */


    var NgOptionComponent = /*#__PURE__*/function () {
      /**
       * @param {?} elementRef
       */
      function NgOptionComponent(elementRef) {
        _classCallCheck(this, NgOptionComponent);

        this.elementRef = elementRef;
        this.stateChange$ = new rxjs__WEBPACK_IMPORTED_MODULE_3__["Subject"]();
        this._disabled = false;
      }
      /**
       * @return {?}
       */


      _createClass(NgOptionComponent, [{
        key: "ngOnChanges",

        /**
         * @param {?} changes
         * @return {?}
         */
        value: function ngOnChanges(changes) {
          if (changes.disabled) {
            this.stateChange$.next({
              value: this.value,
              disabled: this._disabled
            });
          }
        }
        /**
         * @return {?}
         */

      }, {
        key: "ngAfterViewChecked",
        value: function ngAfterViewChecked() {
          if (this.label !== this._previousLabel) {
            this._previousLabel = this.label;
            this.stateChange$.next({
              value: this.value,
              disabled: this._disabled,
              label: this.elementRef.nativeElement.innerHTML
            });
          }
        }
        /**
         * @return {?}
         */

      }, {
        key: "ngOnDestroy",
        value: function ngOnDestroy() {
          this.stateChange$.complete();
        }
        /**
         * @private
         * @param {?} value
         * @return {?}
         */

      }, {
        key: "_isDisabled",
        value: function _isDisabled(value) {
          return value != null && "".concat(value) !== 'false';
        }
      }, {
        key: "disabled",
        get: function get() {
          return this._disabled;
        }
        /**
         * @param {?} value
         * @return {?}
         */
        ,
        set: function set(value) {
          this._disabled = this._isDisabled(value);
        }
        /**
         * @return {?}
         */

      }, {
        key: "label",
        get: function get() {
          return (this.elementRef.nativeElement.textContent || '').trim();
        }
      }]);

      return NgOptionComponent;
    }();

    NgOptionComponent.ɵfac = function NgOptionComponent_Factory(t) {
      return new (t || NgOptionComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"]));
    };

    NgOptionComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({
      type: NgOptionComponent,
      selectors: [["ng-option"]],
      inputs: {
        disabled: "disabled",
        value: "value"
      },
      features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]],
      ngContentSelectors: _c4,
      decls: 1,
      vars: 0,
      template: function NgOptionComponent_Template(rf, ctx) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵprojectionDef"]();

          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵprojection"](0);
        }
      },
      encapsulation: 2,
      changeDetection: 0
    });
    /** @nocollapse */

    NgOptionComponent.ctorParameters = function () {
      return [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"]
      }];
    };

    NgOptionComponent.propDecorators = {
      value: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
      }],
      disabled: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
      }]
    };
    /*@__PURE__*/

    (function () {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](NgOptionComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
          selector: 'ng-option',
          changeDetection: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectionStrategy"].OnPush,
          template: "<ng-content></ng-content>"
        }]
      }], function () {
        return [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"]
        }];
      }, {
        disabled: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }],
        value: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }]
      });
    })();

    if (false) {}
    /**
     * @fileoverview added by tsickle
     * Generated from: lib/config.service.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */


    var NgSelectConfig = function NgSelectConfig() {
      _classCallCheck(this, NgSelectConfig);

      this.notFoundText = 'No items found';
      this.typeToSearchText = 'Type to search';
      this.addTagText = 'Add item';
      this.loadingText = 'Loading...';
      this.clearAllText = 'Clear all';
      this.disableVirtualScroll = true;
      this.openOnEnter = true;
      this.appearance = 'underline';
    };

    NgSelectConfig.ɵfac = function NgSelectConfig_Factory(t) {
      return new (t || NgSelectConfig)();
    };
    /** @nocollapse */


    NgSelectConfig.ɵprov = Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"])({
      factory: function NgSelectConfig_Factory() {
        return new NgSelectConfig();
      },
      token: NgSelectConfig,
      providedIn: "root"
    });
    /*@__PURE__*/

    (function () {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](NgSelectConfig, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"],
        args: [{
          providedIn: 'root'
        }]
      }], function () {
        return [];
      }, null);
    })();

    if (false) {}
    /**
     * @fileoverview added by tsickle
     * Generated from: lib/ng-select.component.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */

    /** @type {?} */


    var SELECTION_MODEL_FACTORY = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["InjectionToken"]('ng-select-selection-model');

    var NgSelectComponent = /*#__PURE__*/function () {
      /**
       * @param {?} classes
       * @param {?} autoFocus
       * @param {?} config
       * @param {?} newSelectionModel
       * @param {?} _elementRef
       * @param {?} _cd
       * @param {?} _console
       */
      function NgSelectComponent(classes, autoFocus, config, newSelectionModel, _elementRef, _cd, _console) {
        var _this16 = this;

        _classCallCheck(this, NgSelectComponent);

        this.classes = classes;
        this.autoFocus = autoFocus;
        this._cd = _cd;
        this._console = _console;
        this.markFirst = true;
        this.dropdownPosition = 'auto';
        this.loading = false;
        this.closeOnSelect = true;
        this.hideSelected = false;
        this.selectOnTab = false;
        this.bufferAmount = 4;
        this.selectableGroup = false;
        this.selectableGroupAsModel = true;
        this.searchFn = null;
        this.trackByFn = null;
        this.clearOnBackspace = true;
        this.labelForId = null;
        this.inputAttrs = {};
        this.readonly = false;
        this.searchWhileComposing = true;
        this.minTermLength = 0;
        this.editableSearchTerm = false;

        this.keyDownFn =
        /**
        * @param {?} _
        * @return {?}
        */
        function (_) {
          return true;
        };

        this.multiple = false;
        this.addTag = false;
        this.searchable = true;
        this.clearable = true;
        this.isOpen = false; // output events

        this.blurEvent = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.focusEvent = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.changeEvent = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.openEvent = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.closeEvent = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.searchEvent = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.clearEvent = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.addEvent = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.removeEvent = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.scroll = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.scrollToEnd = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.viewPortItems = [];
        this.searchTerm = null;
        this.dropdownId = newId();
        this.escapeHTML = true;
        this.useDefaultClass = true;
        this._items = [];
        this._defaultLabel = 'label';
        this._pressedKeys = [];
        this._isComposing = false;
        this._destroy$ = new rxjs__WEBPACK_IMPORTED_MODULE_3__["Subject"]();
        this._keyPress$ = new rxjs__WEBPACK_IMPORTED_MODULE_3__["Subject"]();

        this._onChange =
        /**
        * @param {?} _
        * @return {?}
        */
        function (_) {};

        this._onTouched =
        /**
        * @return {?}
        */
        function () {};

        this.clearItem =
        /**
        * @param {?} item
        * @return {?}
        */
        function (item) {
          /** @type {?} */
          var option = _this16.selectedItems.find(
          /**
          * @param {?} x
          * @return {?}
          */
          function (x) {
            return x.value === item;
          });

          _this16.unselect(option);
        };

        this.trackByOption =
        /**
        * @param {?} _
        * @param {?} item
        * @return {?}
        */
        function (_, item) {
          if (_this16.trackByFn) {
            return _this16.trackByFn(item.value);
          }

          return item;
        };

        this._mergeGlobalConfig(config);

        this.itemsList = new ItemsList(this, newSelectionModel());
        this.element = _elementRef.nativeElement;
      }
      /**
       * @return {?}
       */


      _createClass(NgSelectComponent, [{
        key: "ngOnInit",

        /**
         * @return {?}
         */
        value: function ngOnInit() {
          this._handleKeyPresses();

          this._setInputAttributes();
        }
        /**
         * @param {?} changes
         * @return {?}
         */

      }, {
        key: "ngOnChanges",
        value: function ngOnChanges(changes) {
          if (changes.multiple) {
            this.itemsList.clearSelected();
          }

          if (changes.items) {
            this._setItems(changes.items.currentValue || []);
          }

          if (changes.isOpen) {
            this._manualOpen = isDefined(changes.isOpen.currentValue);
          }
        }
        /**
         * @return {?}
         */

      }, {
        key: "ngAfterViewInit",
        value: function ngAfterViewInit() {
          if (!this._itemsAreUsed) {
            this.escapeHTML = false;

            this._setItemsFromNgOptions();
          }

          if (isDefined(this.autoFocus)) {
            this.focus();
          }
        }
        /**
         * @return {?}
         */

      }, {
        key: "ngOnDestroy",
        value: function ngOnDestroy() {
          this._destroy$.next();

          this._destroy$.complete();
        }
        /**
         * @param {?} $event
         * @return {?}
         */

      }, {
        key: "handleKeyDown",
        value: function handleKeyDown($event) {
          /** @type {?} */
          var keyCode = KeyCode[$event.which];

          if (keyCode) {
            if (this.keyDownFn($event) === false) {
              return;
            }

            this.handleKeyCode($event);
          } else if ($event.key && $event.key.length === 1) {
            this._keyPress$.next($event.key.toLocaleLowerCase());
          }
        }
        /**
         * @param {?} $event
         * @return {?}
         */

      }, {
        key: "handleKeyCode",
        value: function handleKeyCode($event) {
          switch ($event.which) {
            case KeyCode.ArrowDown:
              this._handleArrowDown($event);

              break;

            case KeyCode.ArrowUp:
              this._handleArrowUp($event);

              break;

            case KeyCode.Space:
              this._handleSpace($event);

              break;

            case KeyCode.Enter:
              this._handleEnter($event);

              break;

            case KeyCode.Tab:
              this._handleTab($event);

              break;

            case KeyCode.Esc:
              this.close();
              $event.preventDefault();
              break;

            case KeyCode.Backspace:
              this._handleBackspace();

              break;
          }
        }
        /**
         * @param {?} $event
         * @return {?}
         */

      }, {
        key: "handleMousedown",
        value: function handleMousedown($event) {
          /** @type {?} */
          var target =
          /** @type {?} */
          $event.target;

          if (target.tagName !== 'INPUT') {
            $event.preventDefault();
          }

          if (target.classList.contains('ng-clear-wrapper')) {
            this.handleClearClick();
            return;
          }

          if (target.classList.contains('ng-arrow-wrapper')) {
            this.handleArrowClick();
            return;
          }

          if (target.classList.contains('ng-value-icon')) {
            return;
          }

          if (!this.focused) {
            this.focus();
          }

          if (this.searchable) {
            this.open();
          } else {
            this.toggle();
          }
        }
        /**
         * @return {?}
         */

      }, {
        key: "handleArrowClick",
        value: function handleArrowClick() {
          if (this.isOpen) {
            this.close();
          } else {
            this.open();
          }
        }
        /**
         * @return {?}
         */

      }, {
        key: "handleClearClick",
        value: function handleClearClick() {
          if (this.hasValue) {
            this.itemsList.clearSelected(true);

            this._updateNgModel();
          }

          this._clearSearch();

          this.focus();
          this.clearEvent.emit();

          this._onSelectionChanged();
        }
        /**
         * @return {?}
         */

      }, {
        key: "clearModel",
        value: function clearModel() {
          if (!this.clearable) {
            return;
          }

          this.itemsList.clearSelected();

          this._updateNgModel();
        }
        /**
         * @param {?} value
         * @return {?}
         */

      }, {
        key: "writeValue",
        value: function writeValue(value) {
          this.itemsList.clearSelected();

          this._handleWriteValue(value);

          this._cd.markForCheck();
        }
        /**
         * @param {?} fn
         * @return {?}
         */

      }, {
        key: "registerOnChange",
        value: function registerOnChange(fn) {
          this._onChange = fn;
        }
        /**
         * @param {?} fn
         * @return {?}
         */

      }, {
        key: "registerOnTouched",
        value: function registerOnTouched(fn) {
          this._onTouched = fn;
        }
        /**
         * @param {?} state
         * @return {?}
         */

      }, {
        key: "setDisabledState",
        value: function setDisabledState(state) {
          this._disabled = state;

          this._cd.markForCheck();
        }
        /**
         * @return {?}
         */

      }, {
        key: "toggle",
        value: function toggle() {
          if (!this.isOpen) {
            this.open();
          } else {
            this.close();
          }
        }
        /**
         * @return {?}
         */

      }, {
        key: "open",
        value: function open() {
          if (this.disabled || this.isOpen || this.itemsList.maxItemsSelected || this._manualOpen) {
            return;
          }

          if (!this._isTypeahead && !this.addTag && this.itemsList.noItemsToSelect) {
            return;
          }

          this.isOpen = true;
          this.itemsList.markSelectedOrDefault(this.markFirst);
          this.openEvent.emit();

          if (!this.searchTerm) {
            this.focus();
          }

          this.detectChanges();
        }
        /**
         * @return {?}
         */

      }, {
        key: "close",
        value: function close() {
          if (!this.isOpen || this._manualOpen) {
            return;
          }

          this.isOpen = false;

          if (!this._editableSearchTerm) {
            this._clearSearch();
          } else {
            this.itemsList.resetFilteredItems();
          }

          this.itemsList.unmarkItem();

          this._onTouched();

          this.closeEvent.emit();

          this._cd.markForCheck();
        }
        /**
         * @param {?} item
         * @return {?}
         */

      }, {
        key: "toggleItem",
        value: function toggleItem(item) {
          if (!item || item.disabled || this.disabled) {
            return;
          }

          if (this.multiple && item.selected) {
            this.unselect(item);
          } else {
            this.select(item);
          }

          if (this._editableSearchTerm) {
            this._setSearchTermFromItems();
          }

          this._onSelectionChanged();
        }
        /**
         * @param {?} item
         * @return {?}
         */

      }, {
        key: "select",
        value: function select(item) {
          if (!item.selected) {
            this.itemsList.select(item);

            if (this.clearSearchOnAdd && !this._editableSearchTerm) {
              this._clearSearch();
            }

            this._updateNgModel();

            if (this.multiple) {
              this.addEvent.emit(item.value);
            }
          }

          if (this.closeOnSelect || this.itemsList.noItemsToSelect) {
            this.close();
          }
        }
        /**
         * @return {?}
         */

      }, {
        key: "focus",
        value: function focus() {
          this.searchInput.nativeElement.focus();
        }
        /**
         * @return {?}
         */

      }, {
        key: "blur",
        value: function blur() {
          this.searchInput.nativeElement.blur();
        }
        /**
         * @param {?} item
         * @return {?}
         */

      }, {
        key: "unselect",
        value: function unselect(item) {
          if (!item) {
            return;
          }

          this.itemsList.unselect(item);
          this.focus();

          this._updateNgModel();

          this.removeEvent.emit(item);
        }
        /**
         * @return {?}
         */

      }, {
        key: "selectTag",
        value: function selectTag() {
          var _this17 = this;

          /** @type {?} */
          var tag;

          if (isFunction(this.addTag)) {
            tag =
            /** @type {?} */
            this.addTag(this.searchTerm);
          } else {
            tag = this._primitive ? this.searchTerm : _defineProperty({}, this.bindLabel, this.searchTerm);
          }
          /** @type {?} */


          var handleTag =
          /**
          * @param {?} item
          * @return {?}
          */
          function handleTag(item) {
            return _this17._isTypeahead || !_this17.isOpen ? _this17.itemsList.mapItem(item, null) : _this17.itemsList.addItem(item);
          };

          if (isPromise(tag)) {
            tag.then(
            /**
            * @param {?} item
            * @return {?}
            */
            function (item) {
              return _this17.select(handleTag(item));
            })["catch"](
            /**
            * @return {?}
            */
            function () {});
          } else if (tag) {
            this.select(handleTag(tag));
          }
        }
        /**
         * @return {?}
         */

      }, {
        key: "showClear",
        value: function showClear() {
          return this.clearable && (this.hasValue || this.searchTerm) && !this.disabled;
        }
        /**
         * @return {?}
         */

      }, {
        key: "showNoItemsFound",

        /**
         * @return {?}
         */
        value: function showNoItemsFound() {
          /** @type {?} */
          var empty = this.itemsList.filteredItems.length === 0;
          return (empty && !this._isTypeahead && !this.loading || empty && this._isTypeahead && this._validTerm && !this.loading) && !this.showAddTag;
        }
        /**
         * @return {?}
         */

      }, {
        key: "showTypeToSearch",
        value: function showTypeToSearch() {
          /** @type {?} */
          var empty = this.itemsList.filteredItems.length === 0;
          return empty && this._isTypeahead && !this._validTerm && !this.loading;
        }
        /**
         * @return {?}
         */

      }, {
        key: "onCompositionStart",
        value: function onCompositionStart() {
          this._isComposing = true;
        }
        /**
         * @param {?} term
         * @return {?}
         */

      }, {
        key: "onCompositionEnd",
        value: function onCompositionEnd(term) {
          this._isComposing = false;

          if (this.searchWhileComposing) {
            return;
          }

          this.filter(term);
        }
        /**
         * @param {?} term
         * @return {?}
         */

      }, {
        key: "filter",
        value: function filter(term) {
          if (this._isComposing && !this.searchWhileComposing) {
            return;
          }

          this.searchTerm = term;

          if (this._isTypeahead && (this._validTerm || this.minTermLength === 0)) {
            this.typeahead.next(term);
          }

          if (!this._isTypeahead) {
            this.itemsList.filter(this.searchTerm);

            if (this.isOpen) {
              this.itemsList.markSelectedOrDefault(this.markFirst);
            }
          }

          this.searchEvent.emit({
            term: term,
            items: this.itemsList.filteredItems.map(
            /**
            * @param {?} x
            * @return {?}
            */
            function (x) {
              return x.value;
            })
          });
          this.open();
        }
        /**
         * @param {?} $event
         * @return {?}
         */

      }, {
        key: "onInputFocus",
        value: function onInputFocus($event) {
          if (this.focused) {
            return;
          }

          if (this._editableSearchTerm) {
            this._setSearchTermFromItems();
          }

          this.element.classList.add('ng-select-focused');
          this.focusEvent.emit($event);
          this.focused = true;
        }
        /**
         * @param {?} $event
         * @return {?}
         */

      }, {
        key: "onInputBlur",
        value: function onInputBlur($event) {
          this.element.classList.remove('ng-select-focused');
          this.blurEvent.emit($event);

          if (!this.isOpen && !this.disabled) {
            this._onTouched();
          }

          if (this._editableSearchTerm) {
            this._setSearchTermFromItems();
          }

          this.focused = false;
        }
        /**
         * @param {?} item
         * @return {?}
         */

      }, {
        key: "onItemHover",
        value: function onItemHover(item) {
          if (item.disabled) {
            return;
          }

          this.itemsList.markItem(item);
        }
        /**
         * @return {?}
         */

      }, {
        key: "detectChanges",
        value: function detectChanges() {
          if (!
          /** @type {?} */
          this._cd.destroyed) {
            this._cd.detectChanges();
          }
        }
        /**
         * @private
         * @return {?}
         */

      }, {
        key: "_setSearchTermFromItems",
        value: function _setSearchTermFromItems() {
          /** @type {?} */
          var selected = this.selectedItems && this.selectedItems[0];
          this.searchTerm = selected && selected.label || null;
        }
        /**
         * @private
         * @param {?} items
         * @return {?}
         */

      }, {
        key: "_setItems",
        value: function _setItems(items) {
          /** @type {?} */
          var firstItem = items[0];
          this.bindLabel = this.bindLabel || this._defaultLabel;
          this._primitive = isDefined(firstItem) ? !isObject(firstItem) : this._primitive || this.bindLabel === this._defaultLabel;
          this.itemsList.setItems(items);

          if (items.length > 0 && this.hasValue) {
            this.itemsList.mapSelectedItems();
          }

          if (this.isOpen && isDefined(this.searchTerm) && !this._isTypeahead) {
            this.itemsList.filter(this.searchTerm);
          }

          if (this._isTypeahead || this.isOpen) {
            this.itemsList.markSelectedOrDefault(this.markFirst);
          }
        }
        /**
         * @private
         * @return {?}
         */

      }, {
        key: "_setItemsFromNgOptions",
        value: function _setItemsFromNgOptions() {
          var _this18 = this;

          /** @type {?} */
          var mapNgOptions =
          /**
          * @param {?} options
          * @return {?}
          */
          function mapNgOptions(options) {
            _this18.items = options.map(
            /**
            * @param {?} option
            * @return {?}
            */
            function (option) {
              return {
                $ngOptionValue: option.value,
                $ngOptionLabel: option.elementRef.nativeElement.innerHTML,
                disabled: option.disabled
              };
            });

            _this18.itemsList.setItems(_this18.items);

            if (_this18.hasValue) {
              _this18.itemsList.mapSelectedItems();
            }

            _this18.detectChanges();
          };
          /** @type {?} */


          var handleOptionChange =
          /**
          * @return {?}
          */
          function handleOptionChange() {
            /** @type {?} */
            var changedOrDestroyed = Object(rxjs__WEBPACK_IMPORTED_MODULE_3__["merge"])(_this18.ngOptions.changes, _this18._destroy$);
            Object(rxjs__WEBPACK_IMPORTED_MODULE_3__["merge"]).apply(void 0, _toConsumableArray(_this18.ngOptions.map(
            /**
            * @param {?} option
            * @return {?}
            */
            function (option) {
              return option.stateChange$;
            }))).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["takeUntil"])(changedOrDestroyed)).subscribe(
            /**
            * @param {?} option
            * @return {?}
            */
            function (option) {
              /** @type {?} */
              var item = _this18.itemsList.findItem(option.value);

              item.disabled = option.disabled;
              item.label = option.label || item.label;

              _this18._cd.detectChanges();
            });
          };

          this.ngOptions.changes.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["startWith"])(this.ngOptions), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["takeUntil"])(this._destroy$)).subscribe(
          /**
          * @param {?} options
          * @return {?}
          */
          function (options) {
            _this18.bindLabel = _this18._defaultLabel;
            mapNgOptions(options);
            handleOptionChange();
          });
        }
        /**
         * @private
         * @param {?} value
         * @return {?}
         */

      }, {
        key: "_isValidWriteValue",
        value: function _isValidWriteValue(value) {
          var _this19 = this;

          if (!isDefined(value) || this.multiple && value === '' || Array.isArray(value) && value.length === 0) {
            return false;
          }
          /** @type {?} */


          var validateBinding =
          /**
          * @param {?} item
          * @return {?}
          */
          function validateBinding(item) {
            if (!isDefined(_this19.compareWith) && isObject(item) && _this19.bindValue) {
              _this19._console.warn("Binding object(".concat(JSON.stringify(item), ") with bindValue is not allowed."));

              return false;
            }

            return true;
          };

          if (this.multiple) {
            if (!Array.isArray(value)) {
              this._console.warn('Multiple select ngModel should be array.');

              return false;
            }

            return value.every(
            /**
            * @param {?} item
            * @return {?}
            */
            function (item) {
              return validateBinding(item);
            });
          } else {
            return validateBinding(value);
          }
        }
        /**
         * @private
         * @param {?} ngModel
         * @return {?}
         */

      }, {
        key: "_handleWriteValue",
        value: function _handleWriteValue(ngModel) {
          var _this20 = this;

          if (!this._isValidWriteValue(ngModel)) {
            return;
          }
          /** @type {?} */


          var select =
          /**
          * @param {?} val
          * @return {?}
          */
          function select(val) {
            /** @type {?} */
            var item = _this20.itemsList.findItem(val);

            if (item) {
              _this20.itemsList.select(item);
            } else {
              /** @type {?} */
              var isValObject = isObject(val);
              /** @type {?} */

              var isPrimitive = !isValObject && !_this20.bindValue;

              if (isValObject || isPrimitive) {
                _this20.itemsList.select(_this20.itemsList.mapItem(val, null));
              } else if (_this20.bindValue) {
                var _item2;

                item = (_item2 = {}, _defineProperty(_item2, _this20.bindLabel, null), _defineProperty(_item2, _this20.bindValue, val), _item2);

                _this20.itemsList.select(_this20.itemsList.mapItem(item, null));
              }
            }
          };

          if (this.multiple) {
            /** @type {?} */
            ngModel.forEach(
            /**
            * @param {?} item
            * @return {?}
            */
            function (item) {
              return select(item);
            });
          } else {
            select(ngModel);
          }
        }
        /**
         * @private
         * @return {?}
         */

      }, {
        key: "_handleKeyPresses",
        value: function _handleKeyPresses() {
          var _this21 = this;

          if (this.searchable) {
            return;
          }

          this._keyPress$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["takeUntil"])(this._destroy$), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["tap"])(
          /**
          * @param {?} letter
          * @return {?}
          */
          function (letter) {
            return _this21._pressedKeys.push(letter);
          }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["debounceTime"])(200), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["filter"])(
          /**
          * @return {?}
          */
          function () {
            return _this21._pressedKeys.length > 0;
          }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["map"])(
          /**
          * @return {?}
          */
          function () {
            return _this21._pressedKeys.join('');
          })).subscribe(
          /**
          * @param {?} term
          * @return {?}
          */
          function (term) {
            /** @type {?} */
            var item = _this21.itemsList.findByLabel(term);

            if (item) {
              if (_this21.isOpen) {
                _this21.itemsList.markItem(item);

                _this21._cd.markForCheck();
              } else {
                _this21.select(item);
              }
            }

            _this21._pressedKeys = [];
          });
        }
        /**
         * @private
         * @return {?}
         */

      }, {
        key: "_setInputAttributes",
        value: function _setInputAttributes() {
          /** @type {?} */
          var input = this.searchInput.nativeElement;
          /** @type {?} */

          var attributes = Object.assign({
            type: 'text',
            autocorrect: 'off',
            autocapitalize: 'off',
            autocomplete: this.labelForId ? 'off' : this.dropdownId
          }, this.inputAttrs);

          for (var _i4 = 0, _Object$keys = Object.keys(attributes); _i4 < _Object$keys.length; _i4++) {
            var key = _Object$keys[_i4];
            input.setAttribute(key, attributes[key]);
          }
        }
        /**
         * @private
         * @return {?}
         */

      }, {
        key: "_updateNgModel",
        value: function _updateNgModel() {
          /** @type {?} */
          var model = [];

          var _iterator6 = _createForOfIteratorHelper(this.selectedItems),
              _step6;

          try {
            for (_iterator6.s(); !(_step6 = _iterator6.n()).done;) {
              var item = _step6.value;

              if (this.bindValue) {
                /** @type {?} */
                var value = null;

                if (item.children) {
                  /** @type {?} */
                  var groupKey = this.groupValue ? this.bindValue :
                  /** @type {?} */
                  this.groupBy;
                  value = item.value[groupKey ||
                  /** @type {?} */
                  this.groupBy];
                } else {
                  value = this.itemsList.resolveNested(item.value, this.bindValue);
                }

                model.push(value);
              } else {
                model.push(item.value);
              }
            }
            /** @type {?} */

          } catch (err) {
            _iterator6.e(err);
          } finally {
            _iterator6.f();
          }

          var selected = this.selectedItems.map(
          /**
          * @param {?} x
          * @return {?}
          */
          function (x) {
            return x.value;
          });

          if (this.multiple) {
            this._onChange(model);

            this.changeEvent.emit(selected);
          } else {
            this._onChange(isDefined(model[0]) ? model[0] : null);

            this.changeEvent.emit(selected[0]);
          }

          this._cd.markForCheck();
        }
        /**
         * @private
         * @return {?}
         */

      }, {
        key: "_clearSearch",
        value: function _clearSearch() {
          if (!this.searchTerm) {
            return;
          }

          this._changeSearch(null);

          this.itemsList.resetFilteredItems();
        }
        /**
         * @private
         * @param {?} searchTerm
         * @return {?}
         */

      }, {
        key: "_changeSearch",
        value: function _changeSearch(searchTerm) {
          this.searchTerm = searchTerm;

          if (this._isTypeahead) {
            this.typeahead.next(searchTerm);
          }
        }
        /**
         * @private
         * @return {?}
         */

      }, {
        key: "_scrollToMarked",
        value: function _scrollToMarked() {
          if (!this.isOpen || !this.dropdownPanel) {
            return;
          }

          this.dropdownPanel.scrollTo(this.itemsList.markedItem);
        }
        /**
         * @private
         * @return {?}
         */

      }, {
        key: "_scrollToTag",
        value: function _scrollToTag() {
          if (!this.isOpen || !this.dropdownPanel) {
            return;
          }

          this.dropdownPanel.scrollToTag();
        }
        /**
         * @private
         * @return {?}
         */

      }, {
        key: "_onSelectionChanged",
        value: function _onSelectionChanged() {
          if (this.isOpen && this.multiple && this.appendTo) {
            // Make sure items are rendered.
            this._cd.detectChanges();

            this.dropdownPanel.adjustPosition();
          }
        }
        /**
         * @private
         * @param {?} $event
         * @return {?}
         */

      }, {
        key: "_handleTab",
        value: function _handleTab($event) {
          if (this.isOpen === false && !this.addTag) {
            return;
          }

          if (this.selectOnTab) {
            if (this.itemsList.markedItem) {
              this.toggleItem(this.itemsList.markedItem);
              $event.preventDefault();
            } else if (this.showAddTag) {
              this.selectTag();
              $event.preventDefault();
            } else {
              this.close();
            }
          } else {
            this.close();
          }
        }
        /**
         * @private
         * @param {?} $event
         * @return {?}
         */

      }, {
        key: "_handleEnter",
        value: function _handleEnter($event) {
          if (this.isOpen || this._manualOpen) {
            if (this.itemsList.markedItem) {
              this.toggleItem(this.itemsList.markedItem);
            } else if (this.showAddTag) {
              this.selectTag();
            }
          } else if (this.openOnEnter) {
            this.open();
          } else {
            return;
          }

          $event.preventDefault();
        }
        /**
         * @private
         * @param {?} $event
         * @return {?}
         */

      }, {
        key: "_handleSpace",
        value: function _handleSpace($event) {
          if (this.isOpen || this._manualOpen) {
            return;
          }

          this.open();
          $event.preventDefault();
        }
        /**
         * @private
         * @param {?} $event
         * @return {?}
         */

      }, {
        key: "_handleArrowDown",
        value: function _handleArrowDown($event) {
          if (this._nextItemIsTag(+1)) {
            this.itemsList.unmarkItem();

            this._scrollToTag();
          } else {
            this.itemsList.markNextItem();

            this._scrollToMarked();
          }

          this.open();
          $event.preventDefault();
        }
        /**
         * @private
         * @param {?} $event
         * @return {?}
         */

      }, {
        key: "_handleArrowUp",
        value: function _handleArrowUp($event) {
          if (!this.isOpen) {
            return;
          }

          if (this._nextItemIsTag(-1)) {
            this.itemsList.unmarkItem();

            this._scrollToTag();
          } else {
            this.itemsList.markPreviousItem();

            this._scrollToMarked();
          }

          $event.preventDefault();
        }
        /**
         * @private
         * @param {?} nextStep
         * @return {?}
         */

      }, {
        key: "_nextItemIsTag",
        value: function _nextItemIsTag(nextStep) {
          /** @type {?} */
          var nextIndex = this.itemsList.markedIndex + nextStep;
          return this.addTag && this.searchTerm && this.itemsList.markedItem && (nextIndex < 0 || nextIndex === this.itemsList.filteredItems.length);
        }
        /**
         * @private
         * @return {?}
         */

      }, {
        key: "_handleBackspace",
        value: function _handleBackspace() {
          if (this.searchTerm || !this.clearable || !this.clearOnBackspace || !this.hasValue) {
            return;
          }

          if (this.multiple) {
            this.unselect(this.itemsList.lastSelectedItem);
          } else {
            this.clearModel();
          }
        }
        /**
         * @private
         * @return {?}
         */

      }, {
        key: "_mergeGlobalConfig",

        /**
         * @private
         * @param {?} config
         * @return {?}
         */
        value: function _mergeGlobalConfig(config) {
          this.placeholder = this.placeholder || config.placeholder;
          this.notFoundText = this.notFoundText || config.notFoundText;
          this.typeToSearchText = this.typeToSearchText || config.typeToSearchText;
          this.addTagText = this.addTagText || config.addTagText;
          this.loadingText = this.loadingText || config.loadingText;
          this.clearAllText = this.clearAllText || config.clearAllText;
          this.virtualScroll = isDefined(this.virtualScroll) ? this.virtualScroll : isDefined(config.disableVirtualScroll) ? !config.disableVirtualScroll : false;
          this.openOnEnter = isDefined(this.openOnEnter) ? this.openOnEnter : config.openOnEnter;
          this.appendTo = this.appendTo || config.appendTo;
          this.bindValue = this.bindValue || config.bindValue;
          this.appearance = this.appearance || config.appearance;
        }
      }, {
        key: "items",
        get: function get() {
          return this._items;
        },

        /**
         * @param {?} value
         * @return {?}
         */
        set: function set(value) {
          this._itemsAreUsed = true;
          this._items = value;
        }
      }, {
        key: "compareWith",

        /**
         * @return {?}
         */
        get: function get() {
          return this._compareWith;
        }
        /**
         * @param {?} fn
         * @return {?}
         */
        ,
        set: function set(fn) {
          if (!isFunction(fn)) {
            throw Error('`compareWith` must be a function.');
          }

          this._compareWith = fn;
        }
        /**
         * @return {?}
         */

      }, {
        key: "clearSearchOnAdd",
        get: function get() {
          return isDefined(this._clearSearchOnAdd) ? this._clearSearchOnAdd : this.closeOnSelect;
        },

        /**
         * @param {?} value
         * @return {?}
         */
        set: function set(value) {
          this._clearSearchOnAdd = value;
        }
      }, {
        key: "disabled",

        /**
         * @return {?}
         */
        get: function get() {
          return this.readonly || this._disabled;
        }
      }, {
        key: "filtered",

        /**
         * @return {?}
         */
        get: function get() {
          return !!this.searchTerm && this.searchable || this._isComposing;
        }
      }, {
        key: "_editableSearchTerm",

        /**
         * @private
         * @return {?}
         */
        get: function get() {
          return this.editableSearchTerm && !this.multiple;
        }
        /**
         * @return {?}
         */

      }, {
        key: "selectedItems",
        get: function get() {
          return this.itemsList.selectedItems;
        }
        /**
         * @return {?}
         */

      }, {
        key: "selectedValues",
        get: function get() {
          return this.selectedItems.map(
          /**
          * @param {?} x
          * @return {?}
          */
          function (x) {
            return x.value;
          });
        }
        /**
         * @return {?}
         */

      }, {
        key: "hasValue",
        get: function get() {
          return this.selectedItems.length > 0;
        }
        /**
         * @return {?}
         */

      }, {
        key: "currentPanelPosition",
        get: function get() {
          if (this.dropdownPanel) {
            return this.dropdownPanel.currentPosition;
          }

          return undefined;
        }
      }, {
        key: "showAddTag",
        get: function get() {
          if (!this._validTerm) {
            return false;
          }
          /** @type {?} */


          var term = this.searchTerm.toLowerCase().trim();
          return this.addTag && !this.itemsList.filteredItems.some(
          /**
          * @param {?} x
          * @return {?}
          */
          function (x) {
            return x.label.toLowerCase() === term;
          }) && (!this.hideSelected && this.isOpen || !this.selectedItems.some(
          /**
          * @param {?} x
          * @return {?}
          */
          function (x) {
            return x.label.toLowerCase() === term;
          })) && !this.loading;
        }
      }, {
        key: "_isTypeahead",
        get: function get() {
          return this.typeahead && this.typeahead.observers.length > 0;
        }
        /**
         * @private
         * @return {?}
         */

      }, {
        key: "_validTerm",
        get: function get() {
          /** @type {?} */
          var term = this.searchTerm && this.searchTerm.trim();
          return term && term.length >= this.minTermLength;
        }
      }]);

      return NgSelectComponent;
    }();

    NgSelectComponent.ɵfac = function NgSelectComponent_Factory(t) {
      return new (t || NgSelectComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinjectAttribute"]('class'), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinjectAttribute"]('autofocus'), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](NgSelectConfig), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](SELECTION_MODEL_FACTORY), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](ConsoleService));
    };

    NgSelectComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({
      type: NgSelectComponent,
      selectors: [["ng-select"]],
      contentQueries: function NgSelectComponent_ContentQueries(rf, ctx, dirIndex) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵcontentQuery"](dirIndex, NgOptionTemplateDirective, true, _angular_core__WEBPACK_IMPORTED_MODULE_0__["TemplateRef"]);

          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵcontentQuery"](dirIndex, NgOptgroupTemplateDirective, true, _angular_core__WEBPACK_IMPORTED_MODULE_0__["TemplateRef"]);

          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵcontentQuery"](dirIndex, NgLabelTemplateDirective, true, _angular_core__WEBPACK_IMPORTED_MODULE_0__["TemplateRef"]);

          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵcontentQuery"](dirIndex, NgMultiLabelTemplateDirective, true, _angular_core__WEBPACK_IMPORTED_MODULE_0__["TemplateRef"]);

          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵcontentQuery"](dirIndex, NgHeaderTemplateDirective, true, _angular_core__WEBPACK_IMPORTED_MODULE_0__["TemplateRef"]);

          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵcontentQuery"](dirIndex, NgFooterTemplateDirective, true, _angular_core__WEBPACK_IMPORTED_MODULE_0__["TemplateRef"]);

          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵcontentQuery"](dirIndex, NgNotFoundTemplateDirective, true, _angular_core__WEBPACK_IMPORTED_MODULE_0__["TemplateRef"]);

          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵcontentQuery"](dirIndex, NgTypeToSearchTemplateDirective, true, _angular_core__WEBPACK_IMPORTED_MODULE_0__["TemplateRef"]);

          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵcontentQuery"](dirIndex, NgLoadingTextTemplateDirective, true, _angular_core__WEBPACK_IMPORTED_MODULE_0__["TemplateRef"]);

          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵcontentQuery"](dirIndex, NgTagTemplateDirective, true, _angular_core__WEBPACK_IMPORTED_MODULE_0__["TemplateRef"]);

          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵcontentQuery"](dirIndex, NgLoadingSpinnerTemplateDirective, true, _angular_core__WEBPACK_IMPORTED_MODULE_0__["TemplateRef"]);

          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵcontentQuery"](dirIndex, NgOptionComponent, true);
        }

        if (rf & 2) {
          var _t;

          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.optionTemplate = _t.first);
          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.optgroupTemplate = _t.first);
          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.labelTemplate = _t.first);
          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.multiLabelTemplate = _t.first);
          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.headerTemplate = _t.first);
          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.footerTemplate = _t.first);
          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.notFoundTemplate = _t.first);
          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.typeToSearchTemplate = _t.first);
          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.loadingTextTemplate = _t.first);
          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.tagTemplate = _t.first);
          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.loadingSpinnerTemplate = _t.first);
          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.ngOptions = _t);
        }
      },
      viewQuery: function NgSelectComponent_Query(rf, ctx) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵviewQuery"](NgDropdownPanelComponent, true);

          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵstaticViewQuery"](_c5, true);
        }

        if (rf & 2) {
          var _t;

          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.dropdownPanel = _t.first);
          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.searchInput = _t.first);
        }
      },
      hostAttrs: ["role", "listbox"],
      hostVars: 20,
      hostBindings: function NgSelectComponent_HostBindings(rf, ctx) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("keydown", function NgSelectComponent_keydown_HostBindingHandler($event) {
            return ctx.handleKeyDown($event);
          });
        }

        if (rf & 2) {
          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassProp"]("ng-select", ctx.useDefaultClass)("ng-select-single", !ctx.multiple)("ng-select-multiple", ctx.multiple)("ng-select-taggable", ctx.addTag)("ng-select-searchable", ctx.searchable)("ng-select-clearable", ctx.clearable)("ng-select-opened", ctx.isOpen)("ng-select-disabled", ctx.disabled)("ng-select-filtered", ctx.filtered)("ng-select-typeahead", ctx.typeahead);
        }
      },
      inputs: {
        markFirst: "markFirst",
        dropdownPosition: "dropdownPosition",
        loading: "loading",
        closeOnSelect: "closeOnSelect",
        hideSelected: "hideSelected",
        selectOnTab: "selectOnTab",
        bufferAmount: "bufferAmount",
        selectableGroup: "selectableGroup",
        selectableGroupAsModel: "selectableGroupAsModel",
        searchFn: "searchFn",
        trackByFn: "trackByFn",
        clearOnBackspace: "clearOnBackspace",
        labelForId: "labelForId",
        inputAttrs: "inputAttrs",
        readonly: "readonly",
        searchWhileComposing: "searchWhileComposing",
        minTermLength: "minTermLength",
        editableSearchTerm: "editableSearchTerm",
        keyDownFn: "keyDownFn",
        multiple: "multiple",
        addTag: "addTag",
        searchable: "searchable",
        clearable: "clearable",
        isOpen: "isOpen",
        items: "items",
        compareWith: "compareWith",
        clearSearchOnAdd: "clearSearchOnAdd",
        bindLabel: "bindLabel",
        placeholder: "placeholder",
        notFoundText: "notFoundText",
        typeToSearchText: "typeToSearchText",
        addTagText: "addTagText",
        loadingText: "loadingText",
        clearAllText: "clearAllText",
        virtualScroll: "virtualScroll",
        openOnEnter: "openOnEnter",
        appendTo: "appendTo",
        bindValue: "bindValue",
        appearance: "appearance",
        maxSelectedItems: "maxSelectedItems",
        groupBy: "groupBy",
        groupValue: "groupValue",
        tabIndex: "tabIndex",
        typeahead: "typeahead"
      },
      outputs: {
        blurEvent: "blur",
        focusEvent: "focus",
        changeEvent: "change",
        openEvent: "open",
        closeEvent: "close",
        searchEvent: "search",
        clearEvent: "clear",
        addEvent: "add",
        removeEvent: "remove",
        scroll: "scroll",
        scrollToEnd: "scrollToEnd"
      },
      features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵProvidersFeature"]([{
        provide: _angular_forms__WEBPACK_IMPORTED_MODULE_1__["NG_VALUE_ACCESSOR"],
        useExisting: Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["forwardRef"])(
        /**
        * @return {?}
        */
        function () {
          return NgSelectComponent;
        }),
        multi: true
      }, NgDropdownPanelService]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]],
      decls: 14,
      vars: 18,
      consts: [[1, "ng-select-container", 3, "mousedown"], [1, "ng-value-container"], [1, "ng-placeholder"], [4, "ngIf"], [1, "ng-input"], ["role", "combobox", 3, "readOnly", "disabled", "value", "input", "compositionstart", "compositionend", "focus", "blur", "change"], ["searchInput", ""], ["class", "ng-clear-wrapper", 3, "title", 4, "ngIf"], [1, "ng-arrow-wrapper"], [1, "ng-arrow"], ["class", "ng-dropdown-panel", 3, "virtualScroll", "bufferAmount", "appendTo", "position", "headerTemplate", "footerTemplate", "filterValue", "items", "markedItem", "ng-select-multiple", "ngClass", "id", "update", "scroll", "scrollToEnd", "outsideClick", 4, "ngIf"], ["class", "ng-value", 3, "ng-value-disabled", 4, "ngFor", "ngForOf", "ngForTrackBy"], [1, "ng-value"], ["defaultLabelTemplate", ""], [3, "ngTemplateOutlet", "ngTemplateOutletContext"], ["aria-hidden", "true", 1, "ng-value-icon", "left", 3, "click"], [1, "ng-value-label", 3, "ngItemLabel", "escape"], ["defaultLoadingSpinnerTemplate", ""], [3, "ngTemplateOutlet"], [1, "ng-spinner-loader"], [1, "ng-clear-wrapper", 3, "title"], ["aria-hidden", "true", 1, "ng-clear"], [1, "ng-dropdown-panel", 3, "virtualScroll", "bufferAmount", "appendTo", "position", "headerTemplate", "footerTemplate", "filterValue", "items", "markedItem", "ngClass", "id", "update", "scroll", "scrollToEnd", "outsideClick"], ["class", "ng-option", 3, "ng-option-disabled", "ng-option-selected", "ng-optgroup", "ng-option", "ng-option-child", "ng-option-marked", "click", "mouseover", 4, "ngFor", "ngForOf", "ngForTrackBy"], ["class", "ng-option", "role", "option", 3, "ng-option-marked", "mouseover", "click", 4, "ngIf"], [1, "ng-option", 3, "click", "mouseover"], ["defaultOptionTemplate", ""], [1, "ng-option-label", 3, "ngItemLabel", "escape"], ["role", "option", 1, "ng-option", 3, "mouseover", "click"], ["defaultTagTemplate", ""], [1, "ng-tag-label"], ["defaultNotFoundTemplate", ""], [1, "ng-option", "ng-option-disabled"], ["defaultTypeToSearchTemplate", ""], ["defaultLoadingTextTemplate", ""]],
      template: function NgSelectComponent_Template(rf, ctx) {
        if (rf & 1) {
          var _r52 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();

          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);

          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("mousedown", function NgSelectComponent_Template_div_mousedown_0_listener($event) {
            return ctx.handleMousedown($event);
          });

          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 1);

          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 2);

          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3);

          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();

          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](4, NgSelectComponent_ng_container_4_Template, 2, 2, "ng-container", 3);

          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](5, NgSelectComponent_5_Template, 1, 5, undefined, 3);

          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](6, "div", 4);

          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](7, "input", 5, 6);

          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("input", function NgSelectComponent_Template_input_input_7_listener() {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r52);

            var _r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵreference"](8);

            return ctx.filter(_r2.value);
          })("compositionstart", function NgSelectComponent_Template_input_compositionstart_7_listener() {
            return ctx.onCompositionStart();
          })("compositionend", function NgSelectComponent_Template_input_compositionend_7_listener() {
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r52);

            var _r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵreference"](8);

            return ctx.onCompositionEnd(_r2.value);
          })("focus", function NgSelectComponent_Template_input_focus_7_listener($event) {
            return ctx.onInputFocus($event);
          })("blur", function NgSelectComponent_Template_input_blur_7_listener($event) {
            return ctx.onInputBlur($event);
          })("change", function NgSelectComponent_Template_input_change_7_listener($event) {
            return $event.stopPropagation();
          });

          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();

          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();

          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();

          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](9, NgSelectComponent_ng_container_9_Template, 4, 1, "ng-container", 3);

          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](10, NgSelectComponent_span_10_Template, 3, 1, "span", 7);

          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](11, "span", 8);

          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](12, "span", 9);

          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();

          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();

          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](13, NgSelectComponent_ng_dropdown_panel_13_Template, 7, 19, "ng-dropdown-panel", 10);
        }

        if (rf & 2) {
          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassProp"]("ng-appearance-outline", ctx.appearance === "outline")("ng-has-value", ctx.hasValue);

          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);

          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx.placeholder);

          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);

          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx.multiLabelTemplate && ctx.selectedItems.length > 0);

          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);

          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.multiLabelTemplate && ctx.selectedValues.length > 0);

          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);

          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("readOnly", !ctx.searchable || ctx.itemsList.maxItemsSelected)("disabled", ctx.disabled)("value", ctx.searchTerm ? ctx.searchTerm : "");

          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵattribute"]("id", ctx.labelForId)("tabindex", ctx.tabIndex)("aria-expanded", ctx.isOpen)("aria-owns", ctx.isOpen ? ctx.dropdownId : null)("aria-activedescendant", ctx.isOpen ? ctx.itemsList == null ? null : ctx.itemsList.markedItem == null ? null : ctx.itemsList.markedItem.htmlId : null);

          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);

          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.loading);

          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);

          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.showClear());

          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);

          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.isOpen);
        }
      },
      directives: [_angular_common__WEBPACK_IMPORTED_MODULE_4__["NgIf"], _angular_common__WEBPACK_IMPORTED_MODULE_4__["NgForOf"], _angular_common__WEBPACK_IMPORTED_MODULE_4__["NgTemplateOutlet"], NgItemLabelDirective, NgDropdownPanelComponent, _angular_common__WEBPACK_IMPORTED_MODULE_4__["NgClass"]],
      styles: [".ng-select{position:relative;display:block;box-sizing:border-box}.ng-select div,.ng-select input,.ng-select span{box-sizing:border-box}.ng-select [hidden]{display:none}.ng-select.ng-select-searchable .ng-select-container .ng-value-container .ng-input{opacity:1}.ng-select.ng-select-opened .ng-select-container{z-index:1001}.ng-select.ng-select-disabled .ng-select-container .ng-value-container .ng-placeholder,.ng-select.ng-select-disabled .ng-select-container .ng-value-container .ng-value{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.ng-select.ng-select-disabled .ng-arrow-wrapper{cursor:default}.ng-select.ng-select-filtered .ng-placeholder{display:none}.ng-select .ng-select-container{cursor:default;display:flex;outline:0;overflow:hidden;position:relative;width:100%}.ng-select .ng-select-container .ng-value-container{display:flex;flex:1}.ng-select .ng-select-container .ng-value-container .ng-input{opacity:0}.ng-select .ng-select-container .ng-value-container .ng-input>input{box-sizing:content-box;background:none;border:0;box-shadow:none;outline:0;cursor:default;width:100%}.ng-select .ng-select-container .ng-value-container .ng-input>input::-ms-clear{display:none}.ng-select .ng-select-container .ng-value-container .ng-input>input[readonly]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:0;padding:0}.ng-select.ng-select-single.ng-select-filtered .ng-select-container .ng-value-container .ng-value{visibility:hidden}.ng-select.ng-select-single .ng-select-container .ng-value-container,.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-input{position:absolute;left:0;width:100%}.ng-select.ng-select-multiple.ng-select-disabled>.ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}.ng-select.ng-select-multiple .ng-select-container .ng-value-container{flex-wrap:wrap}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value{white-space:nowrap}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value.ng-value-disabled .ng-value-icon{display:none}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value .ng-value-icon{cursor:pointer}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-input{flex:1;z-index:2}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{position:absolute;z-index:1}.ng-select .ng-clear-wrapper{cursor:pointer;position:relative;width:17px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ng-select .ng-clear-wrapper .ng-clear{display:inline-block;font-size:18px;line-height:1;pointer-events:none}.ng-select .ng-spinner-loader{border-radius:50%;width:17px;height:17px;margin-right:5px;font-size:10px;position:relative;text-indent:-9999em;border-top:2px solid rgba(66,66,66,.2);border-right:2px solid rgba(66,66,66,.2);border-bottom:2px solid rgba(66,66,66,.2);border-left:2px solid #424242;transform:translateZ(0);-webkit-animation:.8s linear infinite load8;animation:.8s linear infinite load8}.ng-select .ng-spinner-loader:after{border-radius:50%;width:17px;height:17px}@-webkit-keyframes load8{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes load8{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}.ng-select .ng-arrow-wrapper{cursor:pointer;position:relative;text-align:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ng-select .ng-arrow-wrapper .ng-arrow{pointer-events:none;display:inline-block;height:0;width:0;position:relative}.ng-dropdown-panel{box-sizing:border-box;position:absolute;opacity:0;width:100%;z-index:1050;-webkit-overflow-scrolling:touch}.ng-dropdown-panel .ng-dropdown-panel-items{display:block;height:auto;box-sizing:border-box;max-height:240px;overflow-y:auto}.ng-dropdown-panel .ng-dropdown-panel-items .ng-optgroup{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option{box-sizing:border-box;cursor:pointer;display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option .highlighted{font-weight:700;text-decoration:underline}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option.disabled{cursor:default}.ng-dropdown-panel .scroll-host{overflow:hidden;overflow-y:auto;position:relative;display:block;-webkit-overflow-scrolling:touch}.ng-dropdown-panel .scrollable-content{top:0;left:0;width:100%;height:100%;position:absolute}.ng-dropdown-panel .total-padding{width:1px;opacity:0}"],
      encapsulation: 2,
      changeDetection: 0
    });
    /** @nocollapse */

    NgSelectComponent.ctorParameters = function () {
      return [{
        type: String,
        decorators: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Attribute"],
          args: ['class']
        }]
      }, {
        type: undefined,
        decorators: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Attribute"],
          args: ['autofocus']
        }]
      }, {
        type: NgSelectConfig
      }, {
        type: undefined,
        decorators: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"],
          args: [SELECTION_MODEL_FACTORY]
        }]
      }, {
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"]
      }, {
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"]
      }, {
        type: ConsoleService
      }];
    };

    NgSelectComponent.propDecorators = {
      bindLabel: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
      }],
      bindValue: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
      }],
      markFirst: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
      }],
      placeholder: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
      }],
      notFoundText: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
      }],
      typeToSearchText: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
      }],
      addTagText: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
      }],
      loadingText: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
      }],
      clearAllText: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
      }],
      appearance: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
      }],
      dropdownPosition: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
      }],
      appendTo: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
      }],
      loading: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
      }],
      closeOnSelect: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
      }],
      hideSelected: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
      }],
      selectOnTab: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
      }],
      openOnEnter: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
      }],
      maxSelectedItems: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
      }],
      groupBy: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
      }],
      groupValue: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
      }],
      bufferAmount: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
      }],
      virtualScroll: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
      }],
      selectableGroup: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
      }],
      selectableGroupAsModel: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
      }],
      searchFn: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
      }],
      trackByFn: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
      }],
      clearOnBackspace: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
      }],
      labelForId: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
      }],
      inputAttrs: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
      }],
      tabIndex: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
      }],
      readonly: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
      }],
      searchWhileComposing: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
      }],
      minTermLength: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
      }],
      editableSearchTerm: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
      }],
      keyDownFn: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
      }],
      typeahead: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
      }, {
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["HostBinding"],
        args: ['class.ng-select-typeahead']
      }],
      multiple: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
      }, {
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["HostBinding"],
        args: ['class.ng-select-multiple']
      }],
      addTag: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
      }, {
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["HostBinding"],
        args: ['class.ng-select-taggable']
      }],
      searchable: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
      }, {
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["HostBinding"],
        args: ['class.ng-select-searchable']
      }],
      clearable: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
      }, {
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["HostBinding"],
        args: ['class.ng-select-clearable']
      }],
      isOpen: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
      }, {
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["HostBinding"],
        args: ['class.ng-select-opened']
      }],
      items: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
      }],
      compareWith: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
      }],
      clearSearchOnAdd: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
      }],
      blurEvent: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"],
        args: ['blur']
      }],
      focusEvent: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"],
        args: ['focus']
      }],
      changeEvent: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"],
        args: ['change']
      }],
      openEvent: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"],
        args: ['open']
      }],
      closeEvent: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"],
        args: ['close']
      }],
      searchEvent: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"],
        args: ['search']
      }],
      clearEvent: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"],
        args: ['clear']
      }],
      addEvent: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"],
        args: ['add']
      }],
      removeEvent: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"],
        args: ['remove']
      }],
      scroll: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"],
        args: ['scroll']
      }],
      scrollToEnd: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"],
        args: ['scrollToEnd']
      }],
      optionTemplate: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ContentChild"],
        args: [NgOptionTemplateDirective, {
          read: _angular_core__WEBPACK_IMPORTED_MODULE_0__["TemplateRef"]
        }]
      }],
      optgroupTemplate: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ContentChild"],
        args: [NgOptgroupTemplateDirective, {
          read: _angular_core__WEBPACK_IMPORTED_MODULE_0__["TemplateRef"]
        }]
      }],
      labelTemplate: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ContentChild"],
        args: [NgLabelTemplateDirective, {
          read: _angular_core__WEBPACK_IMPORTED_MODULE_0__["TemplateRef"]
        }]
      }],
      multiLabelTemplate: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ContentChild"],
        args: [NgMultiLabelTemplateDirective, {
          read: _angular_core__WEBPACK_IMPORTED_MODULE_0__["TemplateRef"]
        }]
      }],
      headerTemplate: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ContentChild"],
        args: [NgHeaderTemplateDirective, {
          read: _angular_core__WEBPACK_IMPORTED_MODULE_0__["TemplateRef"]
        }]
      }],
      footerTemplate: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ContentChild"],
        args: [NgFooterTemplateDirective, {
          read: _angular_core__WEBPACK_IMPORTED_MODULE_0__["TemplateRef"]
        }]
      }],
      notFoundTemplate: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ContentChild"],
        args: [NgNotFoundTemplateDirective, {
          read: _angular_core__WEBPACK_IMPORTED_MODULE_0__["TemplateRef"]
        }]
      }],
      typeToSearchTemplate: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ContentChild"],
        args: [NgTypeToSearchTemplateDirective, {
          read: _angular_core__WEBPACK_IMPORTED_MODULE_0__["TemplateRef"]
        }]
      }],
      loadingTextTemplate: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ContentChild"],
        args: [NgLoadingTextTemplateDirective, {
          read: _angular_core__WEBPACK_IMPORTED_MODULE_0__["TemplateRef"]
        }]
      }],
      tagTemplate: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ContentChild"],
        args: [NgTagTemplateDirective, {
          read: _angular_core__WEBPACK_IMPORTED_MODULE_0__["TemplateRef"]
        }]
      }],
      loadingSpinnerTemplate: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ContentChild"],
        args: [NgLoadingSpinnerTemplateDirective, {
          read: _angular_core__WEBPACK_IMPORTED_MODULE_0__["TemplateRef"]
        }]
      }],
      dropdownPanel: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"],
        args: [Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["forwardRef"])(
        /**
        * @return {?}
        */
        function () {
          return NgDropdownPanelComponent;
        })]
      }],
      searchInput: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"],
        args: ['searchInput', {
          "static": true
        }]
      }],
      ngOptions: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ContentChildren"],
        args: [NgOptionComponent, {
          descendants: true
        }]
      }],
      disabled: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["HostBinding"],
        args: ['class.ng-select-disabled']
      }],
      filtered: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["HostBinding"],
        args: ['class.ng-select-filtered']
      }],
      handleKeyDown: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["HostListener"],
        args: ['keydown', ['$event']]
      }]
    };
    /*@__PURE__*/

    (function () {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](NgSelectComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
          selector: 'ng-select',
          template: "<div\n    (mousedown)=\"handleMousedown($event)\"\n    [class.ng-appearance-outline]=\"appearance === 'outline'\"\n    [class.ng-has-value]=\"hasValue\"\n    class=\"ng-select-container\">\n\n    <div class=\"ng-value-container\">\n        <div class=\"ng-placeholder\">{{placeholder}}</div>\n\n        <ng-container *ngIf=\"!multiLabelTemplate && selectedItems.length > 0\">\n            <div [class.ng-value-disabled]=\"item.disabled\" class=\"ng-value\" *ngFor=\"let item of selectedItems; trackBy: trackByOption\">\n                <ng-template #defaultLabelTemplate>\n                    <span class=\"ng-value-icon left\" (click)=\"unselect(item);\" aria-hidden=\"true\">\xD7</span>\n                    <span class=\"ng-value-label\" [ngItemLabel]=\"item.label\" [escape]=\"escapeHTML\"></span>\n                </ng-template>\n\n                <ng-template\n                    [ngTemplateOutlet]=\"labelTemplate || defaultLabelTemplate\"\n                    [ngTemplateOutletContext]=\"{ item: item.value, clear: clearItem, label: item.label }\">\n                </ng-template>\n            </div>\n        </ng-container>\n\n        <ng-template *ngIf=\"multiLabelTemplate && selectedValues.length > 0\"\n                [ngTemplateOutlet]=\"multiLabelTemplate\"\n                [ngTemplateOutletContext]=\"{ items: selectedValues, clear: clearItem }\">\n        </ng-template>\n\n        <div class=\"ng-input\">\n            <input #searchInput\n                   [attr.id]=\"labelForId\"\n                   [attr.tabindex]=\"tabIndex\"\n                   [readOnly]=\"!searchable || itemsList.maxItemsSelected\"\n                   [disabled]=\"disabled\"\n                   [value]=\"searchTerm ? searchTerm : ''\"\n                   (input)=\"filter(searchInput.value)\"\n                   (compositionstart)=\"onCompositionStart()\"\n                   (compositionend)=\"onCompositionEnd(searchInput.value)\"\n                   (focus)=\"onInputFocus($event)\"\n                   (blur)=\"onInputBlur($event)\"\n                   (change)=\"$event.stopPropagation()\"\n                   role=\"combobox\"\n                   [attr.aria-expanded]=\"isOpen\"\n                   [attr.aria-owns]=\"isOpen ? dropdownId : null\"\n                   [attr.aria-activedescendant]=\"isOpen ? itemsList?.markedItem?.htmlId : null\">\n        </div>\n    </div>\n\n    <ng-container *ngIf=\"loading\">\n        <ng-template #defaultLoadingSpinnerTemplate>\n            <div class=\"ng-spinner-loader\"></div>\n        </ng-template>\n\n        <ng-template\n            [ngTemplateOutlet]=\"loadingSpinnerTemplate || defaultLoadingSpinnerTemplate\">\n        </ng-template>\n    </ng-container>\n\n    <span *ngIf=\"showClear()\" class=\"ng-clear-wrapper\" title=\"{{clearAllText}}\">\n        <span class=\"ng-clear\" aria-hidden=\"true\">\xD7</span>\n    </span>\n\n    <span class=\"ng-arrow-wrapper\">\n        <span class=\"ng-arrow\"></span>\n    </span>\n</div>\n\n<ng-dropdown-panel *ngIf=\"isOpen\"\n                   class=\"ng-dropdown-panel\"\n                   [virtualScroll]=\"virtualScroll\"\n                   [bufferAmount]=\"bufferAmount\"\n                   [appendTo]=\"appendTo\"\n                   [position]=\"dropdownPosition\"\n                   [headerTemplate]=\"headerTemplate\"\n                   [footerTemplate]=\"footerTemplate\"\n                   [filterValue]=\"searchTerm\"\n                   [items]=\"itemsList.filteredItems\"\n                   [markedItem]=\"itemsList.markedItem\"\n                   (update)=\"viewPortItems = $event\"\n                   (scroll)=\"scroll.emit($event)\"\n                   (scrollToEnd)=\"scrollToEnd.emit($event)\"\n                   (outsideClick)=\"close()\"\n                   [class.ng-select-multiple]=\"multiple\"\n                   [ngClass]=\"appendTo ? classes : null\"\n                   [id]=\"dropdownId\">\n\n    <ng-container>\n        <div class=\"ng-option\" [attr.role]=\"item.children ? 'group' : 'option'\" (click)=\"toggleItem(item)\" (mouseover)=\"onItemHover(item)\"\n                *ngFor=\"let item of viewPortItems; trackBy: trackByOption\"\n                [class.ng-option-disabled]=\"item.disabled\"\n                [class.ng-option-selected]=\"item.selected\"\n                [class.ng-optgroup]=\"item.children\"\n                [class.ng-option]=\"!item.children\"\n                [class.ng-option-child]=\"!!item.parent\"\n                [class.ng-option-marked]=\"item === itemsList.markedItem\"\n                [attr.aria-selected]=\"item.selected\"\n                [attr.id]=\"item?.htmlId\">\n\n            <ng-template #defaultOptionTemplate>\n                <span class=\"ng-option-label\" [ngItemLabel]=\"item.label\" [escape]=\"escapeHTML\"></span>\n            </ng-template>\n\n            <ng-template\n                [ngTemplateOutlet]=\"item.children ? (optgroupTemplate || defaultOptionTemplate) : (optionTemplate || defaultOptionTemplate)\"\n                [ngTemplateOutletContext]=\"{ item: item.value, item$:item, index: item.index, searchTerm: searchTerm }\">\n            </ng-template>\n        </div>\n\n        <div class=\"ng-option\" [class.ng-option-marked]=\"!itemsList.markedItem\" (mouseover)=\"itemsList.unmarkItem()\" role=\"option\" (click)=\"selectTag()\" *ngIf=\"showAddTag\">\n            <ng-template #defaultTagTemplate>\n                <span><span class=\"ng-tag-label\">{{addTagText}}</span>\"{{searchTerm}}\"</span>\n            </ng-template>\n\n            <ng-template\n                [ngTemplateOutlet]=\"tagTemplate || defaultTagTemplate\"\n                [ngTemplateOutletContext]=\"{ searchTerm: searchTerm }\">\n            </ng-template>\n        </div>\n    </ng-container>\n\n    <ng-container *ngIf=\"showNoItemsFound()\">\n        <ng-template #defaultNotFoundTemplate>\n            <div class=\"ng-option ng-option-disabled\">{{notFoundText}}</div>\n        </ng-template>\n\n        <ng-template\n            [ngTemplateOutlet]=\"notFoundTemplate || defaultNotFoundTemplate\"\n            [ngTemplateOutletContext]=\"{ searchTerm: searchTerm }\">\n        </ng-template>\n    </ng-container>\n\n    <ng-container *ngIf=\"showTypeToSearch()\">\n        <ng-template #defaultTypeToSearchTemplate>\n            <div class=\"ng-option ng-option-disabled\">{{typeToSearchText}}</div>\n        </ng-template>\n\n        <ng-template\n            [ngTemplateOutlet]=\"typeToSearchTemplate || defaultTypeToSearchTemplate\">\n        </ng-template>\n    </ng-container>\n\n    <ng-container *ngIf=\"loading && itemsList.filteredItems.length === 0\">\n        <ng-template #defaultLoadingTextTemplate>\n            <div class=\"ng-option ng-option-disabled\">{{loadingText}}</div>\n        </ng-template>\n\n        <ng-template\n            [ngTemplateOutlet]=\"loadingTextTemplate || defaultLoadingTextTemplate\"\n            [ngTemplateOutletContext]=\"{ searchTerm: searchTerm }\">\n        </ng-template>\n    </ng-container>\n\n</ng-dropdown-panel>\n",
          providers: [{
            provide: _angular_forms__WEBPACK_IMPORTED_MODULE_1__["NG_VALUE_ACCESSOR"],
            useExisting: Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["forwardRef"])(
            /**
            * @return {?}
            */
            function () {
              return NgSelectComponent;
            }),
            multi: true
          }, NgDropdownPanelService],
          encapsulation: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewEncapsulation"].None,
          changeDetection: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectionStrategy"].OnPush,
          host: {
            'role': 'listbox',
            '[class.ng-select]': 'useDefaultClass',
            '[class.ng-select-single]': '!multiple'
          },
          styles: [".ng-select{position:relative;display:block;box-sizing:border-box}.ng-select div,.ng-select input,.ng-select span{box-sizing:border-box}.ng-select [hidden]{display:none}.ng-select.ng-select-searchable .ng-select-container .ng-value-container .ng-input{opacity:1}.ng-select.ng-select-opened .ng-select-container{z-index:1001}.ng-select.ng-select-disabled .ng-select-container .ng-value-container .ng-placeholder,.ng-select.ng-select-disabled .ng-select-container .ng-value-container .ng-value{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.ng-select.ng-select-disabled .ng-arrow-wrapper{cursor:default}.ng-select.ng-select-filtered .ng-placeholder{display:none}.ng-select .ng-select-container{cursor:default;display:flex;outline:0;overflow:hidden;position:relative;width:100%}.ng-select .ng-select-container .ng-value-container{display:flex;flex:1}.ng-select .ng-select-container .ng-value-container .ng-input{opacity:0}.ng-select .ng-select-container .ng-value-container .ng-input>input{box-sizing:content-box;background:none;border:0;box-shadow:none;outline:0;cursor:default;width:100%}.ng-select .ng-select-container .ng-value-container .ng-input>input::-ms-clear{display:none}.ng-select .ng-select-container .ng-value-container .ng-input>input[readonly]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:0;padding:0}.ng-select.ng-select-single.ng-select-filtered .ng-select-container .ng-value-container .ng-value{visibility:hidden}.ng-select.ng-select-single .ng-select-container .ng-value-container,.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-input{position:absolute;left:0;width:100%}.ng-select.ng-select-multiple.ng-select-disabled>.ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}.ng-select.ng-select-multiple .ng-select-container .ng-value-container{flex-wrap:wrap}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value{white-space:nowrap}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value.ng-value-disabled .ng-value-icon{display:none}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value .ng-value-icon{cursor:pointer}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-input{flex:1;z-index:2}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{position:absolute;z-index:1}.ng-select .ng-clear-wrapper{cursor:pointer;position:relative;width:17px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ng-select .ng-clear-wrapper .ng-clear{display:inline-block;font-size:18px;line-height:1;pointer-events:none}.ng-select .ng-spinner-loader{border-radius:50%;width:17px;height:17px;margin-right:5px;font-size:10px;position:relative;text-indent:-9999em;border-top:2px solid rgba(66,66,66,.2);border-right:2px solid rgba(66,66,66,.2);border-bottom:2px solid rgba(66,66,66,.2);border-left:2px solid #424242;transform:translateZ(0);-webkit-animation:.8s linear infinite load8;animation:.8s linear infinite load8}.ng-select .ng-spinner-loader:after{border-radius:50%;width:17px;height:17px}@-webkit-keyframes load8{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes load8{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}.ng-select .ng-arrow-wrapper{cursor:pointer;position:relative;text-align:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ng-select .ng-arrow-wrapper .ng-arrow{pointer-events:none;display:inline-block;height:0;width:0;position:relative}.ng-dropdown-panel{box-sizing:border-box;position:absolute;opacity:0;width:100%;z-index:1050;-webkit-overflow-scrolling:touch}.ng-dropdown-panel .ng-dropdown-panel-items{display:block;height:auto;box-sizing:border-box;max-height:240px;overflow-y:auto}.ng-dropdown-panel .ng-dropdown-panel-items .ng-optgroup{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option{box-sizing:border-box;cursor:pointer;display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option .highlighted{font-weight:700;text-decoration:underline}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option.disabled{cursor:default}.ng-dropdown-panel .scroll-host{overflow:hidden;overflow-y:auto;position:relative;display:block;-webkit-overflow-scrolling:touch}.ng-dropdown-panel .scrollable-content{top:0;left:0;width:100%;height:100%;position:absolute}.ng-dropdown-panel .total-padding{width:1px;opacity:0}"]
        }]
      }], function () {
        return [{
          type: String,
          decorators: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Attribute"],
            args: ['class']
          }]
        }, {
          type: undefined,
          decorators: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Attribute"],
            args: ['autofocus']
          }]
        }, {
          type: NgSelectConfig
        }, {
          type: undefined,
          decorators: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"],
            args: [SELECTION_MODEL_FACTORY]
          }]
        }, {
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"]
        }, {
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"]
        }, {
          type: ConsoleService
        }];
      }, {
        markFirst: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }],
        dropdownPosition: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }],
        loading: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }],
        closeOnSelect: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }],
        hideSelected: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }],
        selectOnTab: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }],
        bufferAmount: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }],
        selectableGroup: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }],
        selectableGroupAsModel: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }],
        searchFn: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }],
        trackByFn: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }],
        clearOnBackspace: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }],
        labelForId: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }],
        inputAttrs: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }],
        readonly: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }],
        searchWhileComposing: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }],
        minTermLength: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }],
        editableSearchTerm: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }],
        keyDownFn: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }],
        multiple: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }, {
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["HostBinding"],
          args: ['class.ng-select-multiple']
        }],
        addTag: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }, {
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["HostBinding"],
          args: ['class.ng-select-taggable']
        }],
        searchable: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }, {
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["HostBinding"],
          args: ['class.ng-select-searchable']
        }],
        clearable: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }, {
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["HostBinding"],
          args: ['class.ng-select-clearable']
        }],
        isOpen: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }, {
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["HostBinding"],
          args: ['class.ng-select-opened']
        }],
        blurEvent: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"],
          args: ['blur']
        }],
        focusEvent: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"],
          args: ['focus']
        }],
        changeEvent: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"],
          args: ['change']
        }],
        openEvent: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"],
          args: ['open']
        }],
        closeEvent: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"],
          args: ['close']
        }],
        searchEvent: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"],
          args: ['search']
        }],
        clearEvent: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"],
          args: ['clear']
        }],
        addEvent: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"],
          args: ['add']
        }],
        removeEvent: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"],
          args: ['remove']
        }],
        scroll: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"],
          args: ['scroll']
        }],
        scrollToEnd: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"],
          args: ['scrollToEnd']
        }],
        items: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }],
        compareWith: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }],
        clearSearchOnAdd: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }],
        disabled: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["HostBinding"],
          args: ['class.ng-select-disabled']
        }],
        filtered: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["HostBinding"],
          args: ['class.ng-select-filtered']
        }],
        handleKeyDown: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["HostListener"],
          args: ['keydown', ['$event']]
        }],
        bindLabel: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }],
        placeholder: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }],
        notFoundText: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }],
        typeToSearchText: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }],
        addTagText: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }],
        loadingText: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }],
        clearAllText: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }],
        virtualScroll: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }],
        openOnEnter: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }],
        appendTo: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }],
        bindValue: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }],
        appearance: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }],
        maxSelectedItems: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }],
        groupBy: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }],
        groupValue: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }],
        tabIndex: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }],
        typeahead: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }, {
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["HostBinding"],
          args: ['class.ng-select-typeahead']
        }],
        optionTemplate: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ContentChild"],
          args: [NgOptionTemplateDirective, {
            read: _angular_core__WEBPACK_IMPORTED_MODULE_0__["TemplateRef"]
          }]
        }],
        optgroupTemplate: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ContentChild"],
          args: [NgOptgroupTemplateDirective, {
            read: _angular_core__WEBPACK_IMPORTED_MODULE_0__["TemplateRef"]
          }]
        }],
        labelTemplate: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ContentChild"],
          args: [NgLabelTemplateDirective, {
            read: _angular_core__WEBPACK_IMPORTED_MODULE_0__["TemplateRef"]
          }]
        }],
        multiLabelTemplate: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ContentChild"],
          args: [NgMultiLabelTemplateDirective, {
            read: _angular_core__WEBPACK_IMPORTED_MODULE_0__["TemplateRef"]
          }]
        }],
        headerTemplate: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ContentChild"],
          args: [NgHeaderTemplateDirective, {
            read: _angular_core__WEBPACK_IMPORTED_MODULE_0__["TemplateRef"]
          }]
        }],
        footerTemplate: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ContentChild"],
          args: [NgFooterTemplateDirective, {
            read: _angular_core__WEBPACK_IMPORTED_MODULE_0__["TemplateRef"]
          }]
        }],
        notFoundTemplate: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ContentChild"],
          args: [NgNotFoundTemplateDirective, {
            read: _angular_core__WEBPACK_IMPORTED_MODULE_0__["TemplateRef"]
          }]
        }],
        typeToSearchTemplate: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ContentChild"],
          args: [NgTypeToSearchTemplateDirective, {
            read: _angular_core__WEBPACK_IMPORTED_MODULE_0__["TemplateRef"]
          }]
        }],
        loadingTextTemplate: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ContentChild"],
          args: [NgLoadingTextTemplateDirective, {
            read: _angular_core__WEBPACK_IMPORTED_MODULE_0__["TemplateRef"]
          }]
        }],
        tagTemplate: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ContentChild"],
          args: [NgTagTemplateDirective, {
            read: _angular_core__WEBPACK_IMPORTED_MODULE_0__["TemplateRef"]
          }]
        }],
        loadingSpinnerTemplate: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ContentChild"],
          args: [NgLoadingSpinnerTemplateDirective, {
            read: _angular_core__WEBPACK_IMPORTED_MODULE_0__["TemplateRef"]
          }]
        }],
        dropdownPanel: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"],
          args: [Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["forwardRef"])(
          /**
          * @return {?}
          */
          function () {
            return NgDropdownPanelComponent;
          })]
        }],
        searchInput: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"],
          args: ['searchInput', {
            "static": true
          }]
        }],
        ngOptions: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ContentChildren"],
          args: [NgOptionComponent, {
            descendants: true
          }]
        }]
      });
    })();

    if (false) {}
    /**
     * @fileoverview added by tsickle
     * Generated from: lib/selection-model.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */

    /**
     * @return {?}
     */


    function DefaultSelectionModelFactory() {
      return new DefaultSelectionModel();
    }
    /**
     * @record
     */


    function SelectionModel() {}

    if (false) {}

    var DefaultSelectionModel = /*#__PURE__*/function () {
      function DefaultSelectionModel() {
        _classCallCheck(this, DefaultSelectionModel);

        this._selected = [];
      }
      /**
       * @return {?}
       */


      _createClass(DefaultSelectionModel, [{
        key: "select",

        /**
         * @param {?} item
         * @param {?} multiple
         * @param {?} groupAsModel
         * @return {?}
         */
        value: function select(item, multiple, groupAsModel) {
          item.selected = true;

          if (!item.children || !multiple && groupAsModel) {
            this._selected.push(item);
          }

          if (multiple) {
            if (item.parent) {
              /** @type {?} */
              var childrenCount = item.parent.children.length;
              /** @type {?} */

              var selectedCount = item.parent.children.filter(
              /**
              * @param {?} x
              * @return {?}
              */
              function (x) {
                return x.selected;
              }).length;
              item.parent.selected = childrenCount === selectedCount;
            } else if (item.children) {
              this._setChildrenSelectedState(item.children, true);

              this._removeChildren(item);

              if (groupAsModel && this._activeChildren(item)) {
                this._selected = [].concat(_toConsumableArray(this._selected.filter(
                /**
                * @param {?} x
                * @return {?}
                */
                function (x) {
                  return x.parent !== item;
                })), [item]);
              } else {
                this._selected = [].concat(_toConsumableArray(this._selected), _toConsumableArray(item.children.filter(
                /**
                * @param {?} x
                * @return {?}
                */
                function (x) {
                  return !x.disabled;
                })));
              }
            }
          }
        }
        /**
         * @param {?} item
         * @param {?} multiple
         * @return {?}
         */

      }, {
        key: "unselect",
        value: function unselect(item, multiple) {
          this._selected = this._selected.filter(
          /**
          * @param {?} x
          * @return {?}
          */
          function (x) {
            return x !== item;
          });
          item.selected = false;

          if (multiple) {
            if (item.parent && item.parent.selected) {
              var _this$_selected;

              /** @type {?} */
              var children = item.parent.children;

              this._removeParent(item.parent);

              this._removeChildren(item.parent);

              (_this$_selected = this._selected).push.apply(_this$_selected, _toConsumableArray(children.filter(
              /**
              * @param {?} x
              * @return {?}
              */
              function (x) {
                return x !== item && !x.disabled;
              })));

              item.parent.selected = false;
            } else if (item.children) {
              this._setChildrenSelectedState(item.children, false);

              this._removeChildren(item);
            }
          }
        }
        /**
         * @param {?} keepDisabled
         * @return {?}
         */

      }, {
        key: "clear",
        value: function clear(keepDisabled) {
          this._selected = keepDisabled ? this._selected.filter(
          /**
          * @param {?} x
          * @return {?}
          */
          function (x) {
            return x.disabled;
          }) : [];
        }
        /**
         * @private
         * @param {?} children
         * @param {?} selected
         * @return {?}
         */

      }, {
        key: "_setChildrenSelectedState",
        value: function _setChildrenSelectedState(children, selected) {
          var _iterator7 = _createForOfIteratorHelper(children),
              _step7;

          try {
            for (_iterator7.s(); !(_step7 = _iterator7.n()).done;) {
              var child = _step7.value;

              if (child.disabled) {
                continue;
              }

              child.selected = selected;
            }
          } catch (err) {
            _iterator7.e(err);
          } finally {
            _iterator7.f();
          }

          ;
        }
        /**
         * @private
         * @param {?} parent
         * @return {?}
         */

      }, {
        key: "_removeChildren",
        value: function _removeChildren(parent) {
          this._selected = [].concat(_toConsumableArray(this._selected.filter(
          /**
          * @param {?} x
          * @return {?}
          */
          function (x) {
            return x.parent !== parent;
          })), _toConsumableArray(parent.children.filter(
          /**
          * @param {?} x
          * @return {?}
          */
          function (x) {
            return x.parent === parent && x.disabled && x.selected;
          })));
        }
        /**
         * @private
         * @param {?} parent
         * @return {?}
         */

      }, {
        key: "_removeParent",
        value: function _removeParent(parent) {
          this._selected = this._selected.filter(
          /**
          * @param {?} x
          * @return {?}
          */
          function (x) {
            return x !== parent;
          });
        }
        /**
         * @private
         * @param {?} item
         * @return {?}
         */

      }, {
        key: "_activeChildren",
        value: function _activeChildren(item) {
          return item.children.every(
          /**
          * @param {?} x
          * @return {?}
          */
          function (x) {
            return !x.disabled || x.selected;
          });
        }
      }, {
        key: "value",
        get: function get() {
          return this._selected;
        }
      }]);

      return DefaultSelectionModel;
    }();

    if (false) {}
    /**
     * @fileoverview added by tsickle
     * Generated from: lib/ng-select.module.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */


    var ɵ0 = DefaultSelectionModelFactory;

    var NgSelectModule = function NgSelectModule() {
      _classCallCheck(this, NgSelectModule);
    };

    NgSelectModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({
      type: NgSelectModule
    });
    NgSelectModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({
      factory: function NgSelectModule_Factory(t) {
        return new (t || NgSelectModule)();
      },
      providers: [{
        provide: SELECTION_MODEL_FACTORY,
        useValue: ɵ0
      }],
      imports: [[_angular_common__WEBPACK_IMPORTED_MODULE_4__["CommonModule"]]]
    });

    (function () {
      (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsetNgModuleScope"](NgSelectModule, {
        declarations: function declarations() {
          return [NgDropdownPanelComponent, NgOptionComponent, NgSelectComponent, NgOptgroupTemplateDirective, NgOptionTemplateDirective, NgLabelTemplateDirective, NgMultiLabelTemplateDirective, NgHeaderTemplateDirective, NgFooterTemplateDirective, NgNotFoundTemplateDirective, NgTypeToSearchTemplateDirective, NgLoadingTextTemplateDirective, NgTagTemplateDirective, NgLoadingSpinnerTemplateDirective, NgItemLabelDirective];
        },
        imports: function imports() {
          return [_angular_common__WEBPACK_IMPORTED_MODULE_4__["CommonModule"]];
        },
        exports: function exports() {
          return [NgSelectComponent, NgOptionComponent, NgOptgroupTemplateDirective, NgOptionTemplateDirective, NgLabelTemplateDirective, NgMultiLabelTemplateDirective, NgHeaderTemplateDirective, NgFooterTemplateDirective, NgNotFoundTemplateDirective, NgTypeToSearchTemplateDirective, NgLoadingTextTemplateDirective, NgTagTemplateDirective, NgLoadingSpinnerTemplateDirective];
        }
      });
    })();
    /*@__PURE__*/


    (function () {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](NgSelectModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"],
        args: [{
          declarations: [NgDropdownPanelComponent, NgOptionComponent, NgSelectComponent, NgOptgroupTemplateDirective, NgOptionTemplateDirective, NgLabelTemplateDirective, NgMultiLabelTemplateDirective, NgHeaderTemplateDirective, NgFooterTemplateDirective, NgNotFoundTemplateDirective, NgTypeToSearchTemplateDirective, NgLoadingTextTemplateDirective, NgTagTemplateDirective, NgLoadingSpinnerTemplateDirective, NgItemLabelDirective],
          imports: [_angular_common__WEBPACK_IMPORTED_MODULE_4__["CommonModule"]],
          exports: [NgSelectComponent, NgOptionComponent, NgOptgroupTemplateDirective, NgOptionTemplateDirective, NgLabelTemplateDirective, NgMultiLabelTemplateDirective, NgHeaderTemplateDirective, NgFooterTemplateDirective, NgNotFoundTemplateDirective, NgTypeToSearchTemplateDirective, NgLoadingTextTemplateDirective, NgTagTemplateDirective, NgLoadingSpinnerTemplateDirective],
          providers: [{
            provide: SELECTION_MODEL_FACTORY,
            useValue: ɵ0
          }]
        }]
      }], null, null);
    })();
    /**
     * @fileoverview added by tsickle
     * Generated from: public-api.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * Generated from: ng-select-ng-select.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    //# sourceMappingURL=ng-select-ng-select.js.map

    /***/

  },

  /***/
  "./node_modules/angular2-tinymce/__ivy_ngcc__/fesm2015/angular2-tinymce.js":
  /*!*********************************************************************************!*\
    !*** ./node_modules/angular2-tinymce/__ivy_ngcc__/fesm2015/angular2-tinymce.js ***!
    \*********************************************************************************/

  /*! exports provided: Angular2TinymceLibService, TinymceComponent, TinymceModule, ɵb */

  /***/
  function node_modulesAngular2Tinymce__ivy_ngcc__Fesm2015Angular2TinymceJs(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "Angular2TinymceLibService", function () {
      return Angular2TinymceLibService;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "TinymceComponent", function () {
      return TinymceComponent;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "TinymceModule", function () {
      return TinymceModule;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "ɵb", function () {
      return TinymceDefaultOptions;
    });
    /* harmony import */


    var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
    /*! @angular/core */
    "./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");
    /* harmony import */


    var _angular_forms__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(
    /*! @angular/forms */
    "./node_modules/@angular/forms/__ivy_ngcc__/fesm2015/forms.js");
    /* harmony import */


    var tinymce_tinymce_min__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(
    /*! tinymce/tinymce.min */
    "./node_modules/tinymce/tinymce.min.js");
    /* harmony import */


    var tinymce_tinymce_min__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(tinymce_tinymce_min__WEBPACK_IMPORTED_MODULE_2__);
    /* harmony import */


    var tinymce_themes_modern_theme__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(
    /*! tinymce/themes/modern/theme */
    "./node_modules/tinymce/themes/modern/theme.js");
    /* harmony import */


    var tinymce_themes_modern_theme__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(tinymce_themes_modern_theme__WEBPACK_IMPORTED_MODULE_3__);
    /* harmony import */


    var tinymce_plugins_link_plugin_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(
    /*! tinymce/plugins/link/plugin.js */
    "./node_modules/tinymce/plugins/link/plugin.js");
    /* harmony import */


    var tinymce_plugins_link_plugin_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(tinymce_plugins_link_plugin_js__WEBPACK_IMPORTED_MODULE_4__);
    /* harmony import */


    var tinymce_plugins_paste_plugin_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(
    /*! tinymce/plugins/paste/plugin.js */
    "./node_modules/tinymce/plugins/paste/plugin.js");
    /* harmony import */


    var tinymce_plugins_paste_plugin_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(tinymce_plugins_paste_plugin_js__WEBPACK_IMPORTED_MODULE_5__);
    /* harmony import */


    var tinymce_plugins_table_plugin_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(
    /*! tinymce/plugins/table/plugin.js */
    "./node_modules/tinymce/plugins/table/plugin.js");
    /* harmony import */


    var tinymce_plugins_table_plugin_js__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(tinymce_plugins_table_plugin_js__WEBPACK_IMPORTED_MODULE_6__);
    /* harmony import */


    var tinymce_plugins_advlist_plugin_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(
    /*! tinymce/plugins/advlist/plugin.js */
    "./node_modules/tinymce/plugins/advlist/plugin.js");
    /* harmony import */


    var tinymce_plugins_advlist_plugin_js__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(tinymce_plugins_advlist_plugin_js__WEBPACK_IMPORTED_MODULE_7__);
    /* harmony import */


    var tinymce_plugins_autoresize_plugin_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(
    /*! tinymce/plugins/autoresize/plugin.js */
    "./node_modules/tinymce/plugins/autoresize/plugin.js");
    /* harmony import */


    var tinymce_plugins_autoresize_plugin_js__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(tinymce_plugins_autoresize_plugin_js__WEBPACK_IMPORTED_MODULE_8__);
    /* harmony import */


    var tinymce_plugins_lists_plugin_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(
    /*! tinymce/plugins/lists/plugin.js */
    "./node_modules/tinymce/plugins/lists/plugin.js");
    /* harmony import */


    var tinymce_plugins_lists_plugin_js__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(tinymce_plugins_lists_plugin_js__WEBPACK_IMPORTED_MODULE_9__);
    /* harmony import */


    var tinymce_plugins_code_plugin_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(
    /*! tinymce/plugins/code/plugin.js */
    "./node_modules/tinymce/plugins/code/plugin.js");
    /* harmony import */


    var tinymce_plugins_code_plugin_js__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(tinymce_plugins_code_plugin_js__WEBPACK_IMPORTED_MODULE_10__);
    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */


    var Angular2TinymceLibService = function Angular2TinymceLibService() {
      _classCallCheck(this, Angular2TinymceLibService);
    };

    Angular2TinymceLibService.ɵfac = function Angular2TinymceLibService_Factory(t) {
      return new (t || Angular2TinymceLibService)();
    };

    Angular2TinymceLibService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({
      token: Angular2TinymceLibService,
      factory: Angular2TinymceLibService.ɵfac,
      providedIn: 'root'
    });
    /** @nocollapse */

    Angular2TinymceLibService.ctorParameters = function () {
      return [];
    };
    /** @nocollapse */


    Angular2TinymceLibService.ngInjectableDef = Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["defineInjectable"])({
      factory: function Angular2TinymceLibService_Factory() {
        return new Angular2TinymceLibService();
      },
      token: Angular2TinymceLibService,
      providedIn: "root"
    });
    /*@__PURE__*/

    (function () {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](Angular2TinymceLibService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"],
        args: [{
          providedIn: 'root'
        }]
      }], function () {
        return [];
      }, null);
    })();
    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */


    var TinymceDefaultOptions = function TinymceDefaultOptions() {
      _classCallCheck(this, TinymceDefaultOptions);

      this.plugins = ['link', 'paste', 'table', 'advlist', 'autoresize', 'lists', 'code'];
      this.skin_url = '/assets/tinymce/skins/lightgray';
      this.baseURL = '/assets/tinymce';
      this.auto_focus = true;
    };

    TinymceDefaultOptions.ɵfac = function TinymceDefaultOptions_Factory(t) {
      return new (t || TinymceDefaultOptions)();
    };

    TinymceDefaultOptions.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({
      token: TinymceDefaultOptions,
      factory: TinymceDefaultOptions.ɵfac
    });
    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */

    /** @type {?} */

    var noop = function noop() {};

    var TinymceComponent = /*#__PURE__*/function () {
      /**
       * @param {?} zone
       * @param {?} globalOptions
       */
      function TinymceComponent(zone, globalOptions) {
        _classCallCheck(this, TinymceComponent);

        this.zone = zone;
        this.globalOptions = globalOptions;
        this.click = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.dblclick = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.mousedown = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.mouseup = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.mousemove = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.mouseover = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.mouseout = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.mouseenter = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.mouseleave = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.keydown = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.keypress = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.keyup = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.contextmenu = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.paste = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.init = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.focus = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.blur = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.beforeSetContent = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.setContent = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.getContent = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.preProcess = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.postProcess = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.nodeChange = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.undo = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.redo = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.change = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.dirty = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.remove = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.execCommand = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.pastePreProcess = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.pastePostProcess = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.elementId = 'tiny-' + Math.random().toString(36).substring(2);
        this.onTouchedCallback = noop;
        this.onChangeCallback = noop;
      }
      /**
       * @return {?}
       */


      _createClass(TinymceComponent, [{
        key: "ngOnInit",
        value: function ngOnInit() {
          var _this22 = this;

          this.options = Object.assign(new TinymceDefaultOptions(), this.globalOptions, this.optionsOverride);
          this.options.selector = '#' + this.elementId;

          this.options.setup = function (editor) {
            _this22.setupEvents(editor);
          };

          this.options.init_instance_callback = function (editor) {
            if (editor && _this22.value) {
              editor.setContent(_this22.value);
            }

            _this22.editor = editor;
          };
        }
        /**
         * @return {?}
         */

      }, {
        key: "ngAfterViewInit",
        value: function ngAfterViewInit() {
          if (this.options.baseURL) {
            tinymce.baseURL = this.options.baseURL;
          }

          tinymce.init(this.options);
        }
        /**
         * @return {?}
         */

      }, {
        key: "ngOnDestroy",
        value: function ngOnDestroy() {
          tinymce.remove(this.editor);
        }
        /**
         * @return {?}
         */

      }, {
        key: "writeValue",

        /**
         * @param {?} value
         * @return {?}
         */
        value: function writeValue(value) {
          if (value !== this.innerValue) {
            this.innerValue = value;

            if (!value) {
              value = '';
            }

            if (this.editor && this.editor.initialized) {
              this.editor.setContent(value);
            }
          }
        }
        /**
         * @param {?} fn
         * @return {?}
         */

      }, {
        key: "registerOnChange",
        value: function registerOnChange(fn) {
          this.onChangeCallback = fn;
        }
        /**
         * @param {?} fn
         * @return {?}
         */

      }, {
        key: "registerOnTouched",
        value: function registerOnTouched(fn) {
          this.onTouchedCallback = fn;
        }
        /**
         * @param {?} editor
         * @return {?}
         */

      }, {
        key: "setupEvents",
        value: function setupEvents(editor) {
          var _this23 = this;

          editor.on('change keyup', function () {
            /** @type {?} */
            var content = editor.getContent();
            _this23.value = content;
          });
          editor.on('click', function (e) {
            _this23.click.emit(e);
          });
          editor.on('dblclick', function (e) {
            _this23.dblclick.emit(e);
          });
          editor.on('mousedown', function (e) {
            _this23.mousedown.emit(e);
          });
          editor.on('mouseup', function (e) {
            _this23.mouseup.emit(e);
          });
          editor.on('mousemove', function (e) {
            _this23.mousemove.emit(e);
          });
          editor.on('mouseover', function (e) {
            _this23.mouseover.emit(e);
          });
          editor.on('mouseout', function (e) {
            _this23.mouseout.emit(e);
          });
          editor.on('mouseenter', function (e) {
            _this23.mouseenter.emit(e);
          });
          editor.on('mouseleave', function (e) {
            _this23.mouseleave.emit(e);
          });
          editor.on('keydown', function (e) {
            _this23.keydown.emit(e);
          });
          editor.on('keypress', function (e) {
            _this23.keypress.emit(e);
          });
          editor.on('keyup', function (e) {
            _this23.keyup.emit(e);
          });
          editor.on('contextmenu', function (e) {
            _this23.contextmenu.emit(e);
          });
          editor.on('paste', function (e) {
            _this23.paste.emit(e);
          });
          editor.on('init', function (e) {
            _this23.init.emit(e);
          });
          editor.on('focus', function (e) {
            _this23.focus.emit(e);
          });
          editor.on('blur', function (e) {
            _this23.blur.emit(e);
          });
          editor.on('BeforeSetContent', function (e) {
            _this23.beforeSetContent.emit(e);
          });
          editor.on('SetContent', function (e) {
            _this23.setContent.emit(e);
          });
          editor.on('GetContent', function (e) {
            _this23.getContent.emit(e);
          });
          editor.on('PreProcess', function (e) {
            _this23.preProcess.emit(e);
          });
          editor.on('PostProcess', function (e) {
            _this23.postProcess.emit(e);
          });
          editor.on('NodeChange', function (e) {
            _this23.nodeChange.emit(e);
          });
          editor.on('Undo', function (e) {
            _this23.undo.emit(e);
          });
          editor.on('Redo', function (e) {
            _this23.redo.emit(e);
          });
          editor.on('Change', function (e) {
            _this23.change.emit(e);
          });
          editor.on('Dirty', function (e) {
            _this23.dirty.emit(e);
          });
          editor.on('Remove', function (e) {
            _this23.remove.emit(e);
          });
          editor.on('ExecCommand', function (e) {
            _this23.execCommand.emit(e);
          });
          editor.on('PastePreProcess', function (e) {
            _this23.pastePreProcess.emit(e);
          });
          editor.on('PastePostProcess', function (e) {
            _this23.pastePostProcess.emit(e);
          });
        }
      }, {
        key: "value",
        get: function get() {
          return this.innerValue;
        }
        /**
         * @param {?} v
         * @return {?}
         */
        ,
        set: function set(v) {
          var _this24 = this;

          if (v !== this.innerValue) {
            this.innerValue = v;
            this.zone.run(function () {
              _this24.onChangeCallback(v);
            });
          }
        }
      }]);

      return TinymceComponent;
    }();

    TinymceComponent.ɵfac = function TinymceComponent_Factory(t) {
      return new (t || TinymceComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgZone"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"]('TINYMCE_CONFIG'));
    };

    TinymceComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({
      type: TinymceComponent,
      selectors: [["app-tinymce"]],
      inputs: {
        optionsOverride: ["options", "optionsOverride"]
      },
      outputs: {
        click: "click",
        dblclick: "dblclick",
        mousedown: "mousedown",
        mouseup: "mouseup",
        mousemove: "mousemove",
        mouseover: "mouseover",
        mouseout: "mouseout",
        mouseenter: "mouseenter",
        mouseleave: "mouseleave",
        keydown: "keydown",
        keypress: "keypress",
        keyup: "keyup",
        contextmenu: "contextmenu",
        paste: "paste",
        init: "init",
        focus: "focus",
        blur: "blur",
        beforeSetContent: "beforeSetContent",
        setContent: "setContent",
        getContent: "getContent",
        preProcess: "preProcess",
        postProcess: "postProcess",
        nodeChange: "nodeChange",
        undo: "undo",
        redo: "redo",
        change: "change",
        dirty: "dirty",
        remove: "remove",
        execCommand: "execCommand",
        pastePreProcess: "pastePreProcess",
        pastePostProcess: "pastePostProcess"
      },
      exportAs: ["tinymce"],
      features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵProvidersFeature"]([{
        provide: _angular_forms__WEBPACK_IMPORTED_MODULE_1__["NG_VALUE_ACCESSOR"],
        useExisting: Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["forwardRef"])(function () {
          return TinymceComponent;
        }),
        multi: true
      }])],
      decls: 1,
      vars: 1,
      consts: [[3, "id"]],
      template: function TinymceComponent_Template(rf, ctx) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "div", 0);
        }

        if (rf & 2) {
          _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("id", ctx.elementId);
        }
      },
      encapsulation: 2
    });
    /** @nocollapse */

    TinymceComponent.ctorParameters = function () {
      return [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgZone"]
      }, {
        type: undefined,
        decorators: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"],
          args: ['TINYMCE_CONFIG']
        }]
      }];
    };

    TinymceComponent.propDecorators = {
      optionsOverride: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"],
        args: ['options']
      }],
      click: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
      }],
      dblclick: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
      }],
      mousedown: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
      }],
      mouseup: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
      }],
      mousemove: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
      }],
      mouseover: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
      }],
      mouseout: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
      }],
      mouseenter: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
      }],
      mouseleave: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
      }],
      keydown: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
      }],
      keypress: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
      }],
      keyup: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
      }],
      contextmenu: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
      }],
      paste: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
      }],
      init: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
      }],
      focus: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
      }],
      blur: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
      }],
      beforeSetContent: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
      }],
      setContent: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
      }],
      getContent: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
      }],
      preProcess: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
      }],
      postProcess: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
      }],
      nodeChange: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
      }],
      undo: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
      }],
      redo: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
      }],
      change: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
      }],
      dirty: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
      }],
      remove: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
      }],
      execCommand: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
      }],
      pastePreProcess: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
      }],
      pastePostProcess: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
      }]
    };
    /*@__PURE__*/

    (function () {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](TinymceComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
          selector: 'app-tinymce',
          template: '<div id="{{elementId}}"></div>',
          exportAs: 'tinymce',
          providers: [{
            provide: _angular_forms__WEBPACK_IMPORTED_MODULE_1__["NG_VALUE_ACCESSOR"],
            useExisting: Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["forwardRef"])(function () {
              return TinymceComponent;
            }),
            multi: true
          }]
        }]
      }], function () {
        return [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgZone"]
        }, {
          type: undefined,
          decorators: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"],
            args: ['TINYMCE_CONFIG']
          }]
        }];
      }, {
        click: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }],
        dblclick: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }],
        mousedown: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }],
        mouseup: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }],
        mousemove: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }],
        mouseover: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }],
        mouseout: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }],
        mouseenter: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }],
        mouseleave: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }],
        keydown: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }],
        keypress: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }],
        keyup: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }],
        contextmenu: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }],
        paste: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }],
        init: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }],
        focus: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }],
        blur: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }],
        beforeSetContent: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }],
        setContent: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }],
        getContent: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }],
        preProcess: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }],
        postProcess: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }],
        nodeChange: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }],
        undo: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }],
        redo: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }],
        change: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }],
        dirty: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }],
        remove: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }],
        execCommand: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }],
        pastePreProcess: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }],
        pastePostProcess: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }],
        optionsOverride: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"],
          args: ['options']
        }]
      });
    })();
    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */


    var TinymceModule = /*#__PURE__*/function () {
      function TinymceModule() {
        _classCallCheck(this, TinymceModule);
      }

      _createClass(TinymceModule, null, [{
        key: "withConfig",

        /**
         * @param {?=} userConfig
         * @return {?}
         */
        value: function withConfig() {
          var userConfig = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
          return {
            ngModule: TinymceModule,
            providers: [{
              provide: 'TINYMCE_CONFIG',
              useValue: userConfig
            }]
          };
        }
      }]);

      return TinymceModule;
    }();

    TinymceModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({
      type: TinymceModule
    });
    TinymceModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({
      factory: function TinymceModule_Factory(t) {
        return new (t || TinymceModule)();
      },
      providers: [{
        provide: 'TINYMCE_CONFIG',
        useClass: TinymceDefaultOptions
      }],
      imports: [[]]
    });

    (function () {
      (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsetNgModuleScope"](TinymceModule, {
        declarations: [TinymceComponent],
        exports: [TinymceComponent]
      });
    })();
    /*@__PURE__*/


    (function () {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](TinymceModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"],
        args: [{
          imports: [],
          declarations: [TinymceComponent],
          exports: [TinymceComponent],
          providers: [{
            provide: 'TINYMCE_CONFIG',
            useClass: TinymceDefaultOptions
          }]
        }]
      }], null, null);
    })();
    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    //# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ndWxhcjItdGlueW1jZS5qcyIsInNvdXJjZXMiOlsibmc6L2FuZ3VsYXIyLXRpbnltY2UvbGliL2FuZ3VsYXIyLXRpbnltY2UtbGliLnNlcnZpY2UudHMiLCJuZzovYW5ndWxhcjItdGlueW1jZS9saWIvYW5ndWxhcjItdGlueW1jZS1saWIuZGVmYXVsdC50cyIsIm5nOi9hbmd1bGFyMi10aW55bWNlL2xpYi9hbmd1bGFyMi10aW55bWNlLWxpYi5jb21wb25lbnQudHMiLCJuZzovYW5ndWxhcjItdGlueW1jZS9saWIvYW5ndWxhcjItdGlueW1jZS1saWIubW9kdWxlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFBa0MsSUFNakM7QUFDRCxLQUFFO0FBQ0Y7cURBTkMsVUFBVSxTQUFDLGtCQUNYLFVBQVUsRUFBRSxNQUFNLGNBQ2xCOytKQUNJO0FBQUM7QUFBbUI7QUFJVjs7Ozs7O2dEQUE2TztBQUFDO0FBQUM7QUFBSTtBQUFrQztBQUFrRTtBQ1B0VztBQUE4QjtBQUFvQix1QkFDdkM7QUFDWCxZQUFFLE1BQU07QUFDUixZQUFFLE9BQU87QUFDVCxZQUFFLE9BQU87QUFDVCxZQUFFLFNBQVM7QUFDWCxZQUFFLFlBQVk7QUFDZCxZQUFFLE9BQU87QUFDVCxZQUFFLE1BQU07QUFDUixTQUFFO0FBQ0Ysd0JBQVksaUNBQWlDO0FBQzdDLHVCQUFXLGlCQUFpQjtBQUM1QiwwQkFBYyxJQUFJO0FBQ2xCO0FBQ0k7OztBQURIO0FBQ0Q7QUFBQztBQUFJO0FBQWtDO0FBQWtFO0FDaEJ6RztBQWtCQSxNQUFNLElBQUksR0FBRztBQUNiLENBQUMsQ0FBQztBQUNGO0FBRVc7QUFBUTtBQUNIO0FBQ2I7QUFBUSxJQXFEVixZQUNTLE1BQzBCLGFBQTZCO0FBQzlELFFBRk8sU0FBSSxHQUFKLElBQUk7QUFBRSxRQUNvQixrQkFBYSxHQUFiLGFBQWEsQ0FBZ0I7QUFDakUscUJBNUNtQixJQUFJLFlBQVksRUFBRTtBQUNyQyx3QkFBc0IsSUFBSSxZQUFZLEVBQUU7QUFDeEMseUJBQXVCLElBQUksWUFBWSxFQUFFO0FBQ3pDLHVCQUFxQixJQUFJLFlBQVksRUFBRTtBQUN2Qyx5QkFBdUIsSUFBSSxZQUFZLEVBQUU7QUFDekMseUJBQXVCLElBQUksWUFBWSxFQUFFO0FBQ3pDLHdCQUFzQixJQUFJLFlBQVksRUFBRTtBQUN4QywwQkFBd0IsSUFBSSxZQUFZLEVBQUU7QUFDMUMsMEJBQXdCLElBQUksWUFBWSxFQUFFO0FBQzFDLHVCQUFxQixJQUFJLFlBQVksRUFBRTtBQUN2Qyx3QkFBc0IsSUFBSSxZQUFZLEVBQUU7QUFDeEMscUJBQW1CLElBQUksWUFBWSxFQUFFO0FBQ3JDLDJCQUF5QixJQUFJLFlBQVksRUFBRTtBQUMzQyxxQkFBbUIsSUFBSSxZQUFZLEVBQUU7QUFDckMsb0JBQWtCLElBQUksWUFBWSxFQUFFO0FBQ3BDLHFCQUFtQixJQUFJLFlBQVksRUFBRTtBQUNyQyxvQkFBa0IsSUFBSSxZQUFZLEVBQUU7QUFDcEMsZ0NBQThCLElBQUksWUFBWSxFQUFFO0FBQ2hELDBCQUF3QixJQUFJLFlBQVksRUFBRTtBQUMxQywwQkFBd0IsSUFBSSxZQUFZLEVBQUU7QUFDMUMsMEJBQXdCLElBQUksWUFBWSxFQUFFO0FBQzFDLDJCQUF5QixJQUFJLFlBQVksRUFBRTtBQUMzQywwQkFBd0IsSUFBSSxZQUFZLEVBQUU7QUFDMUMsb0JBQWtCLElBQUksWUFBWSxFQUFFO0FBQ3BDLG9CQUFrQixJQUFJLFlBQVksRUFBRTtBQUNwQyxzQkFBb0IsSUFBSSxZQUFZLEVBQUU7QUFDdEMscUJBQW1CLElBQUksWUFBWSxFQUFFO0FBQ3JDLHNCQUFvQixJQUFJLFlBQVksRUFBRTtBQUN0QywyQkFBeUIsSUFBSSxZQUFZLEVBQUU7QUFDM0MsK0JBQTZCLElBQUksWUFBWSxFQUFFO0FBQy9DLGdDQUE4QixJQUFJLFlBQVksRUFBRTtBQUNoRCx5QkFDNEIsT0FBTyxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQztBQUM3RSxpQ0FFeUMsSUFBSTtBQUM3QyxnQ0FBOEMsSUFBSTtBQUNsRCxLQVNFO0FBQ0Y7QUFDTztBQUNLO0FBQVEsSUFEbkIsUUFBUTtBQUNULFFBQUUsSUFBSSxDQUFDLE9BQU8sR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLElBQUkscUJBQXFCLEVBQUUsRUFBRSxJQUFJLENBQUMsYUFBYSxFQUFFLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQztBQUN0RyxRQUFFLElBQUksQ0FBQyxPQUFPLENBQUMsUUFBUSxHQUFHLEdBQUcsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDO0FBQy9DLFFBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxLQUFLLEdBQUcsTUFBTTtBQUM3QixZQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsTUFBTSxDQUFDLENBQUM7QUFDNUIsU0FBRyxDQUFDO0FBQ0osUUFBRSxJQUFJLENBQUMsT0FBTyxDQUFDLHNCQUFzQixHQUFHLE1BQU07QUFDOUMsWUFBRyxJQUFJLE1BQU0sSUFBSSxJQUFJLENBQUMsS0FBSyxFQUFFO0FBQzdCLGdCQUFJLE1BQU0sQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO0FBQ2xDLGFBQUk7QUFDSixZQUFHLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO0FBQ3hCLFNBQUcsQ0FBQztBQUNKLEtBQUU7QUFDRjtBQUNPO0FBQ0Y7QUFBUSxJQURaLGVBQWU7QUFDaEIsUUFBRSxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsT0FBTyxFQUFFO0FBQzVCLFlBQUcsT0FBTyxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQztBQUMxQyxTQUFHO0FBQ0gsUUFBRSxPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztBQUM3QixLQUFFO0FBQ0Y7QUFDTztBQUNFO0FBQVEsSUFEaEIsV0FBVztBQUNaLFFBQUUsT0FBTyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7QUFDOUIsS0FBRTtBQUNGO0FBQ087QUFDRTtBQUFRLElBQWhCLElBQUksS0FBSztBQUFLLFFBQ2IsT0FBTyxJQUFJLENBQUMsVUFBVSxDQUFDO0FBQ3pCLEtBQUU7QUFDRjtBQUNPO0FBQW9CO0FBQW1CO0FBQzlDLElBQUMsSUFBSSxLQUFLLENBQUMsQ0FBTTtBQUNqQixRQUFFLElBQUksQ0FBQyxLQUFLLElBQUksQ0FBQyxVQUFVLEVBQUU7QUFDN0IsWUFBRyxJQUFJLENBQUMsVUFBVSxHQUFHLENBQUMsQ0FBQztBQUN2QixZQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDO0FBQ2pCLGdCQUFJLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUM3QixhQUFJLENBQUMsQ0FBQztBQUNOLFNBQ0c7QUFDSCxLQUFFO0FBQ0Y7QUFDTztBQUF3QjtBQUNyQjtBQUFRLElBQWpCLFVBQVUsQ0FBQyxLQUFVO0FBQ3RCLFFBQUUsSUFBSSxLQUFLLEtBQUssSUFBSSxDQUFDLFVBQVUsRUFBRTtBQUNqQyxZQUFHLElBQUksQ0FBQyxVQUFVLEdBQUcsS0FBSyxDQUFDO0FBQzNCLFlBQUcsSUFBSSxDQUFDLEtBQUssRUFBRTtBQUNmLGdCQUFJLEtBQUssR0FBRyxFQUFFLENBQUM7QUFDZixhQUFJO0FBQ0osWUFBRyxJQUFJLElBQUksQ0FBQyxNQUFNLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxXQUFXLEVBQUU7QUFDL0MsZ0JBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLENBQUM7QUFDbEMsYUFBSTtBQUNKLFNBQUc7QUFDSCxLQUFFO0FBQ0Y7QUFDTztBQUFxQjtBQUNWO0FBQVEsSUFEekIsZ0JBQWdCLENBQUMsRUFBTztBQUN6QixRQUFFLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxFQUFFLENBQUM7QUFDN0IsS0FBRTtBQUNGO0FBQ087QUFBcUI7QUFDWDtBQUFRLElBRHhCLGlCQUFpQixDQUFDLEVBQU87QUFDMUIsUUFBRSxJQUFJLENBQUMsaUJBQWlCLEdBQUcsRUFBRSxDQUFDO0FBQzlCLEtBQUU7QUFDRjtBQUNPO0FBQ0U7QUFBbUI7QUFDNUIsSUFGQyxXQUFXLENBQUMsTUFBTTtBQUNuQixRQUFFLE1BQU0sQ0FBQyxFQUFFLENBQUMsY0FBYyxFQUFFO0FBQzVCO0FBQTZCLFlBQTFCLE1BQU0sT0FBTyxHQUFHLE1BQU0sQ0FBQyxVQUFVLEVBQUUsQ0FBQztBQUN2QyxZQUFHLElBQUksQ0FBQyxLQUFLLEdBQUcsT0FBTyxDQUFDO0FBQ3hCLFNBQUcsQ0FBQyxDQUFDO0FBQ0wsUUFBRSxNQUFNLENBQUMsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDO0FBQ3RCLFlBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDdEIsU0FBRyxDQUFDLENBQUM7QUFDTCxRQUFFLE1BQU0sQ0FBQyxFQUFFLENBQUMsVUFBVSxFQUFFLENBQUM7QUFDekIsWUFBRyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUN6QixTQUFHLENBQUMsQ0FBQztBQUNMLFFBQUUsTUFBTSxDQUFDLEVBQUUsQ0FBQyxXQUFXLEVBQUUsQ0FBQztBQUMxQixZQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQzFCLFNBQUcsQ0FBQyxDQUFDO0FBQ0wsUUFBRSxNQUFNLENBQUMsRUFBRSxDQUFDLFNBQVMsRUFBRSxDQUFDO0FBQ3hCLFlBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDeEIsU0FBRyxDQUFDLENBQUM7QUFDTCxRQUFFLE1BQU0sQ0FBQyxFQUFFLENBQUMsV0FBVyxFQUFFLENBQUM7QUFDMUIsWUFBRyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUMxQixTQUFHLENBQUMsQ0FBQztBQUNMLFFBQUUsTUFBTSxDQUFDLEVBQUUsQ0FBQyxXQUFXLEVBQUUsQ0FBQztBQUMxQixZQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQzFCLFNBQUcsQ0FBQyxDQUFDO0FBQ0wsUUFBRSxNQUFNLENBQUMsRUFBRSxDQUFDLFVBQVUsRUFBRSxDQUFDO0FBQ3pCLFlBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDekIsU0FBRyxDQUFDLENBQUM7QUFDTCxRQUFFLE1BQU0sQ0FBQyxFQUFFLENBQUMsWUFBWSxFQUFFLENBQUM7QUFDM0IsWUFBRyxJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUMzQixTQUFHLENBQUMsQ0FBQztBQUNMLFFBQUUsTUFBTSxDQUFDLEVBQUUsQ0FBQyxZQUFZLEVBQUUsQ0FBQztBQUMzQixZQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQzNCLFNBQUcsQ0FBQyxDQUFDO0FBQ0wsUUFBRSxNQUFNLENBQUMsRUFBRSxDQUFDLFNBQVMsRUFBRSxDQUFDO0FBQ3hCLFlBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDeEIsU0FBRyxDQUFDLENBQUM7QUFDTCxRQUFFLE1BQU0sQ0FBQyxFQUFFLENBQUMsVUFBVSxFQUFFLENBQUM7QUFDekIsWUFBRyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUN6QixTQUFHLENBQUMsQ0FBQztBQUNMLFFBQUUsTUFBTSxDQUFDLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQztBQUN0QixZQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ3RCLFNBQUcsQ0FBQyxDQUFDO0FBQ0wsUUFBRSxNQUFNLENBQUMsRUFBRSxDQUFDLGFBQWEsRUFBRSxDQUFDO0FBQzVCLFlBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDNUIsU0FBRyxDQUFDLENBQUM7QUFDTCxRQUFFLE1BQU0sQ0FBQyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUM7QUFDdEIsWUFBRyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUN0QixTQUFHLENBQUMsQ0FBQztBQUNMLFFBQUUsTUFBTSxDQUFDLEVBQUUsQ0FBQyxNQUFNLEVBQUUsQ0FBQztBQUNyQixZQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ3JCLFNBQUcsQ0FBQyxDQUFDO0FBQ0wsUUFBRSxNQUFNLENBQUMsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDO0FBQ3RCLFlBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDdEIsU0FBRyxDQUFDLENBQUM7QUFDTCxRQUFFLE1BQU0sQ0FBQyxFQUFFLENBQUMsTUFBTSxFQUFFLENBQUM7QUFDckIsWUFBRyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNyQixTQUFHLENBQUMsQ0FBQztBQUNMLFFBQUUsTUFBTSxDQUFDLEVBQUUsQ0FBQyxrQkFBa0IsRUFBRSxDQUFDO0FBQ2pDLFlBQUcsSUFBSSxDQUFDLGdCQUFnQixDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNqQyxTQUFHLENBQUMsQ0FBQztBQUNMLFFBQUUsTUFBTSxDQUFDLEVBQUUsQ0FBQyxZQUFZLEVBQUUsQ0FBQztBQUMzQixZQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQzNCLFNBQUcsQ0FBQyxDQUFDO0FBQ0wsUUFBRSxNQUFNLENBQUMsRUFBRSxDQUFDLFlBQVksRUFBRSxDQUFDO0FBQzNCLFlBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDM0IsU0FBRyxDQUFDLENBQUM7QUFDTCxRQUFFLE1BQU0sQ0FBQyxFQUFFLENBQUMsWUFBWSxFQUFFLENBQUM7QUFDM0IsWUFBRyxJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUMzQixTQUFHLENBQUMsQ0FBQztBQUNMLFFBQUUsTUFBTSxDQUFDLEVBQUUsQ0FBQyxhQUFhLEVBQUUsQ0FBQztBQUM1QixZQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQzVCLFNBQUcsQ0FBQyxDQUFDO0FBQ0wsUUFBRSxNQUFNLENBQUMsRUFBRSxDQUFDLFlBQVksRUFBRSxDQUFDO0FBQzNCLFlBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDM0IsU0FBRyxDQUFDLENBQUM7QUFDTCxRQUFFLE1BQU0sQ0FBQyxFQUFFLENBQUMsTUFBTSxFQUFFLENBQUM7QUFDckIsWUFBRyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNyQixTQUFHLENBQUMsQ0FBQztBQUNMLFFBQUUsTUFBTSxDQUFDLEVBQUUsQ0FBQyxNQUFNLEVBQUUsQ0FBQztBQUNyQixZQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ3JCLFNBQUcsQ0FBQyxDQUFDO0FBQ0wsUUFBRSxNQUFNLENBQUMsRUFBRSxDQUFDLFFBQVEsRUFBRSxDQUFDO0FBQ3ZCLFlBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDdkIsU0FBRyxDQUFDLENBQUM7QUFDTCxRQUFFLE1BQU0sQ0FBQyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUM7QUFDdEIsWUFBRyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUN0QixTQUFHLENBQUMsQ0FBQztBQUNMLFFBQUUsTUFBTSxDQUFDLEVBQUUsQ0FBQyxRQUFRLEVBQUUsQ0FBQztBQUN2QixZQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ3ZCLFNBQUcsQ0FBQyxDQUFDO0FBQ0wsUUFBRSxNQUFNLENBQUMsRUFBRSxDQUFDLGFBQWEsRUFBRSxDQUFDO0FBQzVCLFlBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDNUIsU0FBRyxDQUFDLENBQUM7QUFDTCxRQUFFLE1BQU0sQ0FBQyxFQUFFLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztBQUNoQyxZQUFHLElBQUksQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ2hDLFNBQUcsQ0FBQyxDQUFDO0FBQ0wsUUFBRSxNQUFNLENBQUMsRUFBRSxDQUFDLGtCQUFrQixFQUFFLENBQUM7QUFDakMsWUFBRyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ2pDLFNBQUcsQ0FBQyxDQUFDO0FBQ0wsS0FBRTtBQUNGOzRDQWhPQyxTQUFTLFNBQUMsa0JBQ1YsUUFBUSxFQUFFLGFBQWEsa0JBQ3ZCLFFBQVEsRUFBRSxnQ0FBZ0Msa0JBQzFDO0VBQVEsRUFBRSxTQUFTLGtCQUNuQixTQUFTLEVBQUUsc0JBQ1YsMEJBQ0MsT0FBTyxFQUFFLGlCQUFpQiwwQkFDMUIsV0FBVyxFQUFFLFVBQVUsQ0FBQyxNQUFNLGdCQUFnQixDQUFDLDBCQUMvQyxLQUFLLEVBQUUsSUFBSSxzQkFDWCxrQkFDRCxjQUNEOzs7Ozs7Ozs7OzZCQUNHO0FBQUM7QUFBbUI7QUFBMEMsWUFqQ1IsTUFBTTtBQUFJLDRDQStFakUsTUFBTSxTQUFDLGdCQUFnQjtBQUFRO0FBQUc7QUFHcEMsOEJBaERDLEtBQUssU0FBQyxTQUFTO0FBQU8sb0JBRXRCLE1BQU07QUFBSyx1QkFDWCxNQUFNO0FBQUssd0JBQ1gsTUFBTTtBQUFLLHNCQUNYLE1BQU07QUFBSyx3QkFDWCxNQUFNO0FBQUssd0JBQ1gsTUFBTTtBQUFLLHVCQUNYLE1BQU07QUFBSyx5QkFDWCxNQUFNO0FBQUsseUJBQ1gsTUFBTTtBQUFLLHNCQUNYLE1BQU07QUFBSyx1QkFDWCxNQUFNO0FBQUssb0JBQ1gsTUFBTTtBQUFLLDBCQUNYLE1BQU07QUFBSyxvQkFDWCxNQUFNO0FBQUssbUJBQ1gsTUFBTTtBQUFLLG9CQUNYLE1BQU07QUFBSyxtQkFDWCxNQUFNO0FBQUssK0JBQ1gsTUFBTTtBQUFLLHlCQUNYLE1BQU07QUFBSyx5QkFDWCxNQUFNO0FBQUsseUJBQ1gsTUFBTTtBQUFLLDBCQUNYLE1BQU07QUFBSyx5QkFDWCxNQUFNO0FBQUssbUJBQ1gsTUFBTTtBQUFLLG1CQUNYLE1BQU07QUFBSyxxQkFDWCxNQUFNO0FBQUssb0JBQ1gsTUFBTTtBQUFLLHFCQUNYLE1BQU07QUFBSywwQkFDWCxNQUFNO0FBQUssOEJBQ1gsTUFBTTtBQUFLLCtCQUNYLE1BQU07QUFBSTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7b0JBQUU7QUFBQztBQUFDO0FBQUk7QUFFakI7QUFBa0U7QUNwRXJFO0FBQXNCO0FBQVE7QUFBOEI7QUFDNUM7QUFBUSxJQWF2QixPQUFPLFVBQVUsQ0FBQyxhQUE2QixFQUFFO0FBQUksUUFDcEQsT0FBTztBQUNULFlBQUcsUUFBUSxFQUFFLGFBQWE7QUFDMUIsWUFBRyxTQUFTLEVBQUU7QUFDZCxnQkFBSSxFQUFFLE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxRQUFRLEVBQUUsVUFBVSxFQUFFO0FBQ3ZELGFBQUk7QUFDSixTQUFHLENBQUM7QUFDSixLQUFFO0FBQ0Y7eUNBakJDLFFBQVEsU0FBQztLQUNULE9BQU8sRUFBRSxFQUFFLGtCQUNYLFlBQVksRUFBRSxDQUFDLGdCQUFnQixDQUFDLGtCQUNoQyxPQUFPLEVBQUUsQ0FBQyxnQkFBZ0IsQ0FBQyxrQkFDM0IsU0FBUyxFQUFFO21CQUNWLEVBQUUsT0FBTyxFQUFFLGdCQUFnQixFQUFFLFFBQVEsRUFBRTtRQUFxQixFQUFFO0dBQzlELGNBQ0Q7Ozs7Ozs7Ozs7OzBCQUNJO0FBQUM7QUFBQztBQUFJO0FBQ0s7QUFDVDtBQUNQO0FBQUM7QUFBSTtBQUNNO0FBR1g7QUFBSTtBQUNKOztBSHJCQSxBQU1BLEFBQ0EsQUFMQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFDRkEsQUFDQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFDZkEsQUFrQkEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBMERBLEFBQ0EsQUFDQSxBQUFBLEFBREEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBM0NBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUdBLEFBQUEsQUFDQSxBQUFBLEFBVUEsQUFFQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBRUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBRUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFHQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUdBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFFQSxBQUNBLEFBR0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUNBLEFBQ0EsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFDQSxBQS9OQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFDQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFDQSxBQUNBLEFBaENBLEFBQUEsQUErRUEsQUFBQSxBQUFBLEFBQUEsQUE3Q0EsQUFBQSxBQUFBLEFBQUEsQUFFQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFDbEVBLEFBY0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUNBLEFBQUEsQUFDQSxBQWhCQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFDQSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuQEluamVjdGFibGUoe1xuXHRwcm92aWRlZEluOiAncm9vdCdcbn0pXG5leHBvcnQgY2xhc3MgQW5ndWxhcjJUaW55bWNlTGliU2VydmljZSB7XG5cdGNvbnN0cnVjdG9yKCkge1xuXHR9XG59XG4iLCJpbXBvcnQgeyBUaW55bWNlT3B0aW9ucyB9IGZyb20gJy4vYW5ndWxhcjItdGlueW1jZS1saWIuY29uZmlnLmludGVyZmFjZSc7XG5cbmV4cG9ydCBjbGFzcyBUaW55bWNlRGVmYXVsdE9wdGlvbnMgaW1wbGVtZW50cyBUaW55bWNlT3B0aW9ucyB7XG5cdHBsdWdpbnMgPSBbXG5cdFx0J2xpbmsnLFxuXHRcdCdwYXN0ZScsXG5cdFx0J3RhYmxlJyxcblx0XHQnYWR2bGlzdCcsXG5cdFx0J2F1dG9yZXNpemUnLFxuXHRcdCdsaXN0cycsXG5cdFx0J2NvZGUnXG5cdF07XG5cdHNraW5fdXJsID0gJy9hc3NldHMvdGlueW1jZS9za2lucy9saWdodGdyYXknO1xuXHRiYXNlVVJMID0gJy9hc3NldHMvdGlueW1jZSc7XG5cdGF1dG9fZm9jdXMgPSB0cnVlO1xufVxuIiwiaW1wb3J0IHsgQ29tcG9uZW50LCBPbkRlc3Ryb3ksIEFmdGVyVmlld0luaXQsIGZvcndhcmRSZWYsIE5nWm9uZSwgSW5qZWN0LCBJbnB1dCwgT25Jbml0LCBFdmVudEVtaXR0ZXIsIE91dHB1dCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgTkdfVkFMVUVfQUNDRVNTT1IsIENvbnRyb2xWYWx1ZUFjY2Vzc29yIH0gZnJvbSAnQGFuZ3VsYXIvZm9ybXMnO1xuaW1wb3J0IHsgVGlueW1jZURlZmF1bHRPcHRpb25zIH0gZnJvbSAnLi9hbmd1bGFyMi10aW55bWNlLWxpYi5kZWZhdWx0JztcbmltcG9ydCB7IFRpbnltY2VPcHRpb25zIH0gZnJvbSAnLi9hbmd1bGFyMi10aW55bWNlLWxpYi5jb25maWcuaW50ZXJmYWNlJztcblxuaW1wb3J0ICd0aW55bWNlL3RpbnltY2UubWluJztcblxuZGVjbGFyZSB2YXIgdGlueW1jZTogYW55O1xuXG5pbXBvcnQgJ3RpbnltY2UvdGhlbWVzL21vZGVybi90aGVtZSc7XG5pbXBvcnQgJ3RpbnltY2UvcGx1Z2lucy9saW5rL3BsdWdpbi5qcyc7XG5pbXBvcnQgJ3RpbnltY2UvcGx1Z2lucy9wYXN0ZS9wbHVnaW4uanMnO1xuaW1wb3J0ICd0aW55bWNlL3BsdWdpbnMvdGFibGUvcGx1Z2luLmpzJztcbmltcG9ydCAndGlueW1jZS9wbHVnaW5zL2Fkdmxpc3QvcGx1Z2luLmpzJztcbmltcG9ydCAndGlueW1jZS9wbHVnaW5zL2F1dG9yZXNpemUvcGx1Z2luLmpzJztcbmltcG9ydCAndGlueW1jZS9wbHVnaW5zL2xpc3RzL3BsdWdpbi5qcyc7XG5pbXBvcnQgJ3RpbnltY2UvcGx1Z2lucy9jb2RlL3BsdWdpbi5qcyc7XG5cbmNvbnN0IG5vb3AgPSAoKSA9PiB7XG59O1xuXG5AQ29tcG9uZW50KHtcblx0c2VsZWN0b3I6ICdhcHAtdGlueW1jZScsXG5cdHRlbXBsYXRlOiAnPGRpdiBpZD1cInt7ZWxlbWVudElkfX1cIj48L2Rpdj4nLFxuXHRleHBvcnRBczogJ3RpbnltY2UnLFxuXHRwcm92aWRlcnM6IFtcblx0XHR7XG5cdFx0XHRwcm92aWRlOiBOR19WQUxVRV9BQ0NFU1NPUixcblx0XHRcdHVzZUV4aXN0aW5nOiBmb3J3YXJkUmVmKCgpID0+IFRpbnltY2VDb21wb25lbnQpLFxuXHRcdFx0bXVsdGk6IHRydWVcblx0XHR9XG5cdF1cbn0pXG5leHBvcnQgY2xhc3MgVGlueW1jZUNvbXBvbmVudCBpbXBsZW1lbnRzIENvbnRyb2xWYWx1ZUFjY2Vzc29yLCBBZnRlclZpZXdJbml0LCBPbkluaXQsIE9uRGVzdHJveSB7XG5cdEBJbnB1dCgnb3B0aW9ucycpIG9wdGlvbnNPdmVycmlkZTogVGlueW1jZU9wdGlvbnM7XG5cblx0QE91dHB1dCgpIGNsaWNrID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuXHRAT3V0cHV0KCkgZGJsY2xpY2sgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cdEBPdXRwdXQoKSBtb3VzZWRvd24gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cdEBPdXRwdXQoKSBtb3VzZXVwID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuXHRAT3V0cHV0KCkgbW91c2Vtb3ZlID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuXHRAT3V0cHV0KCkgbW91c2VvdmVyID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuXHRAT3V0cHV0KCkgbW91c2VvdXQgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cdEBPdXRwdXQoKSBtb3VzZWVudGVyID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuXHRAT3V0cHV0KCkgbW91c2VsZWF2ZSA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblx0QE91dHB1dCgpIGtleWRvd24gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cdEBPdXRwdXQoKSBrZXlwcmVzcyA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblx0QE91dHB1dCgpIGtleXVwID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuXHRAT3V0cHV0KCkgY29udGV4dG1lbnUgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cdEBPdXRwdXQoKSBwYXN0ZSA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblx0QE91dHB1dCgpIGluaXQgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cdEBPdXRwdXQoKSBmb2N1cyA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblx0QE91dHB1dCgpIGJsdXIgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cdEBPdXRwdXQoKSBiZWZvcmVTZXRDb250ZW50ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuXHRAT3V0cHV0KCkgc2V0Q29udGVudCA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblx0QE91dHB1dCgpIGdldENvbnRlbnQgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cdEBPdXRwdXQoKSBwcmVQcm9jZXNzID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuXHRAT3V0cHV0KCkgcG9zdFByb2Nlc3MgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cdEBPdXRwdXQoKSBub2RlQ2hhbmdlID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuXHRAT3V0cHV0KCkgdW5kbyA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblx0QE91dHB1dCgpIHJlZG8gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cdEBPdXRwdXQoKSBjaGFuZ2UgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cdEBPdXRwdXQoKSBkaXJ0eSA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblx0QE91dHB1dCgpIHJlbW92ZSA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblx0QE91dHB1dCgpIGV4ZWNDb21tYW5kID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuXHRAT3V0cHV0KCkgcGFzdGVQcmVQcm9jZXNzID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuXHRAT3V0cHV0KCkgcGFzdGVQb3N0UHJvY2VzcyA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblxuXHRwdWJsaWMgZWxlbWVudElkOiBzdHJpbmcgPSAndGlueS0nICsgTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDIpO1xuXHRwdWJsaWMgZWRpdG9yOiBhbnk7XG5cblx0cHJpdmF0ZSBvblRvdWNoZWRDYWxsYmFjazogKCkgPT4gdm9pZCA9IG5vb3A7XG5cdHByaXZhdGUgb25DaGFuZ2VDYWxsYmFjazogKF86IGFueSkgPT4gdm9pZCA9IG5vb3A7XG5cdHByaXZhdGUgaW5uZXJWYWx1ZTogc3RyaW5nO1xuXG5cdHByaXZhdGUgb3B0aW9uczogVGlueW1jZU9wdGlvbnM7XG5cblx0Y29uc3RydWN0b3IoXG5cdFx0cHJpdmF0ZSB6b25lOiBOZ1pvbmUsXG5cdFx0QEluamVjdCgnVElOWU1DRV9DT05GSUcnKSBwcml2YXRlIGdsb2JhbE9wdGlvbnM6IFRpbnltY2VPcHRpb25zXG5cdCkge1xuXG5cdH1cblxuXHRuZ09uSW5pdCgpIHtcblx0XHR0aGlzLm9wdGlvbnMgPSBPYmplY3QuYXNzaWduKG5ldyBUaW55bWNlRGVmYXVsdE9wdGlvbnMoKSwgdGhpcy5nbG9iYWxPcHRpb25zLCB0aGlzLm9wdGlvbnNPdmVycmlkZSk7XG5cdFx0dGhpcy5vcHRpb25zLnNlbGVjdG9yID0gJyMnICsgdGhpcy5lbGVtZW50SWQ7XG5cdFx0dGhpcy5vcHRpb25zLnNldHVwID0gZWRpdG9yID0+IHtcblx0XHRcdHRoaXMuc2V0dXBFdmVudHMoZWRpdG9yKTtcblx0XHR9O1xuXHRcdHRoaXMub3B0aW9ucy5pbml0X2luc3RhbmNlX2NhbGxiYWNrID0gZWRpdG9yID0+IHtcblx0XHRcdGlmIChlZGl0b3IgJiYgdGhpcy52YWx1ZSkge1xuXHRcdFx0XHRlZGl0b3Iuc2V0Q29udGVudCh0aGlzLnZhbHVlKTtcblx0XHRcdH1cblx0XHRcdHRoaXMuZWRpdG9yID0gZWRpdG9yO1xuXHRcdH07XG5cdH1cblxuXHRuZ0FmdGVyVmlld0luaXQoKSB7XG5cdFx0aWYgKHRoaXMub3B0aW9ucy5iYXNlVVJMKSB7XG5cdFx0XHR0aW55bWNlLmJhc2VVUkwgPSB0aGlzLm9wdGlvbnMuYmFzZVVSTDtcblx0XHR9XG5cdFx0dGlueW1jZS5pbml0KHRoaXMub3B0aW9ucyk7XG5cdH1cblxuXHRuZ09uRGVzdHJveSgpIHtcblx0XHR0aW55bWNlLnJlbW92ZSh0aGlzLmVkaXRvcik7XG5cdH1cblxuXHQvLyBnZXQgYWNjZXNzb3Jcblx0Z2V0IHZhbHVlKCk6IGFueSB7XG5cdFx0cmV0dXJuIHRoaXMuaW5uZXJWYWx1ZTtcblx0fVxuXG5cdC8vIHNldCBhY2Nlc3NvciBpbmNsdWRpbmcgY2FsbCB0aGUgb25jaGFuZ2UgY2FsbGJhY2tcblx0c2V0IHZhbHVlKHY6IGFueSkge1xuXHRcdGlmICh2ICE9PSB0aGlzLmlubmVyVmFsdWUpIHtcblx0XHRcdHRoaXMuaW5uZXJWYWx1ZSA9IHY7XG5cdFx0XHR0aGlzLnpvbmUucnVuKCgpID0+IHtcblx0XHRcdFx0dGhpcy5vbkNoYW5nZUNhbGxiYWNrKHYpO1xuXHRcdFx0fSk7XG5cblx0XHR9XG5cdH1cblxuXHQvLyBGcm9tIENvbnRyb2xWYWx1ZUFjY2Vzc29yIGludGVyZmFjZVxuXHR3cml0ZVZhbHVlKHZhbHVlOiBhbnkpIHtcblx0XHRpZiAodmFsdWUgIT09IHRoaXMuaW5uZXJWYWx1ZSkge1xuXHRcdFx0dGhpcy5pbm5lclZhbHVlID0gdmFsdWU7XG5cdFx0XHRpZiAoIXZhbHVlKSB7XG5cdFx0XHRcdHZhbHVlID0gJyc7XG5cdFx0XHR9XG5cdFx0XHRpZiAodGhpcy5lZGl0b3IgJiYgdGhpcy5lZGl0b3IuaW5pdGlhbGl6ZWQpIHtcblx0XHRcdFx0dGhpcy5lZGl0b3Iuc2V0Q29udGVudCh2YWx1ZSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmVnaXN0ZXJPbkNoYW5nZShmbjogYW55KSB7XG5cdFx0dGhpcy5vbkNoYW5nZUNhbGxiYWNrID0gZm47XG5cdH1cblxuXHRyZWdpc3Rlck9uVG91Y2hlZChmbjogYW55KSB7XG5cdFx0dGhpcy5vblRvdWNoZWRDYWxsYmFjayA9IGZuO1xuXHR9XG5cblx0c2V0dXBFdmVudHMoZWRpdG9yKSB7XG5cdFx0ZWRpdG9yLm9uKCdjaGFuZ2Uga2V5dXAnLCAoKSA9PiB7XG5cdFx0XHRjb25zdCBjb250ZW50ID0gZWRpdG9yLmdldENvbnRlbnQoKTtcblx0XHRcdHRoaXMudmFsdWUgPSBjb250ZW50O1xuXHRcdH0pO1xuXHRcdGVkaXRvci5vbignY2xpY2snLCBlID0+IHtcblx0XHRcdHRoaXMuY2xpY2suZW1pdChlKTtcblx0XHR9KTtcblx0XHRlZGl0b3Iub24oJ2RibGNsaWNrJywgZSA9PiB7XG5cdFx0XHR0aGlzLmRibGNsaWNrLmVtaXQoZSk7XG5cdFx0fSk7XG5cdFx0ZWRpdG9yLm9uKCdtb3VzZWRvd24nLCBlID0+IHtcblx0XHRcdHRoaXMubW91c2Vkb3duLmVtaXQoZSk7XG5cdFx0fSk7XG5cdFx0ZWRpdG9yLm9uKCdtb3VzZXVwJywgZSA9PiB7XG5cdFx0XHR0aGlzLm1vdXNldXAuZW1pdChlKTtcblx0XHR9KTtcblx0XHRlZGl0b3Iub24oJ21vdXNlbW92ZScsIGUgPT4ge1xuXHRcdFx0dGhpcy5tb3VzZW1vdmUuZW1pdChlKTtcblx0XHR9KTtcblx0XHRlZGl0b3Iub24oJ21vdXNlb3ZlcicsIGUgPT4ge1xuXHRcdFx0dGhpcy5tb3VzZW92ZXIuZW1pdChlKTtcblx0XHR9KTtcblx0XHRlZGl0b3Iub24oJ21vdXNlb3V0JywgZSA9PiB7XG5cdFx0XHR0aGlzLm1vdXNlb3V0LmVtaXQoZSk7XG5cdFx0fSk7XG5cdFx0ZWRpdG9yLm9uKCdtb3VzZWVudGVyJywgZSA9PiB7XG5cdFx0XHR0aGlzLm1vdXNlZW50ZXIuZW1pdChlKTtcblx0XHR9KTtcblx0XHRlZGl0b3Iub24oJ21vdXNlbGVhdmUnLCBlID0+IHtcblx0XHRcdHRoaXMubW91c2VsZWF2ZS5lbWl0KGUpO1xuXHRcdH0pO1xuXHRcdGVkaXRvci5vbigna2V5ZG93bicsIGUgPT4ge1xuXHRcdFx0dGhpcy5rZXlkb3duLmVtaXQoZSk7XG5cdFx0fSk7XG5cdFx0ZWRpdG9yLm9uKCdrZXlwcmVzcycsIGUgPT4ge1xuXHRcdFx0dGhpcy5rZXlwcmVzcy5lbWl0KGUpO1xuXHRcdH0pO1xuXHRcdGVkaXRvci5vbigna2V5dXAnLCBlID0+IHtcblx0XHRcdHRoaXMua2V5dXAuZW1pdChlKTtcblx0XHR9KTtcblx0XHRlZGl0b3Iub24oJ2NvbnRleHRtZW51JywgZSA9PiB7XG5cdFx0XHR0aGlzLmNvbnRleHRtZW51LmVtaXQoZSk7XG5cdFx0fSk7XG5cdFx0ZWRpdG9yLm9uKCdwYXN0ZScsIGUgPT4ge1xuXHRcdFx0dGhpcy5wYXN0ZS5lbWl0KGUpO1xuXHRcdH0pO1xuXHRcdGVkaXRvci5vbignaW5pdCcsIGUgPT4ge1xuXHRcdFx0dGhpcy5pbml0LmVtaXQoZSk7XG5cdFx0fSk7XG5cdFx0ZWRpdG9yLm9uKCdmb2N1cycsIGUgPT4ge1xuXHRcdFx0dGhpcy5mb2N1cy5lbWl0KGUpO1xuXHRcdH0pO1xuXHRcdGVkaXRvci5vbignYmx1cicsIGUgPT4ge1xuXHRcdFx0dGhpcy5ibHVyLmVtaXQoZSk7XG5cdFx0fSk7XG5cdFx0ZWRpdG9yLm9uKCdCZWZvcmVTZXRDb250ZW50JywgZSA9PiB7XG5cdFx0XHR0aGlzLmJlZm9yZVNldENvbnRlbnQuZW1pdChlKTtcblx0XHR9KTtcblx0XHRlZGl0b3Iub24oJ1NldENvbnRlbnQnLCBlID0+IHtcblx0XHRcdHRoaXMuc2V0Q29udGVudC5lbWl0KGUpO1xuXHRcdH0pO1xuXHRcdGVkaXRvci5vbignR2V0Q29udGVudCcsIGUgPT4ge1xuXHRcdFx0dGhpcy5nZXRDb250ZW50LmVtaXQoZSk7XG5cdFx0fSk7XG5cdFx0ZWRpdG9yLm9uKCdQcmVQcm9jZXNzJywgZSA9PiB7XG5cdFx0XHR0aGlzLnByZVByb2Nlc3MuZW1pdChlKTtcblx0XHR9KTtcblx0XHRlZGl0b3Iub24oJ1Bvc3RQcm9jZXNzJywgZSA9PiB7XG5cdFx0XHR0aGlzLnBvc3RQcm9jZXNzLmVtaXQoZSk7XG5cdFx0fSk7XG5cdFx0ZWRpdG9yLm9uKCdOb2RlQ2hhbmdlJywgZSA9PiB7XG5cdFx0XHR0aGlzLm5vZGVDaGFuZ2UuZW1pdChlKTtcblx0XHR9KTtcblx0XHRlZGl0b3Iub24oJ1VuZG8nLCBlID0+IHtcblx0XHRcdHRoaXMudW5kby5lbWl0KGUpO1xuXHRcdH0pO1xuXHRcdGVkaXRvci5vbignUmVkbycsIGUgPT4ge1xuXHRcdFx0dGhpcy5yZWRvLmVtaXQoZSk7XG5cdFx0fSk7XG5cdFx0ZWRpdG9yLm9uKCdDaGFuZ2UnLCBlID0+IHtcblx0XHRcdHRoaXMuY2hhbmdlLmVtaXQoZSk7XG5cdFx0fSk7XG5cdFx0ZWRpdG9yLm9uKCdEaXJ0eScsIGUgPT4ge1xuXHRcdFx0dGhpcy5kaXJ0eS5lbWl0KGUpO1xuXHRcdH0pO1xuXHRcdGVkaXRvci5vbignUmVtb3ZlJywgZSA9PiB7XG5cdFx0XHR0aGlzLnJlbW92ZS5lbWl0KGUpO1xuXHRcdH0pO1xuXHRcdGVkaXRvci5vbignRXhlY0NvbW1hbmQnLCBlID0+IHtcblx0XHRcdHRoaXMuZXhlY0NvbW1hbmQuZW1pdChlKTtcblx0XHR9KTtcblx0XHRlZGl0b3Iub24oJ1Bhc3RlUHJlUHJvY2VzcycsIGUgPT4ge1xuXHRcdFx0dGhpcy5wYXN0ZVByZVByb2Nlc3MuZW1pdChlKTtcblx0XHR9KTtcblx0XHRlZGl0b3Iub24oJ1Bhc3RlUG9zdFByb2Nlc3MnLCBlID0+IHtcblx0XHRcdHRoaXMucGFzdGVQb3N0UHJvY2Vzcy5lbWl0KGUpO1xuXHRcdH0pO1xuXHR9XG59XG4iLCJpbXBvcnQgeyBNb2R1bGVXaXRoUHJvdmlkZXJzLCBOZ01vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgVGlueW1jZUNvbXBvbmVudCB9IGZyb20gJy4vYW5ndWxhcjItdGlueW1jZS1saWIuY29tcG9uZW50JztcbmltcG9ydCB7IFRpbnltY2VPcHRpb25zIH0gZnJvbSAnLi9hbmd1bGFyMi10aW55bWNlLWxpYi5jb25maWcuaW50ZXJmYWNlJztcbmltcG9ydCB7IFRpbnltY2VEZWZhdWx0T3B0aW9ucyB9IGZyb20gJy4vYW5ndWxhcjItdGlueW1jZS1saWIuZGVmYXVsdCc7XG5cbkBOZ01vZHVsZSh7XG5cdGltcG9ydHM6IFtdLFxuXHRkZWNsYXJhdGlvbnM6IFtUaW55bWNlQ29tcG9uZW50XSxcblx0ZXhwb3J0czogW1RpbnltY2VDb21wb25lbnRdLFxuXHRwcm92aWRlcnM6IFtcblx0XHR7IHByb3ZpZGU6ICdUSU5ZTUNFX0NPTkZJRycsIHVzZUNsYXNzOiBUaW55bWNlRGVmYXVsdE9wdGlvbnMgfVxuXHRdXG59KVxuZXhwb3J0IGNsYXNzIFRpbnltY2VNb2R1bGUge1xuXHRzdGF0aWMgd2l0aENvbmZpZyh1c2VyQ29uZmlnOiBUaW55bWNlT3B0aW9ucyA9IHt9KTogTW9kdWxlV2l0aFByb3ZpZGVycyB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdG5nTW9kdWxlOiBUaW55bWNlTW9kdWxlLFxuXHRcdFx0cHJvdmlkZXJzOiBbXG5cdFx0XHRcdHsgcHJvdmlkZTogJ1RJTllNQ0VfQ09ORklHJywgdXNlVmFsdWU6IHVzZXJDb25maWcgfVxuXHRcdFx0XVxuXHRcdH07XG5cdH1cbn1cbiJdfQ==

    /***/

  },

  /***/
  "./node_modules/angular2-wizard/__ivy_ngcc__/dist/index.js":
  /*!*****************************************************************!*\
    !*** ./node_modules/angular2-wizard/__ivy_ngcc__/dist/index.js ***!
    \*****************************************************************/

  /*! no static exports found */

  /***/
  function node_modulesAngular2Wizard__ivy_ngcc__DistIndexJs(module, exports, __webpack_require__) {
    "use strict";

    var ɵngcc0 = __webpack_require__(
    /*! @angular/core */
    "./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");

    var ɵngcc1 = __webpack_require__(
    /*! ./src/wizard.component */
    "./node_modules/angular2-wizard/__ivy_ngcc__/dist/src/wizard.component.js");

    var ɵngcc2 = __webpack_require__(
    /*! ./src/wizard-step.component */
    "./node_modules/angular2-wizard/__ivy_ngcc__/dist/src/wizard-step.component.js");

    var ɵngcc3 = __webpack_require__(
    /*! @angular/common */
    "./node_modules/@angular/common/__ivy_ngcc__/fesm2015/common.js");

    var __decorate = this && this.__decorate || function (decorators, target, key, desc) {
      var c = arguments.length,
          r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,
          d;
      if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) {
        if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
      }
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };

    function __export(m) {
      for (var p in m) {
        if (!exports.hasOwnProperty(p)) exports[p] = m[p];
      }
    }

    var core_1 = __webpack_require__(
    /*! @angular/core */
    "./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");

    var common_1 = __webpack_require__(
    /*! @angular/common */
    "./node_modules/@angular/common/__ivy_ngcc__/fesm2015/common.js");

    var wizard_component_1 = __webpack_require__(
    /*! ./src/wizard.component */
    "./node_modules/angular2-wizard/__ivy_ngcc__/dist/src/wizard.component.js");

    var wizard_step_component_1 = __webpack_require__(
    /*! ./src/wizard-step.component */
    "./node_modules/angular2-wizard/__ivy_ngcc__/dist/src/wizard-step.component.js");

    __export(__webpack_require__(
    /*! ./src/wizard.component */
    "./node_modules/angular2-wizard/__ivy_ngcc__/dist/src/wizard.component.js"));

    __export(__webpack_require__(
    /*! ./src/wizard-step.component */
    "./node_modules/angular2-wizard/__ivy_ngcc__/dist/src/wizard-step.component.js"));

    var FormWizardModule = FormWizardModule_1 = function () {
      function FormWizardModule() {}

      FormWizardModule.forRoot = function () {
        return {
          ngModule: FormWizardModule_1
        };
      };

      FormWizardModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({
        type: FormWizardModule
      });
      FormWizardModule.ɵinj = ɵngcc0.ɵɵdefineInjector({
        factory: function FormWizardModule_Factory(t) {
          return new (t || FormWizardModule)();
        },
        imports: [[common_1.CommonModule]]
      });

      (function () {
        (typeof ngJitMode === "undefined" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(FormWizardModule, {
          declarations: [ɵngcc1.WizardComponent, ɵngcc2.WizardStepComponent],
          imports: [ɵngcc3.CommonModule],
          exports: [ɵngcc1.WizardComponent, ɵngcc2.WizardStepComponent]
        });
      })();
      /*@__PURE__*/


      (function () {
        ɵngcc0.ɵsetClassMetadata(FormWizardModule, [{
          type: core_1.NgModule,
          args: [{
            imports: [common_1.CommonModule],
            declarations: [wizard_component_1.WizardComponent, wizard_step_component_1.WizardStepComponent],
            exports: [wizard_component_1.WizardComponent, wizard_step_component_1.WizardStepComponent]
          }]
        }], function () {
          return [];
        }, null);
      })();

      return FormWizardModule;
    }();

    exports.FormWizardModule = FormWizardModule;
    var FormWizardModule_1; //# sourceMappingURL=index.js.map

    /***/
  },

  /***/
  "./node_modules/angular2-wizard/__ivy_ngcc__/dist/src/wizard-step.component.js":
  /*!*************************************************************************************!*\
    !*** ./node_modules/angular2-wizard/__ivy_ngcc__/dist/src/wizard-step.component.js ***!
    \*************************************************************************************/

  /*! no static exports found */

  /***/
  function node_modulesAngular2Wizard__ivy_ngcc__DistSrcWizardStepComponentJs(module, exports, __webpack_require__) {
    "use strict";

    var ɵngcc0 = __webpack_require__(
    /*! @angular/core */
    "./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");

    var _c0 = ["*"];

    var __decorate = this && this.__decorate || function (decorators, target, key, desc) {
      var c = arguments.length,
          r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,
          d;
      if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) {
        if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
      }
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };

    var __metadata = this && this.__metadata || function (k, v) {
      if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
    };

    var core_1 = __webpack_require__(
    /*! @angular/core */
    "./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");

    var WizardStepComponent = function () {
      function WizardStepComponent() {
        this.hidden = false;
        this.isValid = true;
        this.showNext = true;
        this.showPrev = true;
        this.onNext = new core_1.EventEmitter();
        this.onPrev = new core_1.EventEmitter();
        this.onComplete = new core_1.EventEmitter();
        this._isActive = false;
        this.isDisabled = true;
      }

      Object.defineProperty(WizardStepComponent.prototype, "isActive", {
        get: function get() {
          return this._isActive;
        },
        set: function set(isActive) {
          this._isActive = isActive;
          this.isDisabled = false;
        },
        enumerable: true,
        configurable: true
      });

      WizardStepComponent.ɵfac = function WizardStepComponent_Factory(t) {
        return new (t || WizardStepComponent)();
      };

      WizardStepComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({
        type: WizardStepComponent,
        selectors: [["wizard-step"]],
        inputs: {
          hidden: "hidden",
          isValid: "isValid",
          showNext: "showNext",
          showPrev: "showPrev",
          isActive: "isActive",
          title: "title"
        },
        outputs: {
          onNext: "onNext",
          onPrev: "onPrev",
          onComplete: "onComplete"
        },
        ngContentSelectors: _c0,
        decls: 2,
        vars: 1,
        consts: [[3, "hidden"]],
        template: function WizardStepComponent_Template(rf, ctx) {
          if (rf & 1) {
            ɵngcc0.ɵɵprojectionDef();
            ɵngcc0.ɵɵelementStart(0, "div", 0);
            ɵngcc0.ɵɵprojection(1);
            ɵngcc0.ɵɵelementEnd();
          }

          if (rf & 2) {
            ɵngcc0.ɵɵproperty("hidden", !ctx.isActive);
          }
        },
        encapsulation: 2
      });
      /*@__PURE__*/

      (function () {
        ɵngcc0.ɵsetClassMetadata(WizardStepComponent, [{
          type: core_1.Component,
          args: [{
            selector: 'wizard-step',
            template: "\n    <div [hidden]=\"!isActive\">\n      <ng-content></ng-content>\n    </div>\n  "
          }]
        }], function () {
          return [];
        }, {
          hidden: [{
            type: core_1.Input
          }],
          isValid: [{
            type: core_1.Input
          }],
          showNext: [{
            type: core_1.Input
          }],
          showPrev: [{
            type: core_1.Input
          }],
          onNext: [{
            type: core_1.Output
          }],
          onPrev: [{
            type: core_1.Output
          }],
          onComplete: [{
            type: core_1.Output
          }],
          isActive: [{
            type: core_1.Input,
            args: ['isActive']
          }],
          title: [{
            type: core_1.Input
          }]
        });
      })();

      return WizardStepComponent;
    }();

    __decorate([core_1.Input(), __metadata("design:type", String)], WizardStepComponent.prototype, "title", void 0);

    __decorate([core_1.Input(), __metadata("design:type", Boolean)], WizardStepComponent.prototype, "hidden", void 0);

    __decorate([core_1.Input(), __metadata("design:type", Boolean)], WizardStepComponent.prototype, "isValid", void 0);

    __decorate([core_1.Input(), __metadata("design:type", Boolean)], WizardStepComponent.prototype, "showNext", void 0);

    __decorate([core_1.Input(), __metadata("design:type", Boolean)], WizardStepComponent.prototype, "showPrev", void 0);

    __decorate([core_1.Output(), __metadata("design:type", core_1.EventEmitter)], WizardStepComponent.prototype, "onNext", void 0);

    __decorate([core_1.Output(), __metadata("design:type", core_1.EventEmitter)], WizardStepComponent.prototype, "onPrev", void 0);

    __decorate([core_1.Output(), __metadata("design:type", core_1.EventEmitter)], WizardStepComponent.prototype, "onComplete", void 0);

    __decorate([core_1.Input('isActive'), __metadata("design:type", Boolean), __metadata("design:paramtypes", [Boolean])], WizardStepComponent.prototype, "isActive", null);

    WizardStepComponent = __decorate([__metadata("design:paramtypes", [])], WizardStepComponent);
    exports.WizardStepComponent = WizardStepComponent; //# sourceMappingURL=wizard-step.component.js.map

    /***/
  },

  /***/
  "./node_modules/angular2-wizard/__ivy_ngcc__/dist/src/wizard.component.js":
  /*!********************************************************************************!*\
    !*** ./node_modules/angular2-wizard/__ivy_ngcc__/dist/src/wizard.component.js ***!
    \********************************************************************************/

  /*! no static exports found */

  /***/
  function node_modulesAngular2Wizard__ivy_ngcc__DistSrcWizardComponentJs(module, exports, __webpack_require__) {
    "use strict";

    var ɵngcc0 = __webpack_require__(
    /*! @angular/core */
    "./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");

    var ɵngcc1 = __webpack_require__(
    /*! @angular/common */
    "./node_modules/@angular/common/__ivy_ngcc__/fesm2015/common.js");

    var _c0 = function _c0(a0, a1, a2, a3) {
      return {
        "active": a0,
        "enabled": a1,
        "disabled": a2,
        "completed": a3
      };
    };

    function WizardComponent_li_3_Template(rf, ctx) {
      if (rf & 1) {
        var _r3 = ɵngcc0.ɵɵgetCurrentView();

        ɵngcc0.ɵɵelementStart(0, "li", 8);
        ɵngcc0.ɵɵelementStart(1, "a", 9);
        ɵngcc0.ɵɵlistener("click", function WizardComponent_li_3_Template_a_click_1_listener() {
          ɵngcc0.ɵɵrestoreView(_r3);
          var step_r1 = ctx.$implicit;
          var ctx_r2 = ɵngcc0.ɵɵnextContext();
          return ctx_r2.goToStep(step_r1);
        });
        ɵngcc0.ɵɵtext(2);
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
      }

      if (rf & 2) {
        var step_r1 = ctx.$implicit;
        var ctx_r0 = ɵngcc0.ɵɵnextContext();
        ɵngcc0.ɵɵproperty("ngClass", ɵngcc0.ɵɵpureFunction4(2, _c0, step_r1.isActive, !step_r1.isDisabled, step_r1.isDisabled, ctx_r0.isCompleted));
        ɵngcc0.ɵɵadvance(2);
        ɵngcc0.ɵɵtextInterpolate(step_r1.title);
      }
    }

    var _c1 = ["*"];

    var __decorate = this && this.__decorate || function (decorators, target, key, desc) {
      var c = arguments.length,
          r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,
          d;
      if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) {
        if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
      }
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };

    var __metadata = this && this.__metadata || function (k, v) {
      if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
    };

    var core_1 = __webpack_require__(
    /*! @angular/core */
    "./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");

    var wizard_step_component_1 = __webpack_require__(
    /*! ./wizard-step.component */
    "./node_modules/angular2-wizard/__ivy_ngcc__/dist/src/wizard-step.component.js");

    var WizardComponent = function () {
      function WizardComponent() {
        this._steps = [];
        this._isCompleted = false;
        this.onStepChanged = new core_1.EventEmitter();
      }

      WizardComponent.prototype.ngAfterContentInit = function () {
        var _this = this;

        this.wizardSteps.forEach(function (step) {
          return _this._steps.push(step);
        });
        this.steps[0].isActive = true;
      };

      Object.defineProperty(WizardComponent.prototype, "steps", {
        get: function get() {
          return this._steps.filter(function (step) {
            return !step.hidden;
          });
        },
        enumerable: true,
        configurable: true
      });
      Object.defineProperty(WizardComponent.prototype, "isCompleted", {
        get: function get() {
          return this._isCompleted;
        },
        enumerable: true,
        configurable: true
      });
      Object.defineProperty(WizardComponent.prototype, "activeStep", {
        get: function get() {
          return this.steps.find(function (step) {
            return step.isActive;
          });
        },
        set: function set(step) {
          if (step !== this.activeStep && !step.isDisabled) {
            this.activeStep.isActive = false;
            step.isActive = true;
            this.onStepChanged.emit(step);
          }
        },
        enumerable: true,
        configurable: true
      });
      Object.defineProperty(WizardComponent.prototype, "activeStepIndex", {
        get: function get() {
          return this.steps.indexOf(this.activeStep);
        },
        enumerable: true,
        configurable: true
      });
      Object.defineProperty(WizardComponent.prototype, "hasNextStep", {
        get: function get() {
          return this.activeStepIndex < this.steps.length - 1;
        },
        enumerable: true,
        configurable: true
      });
      Object.defineProperty(WizardComponent.prototype, "hasPrevStep", {
        get: function get() {
          return this.activeStepIndex > 0;
        },
        enumerable: true,
        configurable: true
      });

      WizardComponent.prototype.goToStep = function (step) {
        if (!this.isCompleted) {
          this.activeStep = step;
        }
      };

      WizardComponent.prototype.next = function () {
        if (this.hasNextStep) {
          var nextStep = this.steps[this.activeStepIndex + 1];
          this.activeStep.onNext.emit();
          nextStep.isDisabled = false;
          this.activeStep = nextStep;
        }
      };

      WizardComponent.prototype.previous = function () {
        if (this.hasPrevStep) {
          var prevStep = this.steps[this.activeStepIndex - 1];
          this.activeStep.onPrev.emit();
          prevStep.isDisabled = false;
          this.activeStep = prevStep;
        }
      };

      WizardComponent.prototype.complete = function () {
        this.activeStep.onComplete.emit();
        this._isCompleted = true;
      };

      WizardComponent.ɵfac = function WizardComponent_Factory(t) {
        return new (t || WizardComponent)();
      };

      WizardComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({
        type: WizardComponent,
        selectors: [["form-wizard"]],
        contentQueries: function WizardComponent_ContentQueries(rf, ctx, dirIndex) {
          if (rf & 1) {
            ɵngcc0.ɵɵcontentQuery(dirIndex, wizard_step_component_1.WizardStepComponent, false);
          }

          if (rf & 2) {
            var _t;

            ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.wizardSteps = _t);
          }
        },
        outputs: {
          onStepChanged: "onStepChanged"
        },
        ngContentSelectors: _c1,
        decls: 13,
        vars: 7,
        consts: [[1, "card"], [1, "card-header"], [1, "nav", "nav-justified"], ["class", "nav-item", 3, "ngClass", 4, "ngFor", "ngForOf"], [1, "card-block"], [1, "card-footer", 3, "hidden"], ["type", "button", 1, "btn", "btn-secondary", "float-left", 3, "hidden", "click"], ["type", "button", 1, "btn", "btn-secondary", "float-right", 3, "disabled", "hidden", "click"], [1, "nav-item", 3, "ngClass"], [3, "click"]],
        template: function WizardComponent_Template(rf, ctx) {
          if (rf & 1) {
            ɵngcc0.ɵɵprojectionDef();
            ɵngcc0.ɵɵelementStart(0, "div", 0);
            ɵngcc0.ɵɵelementStart(1, "div", 1);
            ɵngcc0.ɵɵelementStart(2, "ul", 2);
            ɵngcc0.ɵɵtemplate(3, WizardComponent_li_3_Template, 3, 7, "li", 3);
            ɵngcc0.ɵɵelementEnd();
            ɵngcc0.ɵɵelementEnd();
            ɵngcc0.ɵɵelementStart(4, "div", 4);
            ɵngcc0.ɵɵprojection(5);
            ɵngcc0.ɵɵelementEnd();
            ɵngcc0.ɵɵelementStart(6, "div", 5);
            ɵngcc0.ɵɵelementStart(7, "button", 6);
            ɵngcc0.ɵɵlistener("click", function WizardComponent_Template_button_click_7_listener() {
              return ctx.previous();
            });
            ɵngcc0.ɵɵtext(8, "Previous");
            ɵngcc0.ɵɵelementEnd();
            ɵngcc0.ɵɵelementStart(9, "button", 7);
            ɵngcc0.ɵɵlistener("click", function WizardComponent_Template_button_click_9_listener() {
              return ctx.next();
            });
            ɵngcc0.ɵɵtext(10, "Next");
            ɵngcc0.ɵɵelementEnd();
            ɵngcc0.ɵɵelementStart(11, "button", 7);
            ɵngcc0.ɵɵlistener("click", function WizardComponent_Template_button_click_11_listener() {
              return ctx.complete();
            });
            ɵngcc0.ɵɵtext(12, "Done");
            ɵngcc0.ɵɵelementEnd();
            ɵngcc0.ɵɵelementEnd();
            ɵngcc0.ɵɵelementEnd();
          }

          if (rf & 2) {
            ɵngcc0.ɵɵadvance(3);
            ɵngcc0.ɵɵproperty("ngForOf", ctx.steps);
            ɵngcc0.ɵɵadvance(3);
            ɵngcc0.ɵɵproperty("hidden", ctx.isCompleted);
            ɵngcc0.ɵɵadvance(1);
            ɵngcc0.ɵɵproperty("hidden", !ctx.hasPrevStep || !ctx.activeStep.showPrev);
            ɵngcc0.ɵɵadvance(2);
            ɵngcc0.ɵɵproperty("disabled", !ctx.activeStep.isValid)("hidden", !ctx.hasNextStep || !ctx.activeStep.showNext);
            ɵngcc0.ɵɵadvance(2);
            ɵngcc0.ɵɵproperty("disabled", !ctx.activeStep.isValid)("hidden", ctx.hasNextStep);
          }
        },
        directives: [ɵngcc1.NgForOf, ɵngcc1.NgClass],
        styles: [".card[_ngcontent-%COMP%] { height: 100%; }", ".card-header[_ngcontent-%COMP%] { background-color: #fff; padding: 0; font-size: 1.25rem; }", ".card-block[_ngcontent-%COMP%] { overflow-y: auto; }", ".card-footer[_ngcontent-%COMP%] { background-color: #fff; border-top: 0 none; }", ".nav-item[_ngcontent-%COMP%] { padding: 1rem 0rem; border-bottom: 0.5rem solid #ccc; }", ".active[_ngcontent-%COMP%] { font-weight: bold; color: black; border-bottom-color: #1976D2 !important; }", ".enabled[_ngcontent-%COMP%] { cursor: pointer; border-bottom-color: rgb(88, 162, 234); }", ".disabled[_ngcontent-%COMP%] { color: #ccc; }", ".completed[_ngcontent-%COMP%] { cursor: default; }"]
      });
      /*@__PURE__*/

      (function () {
        ɵngcc0.ɵsetClassMetadata(WizardComponent, [{
          type: core_1.Component,
          args: [{
            selector: 'form-wizard',
            template: "<div class=\"card\">\n    <div class=\"card-header\">\n      <ul class=\"nav nav-justified\">\n        <li class=\"nav-item\" *ngFor=\"let step of steps\" [ngClass]=\"{'active': step.isActive, 'enabled': !step.isDisabled, 'disabled': step.isDisabled, 'completed': isCompleted}\">\n          <a (click)=\"goToStep(step)\">{{step.title}}</a>\n        </li>\n      </ul>\n    </div>\n    <div class=\"card-block\">\n      <ng-content></ng-content>\n    </div>\n    <div class=\"card-footer\" [hidden]=\"isCompleted\">\n        <button type=\"button\" class=\"btn btn-secondary float-left\" (click)=\"previous()\" [hidden]=\"!hasPrevStep || !activeStep.showPrev\">Previous</button>\n        <button type=\"button\" class=\"btn btn-secondary float-right\" (click)=\"next()\" [disabled]=\"!activeStep.isValid\" [hidden]=\"!hasNextStep || !activeStep.showNext\">Next</button>\n        <button type=\"button\" class=\"btn btn-secondary float-right\" (click)=\"complete()\" [disabled]=\"!activeStep.isValid\" [hidden]=\"hasNextStep\">Done</button>\n    </div>\n  </div>",
            styles: ['.card { height: 100%; }', '.card-header { background-color: #fff; padding: 0; font-size: 1.25rem; }', '.card-block { overflow-y: auto; }', '.card-footer { background-color: #fff; border-top: 0 none; }', '.nav-item { padding: 1rem 0rem; border-bottom: 0.5rem solid #ccc; }', '.active { font-weight: bold; color: black; border-bottom-color: #1976D2 !important; }', '.enabled { cursor: pointer; border-bottom-color: rgb(88, 162, 234); }', '.disabled { color: #ccc; }', '.completed { cursor: default; }']
          }]
        }], function () {
          return [];
        }, {
          onStepChanged: [{
            type: core_1.Output
          }],
          wizardSteps: [{
            type: core_1.ContentChildren,
            args: [wizard_step_component_1.WizardStepComponent]
          }]
        });
      })();

      return WizardComponent;
    }();

    __decorate([core_1.ContentChildren(wizard_step_component_1.WizardStepComponent), __metadata("design:type", core_1.QueryList)], WizardComponent.prototype, "wizardSteps", void 0);

    __decorate([core_1.Output(), __metadata("design:type", core_1.EventEmitter)], WizardComponent.prototype, "onStepChanged", void 0);

    WizardComponent = __decorate([__metadata("design:paramtypes", [])], WizardComponent);
    exports.WizardComponent = WizardComponent; //# sourceMappingURL=wizard.component.js.map

    /***/
  },

  /***/
  "./node_modules/ngx-color-picker/__ivy_ngcc__/fesm2015/ngx-color-picker.js":
  /*!*********************************************************************************!*\
    !*** ./node_modules/ngx-color-picker/__ivy_ngcc__/fesm2015/ngx-color-picker.js ***!
    \*********************************************************************************/

  /*! exports provided: Cmyk, ColorPickerComponent, ColorPickerDirective, ColorPickerModule, ColorPickerService, Hsla, Hsva, Rgba, SliderDirective, TextDirective */

  /***/
  function node_modulesNgxColorPicker__ivy_ngcc__Fesm2015NgxColorPickerJs(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "Cmyk", function () {
      return Cmyk;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "ColorPickerComponent", function () {
      return ColorPickerComponent;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "ColorPickerDirective", function () {
      return ColorPickerDirective;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "ColorPickerModule", function () {
      return ColorPickerModule;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "ColorPickerService", function () {
      return ColorPickerService;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "Hsla", function () {
      return Hsla;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "Hsva", function () {
      return Hsva;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "Rgba", function () {
      return Rgba;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "SliderDirective", function () {
      return SliderDirective;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "TextDirective", function () {
      return TextDirective;
    });
    /* harmony import */


    var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
    /*! tslib */
    "./node_modules/tslib/tslib.es6.js");
    /* harmony import */


    var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(
    /*! @angular/core */
    "./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");
    /* harmony import */


    var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(
    /*! @angular/common */
    "./node_modules/@angular/common/__ivy_ngcc__/fesm2015/common.js");

    var _c0 = ["dialogPopup"];
    var _c1 = ["hueSlider"];
    var _c2 = ["alphaSlider"];

    function ColorPickerComponent_div_2_Template(rf, ctx) {
      if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](0, "div");
      }

      if (rf & 2) {
        var ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵclassMapInterpolate1"]("arrow arrow-", ctx_r1.cpUsePosition, "");

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵstyleProp"]("top", ctx_r1.arrowTop, "px");
      }
    }

    function ColorPickerComponent_div_3_Template(rf, ctx) {
      if (rf & 1) {
        var _r17 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵgetCurrentView"]();

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 26);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("newValue", function ColorPickerComponent_div_3_Template_div_newValue_0_listener($event) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r17);

          var ctx_r16 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();

          return ctx_r16.onColorChange($event);
        })("dragStart", function ColorPickerComponent_div_3_Template_div_dragStart_0_listener() {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r17);

          var ctx_r18 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();

          return ctx_r18.onDragStart("saturation-lightness");
        })("dragEnd", function ColorPickerComponent_div_3_Template_div_dragEnd_0_listener() {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r17);

          var ctx_r19 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();

          return ctx_r19.onDragEnd("saturation-lightness");
        });

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](1, "div", 13);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      }

      if (rf & 2) {
        var ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵstyleProp"]("background-color", ctx_r2.hueSliderColor);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("rgX", 1)("rgY", 1);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵstyleProp"]("top", ctx_r2.slider == null ? null : ctx_r2.slider.v, "px")("left", ctx_r2.slider == null ? null : ctx_r2.slider.s, "px");
      }
    }

    function ColorPickerComponent_button_8_Template(rf, ctx) {
      if (rf & 1) {
        var _r21 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵgetCurrentView"]();

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "button", 27);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function ColorPickerComponent_button_8_Template_button_click_0_listener($event) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r21);

          var ctx_r20 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();

          return ctx_r20.onAddPresetColor($event, ctx_r20.selectedColor);
        });

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      }

      if (rf & 2) {
        var ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵclassMap"](ctx_r3.cpAddColorButtonClass);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("disabled", ctx_r3.cpPresetColors && ctx_r3.cpPresetColors.length >= ctx_r3.cpMaxPresetColorsLength);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", ctx_r3.cpAddColorButtonText, " ");
      }
    }

    function ColorPickerComponent_div_10_Template(rf, ctx) {
      if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](0, "div", 28);
      }
    }

    function ColorPickerComponent_div_20_input_6_Template(rf, ctx) {
      if (rf & 1) {
        var _r25 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵgetCurrentView"]();

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "input", 34);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("keyup.enter", function ColorPickerComponent_div_20_input_6_Template_input_keyup_enter_0_listener($event) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r25);

          var ctx_r24 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](2);

          return ctx_r24.onAcceptColor($event);
        })("newValue", function ColorPickerComponent_div_20_input_6_Template_input_newValue_0_listener($event) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r25);

          var ctx_r26 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](2);

          return ctx_r26.onAlphaInput($event);
        });

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      }

      if (rf & 2) {
        var ctx_r22 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](2);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("rg", 1)("value", ctx_r22.cmykText == null ? null : ctx_r22.cmykText.a);
      }
    }

    function ColorPickerComponent_div_20_div_16_Template(rf, ctx) {
      if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div");

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1, "A");

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      }
    }

    function ColorPickerComponent_div_20_Template(rf, ctx) {
      if (rf & 1) {
        var _r28 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵgetCurrentView"]();

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 29);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](1, "div", 30);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](2, "input", 31);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("keyup.enter", function ColorPickerComponent_div_20_Template_input_keyup_enter_2_listener($event) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r28);

          var ctx_r27 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();

          return ctx_r27.onAcceptColor($event);
        })("newValue", function ColorPickerComponent_div_20_Template_input_newValue_2_listener($event) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r28);

          var ctx_r29 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();

          return ctx_r29.onCyanInput($event);
        });

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](3, "input", 31);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("keyup.enter", function ColorPickerComponent_div_20_Template_input_keyup_enter_3_listener($event) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r28);

          var ctx_r30 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();

          return ctx_r30.onAcceptColor($event);
        })("newValue", function ColorPickerComponent_div_20_Template_input_newValue_3_listener($event) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r28);

          var ctx_r31 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();

          return ctx_r31.onMagentaInput($event);
        });

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](4, "input", 31);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("keyup.enter", function ColorPickerComponent_div_20_Template_input_keyup_enter_4_listener($event) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r28);

          var ctx_r32 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();

          return ctx_r32.onAcceptColor($event);
        })("newValue", function ColorPickerComponent_div_20_Template_input_newValue_4_listener($event) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r28);

          var ctx_r33 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();

          return ctx_r33.onYellowInput($event);
        });

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](5, "input", 31);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("keyup.enter", function ColorPickerComponent_div_20_Template_input_keyup_enter_5_listener($event) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r28);

          var ctx_r34 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();

          return ctx_r34.onAcceptColor($event);
        })("newValue", function ColorPickerComponent_div_20_Template_input_newValue_5_listener($event) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r28);

          var ctx_r35 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();

          return ctx_r35.onBlackInput($event);
        });

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](6, ColorPickerComponent_div_20_input_6_Template, 1, 2, "input", 32);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](7, "div", 30);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](8, "div");

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](9, "C");

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](10, "div");

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](11, "M");

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](12, "div");

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](13, "Y");

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](14, "div");

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](15, "K");

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](16, ColorPickerComponent_div_20_div_16_Template, 2, 0, "div", 33);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      }

      if (rf & 2) {
        var ctx_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵstyleProp"]("display", ctx_r8.format !== 3 ? "none" : "block");

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("rg", 100)("value", ctx_r8.cmykText == null ? null : ctx_r8.cmykText.c);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("rg", 100)("value", ctx_r8.cmykText == null ? null : ctx_r8.cmykText.m);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("rg", 100)("value", ctx_r8.cmykText == null ? null : ctx_r8.cmykText.y);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("rg", 100)("value", ctx_r8.cmykText == null ? null : ctx_r8.cmykText.k);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx_r8.cpAlphaChannel !== "disabled");

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](10);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx_r8.cpAlphaChannel !== "disabled");
      }
    }

    function ColorPickerComponent_div_21_input_5_Template(rf, ctx) {
      if (rf & 1) {
        var _r39 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵgetCurrentView"]();

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "input", 34);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("keyup.enter", function ColorPickerComponent_div_21_input_5_Template_input_keyup_enter_0_listener($event) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r39);

          var ctx_r38 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](2);

          return ctx_r38.onAcceptColor($event);
        })("newValue", function ColorPickerComponent_div_21_input_5_Template_input_newValue_0_listener($event) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r39);

          var ctx_r40 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](2);

          return ctx_r40.onAlphaInput($event);
        });

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      }

      if (rf & 2) {
        var ctx_r36 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](2);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("rg", 1)("value", ctx_r36.hslaText == null ? null : ctx_r36.hslaText.a);
      }
    }

    function ColorPickerComponent_div_21_div_13_Template(rf, ctx) {
      if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div");

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1, "A");

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      }
    }

    function ColorPickerComponent_div_21_Template(rf, ctx) {
      if (rf & 1) {
        var _r42 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵgetCurrentView"]();

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 35);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](1, "div", 30);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](2, "input", 36);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("keyup.enter", function ColorPickerComponent_div_21_Template_input_keyup_enter_2_listener($event) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r42);

          var ctx_r41 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();

          return ctx_r41.onAcceptColor($event);
        })("newValue", function ColorPickerComponent_div_21_Template_input_newValue_2_listener($event) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r42);

          var ctx_r43 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();

          return ctx_r43.onHueInput($event);
        });

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](3, "input", 31);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("keyup.enter", function ColorPickerComponent_div_21_Template_input_keyup_enter_3_listener($event) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r42);

          var ctx_r44 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();

          return ctx_r44.onAcceptColor($event);
        })("newValue", function ColorPickerComponent_div_21_Template_input_newValue_3_listener($event) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r42);

          var ctx_r45 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();

          return ctx_r45.onSaturationInput($event);
        });

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](4, "input", 31);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("keyup.enter", function ColorPickerComponent_div_21_Template_input_keyup_enter_4_listener($event) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r42);

          var ctx_r46 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();

          return ctx_r46.onAcceptColor($event);
        })("newValue", function ColorPickerComponent_div_21_Template_input_newValue_4_listener($event) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r42);

          var ctx_r47 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();

          return ctx_r47.onLightnessInput($event);
        });

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](5, ColorPickerComponent_div_21_input_5_Template, 1, 2, "input", 32);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](6, "div", 30);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](7, "div");

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](8, "H");

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](9, "div");

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](10, "S");

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](11, "div");

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](12, "L");

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](13, ColorPickerComponent_div_21_div_13_Template, 2, 0, "div", 33);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      }

      if (rf & 2) {
        var ctx_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵstyleProp"]("display", ctx_r9.format !== 2 ? "none" : "block");

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("rg", 360)("value", ctx_r9.hslaText == null ? null : ctx_r9.hslaText.h);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("rg", 100)("value", ctx_r9.hslaText == null ? null : ctx_r9.hslaText.s);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("rg", 100)("value", ctx_r9.hslaText == null ? null : ctx_r9.hslaText.l);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx_r9.cpAlphaChannel !== "disabled");

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](8);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx_r9.cpAlphaChannel !== "disabled");
      }
    }

    function ColorPickerComponent_div_22_input_5_Template(rf, ctx) {
      if (rf & 1) {
        var _r51 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵgetCurrentView"]();

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "input", 34);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("keyup.enter", function ColorPickerComponent_div_22_input_5_Template_input_keyup_enter_0_listener($event) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r51);

          var ctx_r50 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](2);

          return ctx_r50.onAcceptColor($event);
        })("newValue", function ColorPickerComponent_div_22_input_5_Template_input_newValue_0_listener($event) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r51);

          var ctx_r52 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](2);

          return ctx_r52.onAlphaInput($event);
        });

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      }

      if (rf & 2) {
        var ctx_r48 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](2);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("rg", 1)("value", ctx_r48.rgbaText == null ? null : ctx_r48.rgbaText.a);
      }
    }

    function ColorPickerComponent_div_22_div_13_Template(rf, ctx) {
      if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div");

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1, "A");

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      }
    }

    function ColorPickerComponent_div_22_Template(rf, ctx) {
      if (rf & 1) {
        var _r54 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵgetCurrentView"]();

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 37);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](1, "div", 30);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](2, "input", 38);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("keyup.enter", function ColorPickerComponent_div_22_Template_input_keyup_enter_2_listener($event) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r54);

          var ctx_r53 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();

          return ctx_r53.onAcceptColor($event);
        })("newValue", function ColorPickerComponent_div_22_Template_input_newValue_2_listener($event) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r54);

          var ctx_r55 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();

          return ctx_r55.onRedInput($event);
        });

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](3, "input", 38);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("keyup.enter", function ColorPickerComponent_div_22_Template_input_keyup_enter_3_listener($event) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r54);

          var ctx_r56 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();

          return ctx_r56.onAcceptColor($event);
        })("newValue", function ColorPickerComponent_div_22_Template_input_newValue_3_listener($event) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r54);

          var ctx_r57 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();

          return ctx_r57.onGreenInput($event);
        });

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](4, "input", 38);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("keyup.enter", function ColorPickerComponent_div_22_Template_input_keyup_enter_4_listener($event) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r54);

          var ctx_r58 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();

          return ctx_r58.onAcceptColor($event);
        })("newValue", function ColorPickerComponent_div_22_Template_input_newValue_4_listener($event) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r54);

          var ctx_r59 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();

          return ctx_r59.onBlueInput($event);
        });

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](5, ColorPickerComponent_div_22_input_5_Template, 1, 2, "input", 32);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](6, "div", 30);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](7, "div");

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](8, "R");

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](9, "div");

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](10, "G");

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](11, "div");

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](12, "B");

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](13, ColorPickerComponent_div_22_div_13_Template, 2, 0, "div", 33);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      }

      if (rf & 2) {
        var ctx_r10 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵstyleProp"]("display", ctx_r10.format !== 1 ? "none" : "block");

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("rg", 255)("value", ctx_r10.rgbaText == null ? null : ctx_r10.rgbaText.r);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("rg", 255)("value", ctx_r10.rgbaText == null ? null : ctx_r10.rgbaText.g);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("rg", 255)("value", ctx_r10.rgbaText == null ? null : ctx_r10.rgbaText.b);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx_r10.cpAlphaChannel !== "disabled");

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](8);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx_r10.cpAlphaChannel !== "disabled");
      }
    }

    function ColorPickerComponent_div_23_input_3_Template(rf, ctx) {
      if (rf & 1) {
        var _r63 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵgetCurrentView"]();

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "input", 34);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("keyup.enter", function ColorPickerComponent_div_23_input_3_Template_input_keyup_enter_0_listener($event) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r63);

          var ctx_r62 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](2);

          return ctx_r62.onAcceptColor($event);
        })("newValue", function ColorPickerComponent_div_23_input_3_Template_input_newValue_0_listener($event) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r63);

          var ctx_r64 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](2);

          return ctx_r64.onAlphaInput($event);
        });

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      }

      if (rf & 2) {
        var ctx_r60 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](2);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("rg", 1)("value", ctx_r60.hexAlpha);
      }
    }

    function ColorPickerComponent_div_23_div_7_Template(rf, ctx) {
      if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div");

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1, "A");

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      }
    }

    function ColorPickerComponent_div_23_Template(rf, ctx) {
      if (rf & 1) {
        var _r66 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵgetCurrentView"]();

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 39);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](1, "div", 30);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](2, "input", 40);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("blur", function ColorPickerComponent_div_23_Template_input_blur_2_listener() {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r66);

          var ctx_r65 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();

          return ctx_r65.onHexInput(null);
        })("keyup.enter", function ColorPickerComponent_div_23_Template_input_keyup_enter_2_listener($event) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r66);

          var ctx_r67 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();

          return ctx_r67.onAcceptColor($event);
        })("newValue", function ColorPickerComponent_div_23_Template_input_newValue_2_listener($event) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r66);

          var ctx_r68 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();

          return ctx_r68.onHexInput($event);
        });

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](3, ColorPickerComponent_div_23_input_3_Template, 1, 2, "input", 32);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](4, "div", 30);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](5, "div");

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](6, "Hex");

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](7, ColorPickerComponent_div_23_div_7_Template, 2, 0, "div", 33);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      }

      if (rf & 2) {
        var ctx_r11 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵstyleProp"]("display", ctx_r11.format !== 0 ? "none" : "block");

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵclassProp"]("hex-alpha", ctx_r11.cpAlphaChannel === "forced");

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("value", ctx_r11.hexText);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx_r11.cpAlphaChannel === "forced");

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](4);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx_r11.cpAlphaChannel === "forced");
      }
    }

    function ColorPickerComponent_div_24_input_3_Template(rf, ctx) {
      if (rf & 1) {
        var _r71 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵgetCurrentView"]();

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "input", 34);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("keyup.enter", function ColorPickerComponent_div_24_input_3_Template_input_keyup_enter_0_listener($event) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r71);

          var ctx_r70 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](2);

          return ctx_r70.onAcceptColor($event);
        })("newValue", function ColorPickerComponent_div_24_input_3_Template_input_newValue_0_listener($event) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r71);

          var ctx_r72 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](2);

          return ctx_r72.onAlphaInput($event);
        });

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      }

      if (rf & 2) {
        var ctx_r69 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](2);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("rg", 1)("value", ctx_r69.hslaText == null ? null : ctx_r69.hslaText.a);
      }
    }

    function ColorPickerComponent_div_24_Template(rf, ctx) {
      if (rf & 1) {
        var _r74 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵgetCurrentView"]();

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 41);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](1, "div", 30);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](2, "input", 31);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("keyup.enter", function ColorPickerComponent_div_24_Template_input_keyup_enter_2_listener($event) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r74);

          var ctx_r73 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();

          return ctx_r73.onAcceptColor($event);
        })("newValue", function ColorPickerComponent_div_24_Template_input_newValue_2_listener($event) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r74);

          var ctx_r75 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();

          return ctx_r75.onValueInput($event);
        });

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](3, ColorPickerComponent_div_24_input_3_Template, 1, 2, "input", 32);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](4, "div", 30);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](5, "div");

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](6, "V");

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](7, "div");

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](8, "A");

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      }

      if (rf & 2) {
        var ctx_r12 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("rg", 100)("value", ctx_r12.hslaText == null ? null : ctx_r12.hslaText.l);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx_r12.cpAlphaChannel !== "disabled");
      }
    }

    function ColorPickerComponent_div_25_Template(rf, ctx) {
      if (rf & 1) {
        var _r77 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵgetCurrentView"]();

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 42);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](1, "span", 43);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function ColorPickerComponent_div_25_Template_span_click_1_listener() {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r77);

          var ctx_r76 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();

          return ctx_r76.onFormatToggle(0 - 1);
        });

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](2, "span", 43);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function ColorPickerComponent_div_25_Template_span_click_2_listener() {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r77);

          var ctx_r78 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();

          return ctx_r78.onFormatToggle(1);
        });

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      }
    }

    function ColorPickerComponent_div_26_div_4_div_1_span_1_Template(rf, ctx) {
      if (rf & 1) {
        var _r85 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵgetCurrentView"]();

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "span", 50);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function ColorPickerComponent_div_26_div_4_div_1_span_1_Template_span_click_0_listener($event) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r85);

          var color_r82 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]().$implicit;

          var ctx_r84 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](3);

          return ctx_r84.onRemovePresetColor($event, color_r82);
        });

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      }

      if (rf & 2) {
        var ctx_r83 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](4);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵclassMap"](ctx_r83.cpRemoveColorButtonClass);
      }
    }

    function ColorPickerComponent_div_26_div_4_div_1_Template(rf, ctx) {
      if (rf & 1) {
        var _r88 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵgetCurrentView"]();

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 48);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function ColorPickerComponent_div_26_div_4_div_1_Template_div_click_0_listener() {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r88);

          var color_r82 = ctx.$implicit;

          var ctx_r87 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](3);

          return ctx_r87.setColorFromString(color_r82);
        });

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](1, ColorPickerComponent_div_26_div_4_div_1_span_1_Template, 1, 3, "span", 49);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      }

      if (rf & 2) {
        var color_r82 = ctx.$implicit;

        var ctx_r81 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](3);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵstyleProp"]("background-color", color_r82);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx_r81.cpAddColorButton);
      }
    }

    function ColorPickerComponent_div_26_div_4_Template(rf, ctx) {
      if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div");

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](1, ColorPickerComponent_div_26_div_4_div_1_Template, 2, 3, "div", 47);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      }

      if (rf & 2) {
        var ctx_r79 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](2);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵclassMap"](ctx_r79.cpPresetColorsClass);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngForOf", ctx_r79.cpPresetColors);
      }
    }

    function ColorPickerComponent_div_26_div_5_Template(rf, ctx) {
      if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div");

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      }

      if (rf & 2) {
        var ctx_r80 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](2);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵclassMap"](ctx_r80.cpPresetEmptyMessageClass);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](ctx_r80.cpPresetEmptyMessage);
      }
    }

    function ColorPickerComponent_div_26_Template(rf, ctx) {
      if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 44);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](1, "hr");

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](2, "div", 45);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](3);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](4, ColorPickerComponent_div_26_div_4_Template, 2, 4, "div", 46);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](5, ColorPickerComponent_div_26_div_5_Template, 2, 4, "div", 46);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      }

      if (rf & 2) {
        var ctx_r14 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](ctx_r14.cpPresetLabel);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx_r14.cpPresetColors == null ? null : ctx_r14.cpPresetColors.length);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", !(ctx_r14.cpPresetColors == null ? null : ctx_r14.cpPresetColors.length) && ctx_r14.cpAddColorButton);
      }
    }

    function ColorPickerComponent_div_27_button_1_Template(rf, ctx) {
      if (rf & 1) {
        var _r92 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵgetCurrentView"]();

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "button", 53);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function ColorPickerComponent_div_27_button_1_Template_button_click_0_listener($event) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r92);

          var ctx_r91 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](2);

          return ctx_r91.onCancelColor($event);
        });

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      }

      if (rf & 2) {
        var ctx_r89 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](2);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵclassMap"](ctx_r89.cpCancelButtonClass);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](ctx_r89.cpCancelButtonText);
      }
    }

    function ColorPickerComponent_div_27_button_2_Template(rf, ctx) {
      if (rf & 1) {
        var _r94 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵgetCurrentView"]();

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "button", 53);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function ColorPickerComponent_div_27_button_2_Template_button_click_0_listener($event) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r94);

          var ctx_r93 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](2);

          return ctx_r93.onAcceptColor($event);
        });

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      }

      if (rf & 2) {
        var ctx_r90 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](2);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵclassMap"](ctx_r90.cpOKButtonClass);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](ctx_r90.cpOKButtonText);
      }
    }

    function ColorPickerComponent_div_27_Template(rf, ctx) {
      if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 51);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](1, ColorPickerComponent_div_27_button_1_Template, 2, 4, "button", 52);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](2, ColorPickerComponent_div_27_button_2_Template, 2, 4, "button", 52);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      }

      if (rf & 2) {
        var ctx_r15 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx_r15.cpCancelButton);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);

        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx_r15.cpOKButton);
      }
    }

    var ColorFormats;

    (function (ColorFormats) {
      ColorFormats[ColorFormats["HEX"] = 0] = "HEX";
      ColorFormats[ColorFormats["RGBA"] = 1] = "RGBA";
      ColorFormats[ColorFormats["HSLA"] = 2] = "HSLA";
      ColorFormats[ColorFormats["CMYK"] = 3] = "CMYK";
    })(ColorFormats || (ColorFormats = {}));

    var Rgba = function Rgba(r, g, b, a) {
      _classCallCheck(this, Rgba);

      this.r = r;
      this.g = g;
      this.b = b;
      this.a = a;
    };

    var Hsva = function Hsva(h, s, v, a) {
      _classCallCheck(this, Hsva);

      this.h = h;
      this.s = s;
      this.v = v;
      this.a = a;
    };

    var Hsla = function Hsla(h, s, l, a) {
      _classCallCheck(this, Hsla);

      this.h = h;
      this.s = s;
      this.l = l;
      this.a = a;
    };

    var Cmyk = function Cmyk(c, m, y, k) {
      var a = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 1;

      _classCallCheck(this, Cmyk);

      this.c = c;
      this.m = m;
      this.y = y;
      this.k = k;
      this.a = a;
    };

    function detectIE() {
      var ua = '';

      if (typeof navigator !== 'undefined') {
        ua = navigator.userAgent.toLowerCase();
      }

      var msie = ua.indexOf('msie ');

      if (msie > 0) {
        // IE 10 or older => return version number
        return parseInt(ua.substring(msie + 5, ua.indexOf('.', msie)), 10);
      } // Other browser


      return false;
    }

    var TextDirective = /*#__PURE__*/function () {
      function TextDirective() {
        _classCallCheck(this, TextDirective);

        this.newValue = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"]();
      }

      _createClass(TextDirective, [{
        key: "inputChange",
        value: function inputChange(event) {
          var value = event.target.value;

          if (this.rg === undefined) {
            this.newValue.emit(value);
          } else {
            var numeric = parseFloat(value);
            this.newValue.emit({
              v: numeric,
              rg: this.rg
            });
          }
        }
      }]);

      return TextDirective;
    }();

    TextDirective.ɵfac = function TextDirective_Factory(t) {
      return new (t || TextDirective)();
    };

    TextDirective.ɵdir = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: TextDirective,
      selectors: [["", "text", ""]],
      hostBindings: function TextDirective_HostBindings(rf, ctx) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("input", function TextDirective_input_HostBindingHandler($event) {
            return ctx.inputChange($event);
          });
        }
      },
      inputs: {
        rg: "rg",
        text: "text"
      },
      outputs: {
        newValue: "newValue"
      }
    });
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])()], TextDirective.prototype, "rg", void 0);
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])()], TextDirective.prototype, "text", void 0);
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"])()], TextDirective.prototype, "newValue", void 0);
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["HostListener"])('input', ['$event'])], TextDirective.prototype, "inputChange", null);

    var SliderDirective = /*#__PURE__*/function () {
      function SliderDirective(elRef) {
        var _this25 = this;

        _classCallCheck(this, SliderDirective);

        this.elRef = elRef;
        this.dragEnd = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"]();
        this.dragStart = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"]();
        this.newValue = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"]();

        this.listenerMove = function (event) {
          return _this25.move(event);
        };

        this.listenerStop = function () {
          return _this25.stop();
        };
      }

      _createClass(SliderDirective, [{
        key: "mouseDown",
        value: function mouseDown(event) {
          this.start(event);
        }
      }, {
        key: "touchStart",
        value: function touchStart(event) {
          this.start(event);
        }
      }, {
        key: "move",
        value: function move(event) {
          event.preventDefault();
          this.setCursor(event);
        }
      }, {
        key: "start",
        value: function start(event) {
          this.setCursor(event);
          event.stopPropagation();
          document.addEventListener('mouseup', this.listenerStop);
          document.addEventListener('touchend', this.listenerStop);
          document.addEventListener('mousemove', this.listenerMove);
          document.addEventListener('touchmove', this.listenerMove);
          this.dragStart.emit();
        }
      }, {
        key: "stop",
        value: function stop() {
          document.removeEventListener('mouseup', this.listenerStop);
          document.removeEventListener('touchend', this.listenerStop);
          document.removeEventListener('mousemove', this.listenerMove);
          document.removeEventListener('touchmove', this.listenerMove);
          this.dragEnd.emit();
        }
      }, {
        key: "getX",
        value: function getX(event) {
          var position = this.elRef.nativeElement.getBoundingClientRect();
          var pageX = event.pageX !== undefined ? event.pageX : event.touches[0].pageX;
          return pageX - position.left - window.pageXOffset;
        }
      }, {
        key: "getY",
        value: function getY(event) {
          var position = this.elRef.nativeElement.getBoundingClientRect();
          var pageY = event.pageY !== undefined ? event.pageY : event.touches[0].pageY;
          return pageY - position.top - window.pageYOffset;
        }
      }, {
        key: "setCursor",
        value: function setCursor(event) {
          var width = this.elRef.nativeElement.offsetWidth;
          var height = this.elRef.nativeElement.offsetHeight;
          var x = Math.max(0, Math.min(this.getX(event), width));
          var y = Math.max(0, Math.min(this.getY(event), height));

          if (this.rgX !== undefined && this.rgY !== undefined) {
            this.newValue.emit({
              s: x / width,
              v: 1 - y / height,
              rgX: this.rgX,
              rgY: this.rgY
            });
          } else if (this.rgX === undefined && this.rgY !== undefined) {
            this.newValue.emit({
              v: y / height,
              rgY: this.rgY
            });
          } else if (this.rgX !== undefined && this.rgY === undefined) {
            this.newValue.emit({
              v: x / width,
              rgX: this.rgX
            });
          }
        }
      }]);

      return SliderDirective;
    }();

    SliderDirective.ɵfac = function SliderDirective_Factory(t) {
      return new (t || SliderDirective)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ElementRef"]));
    };

    SliderDirective.ɵdir = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: SliderDirective,
      selectors: [["", "slider", ""]],
      hostBindings: function SliderDirective_HostBindings(rf, ctx) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("mousedown", function SliderDirective_mousedown_HostBindingHandler($event) {
            return ctx.mouseDown($event);
          })("touchstart", function SliderDirective_touchstart_HostBindingHandler($event) {
            return ctx.touchStart($event);
          });
        }
      },
      inputs: {
        rgX: "rgX",
        rgY: "rgY",
        slider: "slider"
      },
      outputs: {
        dragEnd: "dragEnd",
        dragStart: "dragStart",
        newValue: "newValue"
      }
    });

    SliderDirective.ctorParameters = function () {
      return [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["ElementRef"]
      }];
    };

    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])()], SliderDirective.prototype, "rgX", void 0);
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])()], SliderDirective.prototype, "rgY", void 0);
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])()], SliderDirective.prototype, "slider", void 0);
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"])()], SliderDirective.prototype, "dragEnd", void 0);
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"])()], SliderDirective.prototype, "dragStart", void 0);
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"])()], SliderDirective.prototype, "newValue", void 0);
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["HostListener"])('mousedown', ['$event'])], SliderDirective.prototype, "mouseDown", null);
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["HostListener"])('touchstart', ['$event'])], SliderDirective.prototype, "touchStart", null);

    var SliderPosition = function SliderPosition(h, s, v, a) {
      _classCallCheck(this, SliderPosition);

      this.h = h;
      this.s = s;
      this.v = v;
      this.a = a;
    };

    var SliderDimension = function SliderDimension(h, s, v, a) {
      _classCallCheck(this, SliderDimension);

      this.h = h;
      this.s = s;
      this.v = v;
      this.a = a;
    };

    var ColorPickerService = /*#__PURE__*/function () {
      function ColorPickerService() {
        _classCallCheck(this, ColorPickerService);

        this.active = null;
      }

      _createClass(ColorPickerService, [{
        key: "setActive",
        value: function setActive(active) {
          if (this.active && this.active !== active && this.active.cpDialogDisplay !== 'inline') {
            this.active.closeDialog();
          }

          this.active = active;
        }
      }, {
        key: "hsva2hsla",
        value: function hsva2hsla(hsva) {
          var h = hsva.h,
              s = hsva.s,
              v = hsva.v,
              a = hsva.a;

          if (v === 0) {
            return new Hsla(h, 0, 0, a);
          } else if (s === 0 && v === 1) {
            return new Hsla(h, 1, 1, a);
          } else {
            var l = v * (2 - s) / 2;
            return new Hsla(h, v * s / (1 - Math.abs(2 * l - 1)), l, a);
          }
        }
      }, {
        key: "hsla2hsva",
        value: function hsla2hsva(hsla) {
          var h = Math.min(hsla.h, 1),
              s = Math.min(hsla.s, 1);
          var l = Math.min(hsla.l, 1),
              a = Math.min(hsla.a, 1);

          if (l === 0) {
            return new Hsva(h, 0, 0, a);
          } else {
            var v = l + s * (1 - Math.abs(2 * l - 1)) / 2;
            return new Hsva(h, 2 * (v - l) / v, v, a);
          }
        }
      }, {
        key: "hsvaToRgba",
        value: function hsvaToRgba(hsva) {
          var r, g, b;
          var h = hsva.h,
              s = hsva.s,
              v = hsva.v,
              a = hsva.a;
          var i = Math.floor(h * 6);
          var f = h * 6 - i;
          var p = v * (1 - s);
          var q = v * (1 - f * s);
          var t = v * (1 - (1 - f) * s);

          switch (i % 6) {
            case 0:
              r = v, g = t, b = p;
              break;

            case 1:
              r = q, g = v, b = p;
              break;

            case 2:
              r = p, g = v, b = t;
              break;

            case 3:
              r = p, g = q, b = v;
              break;

            case 4:
              r = t, g = p, b = v;
              break;

            case 5:
              r = v, g = p, b = q;
              break;

            default:
              r = 0, g = 0, b = 0;
          }

          return new Rgba(r, g, b, a);
        }
      }, {
        key: "cmykToRgb",
        value: function cmykToRgb(cmyk) {
          var r = (1 - cmyk.c) * (1 - cmyk.k);
          var g = (1 - cmyk.m) * (1 - cmyk.k);
          var b = (1 - cmyk.y) * (1 - cmyk.k);
          return new Rgba(r, g, b, cmyk.a);
        }
      }, {
        key: "rgbaToCmyk",
        value: function rgbaToCmyk(rgba) {
          var k = 1 - Math.max(rgba.r, rgba.g, rgba.b);

          if (k === 1) {
            return new Cmyk(0, 0, 0, 1, rgba.a);
          } else {
            var c = (1 - rgba.r - k) / (1 - k);
            var m = (1 - rgba.g - k) / (1 - k);
            var y = (1 - rgba.b - k) / (1 - k);
            return new Cmyk(c, m, y, k, rgba.a);
          }
        }
      }, {
        key: "rgbaToHsva",
        value: function rgbaToHsva(rgba) {
          var h, s;
          var r = Math.min(rgba.r, 1),
              g = Math.min(rgba.g, 1);
          var b = Math.min(rgba.b, 1),
              a = Math.min(rgba.a, 1);
          var max = Math.max(r, g, b),
              min = Math.min(r, g, b);
          var v = max,
              d = max - min;
          s = max === 0 ? 0 : d / max;

          if (max === min) {
            h = 0;
          } else {
            switch (max) {
              case r:
                h = (g - b) / d + (g < b ? 6 : 0);
                break;

              case g:
                h = (b - r) / d + 2;
                break;

              case b:
                h = (r - g) / d + 4;
                break;

              default:
                h = 0;
            }

            h /= 6;
          }

          return new Hsva(h, s, v, a);
        }
      }, {
        key: "rgbaToHex",
        value: function rgbaToHex(rgba, allowHex8) {
          /* tslint:disable:no-bitwise */
          var hex = '#' + (1 << 24 | rgba.r << 16 | rgba.g << 8 | rgba.b).toString(16).substr(1);

          if (allowHex8) {
            hex += (1 << 8 | Math.round(rgba.a * 255)).toString(16).substr(1);
          }
          /* tslint:enable:no-bitwise */


          return hex;
        }
      }, {
        key: "normalizeCMYK",
        value: function normalizeCMYK(cmyk) {
          return new Cmyk(cmyk.c / 100, cmyk.m / 100, cmyk.y / 100, cmyk.k / 100, cmyk.a);
        }
      }, {
        key: "denormalizeCMYK",
        value: function denormalizeCMYK(cmyk) {
          return new Cmyk(Math.floor(cmyk.c * 100), Math.floor(cmyk.m * 100), Math.floor(cmyk.y * 100), Math.floor(cmyk.k * 100), cmyk.a);
        }
      }, {
        key: "denormalizeRGBA",
        value: function denormalizeRGBA(rgba) {
          return new Rgba(Math.round(rgba.r * 255), Math.round(rgba.g * 255), Math.round(rgba.b * 255), rgba.a);
        }
      }, {
        key: "stringToHsva",
        value: function stringToHsva() {
          var colorString = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';
          var allowHex8 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
          var hsva = null;
          colorString = (colorString || '').toLowerCase();
          var stringParsers = [{
            re: /(rgb)a?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*%?,\s*(\d{1,3})\s*%?(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,
            parse: function parse(execResult) {
              return new Rgba(parseInt(execResult[2], 10) / 255, parseInt(execResult[3], 10) / 255, parseInt(execResult[4], 10) / 255, isNaN(parseFloat(execResult[5])) ? 1 : parseFloat(execResult[5]));
            }
          }, {
            re: /(hsl)a?\(\s*(\d{1,3})\s*,\s*(\d{1,3})%\s*,\s*(\d{1,3})%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,
            parse: function parse(execResult) {
              return new Hsla(parseInt(execResult[2], 10) / 360, parseInt(execResult[3], 10) / 100, parseInt(execResult[4], 10) / 100, isNaN(parseFloat(execResult[5])) ? 1 : parseFloat(execResult[5]));
            }
          }];

          if (allowHex8) {
            stringParsers.push({
              re: /#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})?$/,
              parse: function parse(execResult) {
                return new Rgba(parseInt(execResult[1], 16) / 255, parseInt(execResult[2], 16) / 255, parseInt(execResult[3], 16) / 255, parseInt(execResult[4] || 'FF', 16) / 255);
              }
            });
          } else {
            stringParsers.push({
              re: /#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})$/,
              parse: function parse(execResult) {
                return new Rgba(parseInt(execResult[1], 16) / 255, parseInt(execResult[2], 16) / 255, parseInt(execResult[3], 16) / 255, 1);
              }
            });
          }

          stringParsers.push({
            re: /#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])$/,
            parse: function parse(execResult) {
              return new Rgba(parseInt(execResult[1] + execResult[1], 16) / 255, parseInt(execResult[2] + execResult[2], 16) / 255, parseInt(execResult[3] + execResult[3], 16) / 255, 1);
            }
          });

          for (var key in stringParsers) {
            if (stringParsers.hasOwnProperty(key)) {
              var parser = stringParsers[key];
              var match = parser.re.exec(colorString),
                  color = match && parser.parse(match);

              if (color) {
                if (color instanceof Rgba) {
                  hsva = this.rgbaToHsva(color);
                } else if (color instanceof Hsla) {
                  hsva = this.hsla2hsva(color);
                }

                return hsva;
              }
            }
          }

          return hsva;
        }
      }, {
        key: "outputFormat",
        value: function outputFormat(hsva, _outputFormat, alphaChannel) {
          if (_outputFormat === 'auto') {
            _outputFormat = hsva.a < 1 ? 'rgba' : 'hex';
          }

          switch (_outputFormat) {
            case 'hsla':
              var hsla = this.hsva2hsla(hsva);
              var hslaText = new Hsla(Math.round(hsla.h * 360), Math.round(hsla.s * 100), Math.round(hsla.l * 100), Math.round(hsla.a * 100) / 100);

              if (hsva.a < 1 || alphaChannel === 'always') {
                return 'hsla(' + hslaText.h + ',' + hslaText.s + '%,' + hslaText.l + '%,' + hslaText.a + ')';
              } else {
                return 'hsl(' + hslaText.h + ',' + hslaText.s + '%,' + hslaText.l + '%)';
              }

            case 'rgba':
              var rgba = this.denormalizeRGBA(this.hsvaToRgba(hsva));

              if (hsva.a < 1 || alphaChannel === 'always') {
                return 'rgba(' + rgba.r + ',' + rgba.g + ',' + rgba.b + ',' + Math.round(rgba.a * 100) / 100 + ')';
              } else {
                return 'rgb(' + rgba.r + ',' + rgba.g + ',' + rgba.b + ')';
              }

            default:
              var allowHex8 = alphaChannel === 'always' || alphaChannel === 'forced';
              return this.rgbaToHex(this.denormalizeRGBA(this.hsvaToRgba(hsva)), allowHex8);
          }
        }
      }]);

      return ColorPickerService;
    }();

    ColorPickerService.ɵfac = function ColorPickerService_Factory(t) {
      return new (t || ColorPickerService)();
    };

    ColorPickerService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({
      token: ColorPickerService,
      factory: ColorPickerService.ɵfac
    });

    var ColorPickerComponent = /*#__PURE__*/function () {
      function ColorPickerComponent(elRef, cdRef, service) {
        _classCallCheck(this, ColorPickerComponent);

        this.elRef = elRef;
        this.cdRef = cdRef;
        this.service = service;
        this.isIE10 = false;
        this.dialogArrowSize = 10;
        this.dialogArrowOffset = 15;
        this.dialogInputFields = [ColorFormats.HEX, ColorFormats.RGBA, ColorFormats.HSLA, ColorFormats.CMYK];
        this.useRootViewContainer = false;
      }

      _createClass(ColorPickerComponent, [{
        key: "handleEsc",
        value: function handleEsc(event) {
          if (this.show && this.cpDialogDisplay === 'popup') {
            this.onCancelColor(event);
          }
        }
      }, {
        key: "handleEnter",
        value: function handleEnter(event) {
          if (this.show && this.cpDialogDisplay === 'popup') {
            this.onAcceptColor(event);
          }
        }
      }, {
        key: "ngOnInit",
        value: function ngOnInit() {
          var _this26 = this;

          this.slider = new SliderPosition(0, 0, 0, 0);
          var hueWidth = this.hueSlider.nativeElement.offsetWidth || 140;
          var alphaWidth = this.alphaSlider.nativeElement.offsetWidth || 140;
          this.sliderDimMax = new SliderDimension(hueWidth, this.cpWidth, 130, alphaWidth);

          if (this.cpCmykEnabled) {
            this.format = ColorFormats.CMYK;
          } else if (this.cpOutputFormat === 'rgba') {
            this.format = ColorFormats.RGBA;
          } else if (this.cpOutputFormat === 'hsla') {
            this.format = ColorFormats.HSLA;
          } else {
            this.format = ColorFormats.HEX;
          }

          this.listenerMouseDown = function (event) {
            _this26.onMouseDown(event);
          };

          this.listenerResize = function () {
            _this26.onResize();
          };

          this.openDialog(this.initialColor, false);
        }
      }, {
        key: "ngOnDestroy",
        value: function ngOnDestroy() {
          this.closeDialog();
        }
      }, {
        key: "ngAfterViewInit",
        value: function ngAfterViewInit() {
          if (this.cpWidth !== 230 || this.cpDialogDisplay === 'inline') {
            var hueWidth = this.hueSlider.nativeElement.offsetWidth || 140;
            var alphaWidth = this.alphaSlider.nativeElement.offsetWidth || 140;
            this.sliderDimMax = new SliderDimension(hueWidth, this.cpWidth, 130, alphaWidth);
            this.updateColorPicker(false);
            this.cdRef.detectChanges();
          }
        }
      }, {
        key: "openDialog",
        value: function openDialog(color) {
          var emit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;
          this.service.setActive(this);

          if (!this.width) {
            this.cpWidth = this.directiveElementRef.nativeElement.offsetWidth;
          }

          if (!this.height) {
            this.height = 320;
          }

          this.setInitialColor(color);
          this.setColorFromString(color, emit);
          this.openColorPicker();
        }
      }, {
        key: "closeDialog",
        value: function closeDialog() {
          this.closeColorPicker();
        }
      }, {
        key: "setupDialog",
        value: function setupDialog(instance, elementRef, color, cpWidth, cpHeight, cpDialogDisplay, cpFallbackColor, cpColorMode, cpCmykEnabled, cpAlphaChannel, cpOutputFormat, cpDisableInput, cpIgnoredElements, cpSaveClickOutside, cpCloseClickOutside, cpUseRootViewContainer, cpPosition, cpPositionOffset, cpPositionRelativeToArrow, cpPresetLabel, cpPresetColors, cpPresetColorsClass, cpMaxPresetColorsLength, cpPresetEmptyMessage, cpPresetEmptyMessageClass, cpOKButton, cpOKButtonClass, cpOKButtonText, cpCancelButton, cpCancelButtonClass, cpCancelButtonText, cpAddColorButton, cpAddColorButtonClass, cpAddColorButtonText, cpRemoveColorButtonClass) {
          this.setInitialColor(color);
          this.setColorMode(cpColorMode);
          this.isIE10 = detectIE() === 10;
          this.directiveInstance = instance;
          this.directiveElementRef = elementRef;
          this.cpDisableInput = cpDisableInput;
          this.cpCmykEnabled = cpCmykEnabled;
          this.cpAlphaChannel = cpAlphaChannel;
          this.cpOutputFormat = cpOutputFormat;
          this.cpDialogDisplay = cpDialogDisplay;
          this.cpIgnoredElements = cpIgnoredElements;
          this.cpSaveClickOutside = cpSaveClickOutside;
          this.cpCloseClickOutside = cpCloseClickOutside;
          this.useRootViewContainer = cpUseRootViewContainer;
          this.width = this.cpWidth = parseInt(cpWidth, 10);
          this.height = this.cpHeight = parseInt(cpHeight, 10);
          this.cpPosition = cpPosition;
          this.cpPositionOffset = parseInt(cpPositionOffset, 10);
          this.cpOKButton = cpOKButton;
          this.cpOKButtonText = cpOKButtonText;
          this.cpOKButtonClass = cpOKButtonClass;
          this.cpCancelButton = cpCancelButton;
          this.cpCancelButtonText = cpCancelButtonText;
          this.cpCancelButtonClass = cpCancelButtonClass;
          this.fallbackColor = cpFallbackColor || '#fff';
          this.setPresetConfig(cpPresetLabel, cpPresetColors);
          this.cpPresetColorsClass = cpPresetColorsClass;
          this.cpMaxPresetColorsLength = cpMaxPresetColorsLength;
          this.cpPresetEmptyMessage = cpPresetEmptyMessage;
          this.cpPresetEmptyMessageClass = cpPresetEmptyMessageClass;
          this.cpAddColorButton = cpAddColorButton;
          this.cpAddColorButtonText = cpAddColorButtonText;
          this.cpAddColorButtonClass = cpAddColorButtonClass;
          this.cpRemoveColorButtonClass = cpRemoveColorButtonClass;

          if (!cpPositionRelativeToArrow) {
            this.dialogArrowOffset = 0;
          }

          if (cpDialogDisplay === 'inline') {
            this.dialogArrowSize = 0;
            this.dialogArrowOffset = 0;
          }

          if (cpOutputFormat === 'hex' && cpAlphaChannel !== 'always' && cpAlphaChannel !== 'forced') {
            this.cpAlphaChannel = 'disabled';
          }
        }
      }, {
        key: "setColorMode",
        value: function setColorMode(mode) {
          switch (mode.toString().toUpperCase()) {
            case '1':
            case 'C':
            case 'COLOR':
              this.cpColorMode = 1;
              break;

            case '2':
            case 'G':
            case 'GRAYSCALE':
              this.cpColorMode = 2;
              break;

            case '3':
            case 'P':
            case 'PRESETS':
              this.cpColorMode = 3;
              break;

            default:
              this.cpColorMode = 1;
          }
        }
      }, {
        key: "setInitialColor",
        value: function setInitialColor(color) {
          this.initialColor = color;
        }
      }, {
        key: "setPresetConfig",
        value: function setPresetConfig(cpPresetLabel, cpPresetColors) {
          this.cpPresetLabel = cpPresetLabel;
          this.cpPresetColors = cpPresetColors;
        }
      }, {
        key: "setColorFromString",
        value: function setColorFromString(value) {
          var emit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;
          var update = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;
          var hsva;

          if (this.cpAlphaChannel === 'always' || this.cpAlphaChannel === 'forced') {
            hsva = this.service.stringToHsva(value, true);

            if (!hsva && !this.hsva) {
              hsva = this.service.stringToHsva(value, false);
            }
          } else {
            hsva = this.service.stringToHsva(value, false);
          }

          if (!hsva && !this.hsva) {
            hsva = this.service.stringToHsva(this.fallbackColor, false);
          }

          if (hsva) {
            this.hsva = hsva;
            this.sliderH = this.hsva.h;

            if (this.cpOutputFormat === 'hex' && this.cpAlphaChannel === 'disabled') {
              this.hsva.a = 1;
            }

            this.updateColorPicker(emit, update);
          }
        }
      }, {
        key: "onResize",
        value: function onResize() {
          if (this.position === 'fixed') {
            this.setDialogPosition();
          } else if (this.cpDialogDisplay !== 'inline') {
            this.closeColorPicker();
          }
        }
      }, {
        key: "onDragEnd",
        value: function onDragEnd(slider) {
          this.directiveInstance.sliderDragEnd({
            slider: slider,
            color: this.outputColor
          });
        }
      }, {
        key: "onDragStart",
        value: function onDragStart(slider) {
          this.directiveInstance.sliderDragStart({
            slider: slider,
            color: this.outputColor
          });
        }
      }, {
        key: "onMouseDown",
        value: function onMouseDown(event) {
          if (this.show && !this.isIE10 && this.cpDialogDisplay === 'popup' && event.target !== this.directiveElementRef.nativeElement && !this.isDescendant(this.elRef.nativeElement, event.target) && !this.isDescendant(this.directiveElementRef.nativeElement, event.target) && this.cpIgnoredElements.filter(function (item) {
            return item === event.target;
          }).length === 0) {
            if (this.cpSaveClickOutside) {
              this.directiveInstance.colorSelected(this.outputColor);
            } else {
              this.hsva = null;
              this.setColorFromString(this.initialColor, false);

              if (this.cpCmykEnabled) {
                this.directiveInstance.cmykChanged(this.cmykColor);
              }

              this.directiveInstance.colorChanged(this.initialColor);
              this.directiveInstance.colorCanceled();
            }

            if (this.cpCloseClickOutside) {
              this.closeColorPicker();
            }
          }
        }
      }, {
        key: "onAcceptColor",
        value: function onAcceptColor(event) {
          event.stopPropagation();

          if (this.outputColor) {
            this.directiveInstance.colorSelected(this.outputColor);
          }

          if (this.cpDialogDisplay === 'popup') {
            this.closeColorPicker();
          }
        }
      }, {
        key: "onCancelColor",
        value: function onCancelColor(event) {
          this.hsva = null;
          event.stopPropagation();
          this.directiveInstance.colorCanceled();
          this.setColorFromString(this.initialColor, true);

          if (this.cpDialogDisplay === 'popup') {
            if (this.cpCmykEnabled) {
              this.directiveInstance.cmykChanged(this.cmykColor);
            }

            this.directiveInstance.colorChanged(this.initialColor, true);
            this.closeColorPicker();
          }
        }
      }, {
        key: "onFormatToggle",
        value: function onFormatToggle(change) {
          var availableFormats = this.dialogInputFields.length - (this.cpCmykEnabled ? 0 : 1);
          var nextFormat = ((this.dialogInputFields.indexOf(this.format) + change) % availableFormats + availableFormats) % availableFormats;
          this.format = this.dialogInputFields[nextFormat];
        }
      }, {
        key: "onColorChange",
        value: function onColorChange(value) {
          this.hsva.s = value.s / value.rgX;
          this.hsva.v = value.v / value.rgY;
          this.updateColorPicker();
          this.directiveInstance.sliderChanged({
            slider: 'lightness',
            value: this.hsva.v,
            color: this.outputColor
          });
          this.directiveInstance.sliderChanged({
            slider: 'saturation',
            value: this.hsva.s,
            color: this.outputColor
          });
        }
      }, {
        key: "onHueChange",
        value: function onHueChange(value) {
          this.hsva.h = value.v / value.rgX;
          this.sliderH = this.hsva.h;
          this.updateColorPicker();
          this.directiveInstance.sliderChanged({
            slider: 'hue',
            value: this.hsva.h,
            color: this.outputColor
          });
        }
      }, {
        key: "onValueChange",
        value: function onValueChange(value) {
          this.hsva.v = value.v / value.rgX;
          this.updateColorPicker();
          this.directiveInstance.sliderChanged({
            slider: 'value',
            value: this.hsva.v,
            color: this.outputColor
          });
        }
      }, {
        key: "onAlphaChange",
        value: function onAlphaChange(value) {
          this.hsva.a = value.v / value.rgX;
          this.updateColorPicker();
          this.directiveInstance.sliderChanged({
            slider: 'alpha',
            value: this.hsva.a,
            color: this.outputColor
          });
        }
      }, {
        key: "onHexInput",
        value: function onHexInput(value) {
          if (value === null) {
            this.updateColorPicker();
          } else {
            if (value && value[0] !== '#') {
              value = '#' + value;
            }

            var validHex = /^#([a-f0-9]{3}|[a-f0-9]{6})$/gi;

            if (this.cpAlphaChannel === 'always') {
              validHex = /^#([a-f0-9]{3}|[a-f0-9]{6}|[a-f0-9]{8})$/gi;
            }

            var valid = validHex.test(value);

            if (valid) {
              if (value.length < 5) {
                value = '#' + value.substring(1).split('').map(function (c) {
                  return c + c;
                }).join('');
              }

              if (this.cpAlphaChannel === 'forced') {
                value += Math.round(this.hsva.a * 255).toString(16);
              }

              this.setColorFromString(value, true, false);
            }

            this.directiveInstance.inputChanged({
              input: 'hex',
              valid: valid,
              value: value,
              color: this.outputColor
            });
          }
        }
      }, {
        key: "onRedInput",
        value: function onRedInput(value) {
          var rgba = this.service.hsvaToRgba(this.hsva);
          var valid = !isNaN(value.v) && value.v >= 0 && value.v <= value.rg;

          if (valid) {
            rgba.r = value.v / value.rg;
            this.hsva = this.service.rgbaToHsva(rgba);
            this.sliderH = this.hsva.h;
            this.updateColorPicker();
          }

          this.directiveInstance.inputChanged({
            input: 'red',
            valid: valid,
            value: rgba.r,
            color: this.outputColor
          });
        }
      }, {
        key: "onBlueInput",
        value: function onBlueInput(value) {
          var rgba = this.service.hsvaToRgba(this.hsva);
          var valid = !isNaN(value.v) && value.v >= 0 && value.v <= value.rg;

          if (valid) {
            rgba.b = value.v / value.rg;
            this.hsva = this.service.rgbaToHsva(rgba);
            this.sliderH = this.hsva.h;
            this.updateColorPicker();
          }

          this.directiveInstance.inputChanged({
            input: 'blue',
            valid: valid,
            value: rgba.b,
            color: this.outputColor
          });
        }
      }, {
        key: "onGreenInput",
        value: function onGreenInput(value) {
          var rgba = this.service.hsvaToRgba(this.hsva);
          var valid = !isNaN(value.v) && value.v >= 0 && value.v <= value.rg;

          if (valid) {
            rgba.g = value.v / value.rg;
            this.hsva = this.service.rgbaToHsva(rgba);
            this.sliderH = this.hsva.h;
            this.updateColorPicker();
          }

          this.directiveInstance.inputChanged({
            input: 'green',
            valid: valid,
            value: rgba.g,
            color: this.outputColor
          });
        }
      }, {
        key: "onHueInput",
        value: function onHueInput(value) {
          var valid = !isNaN(value.v) && value.v >= 0 && value.v <= value.rg;

          if (valid) {
            this.hsva.h = value.v / value.rg;
            this.sliderH = this.hsva.h;
            this.updateColorPicker();
          }

          this.directiveInstance.inputChanged({
            input: 'hue',
            valid: valid,
            value: this.hsva.h,
            color: this.outputColor
          });
        }
      }, {
        key: "onValueInput",
        value: function onValueInput(value) {
          var valid = !isNaN(value.v) && value.v >= 0 && value.v <= value.rg;

          if (valid) {
            this.hsva.v = value.v / value.rg;
            this.updateColorPicker();
          }

          this.directiveInstance.inputChanged({
            input: 'value',
            valid: valid,
            value: this.hsva.v,
            color: this.outputColor
          });
        }
      }, {
        key: "onAlphaInput",
        value: function onAlphaInput(value) {
          var valid = !isNaN(value.v) && value.v >= 0 && value.v <= value.rg;

          if (valid) {
            this.hsva.a = value.v / value.rg;
            this.updateColorPicker();
          }

          this.directiveInstance.inputChanged({
            input: 'alpha',
            valid: valid,
            value: this.hsva.a,
            color: this.outputColor
          });
        }
      }, {
        key: "onLightnessInput",
        value: function onLightnessInput(value) {
          var hsla = this.service.hsva2hsla(this.hsva);
          var valid = !isNaN(value.v) && value.v >= 0 && value.v <= value.rg;

          if (valid) {
            hsla.l = value.v / value.rg;
            this.hsva = this.service.hsla2hsva(hsla);
            this.sliderH = this.hsva.h;
            this.updateColorPicker();
          }

          this.directiveInstance.inputChanged({
            input: 'lightness',
            valid: valid,
            value: hsla.l,
            color: this.outputColor
          });
        }
      }, {
        key: "onSaturationInput",
        value: function onSaturationInput(value) {
          var hsla = this.service.hsva2hsla(this.hsva);
          var valid = !isNaN(value.v) && value.v >= 0 && value.v <= value.rg;

          if (valid) {
            hsla.s = value.v / value.rg;
            this.hsva = this.service.hsla2hsva(hsla);
            this.sliderH = this.hsva.h;
            this.updateColorPicker();
          }

          this.directiveInstance.inputChanged({
            input: 'saturation',
            valid: valid,
            value: hsla.s,
            color: this.outputColor
          });
        }
      }, {
        key: "onCyanInput",
        value: function onCyanInput(value) {
          var valid = !isNaN(value.v) && value.v >= 0 && value.v <= value.rg;

          if (valid) {
            this.cmyk.c = value.v;
            this.updateColorPicker(false, true, true);
          }

          this.directiveInstance.inputChanged({
            input: 'cyan',
            valid: true,
            value: this.cmyk.c,
            color: this.outputColor
          });
        }
      }, {
        key: "onMagentaInput",
        value: function onMagentaInput(value) {
          var valid = !isNaN(value.v) && value.v >= 0 && value.v <= value.rg;

          if (valid) {
            this.cmyk.m = value.v;
            this.updateColorPicker(false, true, true);
          }

          this.directiveInstance.inputChanged({
            input: 'magenta',
            valid: true,
            value: this.cmyk.m,
            color: this.outputColor
          });
        }
      }, {
        key: "onYellowInput",
        value: function onYellowInput(value) {
          var valid = !isNaN(value.v) && value.v >= 0 && value.v <= value.rg;

          if (valid) {
            this.cmyk.y = value.v;
            this.updateColorPicker(false, true, true);
          }

          this.directiveInstance.inputChanged({
            input: 'yellow',
            valid: true,
            value: this.cmyk.y,
            color: this.outputColor
          });
        }
      }, {
        key: "onBlackInput",
        value: function onBlackInput(value) {
          var valid = !isNaN(value.v) && value.v >= 0 && value.v <= value.rg;

          if (valid) {
            this.cmyk.k = value.v;
            this.updateColorPicker(false, true, true);
          }

          this.directiveInstance.inputChanged({
            input: 'black',
            valid: true,
            value: this.cmyk.k,
            color: this.outputColor
          });
        }
      }, {
        key: "onAddPresetColor",
        value: function onAddPresetColor(event, value) {
          event.stopPropagation();

          if (!this.cpPresetColors.filter(function (color) {
            return color === value;
          }).length) {
            this.cpPresetColors = this.cpPresetColors.concat(value);
            this.directiveInstance.presetColorsChanged(this.cpPresetColors);
          }
        }
      }, {
        key: "onRemovePresetColor",
        value: function onRemovePresetColor(event, value) {
          event.stopPropagation();
          this.cpPresetColors = this.cpPresetColors.filter(function (color) {
            return color !== value;
          });
          this.directiveInstance.presetColorsChanged(this.cpPresetColors);
        } // Private helper functions for the color picker dialog status

      }, {
        key: "openColorPicker",
        value: function openColorPicker() {
          var _this27 = this;

          if (!this.show) {
            this.show = true;
            this.hidden = true;
            setTimeout(function () {
              _this27.hidden = false;

              _this27.setDialogPosition();

              _this27.cdRef.detectChanges();
            }, 0);
            this.directiveInstance.stateChanged(true);

            if (!this.isIE10) {
              document.addEventListener('mousedown', this.listenerMouseDown);
              document.addEventListener('touchstart', this.listenerMouseDown);
            }

            window.addEventListener('resize', this.listenerResize);
          }
        }
      }, {
        key: "closeColorPicker",
        value: function closeColorPicker() {
          if (this.show) {
            this.show = false;
            this.directiveInstance.stateChanged(false);

            if (!this.isIE10) {
              document.removeEventListener('mousedown', this.listenerMouseDown);
              document.removeEventListener('touchstart', this.listenerMouseDown);
            }

            window.removeEventListener('resize', this.listenerResize);

            if (!this.cdRef['destroyed']) {
              this.cdRef.detectChanges();
            }
          }
        }
      }, {
        key: "updateColorPicker",
        value: function updateColorPicker() {
          var emit = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;
          var update = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;
          var cmykInput = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;

          if (this.sliderDimMax) {
            if (this.cpColorMode === 2) {
              this.hsva.s = 0;
            }

            var hue, hsla, rgba;
            var lastOutput = this.outputColor;
            hsla = this.service.hsva2hsla(this.hsva);

            if (!this.cpCmykEnabled) {
              rgba = this.service.denormalizeRGBA(this.service.hsvaToRgba(this.hsva));
            } else {
              if (!cmykInput) {
                rgba = this.service.hsvaToRgba(this.hsva);
                this.cmyk = this.service.denormalizeCMYK(this.service.rgbaToCmyk(rgba));
              } else {
                rgba = this.service.cmykToRgb(this.service.normalizeCMYK(this.cmyk));
                this.hsva = this.service.rgbaToHsva(rgba);
              }

              rgba = this.service.denormalizeRGBA(rgba);
              this.sliderH = this.hsva.h;
            }

            hue = this.service.denormalizeRGBA(this.service.hsvaToRgba(new Hsva(this.sliderH || this.hsva.h, 1, 1, 1)));

            if (update) {
              this.hslaText = new Hsla(Math.round(hsla.h * 360), Math.round(hsla.s * 100), Math.round(hsla.l * 100), Math.round(hsla.a * 100) / 100);
              this.rgbaText = new Rgba(rgba.r, rgba.g, rgba.b, Math.round(rgba.a * 100) / 100);

              if (this.cpCmykEnabled) {
                this.cmykText = new Cmyk(this.cmyk.c, this.cmyk.m, this.cmyk.y, this.cmyk.k, Math.round(this.cmyk.a * 100) / 100);
              }

              var allowHex8 = this.cpAlphaChannel === 'always';
              this.hexText = this.service.rgbaToHex(rgba, allowHex8);
              this.hexAlpha = this.rgbaText.a;
            }

            if (this.cpOutputFormat === 'auto') {
              if (this.format !== ColorFormats.RGBA && this.format !== ColorFormats.CMYK) {
                if (this.hsva.a < 1) {
                  this.format = this.hsva.a < 1 ? ColorFormats.RGBA : ColorFormats.HEX;
                }
              }
            }

            this.hueSliderColor = 'rgb(' + hue.r + ',' + hue.g + ',' + hue.b + ')';
            this.alphaSliderColor = 'rgb(' + rgba.r + ',' + rgba.g + ',' + rgba.b + ')';
            this.outputColor = this.service.outputFormat(this.hsva, this.cpOutputFormat, this.cpAlphaChannel);
            this.selectedColor = this.service.outputFormat(this.hsva, 'rgba', null);

            if (this.format !== ColorFormats.CMYK) {
              this.cmykColor = '';
            } else {
              if (this.cpAlphaChannel === 'always' || this.cpAlphaChannel === 'enabled' || this.cpAlphaChannel === 'forced') {
                var alpha = Math.round(this.cmyk.a * 100) / 100;
                this.cmykColor = "cmyka(".concat(this.cmyk.c, ",").concat(this.cmyk.m, ",").concat(this.cmyk.y, ",").concat(this.cmyk.k, ",").concat(alpha, ")");
              } else {
                this.cmykColor = "cmyk(".concat(this.cmyk.c, ",").concat(this.cmyk.m, ",").concat(this.cmyk.y, ",").concat(this.cmyk.k, ")");
              }
            }

            this.slider = new SliderPosition((this.sliderH || this.hsva.h) * this.sliderDimMax.h - 8, this.hsva.s * this.sliderDimMax.s - 8, (1 - this.hsva.v) * this.sliderDimMax.v - 8, this.hsva.a * this.sliderDimMax.a - 8);

            if (emit && lastOutput !== this.outputColor) {
              if (this.cpCmykEnabled) {
                this.directiveInstance.cmykChanged(this.cmykColor);
              }

              this.directiveInstance.colorChanged(this.outputColor);
            }
          }
        } // Private helper functions for the color picker dialog positioning

      }, {
        key: "setDialogPosition",
        value: function setDialogPosition() {
          if (this.cpDialogDisplay === 'inline') {
            this.position = 'relative';
          } else {
            var position = 'static',
                transform = '',
                style;
            var parentNode = null,
                transformNode = null;
            var node = this.directiveElementRef.nativeElement.parentNode;
            var dialogHeight = this.dialogElement.nativeElement.offsetHeight;

            while (node !== null && node.tagName !== 'HTML') {
              style = window.getComputedStyle(node);
              position = style.getPropertyValue('position');
              transform = style.getPropertyValue('transform');

              if (position !== 'static' && parentNode === null) {
                parentNode = node;
              }

              if (transform && transform !== 'none' && transformNode === null) {
                transformNode = node;
              }

              if (position === 'fixed') {
                parentNode = transformNode;
                break;
              }

              node = node.parentNode;
            }

            var boxDirective = this.createDialogBox(this.directiveElementRef.nativeElement, position !== 'fixed');

            if (this.useRootViewContainer || position === 'fixed' && (!parentNode || parentNode instanceof HTMLUnknownElement)) {
              this.top = boxDirective.top;
              this.left = boxDirective.left;
            } else {
              if (parentNode === null) {
                parentNode = node;
              }

              var boxParent = this.createDialogBox(parentNode, position !== 'fixed');
              this.top = boxDirective.top - boxParent.top;
              this.left = boxDirective.left - boxParent.left;
            }

            if (position === 'fixed') {
              this.position = 'fixed';
            }

            var usePosition = this.cpPosition;

            if (this.cpPosition === 'auto') {
              var usePositionX = 'right';
              var usePositionY = 'bottom';
              var winWidth = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);
              var winHeight = Math.max(document.documentElement.clientHeight, window.innerHeight || 0);

              if (this.left + this.cpWidth > winWidth) {
                usePositionX = 'left';
              }

              if (this.top + dialogHeight > winHeight) {
                usePositionY = 'top';
              }

              usePosition = usePositionX + '-' + usePositionY;
            }

            this.cpUsePosition = usePosition;

            if (usePosition === 'top') {
              this.arrowTop = dialogHeight - 1;
              this.top -= dialogHeight + this.dialogArrowSize;
              this.left += this.cpPositionOffset / 100 * boxDirective.width - this.dialogArrowOffset;
            } else if (usePosition === 'bottom') {
              this.top += boxDirective.height + this.dialogArrowSize;
              this.left += this.cpPositionOffset / 100 * boxDirective.width - this.dialogArrowOffset;
            } else if (usePosition === 'top-left' || usePosition === 'left-top') {
              this.top -= dialogHeight - boxDirective.height + boxDirective.height * this.cpPositionOffset / 100;
              this.left -= this.cpWidth + this.dialogArrowSize - 2 - this.dialogArrowOffset;
            } else if (usePosition === 'top-right' || usePosition === 'right-top') {
              this.top -= dialogHeight - boxDirective.height + boxDirective.height * this.cpPositionOffset / 100;
              this.left += boxDirective.width + this.dialogArrowSize - 2 - this.dialogArrowOffset;
            } else if (usePosition === 'left' || usePosition === 'bottom-left' || usePosition === 'left-bottom') {
              this.top += boxDirective.height * this.cpPositionOffset / 100 - this.dialogArrowOffset;
              this.left -= this.cpWidth + this.dialogArrowSize - 2;
            } else {
              // usePosition === 'right' || usePosition === 'bottom-right' || usePosition === 'right-bottom'
              this.top += boxDirective.height * this.cpPositionOffset / 100 - this.dialogArrowOffset;
              this.left += boxDirective.width + this.dialogArrowSize - 2;
            }
          }
        } // Private helper functions for the color picker dialog positioning and opening

      }, {
        key: "isDescendant",
        value: function isDescendant(parent, child) {
          var node = child.parentNode;

          while (node !== null) {
            if (node === parent) {
              return true;
            }

            node = node.parentNode;
          }

          return false;
        }
      }, {
        key: "createDialogBox",
        value: function createDialogBox(element, offset) {
          return {
            top: element.getBoundingClientRect().top + (offset ? window.pageYOffset : 0),
            left: element.getBoundingClientRect().left + (offset ? window.pageXOffset : 0),
            width: element.offsetWidth,
            height: element.offsetHeight
          };
        }
      }]);

      return ColorPickerComponent;
    }();

    ColorPickerComponent.ɵfac = function ColorPickerComponent_Factory(t) {
      return new (t || ColorPickerComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ElementRef"]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ChangeDetectorRef"]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](ColorPickerService));
    };

    ColorPickerComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({
      type: ColorPickerComponent,
      selectors: [["color-picker"]],
      viewQuery: function ColorPickerComponent_Query(rf, ctx) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵstaticViewQuery"](_c0, true);

          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵstaticViewQuery"](_c1, true);

          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵstaticViewQuery"](_c2, true);
        }

        if (rf & 2) {
          var _t;

          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵloadQuery"]()) && (ctx.dialogElement = _t.first);
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵloadQuery"]()) && (ctx.hueSlider = _t.first);
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵloadQuery"]()) && (ctx.alphaSlider = _t.first);
        }
      },
      hostBindings: function ColorPickerComponent_HostBindings(rf, ctx) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("keyup.esc", function ColorPickerComponent_keyup_esc_HostBindingHandler($event) {
            return ctx.handleEsc($event);
          }, false, _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵresolveDocument"])("keyup.enter", function ColorPickerComponent_keyup_enter_HostBindingHandler($event) {
            return ctx.handleEnter($event);
          }, false, _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵresolveDocument"]);
        }
      },
      decls: 28,
      vars: 47,
      consts: [[1, "color-picker", 3, "click"], ["dialogPopup", ""], [3, "class", "top", 4, "ngIf"], ["class", "saturation-lightness", 3, "slider", "rgX", "rgY", "background-color", "newValue", "dragStart", "dragEnd", 4, "ngIf"], [1, "hue-alpha", "box"], [1, "left"], [1, "selected-color-background"], [1, "selected-color"], ["type", "button", 3, "class", "disabled", "click", 4, "ngIf"], [1, "right"], ["style", "height: 16px;", 4, "ngIf"], [1, "hue", 3, "slider", "rgX", "newValue", "dragStart", "dragEnd"], ["hueSlider", ""], [1, "cursor"], [1, "value", 3, "slider", "rgX", "newValue", "dragStart", "dragEnd"], ["valueSlider", ""], [1, "alpha", 3, "slider", "rgX", "newValue", "dragStart", "dragEnd"], ["alphaSlider", ""], ["class", "cmyk-text", 3, "display", 4, "ngIf"], ["class", "hsla-text", 3, "display", 4, "ngIf"], ["class", "rgba-text", 3, "display", 4, "ngIf"], ["class", "hex-text", 3, "hex-alpha", "display", 4, "ngIf"], ["class", "value-text", 4, "ngIf"], ["class", "type-policy", 4, "ngIf"], ["class", "preset-area", 4, "ngIf"], ["class", "button-area", 4, "ngIf"], [1, "saturation-lightness", 3, "slider", "rgX", "rgY", "newValue", "dragStart", "dragEnd"], ["type", "button", 3, "disabled", "click"], [2, "height", "16px"], [1, "cmyk-text"], [1, "box"], ["type", "number", "pattern", "[0-9]*", "min", "0", "max", "100", 3, "text", "rg", "value", "keyup.enter", "newValue"], ["type", "number", "pattern", "[0-9]+([\\.,][0-9]{1,2})?", "min", "0", "max", "1", "step", "0.1", 3, "text", "rg", "value", "keyup.enter", "newValue", 4, "ngIf"], [4, "ngIf"], ["type", "number", "pattern", "[0-9]+([\\.,][0-9]{1,2})?", "min", "0", "max", "1", "step", "0.1", 3, "text", "rg", "value", "keyup.enter", "newValue"], [1, "hsla-text"], ["type", "number", "pattern", "[0-9]*", "min", "0", "max", "360", 3, "text", "rg", "value", "keyup.enter", "newValue"], [1, "rgba-text"], ["type", "number", "pattern", "[0-9]*", "min", "0", "max", "255", 3, "text", "rg", "value", "keyup.enter", "newValue"], [1, "hex-text"], [3, "text", "value", "blur", "keyup.enter", "newValue"], [1, "value-text"], [1, "type-policy"], [1, "type-policy-arrow", 3, "click"], [1, "preset-area"], [1, "preset-label"], [3, "class", 4, "ngIf"], ["class", "preset-color", 3, "backgroundColor", "click", 4, "ngFor", "ngForOf"], [1, "preset-color", 3, "click"], [3, "class", "click", 4, "ngIf"], [3, "click"], [1, "button-area"], ["type", "button", 3, "class", "click", 4, "ngIf"], ["type", "button", 3, "click"]],
      template: function ColorPickerComponent_Template(rf, ctx) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 0, 1);

          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function ColorPickerComponent_Template_div_click_0_listener($event) {
            return $event.stopPropagation();
          });

          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](2, ColorPickerComponent_div_2_Template, 1, 5, "div", 2);

          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](3, ColorPickerComponent_div_3_Template, 2, 8, "div", 3);

          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](4, "div", 4);

          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](5, "div", 5);

          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](6, "div", 6);

          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](7, "div", 7);

          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](8, ColorPickerComponent_button_8_Template, 2, 5, "button", 8);

          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();

          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](9, "div", 9);

          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](10, ColorPickerComponent_div_10_Template, 1, 0, "div", 10);

          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](11, "div", 11, 12);

          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("newValue", function ColorPickerComponent_Template_div_newValue_11_listener($event) {
            return ctx.onHueChange($event);
          })("dragStart", function ColorPickerComponent_Template_div_dragStart_11_listener() {
            return ctx.onDragStart("hue");
          })("dragEnd", function ColorPickerComponent_Template_div_dragEnd_11_listener() {
            return ctx.onDragEnd("hue");
          });

          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](13, "div", 13);

          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();

          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](14, "div", 14, 15);

          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("newValue", function ColorPickerComponent_Template_div_newValue_14_listener($event) {
            return ctx.onValueChange($event);
          })("dragStart", function ColorPickerComponent_Template_div_dragStart_14_listener() {
            return ctx.onDragStart("value");
          })("dragEnd", function ColorPickerComponent_Template_div_dragEnd_14_listener() {
            return ctx.onDragEnd("value");
          });

          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](16, "div", 13);

          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();

          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](17, "div", 16, 17);

          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("newValue", function ColorPickerComponent_Template_div_newValue_17_listener($event) {
            return ctx.onAlphaChange($event);
          })("dragStart", function ColorPickerComponent_Template_div_dragStart_17_listener() {
            return ctx.onDragStart("alpha");
          })("dragEnd", function ColorPickerComponent_Template_div_dragEnd_17_listener() {
            return ctx.onDragEnd("alpha");
          });

          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](19, "div", 13);

          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();

          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();

          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();

          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](20, ColorPickerComponent_div_20_Template, 17, 12, "div", 18);

          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](21, ColorPickerComponent_div_21_Template, 14, 10, "div", 19);

          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](22, ColorPickerComponent_div_22_Template, 14, 10, "div", 20);

          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](23, ColorPickerComponent_div_23_Template, 8, 7, "div", 21);

          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](24, ColorPickerComponent_div_24_Template, 9, 3, "div", 22);

          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](25, ColorPickerComponent_div_25_Template, 3, 0, "div", 23);

          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](26, ColorPickerComponent_div_26_Template, 6, 3, "div", 24);

          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](27, ColorPickerComponent_div_27_Template, 3, 2, "div", 25);

          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        }

        if (rf & 2) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵstyleProp"]("display", !ctx.show ? "none" : "block")("visibility", ctx.hidden ? "hidden" : "visible")("top", ctx.top, "px")("left", ctx.left, "px")("position", ctx.position)("height", ctx.cpHeight, "px")("width", ctx.cpWidth, "px");

          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵclassProp"]("open", ctx.show);

          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);

          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.cpDialogDisplay == "popup");

          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);

          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", (ctx.cpColorMode || 1) === 1);

          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](4);

          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵstyleProp"]("background-color", ctx.selectedColor);

          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);

          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.cpAddColorButton);

          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);

          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.cpAlphaChannel === "disabled");

          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);

          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵstyleProp"]("display", (ctx.cpColorMode || 1) === 1 ? "block" : "none");

          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("rgX", 1);

          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);

          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵstyleProp"]("left", ctx.slider == null ? null : ctx.slider.h, "px");

          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);

          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵstyleProp"]("display", (ctx.cpColorMode || 1) === 2 ? "block" : "none");

          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("rgX", 1);

          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);

          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵstyleProp"]("right", ctx.slider == null ? null : ctx.slider.v, "px");

          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);

          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵstyleProp"]("display", ctx.cpAlphaChannel === "disabled" ? "none" : "block")("background-color", ctx.alphaSliderColor);

          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("rgX", 1);

          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);

          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵstyleProp"]("left", ctx.slider == null ? null : ctx.slider.a, "px");

          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);

          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", !ctx.cpDisableInput && (ctx.cpColorMode || 1) === 1);

          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);

          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", !ctx.cpDisableInput && (ctx.cpColorMode || 1) === 1);

          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);

          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", !ctx.cpDisableInput && (ctx.cpColorMode || 1) === 1);

          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);

          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", !ctx.cpDisableInput && (ctx.cpColorMode || 1) === 1);

          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);

          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", !ctx.cpDisableInput && (ctx.cpColorMode || 1) === 2);

          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);

          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", !ctx.cpDisableInput && (ctx.cpColorMode || 1) === 1);

          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);

          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", (ctx.cpPresetColors == null ? null : ctx.cpPresetColors.length) || ctx.cpAddColorButton);

          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);

          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.cpOKButton || ctx.cpCancelButton);
        }
      },
      directives: [_angular_common__WEBPACK_IMPORTED_MODULE_2__["NgIf"], SliderDirective, TextDirective, _angular_common__WEBPACK_IMPORTED_MODULE_2__["NgForOf"]],
      styles: [".color-picker{position:absolute;z-index:1000;width:230px;height:auto;border:1px solid #777;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-color:#fff}.color-picker *{box-sizing:border-box;margin:0;font-size:11px}.color-picker input{width:0;height:26px;min-width:0;font-size:13px;text-align:center;color:#000}.color-picker input:-moz-submit-invalid,.color-picker input:-moz-ui-invalid,.color-picker input:invalid{box-shadow:none}.color-picker input::-webkit-inner-spin-button,.color-picker input::-webkit-outer-spin-button{margin:0;-webkit-appearance:none}.color-picker .arrow{position:absolute;z-index:999999;width:0;height:0;border-style:solid}.color-picker .arrow.arrow-top{left:8px;border-width:10px 5px;border-color:#777 transparent transparent}.color-picker .arrow.arrow-bottom{top:-20px;left:8px;border-width:10px 5px;border-color:transparent transparent #777}.color-picker .arrow.arrow-left-top,.color-picker .arrow.arrow-top-left{right:-21px;bottom:8px;border-width:5px 10px;border-color:transparent transparent transparent #777}.color-picker .arrow.arrow-right-top,.color-picker .arrow.arrow-top-right{bottom:8px;left:-20px;border-width:5px 10px;border-color:transparent #777 transparent transparent}.color-picker .arrow.arrow-bottom-left,.color-picker .arrow.arrow-left,.color-picker .arrow.arrow-left-bottom{top:8px;right:-21px;border-width:5px 10px;border-color:transparent transparent transparent #777}.color-picker .arrow.arrow-bottom-right,.color-picker .arrow.arrow-right,.color-picker .arrow.arrow-right-bottom{top:8px;left:-20px;border-width:5px 10px;border-color:transparent #777 transparent transparent}.color-picker .cursor{position:relative;width:16px;height:16px;border:2px solid #222;border-radius:50%;cursor:default}.color-picker .box{display:flex;padding:4px 8px}.color-picker .left{position:relative;padding:16px 8px}.color-picker .right{flex:1 1 auto;padding:12px 8px}.color-picker .button-area{padding:0 16px 16px;text-align:right}.color-picker .button-area button{margin-left:8px}.color-picker .preset-area{padding:4px 15px}.color-picker .preset-area .preset-label{overflow:hidden;width:100%;padding:4px;font-size:11px;white-space:nowrap;text-align:left;text-overflow:ellipsis;color:#555}.color-picker .preset-area .preset-color{position:relative;display:inline-block;width:18px;height:18px;margin:4px 6px 8px;border:1px solid #a9a9a9;border-radius:25%;cursor:pointer}.color-picker .preset-area .preset-empty-message{min-height:18px;margin-top:4px;margin-bottom:8px;font-style:italic;text-align:center}.color-picker .hex-text{width:100%;padding:4px 8px;font-size:11px}.color-picker .hex-text .box{padding:0 24px 8px 8px}.color-picker .hex-text .box div{float:left;flex:1 1 auto;text-align:center;color:#555;clear:left}.color-picker .hex-text .box input{flex:1 1 auto;padding:1px;border:1px solid #a9a9a9}.color-picker .hex-alpha .box div:first-child,.color-picker .hex-alpha .box input:first-child{flex-grow:3;margin-right:8px}.color-picker .cmyk-text,.color-picker .hsla-text,.color-picker .rgba-text,.color-picker .value-text{width:100%;padding:4px 8px;font-size:11px}.color-picker .cmyk-text .box,.color-picker .hsla-text .box,.color-picker .rgba-text .box{padding:0 24px 8px 8px}.color-picker .value-text .box{padding:0 8px 8px}.color-picker .cmyk-text .box div,.color-picker .hsla-text .box div,.color-picker .rgba-text .box div,.color-picker .value-text .box div{flex:1 1 auto;margin-right:8px;text-align:center;color:#555}.color-picker .cmyk-text .box div:last-child,.color-picker .hsla-text .box div:last-child,.color-picker .rgba-text .box div:last-child,.color-picker .value-text .box div:last-child{margin-right:0}.color-picker .cmyk-text .box input,.color-picker .hsla-text .box input,.color-picker .rgba-text .box input,.color-picker .value-text .box input{float:left;flex:1;padding:1px;margin:0 8px 0 0;border:1px solid #a9a9a9}.color-picker .cmyk-text .box input:last-child,.color-picker .hsla-text .box input:last-child,.color-picker .rgba-text .box input:last-child,.color-picker .value-text .box input:last-child{margin-right:0}.color-picker .hue-alpha{align-items:center;margin-bottom:3px}.color-picker .hue{direction:ltr;width:100%;height:16px;margin-bottom:16px;border:none;cursor:pointer;background-size:100% 100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAQCAYAAAD06IYnAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AIWDwkUFWbCCAAAAFxJREFUaN7t0kEKg0AQAME2x83/n2qu5qCgD1iDhCoYdpnbQC9bbY1qVO/jvc6k3ad91s7/7F1/csgPrujuQ17BDYSFsBAWwgJhISyEBcJCWAgLhIWwEBYIi2f7Ar/1TCgFH2X9AAAAAElFTkSuQmCC)}.color-picker .value{direction:rtl;width:100%;height:16px;margin-bottom:16px;border:none;cursor:pointer;background-size:100% 100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAQCAYAAAD06IYnAAACTklEQVR42u3SYUcrABhA4U2SkmRJMmWSJklKJiWZZpKUJJskKUmaTFImKZOUzMySpGRmliRNJilJSpKSJEtmSpIpmWmSdO736/6D+x7OP3gUCoWCv1cqlSQlJZGcnExKSgqpqamkpaWRnp5ORkYGmZmZqFQqsrKyyM7OJicnh9zcXNRqNXl5eeTn56PRaCgoKKCwsJCioiK0Wi3FxcWUlJRQWlpKWVkZ5eXlVFRUUFlZiU6no6qqiurqampqaqitraWurg69Xk99fT0GgwGj0UhDQwONjY00NTXR3NxMS0sLra2ttLW10d7ejslkwmw209HRQWdnJ11dXXR3d9PT00Nvby99fX309/czMDDA4OAgFouFoaEhrFYrw8PDjIyMMDo6ytjYGDabjfHxcSYmJpicnGRqagq73c709DQzMzPMzs4yNzfH/Pw8DocDp9OJy+XC7XazsLDA4uIiS0tLLC8vs7KywurqKmtra3g8HrxeLz6fD7/fz/r6OhsbG2xubrK1tcX29jaBQICdnR2CwSC7u7vs7e2xv7/PwcEBh4eHHB0dcXx8zMnJCaenp5ydnXF+fs7FxQWXl5dcXV1xfX3Nzc0Nt7e33N3dEQqFuL+/5+HhgXA4TCQS4fHxkaenJ56fn3l5eeH19ZVoNMrb2xvv7+98fHwQi8WIx+N8fn6SSCT4+vri+/ubn58ffn9/+VcKgSWwBJbAElgCS2AJLIElsASWwBJYAktgCSyBJbAElsASWAJLYAksgSWwBJbAElgCS2AJLIElsP4/WH8AmJ5Z6jHS4h8AAAAASUVORK5CYII=)}.color-picker .alpha{direction:ltr;width:100%;height:16px;border:none;cursor:pointer;background-size:100% 100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAQCAYAAAD06IYnAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AIWDwYQlZMa3gAAAWVJREFUaN7tmEGO6jAQRCsOArHgBpyAJYGjcGocxAm4A2IHpmoWE0eBH+ezmFlNvU06shJ3W6VEelWMUQAIIF9f6qZpimsA1LYtS2uF51/u27YVAFZVRUkEoGHdPV/sIcbIEIIkUdI/9Xa7neyv61+SWFUVAVCSct00TWn2fv6u3+Ecfd3tXzy/0+nEUu+SPjo/kqzrmiQpScN6v98XewfA8/lMkiLJ2WxGSUopcT6fM6U0NX9/frfbjev1WtfrlZfLhYfDQQHG/AIOlnGwjINlHCxjHCzjYJm/TJWdCwquJXseFFzGwDNNeiKMOJTO8xQdDQaeB29+K9efeLaBo9J7vdvtJj1RjFFjfiv7qv95tjx/7leSQgh93e1ffMeIp6O+YQjho/N791t1XVOSSI7N//K+4/GoxWLBx+PB5/Op5XLJ+/3OlJJWqxU3m83ovv5iGf8KjYNlHCxjHCzjYBkHy5gf5gusvQU7U37jTAAAAABJRU5ErkJggg==)}.color-picker .type-policy{position:absolute;top:218px;right:12px;width:16px;height:24px;background-size:8px 16px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAgCAYAAAAffCjxAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAACewAAAnsB01CO3AAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAIASURBVEiJ7ZY9axRRFIafsxMStrLQJpAgpBFhi+C9w1YSo00I6RZ/g9vZpBf/QOr4GyRgkSKNSrAadsZqQGwCkuAWyRZJsySwvhZ7N/vhzrgbLH3Ld8597jlzz50zJokyxXH8DqDVar0qi6v8BbItqSGpEcfxdlmsFWXkvX8AfAVWg3UKPEnT9GKujMzsAFgZsVaCN1VTQd77XUnrgE1kv+6935268WRpzrnHZvYRWC7YvC3pRZZl3wozqtVqiyH9IgjAspkd1Gq1xUJQtVrdB9ZKIAOthdg/Qc65LUk7wNIMoCVJO865rYFhkqjX6/d7vV4GPJwBMqofURS5JEk6FYBer/eeYb/Mo9WwFnPOvQbeAvfuAAK4BN4sAJtAG/gJIElmNuiJyba3EGNmZiPeZuEVmVell/Y/6N+CzDn3AXhEOOo7Hv/3BeAz8IzQkMPnJbuPx1wC+yYJ7/0nYIP5S/0FHKdp+rwCEEXRS/rf5Hl1Gtb2M0iSpCOpCZzPATmX1EySpHMLAsiy7MjMDoHrGSDXZnaYZdnRwBh7J91utwmczAA6CbG3GgPleX4jqUH/a1CktqRGnuc3hSCAMB32gKspkCtgb3KCQMmkjeP4WNJThrNNZval1WptTIsv7JtQ4tmIdRa8qSoEpWl6YWZNoAN0zKxZNPehpLSBZv2t+Q0CJ9lLnARQLAAAAABJRU5ErkJggg==);background-repeat:no-repeat;background-position:center}.color-picker .type-policy .type-policy-arrow{display:block;width:100%;height:50%}.color-picker .selected-color{position:absolute;top:16px;left:8px;width:40px;height:40px;border:1px solid #a9a9a9;border-radius:50%}.color-picker .selected-color-background{width:40px;height:40px;border-radius:50%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAh0lEQVRYR+2W0QlAMQgD60zdfwOdqa8TmI/wQMr5K0I5bZLIzLOa2nt37VVVbd+dDx5obgCC3KBLwJ2ff4PnVidkf+ucIhw80HQaCLo3DMH3CRK3iFsmAWVl6hPNDwt8EvNE5q+YuEXcMgkonVM6SdyCoEvAnZ8v1Hjx817MilmxSUB5rdLJDycZgUAZUch/AAAAAElFTkSuQmCC)}.color-picker .saturation-lightness{direction:ltr;width:100%;height:130px;border:none;cursor:pointer;touch-action:manipulation;background-size:100% 100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOYAAACCCAYAAABSD7T3AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AIWDwksPWR6lgAAIABJREFUeNrtnVuT47gRrAHN+P//Or/61Y5wONZ7mZ1u3XAeLMjJZGZVgdKsfc5xR3S0RIIUW+CHzCpc2McYo7XGv3ex7UiZd57rjyzzv+v+33X/R/+3r/f7vR386Y+TvKNcf/wdhTLPcv9qU2wZd74uth0t1821jkIZLPcsI/6nWa4XvutquU0Z85mnx80S/ZzgpnLnOtHNt7/ofx1TKXcSNzN/7qbMQ3ju7rNQmMYYd/4s2j9aa+P+gGaMcZrb1M/tdrvf7/d2v99P9/t93O/3cbvdxu12G9frdVwul3E+n8c///nP+2+//Xb66aefxl//+tfx5z//2YK5Al2rgvf4UsbpdGrB52bAvArXpuzjmiqAVSGz5eDmGYXzhbAZmCrnmzddpUU+8Y1dAOYeXCtDUwVwV7YCGH6uAmyMcZ9l5vkUaBPGMUZ7/J5w/792/fvv9Xq93263dr/fTxPECeME8nK5jM/Pz/HTTz/dv337dvrll1/GP/7xj/G3v/1t/OUvfwkVswongjdOp9PzH3U3D3zmWGnZVXn4jCqs7wC2BKP4/8tAzkZsoWx6XrqeHZymvp4ABCBJhTQwKfDT8gzrZCIqi5AhiACjBfEB2rP8/X63MM7f6/V6v9/v7Xa7bYC83W7jcrlsVHIq5ffv30+//fbb+OWXX8ZPP/00/v73v4+ff/75JSvbeu+bL2WMMaFbAlpBNM85QX+ct6qoSqkPAwuQlBVKqGNFSUOAA3Bmu7gC5hNOd15nSwvAOUW7C4giUCV8Sgn5L9hNFIqTsp0GxI0ysioyjAjkY/tGJVEpz+fz+OWXX+7fv38//f777+Pbt2/j119/HT///PP49ddfx8fHRwrmTjV779EXu2px2xhjwtdJZQcAWQIPLPISsMJaSwiD8gzIKrwSyATE5j5nAbR5c1dBUwBlsEWW0h6LqiYsqFPAQxCyRZ3wOSARxmlXMX5k64pQfvv27f75+dk+Pj5OHx8f4/v37+Pbt2/jt99+G9++fRsfHx/jcrmUFLO31gYDWblxRIs/TqfT7ousxJsAxXA2Gc7TA9XdgfdoHbFsj76X2+1WArgI1ageGwA3qupqoHsmcbI6Fu93quggFa9d7LeDtgKfAFHBJ+NEByIkcJ5KervdTmhhGcgJJSZ5vn//fj+fz+18Pp8+Pz/H5+fnmGD+/vvv4/v37+Pj42N8fn6O2+1Ws7JjjP6wraMI5E4RZ8x2vV5TSwkquotV7/d7Tz6HFWsD/qNcdw0CQ3q/321c686TwDVIdbuy73zNldhSHb8I2klZznm+InBS4U6n0302aBFsLhHDAKJVJVglfI9jhvu53W53sLANYNxAiDA6MCeUHx8f9+v12i6XS7tcLqcZW57P5yeY8/fz83Ocz+fnsSmYUyknWEG85WBst9stzSLyMdfr9Qi08iY15UZ0LlDGLhR3o5zK2j7OPUTD0E+nU3tk7Xb/16NFbhloAMuY1zjLUOO3BKeIDe+Z8s3/J4gFo4TM5jPmuRg28foUKKVSwo16TgA5npywcWLHgYl/Pz8/73/605/ab7/91m63W7tcLie0sZj4mao5gTyfz88E0f1+j8EcYzwTPEG2cqjyfHNF0M8fuqEiaOVnRzZZQNh5fwQyHg/HDGfJo89Q1zb/quu5XC6773I2XKfTqd/v9+d3wuqWva/YTdUdEV3fhIv/Viyps6YE3x3r43K5bJQS66zaxVGFsvd+//j4aF+/fm3fv39vt9utff36tf3+++/tdrudvn37ZuNLBaaCMgUzC+rZRiFowxUuJI8YMqcCp9Opq5vagaYU6lGJA1XQqejchw6Cj0Gw5nYBrGw01A2O206n04BGouNNyTfp/FwElhUey6nXrIKw7QQWddxuN2ldL5fL839gSPF8ahu/JvBO48CPSuqMf8Vp9/P53L58+dLu93s7n8/tfr8/39/v9/b5+TkhPJ3P56mQ436/j+/fv+/iSgbzer0+AZx/5+88bv6OMda6S5z6kd21fYC9dxv7cIJJ2d9AOS30fPMzyHiTM8B4DF6XUlYHp4KQW3W+1t77MNB1vGHxWq7Xa7vf78+y5/N5A+H1et29xuP5dbYtyaRu4AksbPq6936fjRzXRxBbPr/b+b18+fKljTHaBBBfn8/n0/1+H1++fBnn8zm0sB8fH5u4cr5GuBhMVk0EEn9RsctgVhM+ixlJtMA23R8B6yysAstBOgFXIKKCMIgToMqNEu2fYMH7ztc732dQKkCj1ytAZtY0Kx8pIr8GGJ+AT3V+2Hirhl++fBmXy2Wz73w+b17P8p+fn8/tUwGVleVkTyUb68DkfayWY4zxNRihU4EpLJPZVrK+u7J4/mgfKqeLW9X2REWlItL1diynbDDb3+jXgYjQqn0rrxWc+NkILP7F7xIbMvx7vV53x40xnlbWJF12ZSag/N0pW6t+ZzmOMzHjajKwDfond78zYTdfq18up97zr2q8v3IioBprRtBl0EZ9og5WBRGOdOHjIjXF7UotFbgOWnXzIJyzYvjG5IYgsmMOxHkz8OsMSrVNWeq5T8DaOcbEv1Od5rbs9aO7YvMet63EkF++fMExq+MRl4/L5bLZN/+ez+fnZ6KazuMqXSQVO5spJXflHAIzes/xJseckRJiDMog9d6VfRrqXMr6KpVV27jRwJacGovOAM1zMdQMnwK1AubK63kdCChvI1C7g0z9nf/D+Xze2Vj8H7Gx4P9duQlsYCrqyN8XqG3Hm/10Oj3jw/n+crlstuM+jPmmxT2dTuPz83Pzt2pn1XsEHX/bnPaVqVmh0xwOt0o6XLLAHePUU203wHfcrspCwmV3TryB5s0Mseeg97x/BwzCjBlbB+pRAPla0BVQuT6V6QHdBlj3d0KG147b+DqxQeUymDO43W4dQar+TIjwmAd0z8/h65vf0/yLv3Pb5XLpru/ydDo9s7ET0I+Pj6dKK9VUEIeKWQWPAOrJ8LKd4vE+t91Y3e7UFlWatg2VwJnb+HPmtvm/sfK59/OaWF3x/eP1UPHvA5DDYDpYXfb0drv1V2DkBkxtw/tEWVVlXWdC9pFYs5/jfh9dS/16vW7s6lTG+TfqsxSJHxkXXq/Xdr1eu4LsfD6P3vsT3N77DkL+zPm5jSdKL4zR3AxQd6rHkLkYlSowsrq7znzu6wSwdsMJOXmA5fBcjxtgMGBYHlr5zokhtsMCTgXLQOW4XC6dEyEMprL8mAQzXRgduix2yZzorxkYsDn3hB1VeMLGsXsVtgl2pW8S3svk0vw7R4hNaHvv4cACl5HFzwIH0Kc6zu4XjDPR/jpAVxWzO1Xk2DDb3vTcxeGU1iWZHkmIDWziWKvirCJ4Dravs6IJ/GG6cTqWdXDy+fArQDVVkLqkVjAoZIITdmmIqXwqa95N3+MGYoZQdRVNO53Y1xRkhO16vY7eu507Ca9lJnbGpxOemQhSw/AQsmmp5zU9BiU8G6wvX76M6/U6Pj4+do0Bz4CpgiknTUeDqwlKBmg3u4OVjrZ1A+rAcgaejWq6eJCvCYFDONSwOgHX4EQRw8lxbzDOdEK6gZ3Hk1b+8g2o1JFtKXyv/fEdTXuWjWXdAZiBp6ADeDrCFiim7B6ZFneeI7Gvm/PMkUDX67W7xI8b0D7/v8dA9qfN5oaCf74WZjH0mf1cmfY1Y0JUFmVrTWu8uzkNcLtEj7u5FXBTkfC6GOA5q8YMxO8KVvF6sAVGdcrUbsKODcQKkLMOMdmlxum642YrPm26AlhZW1YB1R+rrGswE8TaYAWeUMxdf+WjwSvZ2Ef3ytOyfn5+PpVPAaqOn43MtNBqvmjjxbjM4lZjZY4gqNMI5ktaW/sYKNwS+9lFQzGihmMCKPa7+Z0V6Eb0GRmobtpX8JljWu5FMLN5ja6hG9kwQgZqf5+1NH5UxzkFReCdWhJ8XdlGUkxO7HRlYRm4mVO43W7ter12TPJEw/rmEN3L5SKHIWZg9mz+pUoKOYq5bJTJdX2gme1UcxMZQFaEQIlHct32M+Y1BzGkGuzfiyAN9z+ugplZ1symCrDCYYkGxDTpI9RzBy0rHyeDUC1nWaeUaD9n4xkNyYMBDZtzZ3B++fJlY21XFDOcARJlabOyiS3uCpLI9jrZjCDkaVvcCCjwognKShWdzXZWlZMvVTgD8LpqlCLrqgbcB+qYwrgKYpT0ccCqbKyCValkEabn/FynogCrPKfqf51xJ7sGB2ZXcZmxoSOztjx300DZi7a0/2AIR0UlBag9SuDw6KcAzlaB7vHZvWpjK90dyrq6bKyDUZQbR0B05biLQkHIcSUmgIK+SwuqgHCnoio2RQU1yj+BnBy9pphVKLGyC7ZzFK1pxWK+E8IhVCWLN/uLtnUU4ayoYLoaANz8FdtaSvY4pV0BEW2ls61czqllBKpTyKgMAhrZ1cdc1RROtPmvWNkdcKZ7ZKxaWjiPLJMpp7OZKxA+rqG/oJLjxf0pnJlqLoDZo3gyU0mKGys2taKecj/d1C+rJSplBqlTyAqgR+D8KjKlmRL2gtUcAdCtsL+ijCNT1oqqqkH2OHEbG5sDFnUg5Aa+yLou2VU1ptj1S2ZQqv1ORZN9IWzRfgaRBxKoBE8UWyqlJFtrIc0AxNjSjed99CTY/XDfSzCz5M0IZoVEsWnPFNTsl8ooVC1TzbGgqFZNDSgVwKK+1sGDMKqxZCWGVMDysiEr1jVSQJUYwj5iHOlThdHt44SQg9CN+nl8D90NMIgAdgr46JqRiR9I8vRdFvbr17m/yxUMKjNLMiVUADwu2CWGhhi+F55TWM9M9cogzms1dnM4uOF/LAEYWdcqnM7yFmyq3IfwmOROd7Y1iFWtOjoY8To41mTV5IysgFFuRzsbWFGbNIIJCDv1dOo4lZG7jWBwRFtVTKuWyeCByJKOan8oZ3ep9XddNl0tDuaywLz9cXPYeDAA0SpkBO9sbVcTOVWldPv4uyzEkzxHtjvonHoSkFEWNoo1d8DhcQputd2ppNon4BzoAiJ1hBFQg0dVtdbGHHDQWushmNEQukLM2QO1G2Y8bgTXqFhcBJj7EjPgcPts8US8qPpPB/dXznOh5Z438tzH5ec6QgrOKrRRfKmysBmUDB+PhYabMlVPER+GCSITTzr7am2tArH3bgcEzPJm+cr5jJ4NnHNFDVrFXcI5Le9k5Jnw+bedbV+FfRzZIHaOOaOsLY0/7UGs58DjrGwKMIMFIGzOEW1/jGsdAtCN6hEAI4hBe9YXeRROBSVPAVPAqvIM5bx5hVKWAMP6zBRy3iescridVdFBinBxXDnG2GRY2XbCvp1lhvGtO9Bxu5h908XQu42lnSArMFdizMim8uwRCxPGnnOS8lwpnbOiDqTAjsrRN/PcoAScCbaACqVM40ylnjjTBs+bwWlAG23/UKbdkiwKWIQPGzWaczpoSlxPEj822cNWkpS7FyzsDrqpfgpG3jahw2vgbaSQAxuLWZYt7JzyNe8JoZpNAcvDFOdw0wqYT9AK1rZz/DdbSlLPp0ryIxgQJlK9AZlEq7IOXpohg9PIhrCng88JsOxiV4ZWAYfg4sikx/8ky2Z9l862uqwrfscIH8+ugTmVGyiddeVYUgEMn4GZzg14EwIsh9sx2cKKiWXReuOE5gzGOQgdlRKVVdlevqb279Xq0Qnsts2VDaBO0coezsruWtHApu6sKG4IBhN0aGU2kLrMKGRTN3HmbCDwKV14zvkMEDG4QfZVspVlaNU2mhc5TEZ3N1h/zqTheuLpW05ZWTGVjb3dbnNmxKZBnN8JqidaVLKAOyARNLS+MB54Z2+VaqoMLKroVBlngefnTPAcoHNWCSvlfA8CI0HEmBNBnBlXyMrzU7A7WVm94PPqQ2gmqKx+WDGsnvilmcSOBJqOK1nYyAIzuAyesq3UdSK3KfWcYKD95HmfYOU3qser2CtYEUA+FpfqdNvgPBZUBhDrGONRVlQsh8rLcaUCykHG0OOUwTlLBrsh5soEMGezi1E4HRVt1icp5wZEFXdibCkG8Y8vX75sbO4E0iom9z+hjSiOfy3DhpXItpVhE+UGQdvoWjtChmrGHf4YAzKgBNnGtuJxFCeGdhUAfQLLK8kBYAP6gvFJZajMG3Xkycy8KuC0q4Eyymwtwdxdv2M0mIBtK0LKnf640j00Auq4gUkdWGlhs22qJc6dZCsL19oxnlTJG4SYVRIGpD8TPFBuM6OElbS1pldid4mGAyN6ZIupbC5bXJN9fdpbThSxLUaI8IG1XIYBxW3Tjs6KQosKcxfxcQmdnwRGM10GnFcCy2XYunLMyAkdgk4mePiczsLygthcBut6goOqS7YVFXADLjaosB6s6ofcZWAZSIRYqSUkizYwttYab3vUOQ9w2HRxIIg8WwRVeE68xi4UtL3zRphxplzwuZrcqYCq1I3jPI5dnJIygEohMbPqVJSzrwzxBJTs5zN+ReUSgxikPQVF3JVBeNQxbHENrEMNvEdFZVV9lH9+ORGEsNZQpyTNc4C3AG7XF4ngzq+DrO2zbuaaOXgdaFcdkEotoSFBVX2qJ0C8OWZeG4KGlpghA0XfTOPCqV2qqwQ26QWfF2PMLhI2w1lVAa2aPsYd0za25MQRwgcZN6uQDCi+ZxiD4XEM2kZxOT41FnZnaRlcpZouzlRqqdbQVWopQoSB58RV50lBNrHi/AwXS5LrwDVlpY3Fc3ByiYGc52Trist6kOXdwInAQtJpp5QchyaquYOV7Su+fxVMaV3dc0RE2S6mUY0gLt2pMcYqrKIQ9w2l1gpQUMtQYcmmbt5DTNxdhnUCjQqtbK9SUSzvrC0mmhhE1e2FS2+oxypy/ZASutkmtjx3vcBC24PX65nbqkBCRhfjS9kIYPnee8cMagVOhI/3T1fAmdtAWZsCswTJCkQVNa0qWKSKPOpHAUhD9DrbVcyoYkwqhvh17vYAayXLQyKGYdxlUDFp494rBXRjYgO17DDYetNIUj/ezp6S0lnlpEwsWmJMkOwsKXeZKEAjIHn0EQJISaRBcO6UMINz7p/bEjjnw4ft+xmDvksxX4G2rIris7qaeKwAFMP2Oi7n4criuZwtpSUwpfLxSnORSrIqusc5ZFaXysqRWjiZ2DyAWEIL35tVSoQElFACjOeGGSE7AHEQgdo/LSvCOgGBvkxsmDbvlS3Fp5vhaB2TAGqRKrKKMrhLVpaGzEVjZ0OQxDhaCTA+QyRR1d15aQzrJntL3RibsipjG6jlgL4yqbS0sNYg1e84vhbBVrElK64CUcWYXDfKxhpIuxiVJZUxsbMy/uRBKTNRQ4kQ3LdRYLS0rJjRPlTPqY6gdJsEDc+aQXAn+HgsNUCbRuF0Oj0zwnA7bWDkbhO5Ens00qeQhS1laBMl5M/cAaxsLF8rKyql+Tf7ELLEGu/ixiimdCvo0TjfpjKwaggen4eh5v7LokLKbLuyvHhcZG8dhGrEDx7Hg93ZppJF7qBqO3iVveXEDQNInzeoe8Yq6ePaZBZ2JviM3W2UAGotekRCAGq4EkF1X3DOnR11yRsBL1tRa0PVcZiNFXZ2c34FskvomInQQ6lzpJoZbJxk43NwKJFBquJSsrByHydxKOnTxQASBmS3j+JMnsHSla3Ec6K9VWoJVn9zfjwOM7hqYAAqJQwE2a3nA48J2QGegRkpZNivSY+ys3EkKd4oJIwsvIHl3cWgLt5k4NH6OmtLWdpurOkwEMupYc7eMtDRhOcI2ui5JhVIzXzLyto/GAPuZoyo8wkoduVgJglCt7OhGbgID4Mq4si+63zUS1FuFFXFlqyaj2emHlLMcBqYu0FMuR28BbB7lOxRMSiCQXFhCKuwkhZ+pYDiGSgbsKKV8MiSRsuHSIWM9rklRiIlZZuqXjsQK8ooYJMgq3JKWVkhHbhsVxFUzthOWPkYijcbx54IKsSdT+uLr3crGKyoYgFiGR9iBk4kfloUX+JIlQRQqabmpgnhqtpQpb6RVQ1WH5DnrS4hEoGZqaerQ2dhFbz8XePxShmDbo70eISjoorO2vK8SJXI4SUmEU4zWKDzUDtWTYw7xXlbSTEj4FRg7zKnKoGRALv0Gs9Tgc1BpCywGZRQAtqVz2xrBcAMzEpfZwFSa2G5W0QBFjSMapWAEFa3HcGN7CxDzECyIkJ97qwrqWNTWVo876PPsjPkj2wvgroM5lLZKMETKVql/CvnWVFiFa/SzJUQwkoZsr67Y6vlSRV3/2tmNTOY3vnaxYwMuoPKqdzR1w7IqHymlPxaAThfU7Ko2ZXYj4AYJHL+kNdKwRQYESTRa5fsUZ/rVC1TMTyWVyYoqNtuzaHsMyv2tvoarxdfqwYgU1axFo/cnql1FGsqK+uAROV8BX4GU8WcZTATi2q7Qcyi0O0V+GhWBMNRUkn8H1SsWVE5By3Gi0ECqUeJoBfAtDa4amkdXG37AGP5Ggeb84p7UazpoKRzdFzeQ8HkoHGxprKy/Hpm5t12p47J6xTYDEz7uINEXSuxYXvFskYAc+ySxH9sf5ftKzU6IbwVBcUGg5e5FMCEXSErZR0wGayV19woM9guPjTqJdVTqR4uE4nJnLldWVkECCZLd2VLF+xtamex7IpiriSDUpvrpn9lrwGMCHyppMH+ps6LILsuFGUj1XEOXiqbqSHPUKnClpWV68kqtURVNDY4TNaocykoYeTU5ngGEQa/S1DnnE4AeXMcKjHPAmFVjCBENaeyLVNHfr3px8xUstJ94hIpfH4HKE/eDaArK6lSyVVFbdt1gxTIVk3pppVlFXi4pEhVBTObquohU85MLXn1iahvUkHJjSCMc01tLFveVVBx0DodM6jftCu7DOtIzYxrc0qp1JGP2ayYFz2Gb6HvMrO8cnGtV6Gjm3uImSfD2GpWK6uowbZGMxFKQCo1pOMtcMXFpRst+hXGoAomF3sSTBGgTglbBKWwsQ3tZqaYSp0Z1CimRDWFcCJUPYJ00BI5FkKYNoifuQxmN88SWVXWLMaUqqqgC0BmQJR6sk3u9NCf6jYLXxAfqsYEgVLAhRY2AtgtflZNFmFyhxdrLkAdWlk4D88M2ixHyepIdhMHrG/iR1ZGtq0MGpbDbRPYOXeSY1M6Ny4ZstvGSktK+XbFPATj2D371saPEsAMXhXrsZ0km/XStkhhMyBfsa6uXFZe2VCe+YMr1+GKgwrQyNYq1VRrB+EizAow6NsdNKcyVEkYeM73ys6q4kAHp6BiFklTkIrVC5oYV7uzwOGCz4UJ0Stq2lWMJy4wtb+RetL6tZFicnJmBw5UjCvXXMZVJX2MQkbf+XN5EWd78Vz8/JEsMZTBiKNzsm1inLRUQ74H4NidaqI68j5sAFgxcRveC7ieLJXfQYxjZZ2CsiWFewZXJmBIlZ1tdtrX4hSuateKso/RZOtOKW2nmq1oTzeK6dRWAWu2NRVb4hq0SXm1GvtugHrbr5IXqmSktg5CuDE2MSlPwsY5kNE2Wp3AqiZbWVLAxiBF+2iBZbuNj6MB6rsMLC7FyasaYDyo7KkoPyEtw3pEMXfPvxAJi2jAQQgjrz0rLIZSWZlIoNhwd5xK4AR9mYNjWAaLrnuImJeBVN9zBORObVvbr+mTTfFSEJLSRnHo7hEJoIi8MFqjxmvgmF5URZz4zLFgZZ8Ctu2X7ggVccKm9gVxIsOHqxXgNMKnFWZYnf1dBnOhayXq17QwFlWW09eNKyVJFmXqaONGA5aCegMbJ3UUkGY1ic3nKWgjq8qfVYGQG1gRt6rs62a6HiqqUOqdesK5NmX4nGofJoiE1d0dF9lVVkvT1/kEEaaCoYOwFpcVcoLM+7669PxC9rWqktH0sWUYld0VCpuBZ/stVRcGgy9WX2+U1Qthi9SzAqSxzZsy+OiFzBYnySGV6Gku44rD8BCOZBV3BvD5+AKRHNwMEsB6EzHnJpkTAeiUlEGkcECeB6GDZTp5YEJTlvdrknxYjTllMkfNtXwDjM7uVjK5JXUUn43rrqpK2jytaxHW0M5G8DC8rtHMYs7KSgduVQMGTYFqFvVS6rkD3sDJ46afdYFwoq11AOKCBLhvwoUgc8IGANycR6knZrdJPdsuxnyjfd3FovTlRMdEdtOl5CMV5EHsXQBis7TOwvIDZaGj2Vnpbh7cpK63VwYEMLwqbjzyl699sawFFkF1yqjUU31HfC6sW1ZFVFuXVXVgz9keEaw0ys1lWfm+azQAQSWA+hKYVfsZjPncAcUB9oIayy/UZXRNckDGji77GsWbvBo6tPrWPqOyVkBUq+INeqpzNdYs/u0ifh5qmpqIW+33JVSUcwY70KL4U9lYdU6ljtSls7lmfi9g3YzeQfVkaGFaV3ODCnaD2N8wsEDFklE3RzM3ZghdYkWHsszq70FIecnKkVkt8ezMzRq9bkGuKojRLBVSod3Y1yPqKgYW7JRQTPVyy5xIYLjOgxgT52RKJUY1dOrIiRd4futQx/A5AcSmEjz0vFWrkLzvbWAu9HOWbGgxFk1VNTpnBKk6TgwisI/HcxYXP1uAWO72ULFlBTq+aSu2VTUs6hrxM2CF+hEor1VIA9ZmFUaab1lSSgZsVs4sxzHlVLoJHr9H4DhONTkI1XC0/wiY2NoWAG5RlnHFnq6oLccpQddMuJ/O17JVA5OHLi0BqCztq7Y1++ucCd98qLI8MIHBV/cKjxQTme3hFBS3MyCqnDsuym2o80HjvFFTtrURmNaGJsmVahImjTsUXKtQZTAVs7Mvv8/+fzUrZAXcLJ6M4koe6XP0b6SmWWNDzyUpQ8bl+LtWx4tuqZ36cRYV3yuVxPNwvIiqiQCSmu7srgTzR6nkyhpCarXwFy1vGd5iP2cY06lFr5Njhhg1Y6+NB28ftbK83s8rf7kLJbKwDFPbLg25a0AdZJEiqr5phixKMDlRUtcssq1hriLqGoH+zeNgVm9OemjsETV8JdF0NHnkIFxWY1OB4Yrp7rtWJ7NgAAAPXklEQVQ3oNs5nplyVf8u2FoLu1JrHveaZWQjqAkshtFa2gzsSG3Zpkbvg3HafF9slPPlldjFlK80Gysm8Mr4MPhneNWENPGjAIpmilTPATdTRTXlCBYHYAQuPwA36xIpWtGN4q3Y2MhiGsUpuSSnlEJRD8PorC7CFYVw+F51qThgabxsTxWzCGY0ZSsb3lfqAy0OPNjNy8xiQQKsHYFQ2HBZVvVbBuq3m1oWKajqaonsM6uZUr6CjXWNZ0l5E3h3jURma6kP3MJIiy1Lm+kahQq41N2iZja5sjtlLYNZHZrH6qUGm4vMbDp6Rw2CFmvuyFkrBcCyMtFqBaECmsHoK9BZ2LA/lJcRqSaDqnaWbrZdGaz3DLgIvBln4woGztbyJGqslwxkhhHrTjTYFXCtOoKS8uLdofVdAbOylGU6nlYpXWZts4nXBq6WxJitMNokHUJnbnJplQm+aGpY2a5GMV2QD1hRubBPFKdumf5OHkLHz0F9luE5kjBjRa0nFE5CUGqHw32MmjZ6xkgINVnSnZ1VZStK2qKlRaLlQgK7uTq7JFXJwM+3SOEKyhZNI+tJ0I5qMYy9k2qJD7dVWdqKXa0CKNR0Ccjg+B2IYu2fcBZJZkMFgM11r0X92wilghFGgzVnexlqB7xL9mS29SiYUVY2nXOZjNBRsyDsQPRWW5hrZ4XcdC4HVWRbjgJr4sFofK5SzjQ7rhI1UebdPdEbj6sqIvTZQZ5va08rABsAW0UxeWytAk7A2KJ9ZpxzCioB24XFtYAeXYxr6anSqhLgppEqWbGwLunTgrV+IjWlL29ljaAl4EQMGsErp4apeZiquwRXLXAqOCeru32mmydc6oWTSWpFAGdzeTB8RTHVMEtlM90CbbQCYhPjq3egYr1FGdYIQjiuDGZ5zZ/AzobKGOyLxti6c4Rwtv2anyWlLICnlLhxJRXt6A5ebDBWFNONbxWZ2d02mnu4S9YECpeppV1zSWRBWxHYzVIv1CXSouwqqX3jBBBDZdYQbpTQW4ZQlS8r5kH4suSRmg2++3JN10x1PaAmEkmtYlEdeGpJEM6kOuCqCR22oSujj5IV2HdT0zj5prLKTjXFAPjdQlyq7xIBxAQP5yMczG4VxAKw0n6ilZ2QBce2pLulkuxxqnoIzFfgqyqjil9S1VNwBrFmeyeops8yOjZUybZdfS8CuaTIJumzs5tODaNtLpFDQ/PcJGweLhmeL1nB0KqiUDScsiUVD89Di3HtrKtSULw3RLiygZD+7sF8JTObgYsrGvDNUFRGl1iy0Ll1YkUc2aJYMog920I8qW6YDCg1Mqk0JHJFKXkbgbRreI+qpYNOZHrVcDUba7pjsphSJNtK6upgRNAVoOS0mugBeN4bIZgHhuPZ/s1ENaX6KsVr+YNrh1Nb7ipR0PE5zbNRegCbrHRUw6Yf07dLBJl1f8KB9as2V1nNqAsl62LBBhehwalerkHmB1JFIEZKSEusdl5JQj1nJlHXSCF342gJ9CYGrXelknJIXqVP8sD+qtplCR3XH2qfKq0ygMp+KnVkKxNlZ8m2YkIlVMiCnXUwl7qznBKSvQz3m3Pt6oQbXO5b5FixCh/fHxUQW/AEcK6zCNqKQnL9sywqmKuwvqSYzT/aPVNNpVyhvRW21aqciCsjdWvBwILUvh5VyCzbWoC1pJjJ680CWsl+udKB6T5RwG1mlohnlpbg47iz5U9ha0FGtmRLFYBtO99y97Ap0z+ZDTAog6kSLZsMHg/IFkkgp6CpvU2U0cYVSdnmkjwBdOmXbxTWNWzuIbipMioVxEckZEoahSOiy2M3K0jcC1LhVDwaqG0ZvkcWqCnrG4GIxykrqlbWdw6LQyBaZR8HmLRIhQWsHswD42ZXVLNkf9l+FlW0HVQ2lwFsC/Z1FdzlQR0KaPfo+Fdfu+/dwVRICu1CGR7AEIiAhc+AZUF0kOBaPxmUqg4i64vQnU4nFDYJ9Nz+1fVXveH9qmr+kPILx8oKcRV/BFbxbE0JMT0kSD4w6L/lNY8ocsqagVdU3A3MjxhxcGuqzsPH4irpaow1q6OyrVjvp9Npc59E91LldboYVzJWdimWfAW2SNEKcDaX2FmBLLA/uKxlmhh613Is1URQApbKfttwxL02q6Onx5pQxSbPojAg+v5hAnN6LHVRDXIsvKtRjiS0qJUyZTAXVbAK82ElFJWaQdVoqUC1Unt7BVaTQudM6SuqexjQJN4+0icaxv/utbKv83ETbT8H8gjcOKxOJmbUa6OOVXht3dFY6rHv9XoNzFLceEA1o8+pKm0LAHPHZ2rYKjFq0hfZFixsqHJgD3eD5n+U0kb1mFjXkn2lvMSSOsNE/CdIAKF0Sytq6urOHUN5gwg4GZosgbmggM5ucra2qrS2Ig1cbiBBcxYzgzUDNLCvL8GbZXNp6ORy3LmS+Kk83zRIAK6A1ioKa2I9NapIuiUFdfC9766PFZUtqUr6KbWk+zZU1a/ZrIXEztrjTOfz7hwKziCeXIaraHtbZIMz+2pGgazCmw4qWAFvEdhodYp0Xq0pV7G1YWYWbO4qhGq42+Z8BYtrLWvluNPpZAeaFFS1vubPgbgxsqcpnAaszBovKaFoDQ8BGtjfUOl4NAG2nmQV04feJgumvX2fsrQEWZghL0JnVdYkn3DOZIeRN86RqPWCmsvGVqEMRnwxQAxwS8EMYo3IzmY2+BCcLp4MKiuyuhImamlbZFcNoNl7tp+RHd18ZjQIRKyXdFRhN98/hyKqwXWNo7O1wiaXoHN108REZZWEq6grnIfjzeg8jdRf1XEL4kkXa5bBjKxoKaljBjeHlVxQ4GaycpW4lDOAKtnTxHAtOfzOtZwHAM7sqVXkV6yu6kap1nHkXKqWF/4XHqjenNKqBjpR3l1ch3Ejg1+EsgdQhsdG0B4FM9sWAVWpuAyiwTPleZxt9VyZVS2qXfReWqTAilpr9ApoWTjxymit7NwV4JTriZyOA9B0k7HFfULourmKYHVnRQvqGL5HMHdqFcR2qWpmcK6eTwx2dipWrviDilr+fKWq3OWRWdHKwA4eu8wjchbeRzFilqjjZN3ufCpfkJ0/scVpnYk6L0PI77lxdWCZ87WiWm7B/AGquQSnujGKsB8CJmiJq8q1pKIVWyqOiTK66r18BN8r74/AE71fdC3yPS2MxdOpnE1tlVxD9JmVOoggN+r4PjAXVFPa3Eg5jVJGFVUGNolH20GVrUB7BOySWq6WqYQdWR92pcFMYMwckbSgCKCqD67DiiWu1g8MQC9ByfcFqW1L+jL714qNCuznoSxt0da2gtWN1G8F0BK0NN0nuimelUF9dIdAfjO44UT3CjQLoUeLHJFTO3gmpRuIIOvwBQCbqNeo3qtZ9iF6xVK13GRlo4zqimq+CGdTiR1uRY8oqgE02hZBa79kZXPMquxRHKla2saZWN4mRqZUj0vLCKhkjKnqOQHNuSZVJoKvAqS1wpEquvWDC1B2ypwrCPsRMEPVTODMLJMDv6qeKXwi2JYV5Sq4qKyvgGsHCLiuj2jR59V8gMqSJ2FJZRXEHVRHj3sFPrct6OpqlW1GpatQdt0GvwfM6n63InsGVFhJGaBqgqqIV6IsXllZgySPq4R3bnt3wi5cv+cN2yqQLW1T95KYVsWWtKk4cB9W53WQQflQYR6Wl4HaJZjvVE0D5yvq+RKgZCs5qdBEP5sD94cAvQLlSgNaSMAtHx88BuNQ41zdFsX30zKbcs0MLD/ihkpQzl0wiTqKLTfbKmCmyYICnK0IbaieC4CG9iSyLQ7cIMGQwau6TKoq60Apl3WN40LZpca1CKKK9VQyyIEn8w0F8F6CL2h8o3ixGwC7s7EWzCOqmcApYxYD4jsAzVS0sl2t98pA7vrKophCVSonbYpgH6mvSn24pTBV4sdtV3BtMq5k82y+IADvUJ0uAlkCVTxIaPm+UNu/qkV4F1TzHXCGrXIAqItBKypqK99VtAOVs64O4ObX7pHLVCpYHcRmwvLR7TvYAKBBN58LGVzDuFz+hQbWgncQyCZAk+VbsPSouf93261iZgmfCpwRbAvqmSqriU2PwhjaoOyYqtIegVXViTsmyta6bGySpY3gyRrpIyAeaWDDxtpsXwKyalMDKNP7YBXMqEskUsi2uC8FNAPxAKTVfT1o6VzM0E0jF+1rWcUuHvdyg7vgoFplX8HpvHpMCOMRUPHzZkInsqlFKNX/EIO52E0SxSzOwob2VmRLW5D1XIU0rbgM1AzWgyC7fe8G7xUAK/taEBat7luqtyP7EmsaJQOj5F+mrnZfCuYCfBUAWwShyd6pMY/vAHG1UqOYpbI/gy5T0CMKm+UO3gFuC85dgfDVeguPDfITrIBLsLrcgdh3CFgFZjaKJ4Iv3F8ANEqvuxR1tVKOgLoCa1jxboBAkj6v7j/icFbA7f4rfRnQDLRViG13i0vqBQrYVqBbADZT0ZpiHoSzvQpopKIFS3sE1HfBWlHXd0H7LnArqvougMtljHBgZnh3Eoz/BKjLML4Z2Aq0+hEJr9jaVUBbvNzCIUiroC7AWmmFw4o5AK3MtB5VypZMSFgs05JyGVwlwBqsEGAAa2ZU1CjUexXGsE4rKriilBvFzOKKo3AuAroE6QFQU3u8YpNXwS5k+1TZt5UrwouN4KiUEw+k3ZWDp1RXHNRqXb21Ts39945yZSg3VnZFNQ9CF3XeZyr5DgBXKiwCMa2MxeTDYXgP1Fsf9QNKZc0k81RJk3r6EQ3rCmBVyLL75EjZ1pIVDHoFtiOAHoB0BdTVylqBsKKKS+AeBXJVLY+CXASuGvO/Auq7GuEjDfGKg1oKa1z/dmmi9I9SUGNhl0AtfulHAawoYrnSkmNXAVuGEhrEVXvUF+A5Ct2PqNOjDetyna4CmeUolmeXLN4Aq7C5Sj10Q7yjgl+t6CNxSRHmI5X+CpwreYB3Qfdqna4q21KdBuc4GoZsn49ZOOiVinwHqK9WzjvgeweEh2AU5+vtxZ9Cd9Wqkh49V18E5oj6vVyn0RStAyGIO5edXRKd5B0VGVXq2yr3xYp+5Ut+C4QJ4P1N339pQMjRejj4vb/Dcr6rQc3O/0rjmtZpeYCBiCHfCemRbNhbK/pNUPc3wfKy5f2D7OlL3/uPhve/oU4T0F8f+VNM2vyoiv0jK+KHQfdHq+0bncz4oz73/+Y6LbKw1o/5B7eOf1Rl/0du9B9tn/9bvrf/j+v0h6ttn2tp/r/4819y4/zv5391uvzzfwDifz6phT1MPgAAAABJRU5ErkJggg==)}.color-picker .cp-add-color-button-class{position:absolute;display:inline;padding:0;margin:3px -3px;border:0;cursor:pointer;background:0 0}.color-picker .cp-add-color-button-class:hover{text-decoration:underline}.color-picker .cp-add-color-button-class:disabled{cursor:not-allowed;color:#999}.color-picker .cp-add-color-button-class:disabled:hover{text-decoration:none}.color-picker .cp-remove-color-button-class{position:absolute;top:-5px;right:-5px;display:block;width:10px;height:10px;border-radius:50%;cursor:pointer;text-align:center;background:#fff;box-shadow:1px 1px 5px #333}.color-picker .cp-remove-color-button-class::before{content:'x';position:relative;bottom:3.5px;display:inline-block;font-size:10px}"],
      encapsulation: 2
    });

    ColorPickerComponent.ctorParameters = function () {
      return [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["ElementRef"]
      }, {
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["ChangeDetectorRef"]
      }, {
        type: ColorPickerService
      }];
    };

    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])('dialogPopup', {
      "static": true
    })], ColorPickerComponent.prototype, "dialogElement", void 0);
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])('hueSlider', {
      "static": true
    })], ColorPickerComponent.prototype, "hueSlider", void 0);
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])('alphaSlider', {
      "static": true
    })], ColorPickerComponent.prototype, "alphaSlider", void 0);
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["HostListener"])('document:keyup.esc', ['$event'])], ColorPickerComponent.prototype, "handleEsc", null);
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["HostListener"])('document:keyup.enter', ['$event'])], ColorPickerComponent.prototype, "handleEnter", null);

    var ColorPickerDirective = /*#__PURE__*/function () {
      function ColorPickerDirective(injector, cfr, appRef, vcRef, elRef, _service) {
        _classCallCheck(this, ColorPickerDirective);

        this.injector = injector;
        this.cfr = cfr;
        this.appRef = appRef;
        this.vcRef = vcRef;
        this.elRef = elRef;
        this._service = _service;
        this.dialogCreated = false;
        this.ignoreChanges = false;
        this.viewAttachedToAppRef = false;
        this.cpWidth = '230px';
        this.cpHeight = 'auto';
        this.cpToggle = false;
        this.cpDisabled = false;
        this.cpIgnoredElements = [];
        this.cpFallbackColor = '';
        this.cpColorMode = 'color';
        this.cpCmykEnabled = false;
        this.cpOutputFormat = 'auto';
        this.cpAlphaChannel = 'enabled';
        this.cpDisableInput = false;
        this.cpDialogDisplay = 'popup';
        this.cpSaveClickOutside = true;
        this.cpCloseClickOutside = true;
        this.cpUseRootViewContainer = false;
        this.cpPosition = 'auto';
        this.cpPositionOffset = '0%';
        this.cpPositionRelativeToArrow = false;
        this.cpOKButton = false;
        this.cpOKButtonText = 'OK';
        this.cpOKButtonClass = 'cp-ok-button-class';
        this.cpCancelButton = false;
        this.cpCancelButtonText = 'Cancel';
        this.cpCancelButtonClass = 'cp-cancel-button-class';
        this.cpPresetLabel = 'Preset colors';
        this.cpPresetColorsClass = 'cp-preset-colors-class';
        this.cpMaxPresetColorsLength = 6;
        this.cpPresetEmptyMessage = 'No colors added';
        this.cpPresetEmptyMessageClass = 'preset-empty-message';
        this.cpAddColorButton = false;
        this.cpAddColorButtonText = 'Add color';
        this.cpAddColorButtonClass = 'cp-add-color-button-class';
        this.cpRemoveColorButtonClass = 'cp-remove-color-button-class';
        this.cpInputChange = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"](true);
        this.cpToggleChange = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"](true);
        this.cpSliderChange = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"](true);
        this.cpSliderDragEnd = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"](true);
        this.cpSliderDragStart = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"](true);
        this.colorPickerOpen = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"](true);
        this.colorPickerClose = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"](true);
        this.colorPickerCancel = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"](true);
        this.colorPickerSelect = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"](true);
        this.colorPickerChange = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"](false);
        this.cpCmykColorChange = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"](true);
        this.cpPresetColorsChange = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"](true);
      }

      _createClass(ColorPickerDirective, [{
        key: "handleClick",
        value: function handleClick() {
          this.inputFocus();
        }
      }, {
        key: "handleFocus",
        value: function handleFocus() {
          this.inputFocus();
        }
      }, {
        key: "handleInput",
        value: function handleInput(event) {
          this.inputChange(event);
        }
      }, {
        key: "ngOnDestroy",
        value: function ngOnDestroy() {
          if (this.cmpRef != null) {
            if (this.viewAttachedToAppRef) {
              this.appRef.detachView(this.cmpRef.hostView);
            }

            this.cmpRef.destroy();
            this.cmpRef = null;
            this.dialog = null;
          }
        }
      }, {
        key: "ngOnChanges",
        value: function ngOnChanges(changes) {
          if (changes.cpToggle && !this.cpDisabled) {
            if (changes.cpToggle.currentValue) {
              this.openDialog();
            } else if (!changes.cpToggle.currentValue) {
              this.closeDialog();
            }
          }

          if (changes.colorPicker) {
            if (this.dialog && !this.ignoreChanges) {
              if (this.cpDialogDisplay === 'inline') {
                this.dialog.setInitialColor(changes.colorPicker.currentValue);
              }

              this.dialog.setColorFromString(changes.colorPicker.currentValue, false);

              if (this.cpUseRootViewContainer && this.cpDialogDisplay !== 'inline') {
                this.cmpRef.changeDetectorRef.detectChanges();
              }
            }

            this.ignoreChanges = false;
          }

          if (changes.cpPresetLabel || changes.cpPresetColors) {
            if (this.dialog) {
              this.dialog.setPresetConfig(this.cpPresetLabel, this.cpPresetColors);
            }
          }
        }
      }, {
        key: "openDialog",
        value: function openDialog() {
          if (!this.dialogCreated) {
            var vcRef = this.vcRef;
            this.dialogCreated = true;
            this.viewAttachedToAppRef = false;

            if (this.cpUseRootViewContainer && this.cpDialogDisplay !== 'inline') {
              var classOfRootComponent = this.appRef.componentTypes[0];
              var appInstance = this.injector.get(classOfRootComponent, _angular_core__WEBPACK_IMPORTED_MODULE_1__["Injector"].NULL);

              if (appInstance !== _angular_core__WEBPACK_IMPORTED_MODULE_1__["Injector"].NULL) {
                vcRef = appInstance.vcRef || appInstance.viewContainerRef || this.vcRef;

                if (vcRef === this.vcRef) {
                  console.warn('You are using cpUseRootViewContainer, ' + 'but the root component is not exposing viewContainerRef!' + 'Please expose it by adding \'public vcRef: ViewContainerRef\' to the constructor.');
                }
              } else {
                this.viewAttachedToAppRef = true;
              }
            }

            var compFactory = this.cfr.resolveComponentFactory(ColorPickerComponent);

            if (this.viewAttachedToAppRef) {
              this.cmpRef = compFactory.create(this.injector);
              this.appRef.attachView(this.cmpRef.hostView);
              document.body.appendChild(this.cmpRef.hostView.rootNodes[0]);
            } else {
              var injector = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ReflectiveInjector"].fromResolvedProviders([], vcRef.parentInjector);

              this.cmpRef = vcRef.createComponent(compFactory, 0, injector, []);
            }

            this.cmpRef.instance.setupDialog(this, this.elRef, this.colorPicker, this.cpWidth, this.cpHeight, this.cpDialogDisplay, this.cpFallbackColor, this.cpColorMode, this.cpCmykEnabled, this.cpAlphaChannel, this.cpOutputFormat, this.cpDisableInput, this.cpIgnoredElements, this.cpSaveClickOutside, this.cpCloseClickOutside, this.cpUseRootViewContainer, this.cpPosition, this.cpPositionOffset, this.cpPositionRelativeToArrow, this.cpPresetLabel, this.cpPresetColors, this.cpPresetColorsClass, this.cpMaxPresetColorsLength, this.cpPresetEmptyMessage, this.cpPresetEmptyMessageClass, this.cpOKButton, this.cpOKButtonClass, this.cpOKButtonText, this.cpCancelButton, this.cpCancelButtonClass, this.cpCancelButtonText, this.cpAddColorButton, this.cpAddColorButtonClass, this.cpAddColorButtonText, this.cpRemoveColorButtonClass);
            this.dialog = this.cmpRef.instance;

            if (this.vcRef !== vcRef) {
              this.cmpRef.changeDetectorRef.detectChanges();
            }
          } else if (this.dialog) {
            this.dialog.openDialog(this.colorPicker);
          }
        }
      }, {
        key: "closeDialog",
        value: function closeDialog() {
          if (this.dialog && this.cpDialogDisplay === 'popup') {
            this.dialog.closeDialog();
          }
        }
      }, {
        key: "cmykChanged",
        value: function cmykChanged(value) {
          this.cpCmykColorChange.emit(value);
        }
      }, {
        key: "stateChanged",
        value: function stateChanged(state) {
          this.cpToggleChange.emit(state);

          if (state) {
            this.colorPickerOpen.emit(this.colorPicker);
          } else {
            this.colorPickerClose.emit(this.colorPicker);
          }
        }
      }, {
        key: "colorChanged",
        value: function colorChanged(value) {
          var ignore = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;
          this.ignoreChanges = ignore;
          this.colorPickerChange.emit(value);
        }
      }, {
        key: "colorSelected",
        value: function colorSelected(value) {
          this.colorPickerSelect.emit(value);
        }
      }, {
        key: "colorCanceled",
        value: function colorCanceled() {
          this.colorPickerCancel.emit();
        }
      }, {
        key: "inputFocus",
        value: function inputFocus() {
          var element = this.elRef.nativeElement;
          var ignored = this.cpIgnoredElements.filter(function (item) {
            return item === element;
          });

          if (!this.cpDisabled && !ignored.length) {
            if (typeof document !== 'undefined' && element === document.activeElement) {
              this.openDialog();
            } else if (!this.dialog || !this.dialog.show) {
              this.openDialog();
            } else {
              this.closeDialog();
            }
          }
        }
      }, {
        key: "inputChange",
        value: function inputChange(event) {
          if (this.dialog) {
            this.dialog.setColorFromString(event.target.value, true);
          } else {
            this.colorPicker = event.target.value;
            this.colorPickerChange.emit(this.colorPicker);
          }
        }
      }, {
        key: "inputChanged",
        value: function inputChanged(event) {
          this.cpInputChange.emit(event);
        }
      }, {
        key: "sliderChanged",
        value: function sliderChanged(event) {
          this.cpSliderChange.emit(event);
        }
      }, {
        key: "sliderDragEnd",
        value: function sliderDragEnd(event) {
          this.cpSliderDragEnd.emit(event);
        }
      }, {
        key: "sliderDragStart",
        value: function sliderDragStart(event) {
          this.cpSliderDragStart.emit(event);
        }
      }, {
        key: "presetColorsChanged",
        value: function presetColorsChanged(value) {
          this.cpPresetColorsChange.emit(value);
        }
      }]);

      return ColorPickerDirective;
    }();

    ColorPickerDirective.ɵfac = function ColorPickerDirective_Factory(t) {
      return new (t || ColorPickerDirective)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injector"]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ComponentFactoryResolver"]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ApplicationRef"]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewContainerRef"]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ElementRef"]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](ColorPickerService));
    };

    ColorPickerDirective.ɵdir = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: ColorPickerDirective,
      selectors: [["", "colorPicker", ""]],
      hostBindings: function ColorPickerDirective_HostBindings(rf, ctx) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function ColorPickerDirective_click_HostBindingHandler() {
            return ctx.handleClick();
          })("focus", function ColorPickerDirective_focus_HostBindingHandler() {
            return ctx.handleFocus();
          })("input", function ColorPickerDirective_input_HostBindingHandler($event) {
            return ctx.handleInput($event);
          });
        }
      },
      inputs: {
        cpWidth: "cpWidth",
        cpHeight: "cpHeight",
        cpToggle: "cpToggle",
        cpDisabled: "cpDisabled",
        cpIgnoredElements: "cpIgnoredElements",
        cpFallbackColor: "cpFallbackColor",
        cpColorMode: "cpColorMode",
        cpCmykEnabled: "cpCmykEnabled",
        cpOutputFormat: "cpOutputFormat",
        cpAlphaChannel: "cpAlphaChannel",
        cpDisableInput: "cpDisableInput",
        cpDialogDisplay: "cpDialogDisplay",
        cpSaveClickOutside: "cpSaveClickOutside",
        cpCloseClickOutside: "cpCloseClickOutside",
        cpUseRootViewContainer: "cpUseRootViewContainer",
        cpPosition: "cpPosition",
        cpPositionOffset: "cpPositionOffset",
        cpPositionRelativeToArrow: "cpPositionRelativeToArrow",
        cpOKButton: "cpOKButton",
        cpOKButtonText: "cpOKButtonText",
        cpOKButtonClass: "cpOKButtonClass",
        cpCancelButton: "cpCancelButton",
        cpCancelButtonText: "cpCancelButtonText",
        cpCancelButtonClass: "cpCancelButtonClass",
        cpPresetLabel: "cpPresetLabel",
        cpPresetColorsClass: "cpPresetColorsClass",
        cpMaxPresetColorsLength: "cpMaxPresetColorsLength",
        cpPresetEmptyMessage: "cpPresetEmptyMessage",
        cpPresetEmptyMessageClass: "cpPresetEmptyMessageClass",
        cpAddColorButton: "cpAddColorButton",
        cpAddColorButtonText: "cpAddColorButtonText",
        cpAddColorButtonClass: "cpAddColorButtonClass",
        cpRemoveColorButtonClass: "cpRemoveColorButtonClass",
        colorPicker: "colorPicker",
        cpPresetColors: "cpPresetColors"
      },
      outputs: {
        cpInputChange: "cpInputChange",
        cpToggleChange: "cpToggleChange",
        cpSliderChange: "cpSliderChange",
        cpSliderDragEnd: "cpSliderDragEnd",
        cpSliderDragStart: "cpSliderDragStart",
        colorPickerOpen: "colorPickerOpen",
        colorPickerClose: "colorPickerClose",
        colorPickerCancel: "colorPickerCancel",
        colorPickerSelect: "colorPickerSelect",
        colorPickerChange: "colorPickerChange",
        cpCmykColorChange: "cpCmykColorChange",
        cpPresetColorsChange: "cpPresetColorsChange"
      },
      exportAs: ["ngxColorPicker"],
      features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵNgOnChangesFeature"]]
    });

    ColorPickerDirective.ctorParameters = function () {
      return [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Injector"]
      }, {
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["ComponentFactoryResolver"]
      }, {
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["ApplicationRef"]
      }, {
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewContainerRef"]
      }, {
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["ElementRef"]
      }, {
        type: ColorPickerService
      }];
    };

    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])()], ColorPickerDirective.prototype, "colorPicker", void 0);
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])()], ColorPickerDirective.prototype, "cpWidth", void 0);
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])()], ColorPickerDirective.prototype, "cpHeight", void 0);
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])()], ColorPickerDirective.prototype, "cpToggle", void 0);
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])()], ColorPickerDirective.prototype, "cpDisabled", void 0);
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])()], ColorPickerDirective.prototype, "cpIgnoredElements", void 0);
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])()], ColorPickerDirective.prototype, "cpFallbackColor", void 0);
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])()], ColorPickerDirective.prototype, "cpColorMode", void 0);
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])()], ColorPickerDirective.prototype, "cpCmykEnabled", void 0);
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])()], ColorPickerDirective.prototype, "cpOutputFormat", void 0);
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])()], ColorPickerDirective.prototype, "cpAlphaChannel", void 0);
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])()], ColorPickerDirective.prototype, "cpDisableInput", void 0);
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])()], ColorPickerDirective.prototype, "cpDialogDisplay", void 0);
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])()], ColorPickerDirective.prototype, "cpSaveClickOutside", void 0);
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])()], ColorPickerDirective.prototype, "cpCloseClickOutside", void 0);
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])()], ColorPickerDirective.prototype, "cpUseRootViewContainer", void 0);
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])()], ColorPickerDirective.prototype, "cpPosition", void 0);
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])()], ColorPickerDirective.prototype, "cpPositionOffset", void 0);
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])()], ColorPickerDirective.prototype, "cpPositionRelativeToArrow", void 0);
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])()], ColorPickerDirective.prototype, "cpOKButton", void 0);
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])()], ColorPickerDirective.prototype, "cpOKButtonText", void 0);
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])()], ColorPickerDirective.prototype, "cpOKButtonClass", void 0);
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])()], ColorPickerDirective.prototype, "cpCancelButton", void 0);
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])()], ColorPickerDirective.prototype, "cpCancelButtonText", void 0);
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])()], ColorPickerDirective.prototype, "cpCancelButtonClass", void 0);
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])()], ColorPickerDirective.prototype, "cpPresetLabel", void 0);
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])()], ColorPickerDirective.prototype, "cpPresetColors", void 0);
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])()], ColorPickerDirective.prototype, "cpPresetColorsClass", void 0);
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])()], ColorPickerDirective.prototype, "cpMaxPresetColorsLength", void 0);
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])()], ColorPickerDirective.prototype, "cpPresetEmptyMessage", void 0);
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])()], ColorPickerDirective.prototype, "cpPresetEmptyMessageClass", void 0);
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])()], ColorPickerDirective.prototype, "cpAddColorButton", void 0);
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])()], ColorPickerDirective.prototype, "cpAddColorButtonText", void 0);
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])()], ColorPickerDirective.prototype, "cpAddColorButtonClass", void 0);
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])()], ColorPickerDirective.prototype, "cpRemoveColorButtonClass", void 0);
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"])()], ColorPickerDirective.prototype, "cpInputChange", void 0);
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"])()], ColorPickerDirective.prototype, "cpToggleChange", void 0);
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"])()], ColorPickerDirective.prototype, "cpSliderChange", void 0);
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"])()], ColorPickerDirective.prototype, "cpSliderDragEnd", void 0);
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"])()], ColorPickerDirective.prototype, "cpSliderDragStart", void 0);
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"])()], ColorPickerDirective.prototype, "colorPickerOpen", void 0);
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"])()], ColorPickerDirective.prototype, "colorPickerClose", void 0);
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"])()], ColorPickerDirective.prototype, "colorPickerCancel", void 0);
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"])()], ColorPickerDirective.prototype, "colorPickerSelect", void 0);
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"])()], ColorPickerDirective.prototype, "colorPickerChange", void 0);
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"])()], ColorPickerDirective.prototype, "cpCmykColorChange", void 0);
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"])()], ColorPickerDirective.prototype, "cpPresetColorsChange", void 0);
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["HostListener"])('click')], ColorPickerDirective.prototype, "handleClick", null);
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["HostListener"])('focus')], ColorPickerDirective.prototype, "handleFocus", null);
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["HostListener"])('input', ['$event'])], ColorPickerDirective.prototype, "handleInput", null);

    var ColorPickerModule = function ColorPickerModule() {
      _classCallCheck(this, ColorPickerModule);
    };

    ColorPickerModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineNgModule"]({
      type: ColorPickerModule
    });
    ColorPickerModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjector"]({
      factory: function ColorPickerModule_Factory(t) {
        return new (t || ColorPickerModule)();
      },
      providers: [ColorPickerService],
      imports: [[_angular_common__WEBPACK_IMPORTED_MODULE_2__["CommonModule"]]]
    });
    /*@__PURE__*/

    (function () {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](TextDirective, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Directive"],
        args: [{
          selector: '[text]'
        }]
      }], function () {
        return [];
      }, {
        newValue: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"]
        }],
        inputChange: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["HostListener"],
          args: ['input', ['$event']]
        }],
        rg: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"]
        }],
        text: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"]
        }]
      });
    })();
    /*@__PURE__*/


    (function () {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](SliderDirective, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Directive"],
        args: [{
          selector: '[slider]'
        }]
      }], function () {
        return [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["ElementRef"]
        }];
      }, {
        dragEnd: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"]
        }],
        dragStart: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"]
        }],
        newValue: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"]
        }],
        mouseDown: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["HostListener"],
          args: ['mousedown', ['$event']]
        }],
        touchStart: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["HostListener"],
          args: ['touchstart', ['$event']]
        }],
        rgX: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"]
        }],
        rgY: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"]
        }],
        slider: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"]
        }]
      });
    })();
    /*@__PURE__*/


    (function () {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](ColorPickerService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"]
      }], function () {
        return [];
      }, null);
    })();
    /*@__PURE__*/


    (function () {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](ColorPickerComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"],
        args: [{
          selector: 'color-picker',
          template: "<div #dialogPopup class=\"color-picker\" [class.open]=\"show\" [style.display]=\"!show ? 'none' : 'block'\" [style.visibility]=\"hidden ? 'hidden' : 'visible'\" [style.top.px]=\"top\" [style.left.px]=\"left\" [style.position]=\"position\" [style.height.px]=\"cpHeight\" [style.width.px]=\"cpWidth\" (click)=\"$event.stopPropagation()\">\n  <div *ngIf=\"cpDialogDisplay=='popup'\" class=\"arrow arrow-{{cpUsePosition}}\" [style.top.px]=\"arrowTop\"></div>\n\n  <div *ngIf=\"(cpColorMode ||\xA01) === 1\" class=\"saturation-lightness\" [slider] [rgX]=\"1\" [rgY]=\"1\" [style.background-color]=\"hueSliderColor\" (newValue)=\"onColorChange($event)\" (dragStart)=\"onDragStart('saturation-lightness')\" (dragEnd)=\"onDragEnd('saturation-lightness')\">\n    <div class=\"cursor\" [style.top.px]=\"slider?.v\" [style.left.px]=\"slider?.s\"></div>\n  </div>\n\n  <div class=\"hue-alpha box\">\n    <div class=\"left\">\n      <div class=\"selected-color-background\"></div>\n\n      <div class=\"selected-color\" [style.background-color]=\"selectedColor\"></div>\n\n      <button *ngIf=\"cpAddColorButton\" type=\"button\" class=\"{{cpAddColorButtonClass}}\" [disabled]=\"cpPresetColors && cpPresetColors.length >= cpMaxPresetColorsLength\" (click)=\"onAddPresetColor($event, selectedColor)\">\n        {{cpAddColorButtonText}}\n      </button>\n    </div>\n\n    <div class=\"right\">\n      <div *ngIf=\"cpAlphaChannel==='disabled'\" style=\"height: 16px;\"></div>\n\n      <div #hueSlider class=\"hue\" [slider] [rgX]=\"1\" [style.display]=\"(cpColorMode ||\xA01) === 1 ? 'block' : 'none'\" (newValue)=\"onHueChange($event)\" (dragStart)=\"onDragStart('hue')\" (dragEnd)=\"onDragEnd('hue')\">\n        <div class=\"cursor\" [style.left.px]=\"slider?.h\"></div>\n      </div>\n\n      <div #valueSlider class=\"value\" [slider] [rgX]=\"1\" [style.display]=\"(cpColorMode ||\xA01) === 2 ? 'block': 'none'\" (newValue)=\"onValueChange($event)\" (dragStart)=\"onDragStart('value')\" (dragEnd)=\"onDragEnd('value')\">\n        <div class=\"cursor\" [style.right.px]=\"slider?.v\"></div>\n      </div>\n\n      <div #alphaSlider class=\"alpha\" [slider] [rgX]=\"1\" [style.display]=\"cpAlphaChannel === 'disabled' ? 'none' : 'block'\" [style.background-color]=\"alphaSliderColor\" (newValue)=\"onAlphaChange($event)\" (dragStart)=\"onDragStart('alpha')\" (dragEnd)=\"onDragEnd('alpha')\">\n        <div class=\"cursor\" [style.left.px]=\"slider?.a\"></div>\n      </div>\n    </div>\n  </div>\n\n  <div *ngIf=\"!cpDisableInput && (cpColorMode ||\xA01) === 1\" class=\"cmyk-text\" [style.display]=\"format !== 3 ? 'none' : 'block'\">\n    <div class=\"box\">\n      <input type=\"number\" pattern=\"[0-9]*\" min=\"0\" max=\"100\" [text] [rg]=\"100\" [value]=\"cmykText?.c\" (keyup.enter)=\"onAcceptColor($event)\" (newValue)=\"onCyanInput($event)\" />\n      <input type=\"number\" pattern=\"[0-9]*\" min=\"0\" max=\"100\" [text] [rg]=\"100\" [value]=\"cmykText?.m\" (keyup.enter)=\"onAcceptColor($event)\" (newValue)=\"onMagentaInput($event)\" />\n      <input type=\"number\" pattern=\"[0-9]*\" min=\"0\" max=\"100\" [text] [rg]=\"100\" [value]=\"cmykText?.y\" (keyup.enter)=\"onAcceptColor($event)\" (newValue)=\"onYellowInput($event)\" />\n      <input type=\"number\" pattern=\"[0-9]*\" min=\"0\" max=\"100\" [text] [rg]=\"100\" [value]=\"cmykText?.k\" (keyup.enter)=\"onAcceptColor($event)\" (newValue)=\"onBlackInput($event)\" />\n      <input *ngIf=\"cpAlphaChannel!=='disabled'\" type=\"number\" pattern=\"[0-9]+([\\.,][0-9]{1,2})?\" min=\"0\" max=\"1\" step=\"0.1\" [text] [rg]=\"1\" [value]=\"cmykText?.a\" (keyup.enter)=\"onAcceptColor($event)\" (newValue)=\"onAlphaInput($event)\" />\n    </div>\n\n     <div class=\"box\">\n      <div>C</div><div>M</div><div>Y</div><div>K</div><div *ngIf=\"cpAlphaChannel!=='disabled'\" >A</div>\n    </div>\n  </div>\n\n  <div *ngIf=\"!cpDisableInput && (cpColorMode ||\xA01) === 1 \" class=\"hsla-text\" [style.display]=\"format !== 2 ? 'none' : 'block'\">\n    <div class=\"box\">\n      <input type=\"number\" pattern=\"[0-9]*\" min=\"0\" max=\"360\" [text] [rg]=\"360\" [value]=\"hslaText?.h\" (keyup.enter)=\"onAcceptColor($event)\" (newValue)=\"onHueInput($event)\" />\n      <input type=\"number\" pattern=\"[0-9]*\" min=\"0\" max=\"100\" [text] [rg]=\"100\" [value]=\"hslaText?.s\" (keyup.enter)=\"onAcceptColor($event)\" (newValue)=\"onSaturationInput($event)\" />\n      <input type=\"number\" pattern=\"[0-9]*\" min=\"0\" max=\"100\" [text] [rg]=\"100\" [value]=\"hslaText?.l\" (keyup.enter)=\"onAcceptColor($event)\" (newValue)=\"onLightnessInput($event)\" />\n      <input *ngIf=\"cpAlphaChannel!=='disabled'\" type=\"number\" pattern=\"[0-9]+([\\.,][0-9]{1,2})?\" min=\"0\" max=\"1\" step=\"0.1\" [text] [rg]=\"1\" [value]=\"hslaText?.a\" (keyup.enter)=\"onAcceptColor($event)\" (newValue)=\"onAlphaInput($event)\" />\n    </div>\n\n    <div class=\"box\">\n      <div>H</div><div>S</div><div>L</div><div *ngIf=\"cpAlphaChannel!=='disabled'\">A</div>\n    </div>\n  </div>\n\n  <div *ngIf=\"!cpDisableInput && (cpColorMode ||\xA01) === 1 \" [style.display]=\"format !== 1 ? 'none' : 'block'\" class=\"rgba-text\">\n    <div class=\"box\">\n      <input type=\"number\" pattern=\"[0-9]*\" min=\"0\" max=\"255\" [text] [rg]=\"255\" [value]=\"rgbaText?.r\" (keyup.enter)=\"onAcceptColor($event)\" (newValue)=\"onRedInput($event)\" />\n      <input type=\"number\" pattern=\"[0-9]*\" min=\"0\" max=\"255\" [text] [rg]=\"255\" [value]=\"rgbaText?.g\" (keyup.enter)=\"onAcceptColor($event)\" (newValue)=\"onGreenInput($event)\" />\n      <input type=\"number\" pattern=\"[0-9]*\" min=\"0\" max=\"255\" [text] [rg]=\"255\" [value]=\"rgbaText?.b\" (keyup.enter)=\"onAcceptColor($event)\" (newValue)=\"onBlueInput($event)\" />\n      <input *ngIf=\"cpAlphaChannel!=='disabled'\" type=\"number\" pattern=\"[0-9]+([\\.,][0-9]{1,2})?\" min=\"0\" max=\"1\" step=\"0.1\" [text] [rg]=\"1\" [value]=\"rgbaText?.a\" (keyup.enter)=\"onAcceptColor($event)\" (newValue)=\"onAlphaInput($event)\" />\n    </div>\n\n    <div class=\"box\">\n      <div>R</div><div>G</div><div>B</div><div *ngIf=\"cpAlphaChannel!=='disabled'\" >A</div>\n    </div>\n  </div>\n\n  <div *ngIf=\"!cpDisableInput && (cpColorMode ||\xA01) === 1\" class=\"hex-text\" [class.hex-alpha]=\"cpAlphaChannel==='forced'\"\n    [style.display]=\"format !== 0 ? 'none' : 'block'\">\n    <div class=\"box\">\n      <input [text] [value]=\"hexText\" (blur)=\"onHexInput(null)\" (keyup.enter)=\"onAcceptColor($event)\" (newValue)=\"onHexInput($event)\"/>\n      <input *ngIf=\"cpAlphaChannel==='forced'\" type=\"number\" pattern=\"[0-9]+([\\.,][0-9]{1,2})?\" min=\"0\" max=\"1\" step=\"0.1\" [text] [rg]=\"1\" [value]=\"hexAlpha\" (keyup.enter)=\"onAcceptColor($event)\" (newValue)=\"onAlphaInput($event)\"/>\n    </div>\n\n    <div class=\"box\">\n      <div>Hex</div>\n      <div *ngIf=\"cpAlphaChannel==='forced'\">A</div>\n    </div>\n  </div>\n\n  <div *ngIf=\"!cpDisableInput && (cpColorMode ||\xA01) === 2\" class=\"value-text\">\n    <div class=\"box\">\n      <input type=\"number\" pattern=\"[0-9]*\" min=\"0\" max=\"100\" [text] [rg]=\"100\" [value]=\"hslaText?.l\" (keyup.enter)=\"onAcceptColor($event)\" (newValue)=\"onValueInput($event)\" />\n      <input *ngIf=\"cpAlphaChannel!=='disabled'\" type=\"number\" pattern=\"[0-9]+([\\.,][0-9]{1,2})?\" min=\"0\" max=\"1\" step=\"0.1\"  [text] [rg]=\"1\" [value]=\"hslaText?.a\" (keyup.enter)=\"onAcceptColor($event)\" (newValue)=\"onAlphaInput($event)\" />\n    </div>\n\n    <div class=\"box\">\n      <div>V</div><div>A</div>\n    </div>\n  </div>\n\n  <div *ngIf=\"!cpDisableInput && (cpColorMode ||\xA01) === 1\" class=\"type-policy\">\n    <span class=\"type-policy-arrow\" (click)=\"onFormatToggle(-1)\"></span>\n    <span class=\"type-policy-arrow\" (click)=\"onFormatToggle(1)\"></span>\n  </div>\n\n  <div *ngIf=\"cpPresetColors?.length || cpAddColorButton\" class=\"preset-area\">\n    <hr>\n\n    <div class=\"preset-label\">{{cpPresetLabel}}</div>\n\n    <div *ngIf=\"cpPresetColors?.length\" class=\"{{cpPresetColorsClass}}\">\n      <div *ngFor=\"let color of cpPresetColors\" class=\"preset-color\" [style.backgroundColor]=\"color\" (click)=\"setColorFromString(color)\">\n        <span *ngIf=\"cpAddColorButton\" class=\"{{cpRemoveColorButtonClass}}\" (click)=\"onRemovePresetColor($event, color)\"></span>\n      </div>\n    </div>\n\n    <div *ngIf=\"!cpPresetColors?.length && cpAddColorButton\" class=\"{{cpPresetEmptyMessageClass}}\">{{cpPresetEmptyMessage}}</div>\n  </div>\n\n  <div *ngIf=\"cpOKButton || cpCancelButton\" class=\"button-area\">\n    <button *ngIf=\"cpCancelButton\" type=\"button\" class=\"{{cpCancelButtonClass}}\" (click)=\"onCancelColor($event)\">{{cpCancelButtonText}}</button>\n\n    <button *ngIf=\"cpOKButton\" type=\"button\" class=\"{{cpOKButtonClass}}\" (click)=\"onAcceptColor($event)\">{{cpOKButtonText}}</button>\n  </div>\n</div>\n",
          encapsulation: _angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewEncapsulation"].None,
          styles: [".color-picker{position:absolute;z-index:1000;width:230px;height:auto;border:1px solid #777;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-color:#fff}.color-picker *{box-sizing:border-box;margin:0;font-size:11px}.color-picker input{width:0;height:26px;min-width:0;font-size:13px;text-align:center;color:#000}.color-picker input:-moz-submit-invalid,.color-picker input:-moz-ui-invalid,.color-picker input:invalid{box-shadow:none}.color-picker input::-webkit-inner-spin-button,.color-picker input::-webkit-outer-spin-button{margin:0;-webkit-appearance:none}.color-picker .arrow{position:absolute;z-index:999999;width:0;height:0;border-style:solid}.color-picker .arrow.arrow-top{left:8px;border-width:10px 5px;border-color:#777 transparent transparent}.color-picker .arrow.arrow-bottom{top:-20px;left:8px;border-width:10px 5px;border-color:transparent transparent #777}.color-picker .arrow.arrow-left-top,.color-picker .arrow.arrow-top-left{right:-21px;bottom:8px;border-width:5px 10px;border-color:transparent transparent transparent #777}.color-picker .arrow.arrow-right-top,.color-picker .arrow.arrow-top-right{bottom:8px;left:-20px;border-width:5px 10px;border-color:transparent #777 transparent transparent}.color-picker .arrow.arrow-bottom-left,.color-picker .arrow.arrow-left,.color-picker .arrow.arrow-left-bottom{top:8px;right:-21px;border-width:5px 10px;border-color:transparent transparent transparent #777}.color-picker .arrow.arrow-bottom-right,.color-picker .arrow.arrow-right,.color-picker .arrow.arrow-right-bottom{top:8px;left:-20px;border-width:5px 10px;border-color:transparent #777 transparent transparent}.color-picker .cursor{position:relative;width:16px;height:16px;border:2px solid #222;border-radius:50%;cursor:default}.color-picker .box{display:flex;padding:4px 8px}.color-picker .left{position:relative;padding:16px 8px}.color-picker .right{flex:1 1 auto;padding:12px 8px}.color-picker .button-area{padding:0 16px 16px;text-align:right}.color-picker .button-area button{margin-left:8px}.color-picker .preset-area{padding:4px 15px}.color-picker .preset-area .preset-label{overflow:hidden;width:100%;padding:4px;font-size:11px;white-space:nowrap;text-align:left;text-overflow:ellipsis;color:#555}.color-picker .preset-area .preset-color{position:relative;display:inline-block;width:18px;height:18px;margin:4px 6px 8px;border:1px solid #a9a9a9;border-radius:25%;cursor:pointer}.color-picker .preset-area .preset-empty-message{min-height:18px;margin-top:4px;margin-bottom:8px;font-style:italic;text-align:center}.color-picker .hex-text{width:100%;padding:4px 8px;font-size:11px}.color-picker .hex-text .box{padding:0 24px 8px 8px}.color-picker .hex-text .box div{float:left;flex:1 1 auto;text-align:center;color:#555;clear:left}.color-picker .hex-text .box input{flex:1 1 auto;padding:1px;border:1px solid #a9a9a9}.color-picker .hex-alpha .box div:first-child,.color-picker .hex-alpha .box input:first-child{flex-grow:3;margin-right:8px}.color-picker .cmyk-text,.color-picker .hsla-text,.color-picker .rgba-text,.color-picker .value-text{width:100%;padding:4px 8px;font-size:11px}.color-picker .cmyk-text .box,.color-picker .hsla-text .box,.color-picker .rgba-text .box{padding:0 24px 8px 8px}.color-picker .value-text .box{padding:0 8px 8px}.color-picker .cmyk-text .box div,.color-picker .hsla-text .box div,.color-picker .rgba-text .box div,.color-picker .value-text .box div{flex:1 1 auto;margin-right:8px;text-align:center;color:#555}.color-picker .cmyk-text .box div:last-child,.color-picker .hsla-text .box div:last-child,.color-picker .rgba-text .box div:last-child,.color-picker .value-text .box div:last-child{margin-right:0}.color-picker .cmyk-text .box input,.color-picker .hsla-text .box input,.color-picker .rgba-text .box input,.color-picker .value-text .box input{float:left;flex:1;padding:1px;margin:0 8px 0 0;border:1px solid #a9a9a9}.color-picker .cmyk-text .box input:last-child,.color-picker .hsla-text .box input:last-child,.color-picker .rgba-text .box input:last-child,.color-picker .value-text .box input:last-child{margin-right:0}.color-picker .hue-alpha{align-items:center;margin-bottom:3px}.color-picker .hue{direction:ltr;width:100%;height:16px;margin-bottom:16px;border:none;cursor:pointer;background-size:100% 100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAQCAYAAAD06IYnAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AIWDwkUFWbCCAAAAFxJREFUaN7t0kEKg0AQAME2x83/n2qu5qCgD1iDhCoYdpnbQC9bbY1qVO/jvc6k3ad91s7/7F1/csgPrujuQ17BDYSFsBAWwgJhISyEBcJCWAgLhIWwEBYIi2f7Ar/1TCgFH2X9AAAAAElFTkSuQmCC)}.color-picker .value{direction:rtl;width:100%;height:16px;margin-bottom:16px;border:none;cursor:pointer;background-size:100% 100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAQCAYAAAD06IYnAAACTklEQVR42u3SYUcrABhA4U2SkmRJMmWSJklKJiWZZpKUJJskKUmaTFImKZOUzMySpGRmliRNJilJSpKSJEtmSpIpmWmSdO736/6D+x7OP3gUCoWCv1cqlSQlJZGcnExKSgqpqamkpaWRnp5ORkYGmZmZqFQqsrKyyM7OJicnh9zcXNRqNXl5eeTn56PRaCgoKKCwsJCioiK0Wi3FxcWUlJRQWlpKWVkZ5eXlVFRUUFlZiU6no6qqiurqampqaqitraWurg69Xk99fT0GgwGj0UhDQwONjY00NTXR3NxMS0sLra2ttLW10d7ejslkwmw209HRQWdnJ11dXXR3d9PT00Nvby99fX309/czMDDA4OAgFouFoaEhrFYrw8PDjIyMMDo6ytjYGDabjfHxcSYmJpicnGRqagq73c709DQzMzPMzs4yNzfH/Pw8DocDp9OJy+XC7XazsLDA4uIiS0tLLC8vs7KywurqKmtra3g8HrxeLz6fD7/fz/r6OhsbG2xubrK1tcX29jaBQICdnR2CwSC7u7vs7e2xv7/PwcEBh4eHHB0dcXx8zMnJCaenp5ydnXF+fs7FxQWXl5dcXV1xfX3Nzc0Nt7e33N3dEQqFuL+/5+HhgXA4TCQS4fHxkaenJ56fn3l5eeH19ZVoNMrb2xvv7+98fHwQi8WIx+N8fn6SSCT4+vri+/ubn58ffn9/+VcKgSWwBJbAElgCS2AJLIElsASWwBJYAktgCSyBJbAElsASWAJLYAksgSWwBJbAElgCS2AJLIElsP4/WH8AmJ5Z6jHS4h8AAAAASUVORK5CYII=)}.color-picker .alpha{direction:ltr;width:100%;height:16px;border:none;cursor:pointer;background-size:100% 100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAQCAYAAAD06IYnAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AIWDwYQlZMa3gAAAWVJREFUaN7tmEGO6jAQRCsOArHgBpyAJYGjcGocxAm4A2IHpmoWE0eBH+ezmFlNvU06shJ3W6VEelWMUQAIIF9f6qZpimsA1LYtS2uF51/u27YVAFZVRUkEoGHdPV/sIcbIEIIkUdI/9Xa7neyv61+SWFUVAVCSct00TWn2fv6u3+Ecfd3tXzy/0+nEUu+SPjo/kqzrmiQpScN6v98XewfA8/lMkiLJ2WxGSUopcT6fM6U0NX9/frfbjev1WtfrlZfLhYfDQQHG/AIOlnGwjINlHCxjHCzjYJm/TJWdCwquJXseFFzGwDNNeiKMOJTO8xQdDQaeB29+K9efeLaBo9J7vdvtJj1RjFFjfiv7qv95tjx/7leSQgh93e1ffMeIp6O+YQjho/N791t1XVOSSI7N//K+4/GoxWLBx+PB5/Op5XLJ+/3OlJJWqxU3m83ovv5iGf8KjYNlHCxjHCzjYBkHy5gf5gusvQU7U37jTAAAAABJRU5ErkJggg==)}.color-picker .type-policy{position:absolute;top:218px;right:12px;width:16px;height:24px;background-size:8px 16px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAgCAYAAAAffCjxAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAACewAAAnsB01CO3AAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAIASURBVEiJ7ZY9axRRFIafsxMStrLQJpAgpBFhi+C9w1YSo00I6RZ/g9vZpBf/QOr4GyRgkSKNSrAadsZqQGwCkuAWyRZJsySwvhZ7N/vhzrgbLH3Ld8597jlzz50zJokyxXH8DqDVar0qi6v8BbItqSGpEcfxdlmsFWXkvX8AfAVWg3UKPEnT9GKujMzsAFgZsVaCN1VTQd77XUnrgE1kv+6935268WRpzrnHZvYRWC7YvC3pRZZl3wozqtVqiyH9IgjAspkd1Gq1xUJQtVrdB9ZKIAOthdg/Qc65LUk7wNIMoCVJO865rYFhkqjX6/d7vV4GPJwBMqofURS5JEk6FYBer/eeYb/Mo9WwFnPOvQbeAvfuAAK4BN4sAJtAG/gJIElmNuiJyba3EGNmZiPeZuEVmVell/Y/6N+CzDn3AXhEOOo7Hv/3BeAz8IzQkMPnJbuPx1wC+yYJ7/0nYIP5S/0FHKdp+rwCEEXRS/rf5Hl1Gtb2M0iSpCOpCZzPATmX1EySpHMLAsiy7MjMDoHrGSDXZnaYZdnRwBh7J91utwmczAA6CbG3GgPleX4jqUH/a1CktqRGnuc3hSCAMB32gKspkCtgb3KCQMmkjeP4WNJThrNNZval1WptTIsv7JtQ4tmIdRa8qSoEpWl6YWZNoAN0zKxZNPehpLSBZv2t+Q0CJ9lLnARQLAAAAABJRU5ErkJggg==);background-repeat:no-repeat;background-position:center}.color-picker .type-policy .type-policy-arrow{display:block;width:100%;height:50%}.color-picker .selected-color{position:absolute;top:16px;left:8px;width:40px;height:40px;border:1px solid #a9a9a9;border-radius:50%}.color-picker .selected-color-background{width:40px;height:40px;border-radius:50%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAh0lEQVRYR+2W0QlAMQgD60zdfwOdqa8TmI/wQMr5K0I5bZLIzLOa2nt37VVVbd+dDx5obgCC3KBLwJ2ff4PnVidkf+ucIhw80HQaCLo3DMH3CRK3iFsmAWVl6hPNDwt8EvNE5q+YuEXcMgkonVM6SdyCoEvAnZ8v1Hjx817MilmxSUB5rdLJDycZgUAZUch/AAAAAElFTkSuQmCC)}.color-picker .saturation-lightness{direction:ltr;width:100%;height:130px;border:none;cursor:pointer;touch-action:manipulation;background-size:100% 100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOYAAACCCAYAAABSD7T3AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AIWDwksPWR6lgAAIABJREFUeNrtnVuT47gRrAHN+P//Or/61Y5wONZ7mZ1u3XAeLMjJZGZVgdKsfc5xR3S0RIIUW+CHzCpc2McYo7XGv3ex7UiZd57rjyzzv+v+33X/R/+3r/f7vR386Y+TvKNcf/wdhTLPcv9qU2wZd74uth0t1821jkIZLPcsI/6nWa4XvutquU0Z85mnx80S/ZzgpnLnOtHNt7/ofx1TKXcSNzN/7qbMQ3ju7rNQmMYYd/4s2j9aa+P+gGaMcZrb1M/tdrvf7/d2v99P9/t93O/3cbvdxu12G9frdVwul3E+n8c///nP+2+//Xb66aefxl//+tfx5z//2YK5Al2rgvf4UsbpdGrB52bAvArXpuzjmiqAVSGz5eDmGYXzhbAZmCrnmzddpUU+8Y1dAOYeXCtDUwVwV7YCGH6uAmyMcZ9l5vkUaBPGMUZ7/J5w/792/fvv9Xq93263dr/fTxPECeME8nK5jM/Pz/HTTz/dv337dvrll1/GP/7xj/G3v/1t/OUvfwkVswongjdOp9PzH3U3D3zmWGnZVXn4jCqs7wC2BKP4/8tAzkZsoWx6XrqeHZymvp4ABCBJhTQwKfDT8gzrZCIqi5AhiACjBfEB2rP8/X63MM7f6/V6v9/v7Xa7bYC83W7jcrlsVHIq5ffv30+//fbb+OWXX8ZPP/00/v73v4+ff/75JSvbeu+bL2WMMaFbAlpBNM85QX+ct6qoSqkPAwuQlBVKqGNFSUOAA3Bmu7gC5hNOd15nSwvAOUW7C4giUCV8Sgn5L9hNFIqTsp0GxI0ysioyjAjkY/tGJVEpz+fz+OWXX+7fv38//f777+Pbt2/j119/HT///PP49ddfx8fHRwrmTjV779EXu2px2xhjwtdJZQcAWQIPLPISsMJaSwiD8gzIKrwSyATE5j5nAbR5c1dBUwBlsEWW0h6LqiYsqFPAQxCyRZ3wOSARxmlXMX5k64pQfvv27f75+dk+Pj5OHx8f4/v37+Pbt2/jt99+G9++fRsfHx/jcrmUFLO31gYDWblxRIs/TqfT7ousxJsAxXA2Gc7TA9XdgfdoHbFsj76X2+1WArgI1ageGwA3qupqoHsmcbI6Fu93quggFa9d7LeDtgKfAFHBJ+NEByIkcJ5KervdTmhhGcgJJSZ5vn//fj+fz+18Pp8+Pz/H5+fnmGD+/vvv4/v37+Pj42N8fn6O2+1Ws7JjjP6wraMI5E4RZ8x2vV5TSwkquotV7/d7Tz6HFWsD/qNcdw0CQ3q/321c686TwDVIdbuy73zNldhSHb8I2klZznm+InBS4U6n0302aBFsLhHDAKJVJVglfI9jhvu53W53sLANYNxAiDA6MCeUHx8f9+v12i6XS7tcLqcZW57P5yeY8/fz83Ocz+fnsSmYUyknWEG85WBst9stzSLyMdfr9Qi08iY15UZ0LlDGLhR3o5zK2j7OPUTD0E+nU3tk7Xb/16NFbhloAMuY1zjLUOO3BKeIDe+Z8s3/J4gFo4TM5jPmuRg28foUKKVSwo16TgA5npywcWLHgYl/Pz8/73/605/ab7/91m63W7tcLie0sZj4mao5gTyfz88E0f1+j8EcYzwTPEG2cqjyfHNF0M8fuqEiaOVnRzZZQNh5fwQyHg/HDGfJo89Q1zb/quu5XC6773I2XKfTqd/v9+d3wuqWva/YTdUdEV3fhIv/Viyps6YE3x3r43K5bJQS66zaxVGFsvd+//j4aF+/fm3fv39vt9utff36tf3+++/tdrudvn37ZuNLBaaCMgUzC+rZRiFowxUuJI8YMqcCp9Opq5vagaYU6lGJA1XQqejchw6Cj0Gw5nYBrGw01A2O206n04BGouNNyTfp/FwElhUey6nXrIKw7QQWddxuN2ldL5fL839gSPF8ahu/JvBO48CPSuqMf8Vp9/P53L58+dLu93s7n8/tfr8/39/v9/b5+TkhPJ3P56mQ436/j+/fv+/iSgbzer0+AZx/5+88bv6OMda6S5z6kd21fYC9dxv7cIJJ2d9AOS30fPMzyHiTM8B4DF6XUlYHp4KQW3W+1t77MNB1vGHxWq7Xa7vf78+y5/N5A+H1et29xuP5dbYtyaRu4AksbPq6936fjRzXRxBbPr/b+b18+fKljTHaBBBfn8/n0/1+H1++fBnn8zm0sB8fH5u4cr5GuBhMVk0EEn9RsctgVhM+ixlJtMA23R8B6yysAstBOgFXIKKCMIgToMqNEu2fYMH7ztc732dQKkCj1ytAZtY0Kx8pIr8GGJ+AT3V+2Hirhl++fBmXy2Wz73w+b17P8p+fn8/tUwGVleVkTyUb68DkfayWY4zxNRihU4EpLJPZVrK+u7J4/mgfKqeLW9X2REWlItL1diynbDDb3+jXgYjQqn0rrxWc+NkILP7F7xIbMvx7vV53x40xnlbWJF12ZSag/N0pW6t+ZzmOMzHjajKwDfond78zYTdfq18up97zr2q8v3IioBprRtBl0EZ9og5WBRGOdOHjIjXF7UotFbgOWnXzIJyzYvjG5IYgsmMOxHkz8OsMSrVNWeq5T8DaOcbEv1Od5rbs9aO7YvMet63EkF++fMExq+MRl4/L5bLZN/+ez+fnZ6KazuMqXSQVO5spJXflHAIzes/xJseckRJiDMog9d6VfRrqXMr6KpVV27jRwJacGovOAM1zMdQMnwK1AubK63kdCChvI1C7g0z9nf/D+Xze2Vj8H7Gx4P9duQlsYCrqyN8XqG3Hm/10Oj3jw/n+crlstuM+jPmmxT2dTuPz83Pzt2pn1XsEHX/bnPaVqVmh0xwOt0o6XLLAHePUU203wHfcrspCwmV3TryB5s0Mseeg97x/BwzCjBlbB+pRAPla0BVQuT6V6QHdBlj3d0KG147b+DqxQeUymDO43W4dQar+TIjwmAd0z8/h65vf0/yLv3Pb5XLpru/ydDo9s7ET0I+Pj6dKK9VUEIeKWQWPAOrJ8LKd4vE+t91Y3e7UFlWatg2VwJnb+HPmtvm/sfK59/OaWF3x/eP1UPHvA5DDYDpYXfb0drv1V2DkBkxtw/tEWVVlXWdC9pFYs5/jfh9dS/16vW7s6lTG+TfqsxSJHxkXXq/Xdr1eu4LsfD6P3vsT3N77DkL+zPm5jSdKL4zR3AxQd6rHkLkYlSowsrq7znzu6wSwdsMJOXmA5fBcjxtgMGBYHlr5zokhtsMCTgXLQOW4XC6dEyEMprL8mAQzXRgduix2yZzorxkYsDn3hB1VeMLGsXsVtgl2pW8S3svk0vw7R4hNaHvv4cACl5HFzwIH0Kc6zu4XjDPR/jpAVxWzO1Xk2DDb3vTcxeGU1iWZHkmIDWziWKvirCJ4Dravs6IJ/GG6cTqWdXDy+fArQDVVkLqkVjAoZIITdmmIqXwqa95N3+MGYoZQdRVNO53Y1xRkhO16vY7eu507Ca9lJnbGpxOemQhSw/AQsmmp5zU9BiU8G6wvX76M6/U6Pj4+do0Bz4CpgiknTUeDqwlKBmg3u4OVjrZ1A+rAcgaejWq6eJCvCYFDONSwOgHX4EQRw8lxbzDOdEK6gZ3Hk1b+8g2o1JFtKXyv/fEdTXuWjWXdAZiBp6ADeDrCFiim7B6ZFneeI7Gvm/PMkUDX67W7xI8b0D7/v8dA9qfN5oaCf74WZjH0mf1cmfY1Y0JUFmVrTWu8uzkNcLtEj7u5FXBTkfC6GOA5q8YMxO8KVvF6sAVGdcrUbsKODcQKkLMOMdmlxum642YrPm26AlhZW1YB1R+rrGswE8TaYAWeUMxdf+WjwSvZ2Ef3ytOyfn5+PpVPAaqOn43MtNBqvmjjxbjM4lZjZY4gqNMI5ktaW/sYKNwS+9lFQzGihmMCKPa7+Z0V6Eb0GRmobtpX8JljWu5FMLN5ja6hG9kwQgZqf5+1NH5UxzkFReCdWhJ8XdlGUkxO7HRlYRm4mVO43W7ter12TPJEw/rmEN3L5SKHIWZg9mz+pUoKOYq5bJTJdX2gme1UcxMZQFaEQIlHct32M+Y1BzGkGuzfiyAN9z+ugplZ1symCrDCYYkGxDTpI9RzBy0rHyeDUC1nWaeUaD9n4xkNyYMBDZtzZ3B++fJlY21XFDOcARJlabOyiS3uCpLI9jrZjCDkaVvcCCjwognKShWdzXZWlZMvVTgD8LpqlCLrqgbcB+qYwrgKYpT0ccCqbKyCValkEabn/FynogCrPKfqf51xJ7sGB2ZXcZmxoSOztjx300DZi7a0/2AIR0UlBag9SuDw6KcAzlaB7vHZvWpjK90dyrq6bKyDUZQbR0B05biLQkHIcSUmgIK+SwuqgHCnoio2RQU1yj+BnBy9pphVKLGyC7ZzFK1pxWK+E8IhVCWLN/uLtnUU4ayoYLoaANz8FdtaSvY4pV0BEW2ls61czqllBKpTyKgMAhrZ1cdc1RROtPmvWNkdcKZ7ZKxaWjiPLJMpp7OZKxA+rqG/oJLjxf0pnJlqLoDZo3gyU0mKGys2taKecj/d1C+rJSplBqlTyAqgR+D8KjKlmRL2gtUcAdCtsL+ijCNT1oqqqkH2OHEbG5sDFnUg5Aa+yLou2VU1ptj1S2ZQqv1ORZN9IWzRfgaRBxKoBE8UWyqlJFtrIc0AxNjSjed99CTY/XDfSzCz5M0IZoVEsWnPFNTsl8ooVC1TzbGgqFZNDSgVwKK+1sGDMKqxZCWGVMDysiEr1jVSQJUYwj5iHOlThdHt44SQg9CN+nl8D90NMIgAdgr46JqRiR9I8vRdFvbr17m/yxUMKjNLMiVUADwu2CWGhhi+F55TWM9M9cogzms1dnM4uOF/LAEYWdcqnM7yFmyq3IfwmOROd7Y1iFWtOjoY8To41mTV5IysgFFuRzsbWFGbNIIJCDv1dOo4lZG7jWBwRFtVTKuWyeCByJKOan8oZ3ep9XddNl0tDuaywLz9cXPYeDAA0SpkBO9sbVcTOVWldPv4uyzEkzxHtjvonHoSkFEWNoo1d8DhcQputd2ppNon4BzoAiJ1hBFQg0dVtdbGHHDQWushmNEQukLM2QO1G2Y8bgTXqFhcBJj7EjPgcPts8US8qPpPB/dXznOh5Z438tzH5ec6QgrOKrRRfKmysBmUDB+PhYabMlVPER+GCSITTzr7am2tArH3bgcEzPJm+cr5jJ4NnHNFDVrFXcI5Le9k5Jnw+bedbV+FfRzZIHaOOaOsLY0/7UGs58DjrGwKMIMFIGzOEW1/jGsdAtCN6hEAI4hBe9YXeRROBSVPAVPAqvIM5bx5hVKWAMP6zBRy3iescridVdFBinBxXDnG2GRY2XbCvp1lhvGtO9Bxu5h908XQu42lnSArMFdizMim8uwRCxPGnnOS8lwpnbOiDqTAjsrRN/PcoAScCbaACqVM40ylnjjTBs+bwWlAG23/UKbdkiwKWIQPGzWaczpoSlxPEj822cNWkpS7FyzsDrqpfgpG3jahw2vgbaSQAxuLWZYt7JzyNe8JoZpNAcvDFOdw0wqYT9AK1rZz/DdbSlLPp0ryIxgQJlK9AZlEq7IOXpohg9PIhrCng88JsOxiV4ZWAYfg4sikx/8ky2Z9l862uqwrfscIH8+ugTmVGyiddeVYUgEMn4GZzg14EwIsh9sx2cKKiWXReuOE5gzGOQgdlRKVVdlevqb279Xq0Qnsts2VDaBO0coezsruWtHApu6sKG4IBhN0aGU2kLrMKGRTN3HmbCDwKV14zvkMEDG4QfZVspVlaNU2mhc5TEZ3N1h/zqTheuLpW05ZWTGVjb3dbnNmxKZBnN8JqidaVLKAOyARNLS+MB54Z2+VaqoMLKroVBlngefnTPAcoHNWCSvlfA8CI0HEmBNBnBlXyMrzU7A7WVm94PPqQ2gmqKx+WDGsnvilmcSOBJqOK1nYyAIzuAyesq3UdSK3KfWcYKD95HmfYOU3qser2CtYEUA+FpfqdNvgPBZUBhDrGONRVlQsh8rLcaUCykHG0OOUwTlLBrsh5soEMGezi1E4HRVt1icp5wZEFXdibCkG8Y8vX75sbO4E0iom9z+hjSiOfy3DhpXItpVhE+UGQdvoWjtChmrGHf4YAzKgBNnGtuJxFCeGdhUAfQLLK8kBYAP6gvFJZajMG3Xkycy8KuC0q4Eyymwtwdxdv2M0mIBtK0LKnf640j00Auq4gUkdWGlhs22qJc6dZCsL19oxnlTJG4SYVRIGpD8TPFBuM6OElbS1pldid4mGAyN6ZIupbC5bXJN9fdpbThSxLUaI8IG1XIYBxW3Tjs6KQosKcxfxcQmdnwRGM10GnFcCy2XYunLMyAkdgk4mePiczsLygthcBut6goOqS7YVFXADLjaosB6s6ofcZWAZSIRYqSUkizYwttYab3vUOQ9w2HRxIIg8WwRVeE68xi4UtL3zRphxplzwuZrcqYCq1I3jPI5dnJIygEohMbPqVJSzrwzxBJTs5zN+ReUSgxikPQVF3JVBeNQxbHENrEMNvEdFZVV9lH9+ORGEsNZQpyTNc4C3AG7XF4ngzq+DrO2zbuaaOXgdaFcdkEotoSFBVX2qJ0C8OWZeG4KGlpghA0XfTOPCqV2qqwQ26QWfF2PMLhI2w1lVAa2aPsYd0za25MQRwgcZN6uQDCi+ZxiD4XEM2kZxOT41FnZnaRlcpZouzlRqqdbQVWopQoSB58RV50lBNrHi/AwXS5LrwDVlpY3Fc3ByiYGc52Trist6kOXdwInAQtJpp5QchyaquYOV7Su+fxVMaV3dc0RE2S6mUY0gLt2pMcYqrKIQ9w2l1gpQUMtQYcmmbt5DTNxdhnUCjQqtbK9SUSzvrC0mmhhE1e2FS2+oxypy/ZASutkmtjx3vcBC24PX65nbqkBCRhfjS9kIYPnee8cMagVOhI/3T1fAmdtAWZsCswTJCkQVNa0qWKSKPOpHAUhD9DrbVcyoYkwqhvh17vYAayXLQyKGYdxlUDFp494rBXRjYgO17DDYetNIUj/ezp6S0lnlpEwsWmJMkOwsKXeZKEAjIHn0EQJISaRBcO6UMINz7p/bEjjnw4ft+xmDvksxX4G2rIris7qaeKwAFMP2Oi7n4criuZwtpSUwpfLxSnORSrIqusc5ZFaXysqRWjiZ2DyAWEIL35tVSoQElFACjOeGGSE7AHEQgdo/LSvCOgGBvkxsmDbvlS3Fp5vhaB2TAGqRKrKKMrhLVpaGzEVjZ0OQxDhaCTA+QyRR1d15aQzrJntL3RibsipjG6jlgL4yqbS0sNYg1e84vhbBVrElK64CUcWYXDfKxhpIuxiVJZUxsbMy/uRBKTNRQ4kQ3LdRYLS0rJjRPlTPqY6gdJsEDc+aQXAn+HgsNUCbRuF0Oj0zwnA7bWDkbhO5Ens00qeQhS1laBMl5M/cAaxsLF8rKyql+Tf7ELLEGu/ixiimdCvo0TjfpjKwaggen4eh5v7LokLKbLuyvHhcZG8dhGrEDx7Hg93ZppJF7qBqO3iVveXEDQNInzeoe8Yq6ePaZBZ2JviM3W2UAGotekRCAGq4EkF1X3DOnR11yRsBL1tRa0PVcZiNFXZ2c34FskvomInQQ6lzpJoZbJxk43NwKJFBquJSsrByHydxKOnTxQASBmS3j+JMnsHSla3Ec6K9VWoJVn9zfjwOM7hqYAAqJQwE2a3nA48J2QGegRkpZNivSY+ys3EkKd4oJIwsvIHl3cWgLt5k4NH6OmtLWdpurOkwEMupYc7eMtDRhOcI2ui5JhVIzXzLyto/GAPuZoyo8wkoduVgJglCt7OhGbgID4Mq4si+63zUS1FuFFXFlqyaj2emHlLMcBqYu0FMuR28BbB7lOxRMSiCQXFhCKuwkhZ+pYDiGSgbsKKV8MiSRsuHSIWM9rklRiIlZZuqXjsQK8ooYJMgq3JKWVkhHbhsVxFUzthOWPkYijcbx54IKsSdT+uLr3crGKyoYgFiGR9iBk4kfloUX+JIlQRQqabmpgnhqtpQpb6RVQ1WH5DnrS4hEoGZqaerQ2dhFbz8XePxShmDbo70eISjoorO2vK8SJXI4SUmEU4zWKDzUDtWTYw7xXlbSTEj4FRg7zKnKoGRALv0Gs9Tgc1BpCywGZRQAtqVz2xrBcAMzEpfZwFSa2G5W0QBFjSMapWAEFa3HcGN7CxDzECyIkJ97qwrqWNTWVo876PPsjPkj2wvgroM5lLZKMETKVql/CvnWVFiFa/SzJUQwkoZsr67Y6vlSRV3/2tmNTOY3vnaxYwMuoPKqdzR1w7IqHymlPxaAThfU7Ko2ZXYj4AYJHL+kNdKwRQYESTRa5fsUZ/rVC1TMTyWVyYoqNtuzaHsMyv2tvoarxdfqwYgU1axFo/cnql1FGsqK+uAROV8BX4GU8WcZTATi2q7Qcyi0O0V+GhWBMNRUkn8H1SsWVE5By3Gi0ECqUeJoBfAtDa4amkdXG37AGP5Ggeb84p7UazpoKRzdFzeQ8HkoHGxprKy/Hpm5t12p47J6xTYDEz7uINEXSuxYXvFskYAc+ySxH9sf5ftKzU6IbwVBcUGg5e5FMCEXSErZR0wGayV19woM9guPjTqJdVTqR4uE4nJnLldWVkECCZLd2VLF+xtamex7IpiriSDUpvrpn9lrwGMCHyppMH+ps6LILsuFGUj1XEOXiqbqSHPUKnClpWV68kqtURVNDY4TNaocykoYeTU5ngGEQa/S1DnnE4AeXMcKjHPAmFVjCBENaeyLVNHfr3px8xUstJ94hIpfH4HKE/eDaArK6lSyVVFbdt1gxTIVk3pppVlFXi4pEhVBTObquohU85MLXn1iahvUkHJjSCMc01tLFveVVBx0DodM6jftCu7DOtIzYxrc0qp1JGP2ayYFz2Gb6HvMrO8cnGtV6Gjm3uImSfD2GpWK6uowbZGMxFKQCo1pOMtcMXFpRst+hXGoAomF3sSTBGgTglbBKWwsQ3tZqaYSp0Z1CimRDWFcCJUPYJ00BI5FkKYNoifuQxmN88SWVXWLMaUqqqgC0BmQJR6sk3u9NCf6jYLXxAfqsYEgVLAhRY2AtgtflZNFmFyhxdrLkAdWlk4D88M2ixHyepIdhMHrG/iR1ZGtq0MGpbDbRPYOXeSY1M6Ny4ZstvGSktK+XbFPATj2D371saPEsAMXhXrsZ0km/XStkhhMyBfsa6uXFZe2VCe+YMr1+GKgwrQyNYq1VRrB+EizAow6NsdNKcyVEkYeM73ys6q4kAHp6BiFklTkIrVC5oYV7uzwOGCz4UJ0Stq2lWMJy4wtb+RetL6tZFicnJmBw5UjCvXXMZVJX2MQkbf+XN5EWd78Vz8/JEsMZTBiKNzsm1inLRUQ74H4NidaqI68j5sAFgxcRveC7ieLJXfQYxjZZ2CsiWFewZXJmBIlZ1tdtrX4hSuateKso/RZOtOKW2nmq1oTzeK6dRWAWu2NRVb4hq0SXm1GvtugHrbr5IXqmSktg5CuDE2MSlPwsY5kNE2Wp3AqiZbWVLAxiBF+2iBZbuNj6MB6rsMLC7FyasaYDyo7KkoPyEtw3pEMXfPvxAJi2jAQQgjrz0rLIZSWZlIoNhwd5xK4AR9mYNjWAaLrnuImJeBVN9zBORObVvbr+mTTfFSEJLSRnHo7hEJoIi8MFqjxmvgmF5URZz4zLFgZZ8Ctu2X7ggVccKm9gVxIsOHqxXgNMKnFWZYnf1dBnOhayXq17QwFlWW09eNKyVJFmXqaONGA5aCegMbJ3UUkGY1ic3nKWgjq8qfVYGQG1gRt6rs62a6HiqqUOqdesK5NmX4nGofJoiE1d0dF9lVVkvT1/kEEaaCoYOwFpcVcoLM+7669PxC9rWqktH0sWUYld0VCpuBZ/stVRcGgy9WX2+U1Qthi9SzAqSxzZsy+OiFzBYnySGV6Gku44rD8BCOZBV3BvD5+AKRHNwMEsB6EzHnJpkTAeiUlEGkcECeB6GDZTp5YEJTlvdrknxYjTllMkfNtXwDjM7uVjK5JXUUn43rrqpK2jytaxHW0M5G8DC8rtHMYs7KSgduVQMGTYFqFvVS6rkD3sDJ46afdYFwoq11AOKCBLhvwoUgc8IGANycR6knZrdJPdsuxnyjfd3FovTlRMdEdtOl5CMV5EHsXQBis7TOwvIDZaGj2Vnpbh7cpK63VwYEMLwqbjzyl699sawFFkF1yqjUU31HfC6sW1ZFVFuXVXVgz9keEaw0ys1lWfm+azQAQSWA+hKYVfsZjPncAcUB9oIayy/UZXRNckDGji77GsWbvBo6tPrWPqOyVkBUq+INeqpzNdYs/u0ifh5qmpqIW+33JVSUcwY70KL4U9lYdU6ljtSls7lmfi9g3YzeQfVkaGFaV3ODCnaD2N8wsEDFklE3RzM3ZghdYkWHsszq70FIecnKkVkt8ezMzRq9bkGuKojRLBVSod3Y1yPqKgYW7JRQTPVyy5xIYLjOgxgT52RKJUY1dOrIiRd4futQx/A5AcSmEjz0vFWrkLzvbWAu9HOWbGgxFk1VNTpnBKk6TgwisI/HcxYXP1uAWO72ULFlBTq+aSu2VTUs6hrxM2CF+hEor1VIA9ZmFUaab1lSSgZsVs4sxzHlVLoJHr9H4DhONTkI1XC0/wiY2NoWAG5RlnHFnq6oLccpQddMuJ/O17JVA5OHLi0BqCztq7Y1++ucCd98qLI8MIHBV/cKjxQTme3hFBS3MyCqnDsuym2o80HjvFFTtrURmNaGJsmVahImjTsUXKtQZTAVs7Mvv8/+fzUrZAXcLJ6M4koe6XP0b6SmWWNDzyUpQ8bl+LtWx4tuqZ36cRYV3yuVxPNwvIiqiQCSmu7srgTzR6nkyhpCarXwFy1vGd5iP2cY06lFr5Njhhg1Y6+NB28ftbK83s8rf7kLJbKwDFPbLg25a0AdZJEiqr5phixKMDlRUtcssq1hriLqGoH+zeNgVm9OemjsETV8JdF0NHnkIFxWY1OB4Yrp7rtWJ7NgAAAPXklEQVQ3oNs5nplyVf8u2FoLu1JrHveaZWQjqAkshtFa2gzsSG3Zpkbvg3HafF9slPPlldjFlK80Gysm8Mr4MPhneNWENPGjAIpmilTPATdTRTXlCBYHYAQuPwA36xIpWtGN4q3Y2MhiGsUpuSSnlEJRD8PorC7CFYVw+F51qThgabxsTxWzCGY0ZSsb3lfqAy0OPNjNy8xiQQKsHYFQ2HBZVvVbBuq3m1oWKajqaonsM6uZUr6CjXWNZ0l5E3h3jURma6kP3MJIiy1Lm+kahQq41N2iZja5sjtlLYNZHZrH6qUGm4vMbDp6Rw2CFmvuyFkrBcCyMtFqBaECmsHoK9BZ2LA/lJcRqSaDqnaWbrZdGaz3DLgIvBln4woGztbyJGqslwxkhhHrTjTYFXCtOoKS8uLdofVdAbOylGU6nlYpXWZts4nXBq6WxJitMNokHUJnbnJplQm+aGpY2a5GMV2QD1hRubBPFKdumf5OHkLHz0F9luE5kjBjRa0nFE5CUGqHw32MmjZ6xkgINVnSnZ1VZStK2qKlRaLlQgK7uTq7JFXJwM+3SOEKyhZNI+tJ0I5qMYy9k2qJD7dVWdqKXa0CKNR0Ccjg+B2IYu2fcBZJZkMFgM11r0X92wilghFGgzVnexlqB7xL9mS29SiYUVY2nXOZjNBRsyDsQPRWW5hrZ4XcdC4HVWRbjgJr4sFofK5SzjQ7rhI1UebdPdEbj6sqIvTZQZ5va08rABsAW0UxeWytAk7A2KJ9ZpxzCioB24XFtYAeXYxr6anSqhLgppEqWbGwLunTgrV+IjWlL29ljaAl4EQMGsErp4apeZiquwRXLXAqOCeru32mmydc6oWTSWpFAGdzeTB8RTHVMEtlM90CbbQCYhPjq3egYr1FGdYIQjiuDGZ5zZ/AzobKGOyLxti6c4Rwtv2anyWlLICnlLhxJRXt6A5ebDBWFNONbxWZ2d02mnu4S9YECpeppV1zSWRBWxHYzVIv1CXSouwqqX3jBBBDZdYQbpTQW4ZQlS8r5kH4suSRmg2++3JN10x1PaAmEkmtYlEdeGpJEM6kOuCqCR22oSujj5IV2HdT0zj5prLKTjXFAPjdQlyq7xIBxAQP5yMczG4VxAKw0n6ilZ2QBce2pLulkuxxqnoIzFfgqyqjil9S1VNwBrFmeyeops8yOjZUybZdfS8CuaTIJumzs5tODaNtLpFDQ/PcJGweLhmeL1nB0KqiUDScsiUVD89Di3HtrKtSULw3RLiygZD+7sF8JTObgYsrGvDNUFRGl1iy0Ll1YkUc2aJYMog920I8qW6YDCg1Mqk0JHJFKXkbgbRreI+qpYNOZHrVcDUba7pjsphSJNtK6upgRNAVoOS0mugBeN4bIZgHhuPZ/s1ENaX6KsVr+YNrh1Nb7ipR0PE5zbNRegCbrHRUw6Yf07dLBJl1f8KB9as2V1nNqAsl62LBBhehwalerkHmB1JFIEZKSEusdl5JQj1nJlHXSCF342gJ9CYGrXelknJIXqVP8sD+qtplCR3XH2qfKq0ygMp+KnVkKxNlZ8m2YkIlVMiCnXUwl7qznBKSvQz3m3Pt6oQbXO5b5FixCh/fHxUQW/AEcK6zCNqKQnL9sywqmKuwvqSYzT/aPVNNpVyhvRW21aqciCsjdWvBwILUvh5VyCzbWoC1pJjJ680CWsl+udKB6T5RwG1mlohnlpbg47iz5U9ha0FGtmRLFYBtO99y97Ap0z+ZDTAog6kSLZsMHg/IFkkgp6CpvU2U0cYVSdnmkjwBdOmXbxTWNWzuIbipMioVxEckZEoahSOiy2M3K0jcC1LhVDwaqG0ZvkcWqCnrG4GIxykrqlbWdw6LQyBaZR8HmLRIhQWsHswD42ZXVLNkf9l+FlW0HVQ2lwFsC/Z1FdzlQR0KaPfo+Fdfu+/dwVRICu1CGR7AEIiAhc+AZUF0kOBaPxmUqg4i64vQnU4nFDYJ9Nz+1fVXveH9qmr+kPILx8oKcRV/BFbxbE0JMT0kSD4w6L/lNY8ocsqagVdU3A3MjxhxcGuqzsPH4irpaow1q6OyrVjvp9Npc59E91LldboYVzJWdimWfAW2SNEKcDaX2FmBLLA/uKxlmhh613Is1URQApbKfttwxL02q6Onx5pQxSbPojAg+v5hAnN6LHVRDXIsvKtRjiS0qJUyZTAXVbAK82ElFJWaQdVoqUC1Unt7BVaTQudM6SuqexjQJN4+0icaxv/utbKv83ETbT8H8gjcOKxOJmbUa6OOVXht3dFY6rHv9XoNzFLceEA1o8+pKm0LAHPHZ2rYKjFq0hfZFixsqHJgD3eD5n+U0kb1mFjXkn2lvMSSOsNE/CdIAKF0Sytq6urOHUN5gwg4GZosgbmggM5ucra2qrS2Ig1cbiBBcxYzgzUDNLCvL8GbZXNp6ORy3LmS+Kk83zRIAK6A1ioKa2I9NapIuiUFdfC9766PFZUtqUr6KbWk+zZU1a/ZrIXEztrjTOfz7hwKziCeXIaraHtbZIMz+2pGgazCmw4qWAFvEdhodYp0Xq0pV7G1YWYWbO4qhGq42+Z8BYtrLWvluNPpZAeaFFS1vubPgbgxsqcpnAaszBovKaFoDQ8BGtjfUOl4NAG2nmQV04feJgumvX2fsrQEWZghL0JnVdYkn3DOZIeRN86RqPWCmsvGVqEMRnwxQAxwS8EMYo3IzmY2+BCcLp4MKiuyuhImamlbZFcNoNl7tp+RHd18ZjQIRKyXdFRhN98/hyKqwXWNo7O1wiaXoHN108REZZWEq6grnIfjzeg8jdRf1XEL4kkXa5bBjKxoKaljBjeHlVxQ4GaycpW4lDOAKtnTxHAtOfzOtZwHAM7sqVXkV6yu6kap1nHkXKqWF/4XHqjenNKqBjpR3l1ch3Ejg1+EsgdQhsdG0B4FM9sWAVWpuAyiwTPleZxt9VyZVS2qXfReWqTAilpr9ApoWTjxymit7NwV4JTriZyOA9B0k7HFfULourmKYHVnRQvqGL5HMHdqFcR2qWpmcK6eTwx2dipWrviDilr+fKWq3OWRWdHKwA4eu8wjchbeRzFilqjjZN3ufCpfkJ0/scVpnYk6L0PI77lxdWCZ87WiWm7B/AGquQSnujGKsB8CJmiJq8q1pKIVWyqOiTK66r18BN8r74/AE71fdC3yPS2MxdOpnE1tlVxD9JmVOoggN+r4PjAXVFPa3Eg5jVJGFVUGNolH20GVrUB7BOySWq6WqYQdWR92pcFMYMwckbSgCKCqD67DiiWu1g8MQC9ByfcFqW1L+jL714qNCuznoSxt0da2gtWN1G8F0BK0NN0nuimelUF9dIdAfjO44UT3CjQLoUeLHJFTO3gmpRuIIOvwBQCbqNeo3qtZ9iF6xVK13GRlo4zqimq+CGdTiR1uRY8oqgE02hZBa79kZXPMquxRHKla2saZWN4mRqZUj0vLCKhkjKnqOQHNuSZVJoKvAqS1wpEquvWDC1B2ypwrCPsRMEPVTODMLJMDv6qeKXwi2JYV5Sq4qKyvgGsHCLiuj2jR59V8gMqSJ2FJZRXEHVRHj3sFPrct6OpqlW1GpatQdt0GvwfM6n63InsGVFhJGaBqgqqIV6IsXllZgySPq4R3bnt3wi5cv+cN2yqQLW1T95KYVsWWtKk4cB9W53WQQflQYR6Wl4HaJZjvVE0D5yvq+RKgZCs5qdBEP5sD94cAvQLlSgNaSMAtHx88BuNQ41zdFsX30zKbcs0MLD/ihkpQzl0wiTqKLTfbKmCmyYICnK0IbaieC4CG9iSyLQ7cIMGQwau6TKoq60Apl3WN40LZpca1CKKK9VQyyIEn8w0F8F6CL2h8o3ixGwC7s7EWzCOqmcApYxYD4jsAzVS0sl2t98pA7vrKophCVSonbYpgH6mvSn24pTBV4sdtV3BtMq5k82y+IADvUJ0uAlkCVTxIaPm+UNu/qkV4F1TzHXCGrXIAqItBKypqK99VtAOVs64O4ObX7pHLVCpYHcRmwvLR7TvYAKBBN58LGVzDuFz+hQbWgncQyCZAk+VbsPSouf93261iZgmfCpwRbAvqmSqriU2PwhjaoOyYqtIegVXViTsmyta6bGySpY3gyRrpIyAeaWDDxtpsXwKyalMDKNP7YBXMqEskUsi2uC8FNAPxAKTVfT1o6VzM0E0jF+1rWcUuHvdyg7vgoFplX8HpvHpMCOMRUPHzZkInsqlFKNX/EIO52E0SxSzOwob2VmRLW5D1XIU0rbgM1AzWgyC7fe8G7xUAK/taEBat7luqtyP7EmsaJQOj5F+mrnZfCuYCfBUAWwShyd6pMY/vAHG1UqOYpbI/gy5T0CMKm+UO3gFuC85dgfDVeguPDfITrIBLsLrcgdh3CFgFZjaKJ4Iv3F8ANEqvuxR1tVKOgLoCa1jxboBAkj6v7j/icFbA7f4rfRnQDLRViG13i0vqBQrYVqBbADZT0ZpiHoSzvQpopKIFS3sE1HfBWlHXd0H7LnArqvougMtljHBgZnh3Eoz/BKjLML4Z2Aq0+hEJr9jaVUBbvNzCIUiroC7AWmmFw4o5AK3MtB5VypZMSFgs05JyGVwlwBqsEGAAa2ZU1CjUexXGsE4rKriilBvFzOKKo3AuAroE6QFQU3u8YpNXwS5k+1TZt5UrwouN4KiUEw+k3ZWDp1RXHNRqXb21Ts39945yZSg3VnZFNQ9CF3XeZyr5DgBXKiwCMa2MxeTDYXgP1Fsf9QNKZc0k81RJk3r6EQ3rCmBVyLL75EjZ1pIVDHoFtiOAHoB0BdTVylqBsKKKS+AeBXJVLY+CXASuGvO/Auq7GuEjDfGKg1oKa1z/dmmi9I9SUGNhl0AtfulHAawoYrnSkmNXAVuGEhrEVXvUF+A5Ct2PqNOjDetyna4CmeUolmeXLN4Aq7C5Sj10Q7yjgl+t6CNxSRHmI5X+CpwreYB3Qfdqna4q21KdBuc4GoZsn49ZOOiVinwHqK9WzjvgeweEh2AU5+vtxZ9Cd9Wqkh49V18E5oj6vVyn0RStAyGIO5edXRKd5B0VGVXq2yr3xYp+5Ut+C4QJ4P1N339pQMjRejj4vb/Dcr6rQc3O/0rjmtZpeYCBiCHfCemRbNhbK/pNUPc3wfKy5f2D7OlL3/uPhve/oU4T0F8f+VNM2vyoiv0jK+KHQfdHq+0bncz4oz73/+Y6LbKw1o/5B7eOf1Rl/0du9B9tn/9bvrf/j+v0h6ttn2tp/r/4819y4/zv5391uvzzfwDifz6phT1MPgAAAABJRU5ErkJggg==)}.color-picker .cp-add-color-button-class{position:absolute;display:inline;padding:0;margin:3px -3px;border:0;cursor:pointer;background:0 0}.color-picker .cp-add-color-button-class:hover{text-decoration:underline}.color-picker .cp-add-color-button-class:disabled{cursor:not-allowed;color:#999}.color-picker .cp-add-color-button-class:disabled:hover{text-decoration:none}.color-picker .cp-remove-color-button-class{position:absolute;top:-5px;right:-5px;display:block;width:10px;height:10px;border-radius:50%;cursor:pointer;text-align:center;background:#fff;box-shadow:1px 1px 5px #333}.color-picker .cp-remove-color-button-class::before{content:'x';position:relative;bottom:3.5px;display:inline-block;font-size:10px}"]
        }]
      }], function () {
        return [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["ElementRef"]
        }, {
          type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["ChangeDetectorRef"]
        }, {
          type: ColorPickerService
        }];
      }, {
        handleEsc: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["HostListener"],
          args: ['document:keyup.esc', ['$event']]
        }],
        handleEnter: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["HostListener"],
          args: ['document:keyup.enter', ['$event']]
        }],
        dialogElement: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"],
          args: ['dialogPopup', {
            "static": true
          }]
        }],
        hueSlider: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"],
          args: ['hueSlider', {
            "static": true
          }]
        }],
        alphaSlider: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"],
          args: ['alphaSlider', {
            "static": true
          }]
        }]
      });
    })();
    /*@__PURE__*/


    (function () {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](ColorPickerDirective, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Directive"],
        args: [{
          selector: '[colorPicker]',
          exportAs: 'ngxColorPicker'
        }]
      }], function () {
        return [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Injector"]
        }, {
          type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["ComponentFactoryResolver"]
        }, {
          type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["ApplicationRef"]
        }, {
          type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewContainerRef"]
        }, {
          type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["ElementRef"]
        }, {
          type: ColorPickerService
        }];
      }, {
        cpWidth: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"]
        }],
        cpHeight: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"]
        }],
        cpToggle: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"]
        }],
        cpDisabled: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"]
        }],
        cpIgnoredElements: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"]
        }],
        cpFallbackColor: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"]
        }],
        cpColorMode: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"]
        }],
        cpCmykEnabled: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"]
        }],
        cpOutputFormat: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"]
        }],
        cpAlphaChannel: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"]
        }],
        cpDisableInput: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"]
        }],
        cpDialogDisplay: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"]
        }],
        cpSaveClickOutside: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"]
        }],
        cpCloseClickOutside: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"]
        }],
        cpUseRootViewContainer: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"]
        }],
        cpPosition: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"]
        }],
        cpPositionOffset: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"]
        }],
        cpPositionRelativeToArrow: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"]
        }],
        cpOKButton: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"]
        }],
        cpOKButtonText: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"]
        }],
        cpOKButtonClass: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"]
        }],
        cpCancelButton: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"]
        }],
        cpCancelButtonText: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"]
        }],
        cpCancelButtonClass: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"]
        }],
        cpPresetLabel: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"]
        }],
        cpPresetColorsClass: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"]
        }],
        cpMaxPresetColorsLength: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"]
        }],
        cpPresetEmptyMessage: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"]
        }],
        cpPresetEmptyMessageClass: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"]
        }],
        cpAddColorButton: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"]
        }],
        cpAddColorButtonText: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"]
        }],
        cpAddColorButtonClass: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"]
        }],
        cpRemoveColorButtonClass: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"]
        }],
        cpInputChange: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"]
        }],
        cpToggleChange: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"]
        }],
        cpSliderChange: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"]
        }],
        cpSliderDragEnd: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"]
        }],
        cpSliderDragStart: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"]
        }],
        colorPickerOpen: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"]
        }],
        colorPickerClose: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"]
        }],
        colorPickerCancel: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"]
        }],
        colorPickerSelect: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"]
        }],
        colorPickerChange: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"]
        }],
        cpCmykColorChange: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"]
        }],
        cpPresetColorsChange: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"]
        }],
        handleClick: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["HostListener"],
          args: ['click']
        }],
        handleFocus: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["HostListener"],
          args: ['focus']
        }],
        handleInput: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["HostListener"],
          args: ['input', ['$event']]
        }],
        colorPicker: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"]
        }],
        cpPresetColors: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"]
        }]
      });
    })();

    (function () {
      (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵsetNgModuleScope"](ColorPickerModule, {
        declarations: function declarations() {
          return [ColorPickerComponent, ColorPickerDirective, TextDirective, SliderDirective];
        },
        imports: function imports() {
          return [_angular_common__WEBPACK_IMPORTED_MODULE_2__["CommonModule"]];
        },
        exports: function exports() {
          return [ColorPickerDirective];
        }
      });
    })();
    /*@__PURE__*/


    (function () {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](ColorPickerModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"],
        args: [{
          imports: [_angular_common__WEBPACK_IMPORTED_MODULE_2__["CommonModule"]],
          exports: [ColorPickerDirective],
          providers: [ColorPickerService],
          declarations: [ColorPickerComponent, ColorPickerDirective, TextDirective, SliderDirective],
          entryComponents: [ColorPickerComponent]
        }]
      }], null, null);
    })();
    /**
     * Generated bundle index. Do not edit.
     */
    //# sourceMappingURL=ngx-color-picker.js.map

    /***/

  },

  /***/
  "./node_modules/ngx-custom-validators/__ivy_ngcc__/fesm2015/ngx-custom-validators.js":
  /*!*******************************************************************************************!*\
    !*** ./node_modules/ngx-custom-validators/__ivy_ngcc__/fesm2015/ngx-custom-validators.js ***!
    \*******************************************************************************************/

  /*! exports provided: CustomFormsModule, CustomValidators, ɵa, ɵb, ɵba, ɵbb, ɵbc, ɵbd, ɵbe, ɵbf, ɵbg, ɵbh, ɵbi, ɵbj, ɵbk, ɵbl, ɵbm, ɵbn, ɵbo, ɵbp, ɵbq, ɵbr, ɵbs, ɵbt, ɵbu, ɵbv, ɵbw, ɵbx, ɵby, ɵbz, ɵc, ɵd, ɵe, ɵf, ɵg, ɵh, ɵi, ɵj, ɵk, ɵl, ɵm, ɵn, ɵo, ɵp, ɵq, ɵr, ɵs, ɵt, ɵu, ɵv, ɵw, ɵx, ɵy, ɵz */

  /***/
  function node_modulesNgxCustomValidators__ivy_ngcc__Fesm2015NgxCustomValidatorsJs(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "CustomFormsModule", function () {
      return CustomFormsModule;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "CustomValidators", function () {
      return CustomValidators;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "ɵa", function () {
      return arrayLength;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "ɵb", function () {
      return base64;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "ɵba", function () {
      return ArrayLengthValidator;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "ɵbb", function () {
      return Base64Validator;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "ɵbc", function () {
      return CreditCardValidator;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "ɵbd", function () {
      return DateValidator;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "ɵbe", function () {
      return DateISOValidator;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "ɵbf", function () {
      return DigitsValidator;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "ɵbg", function () {
      return EmailValidator;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "ɵbh", function () {
      return EqualValidator;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "ɵbi", function () {
      return EqualToValidator;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "ɵbj", function () {
      return GreaterThanValidator;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "ɵbk", function () {
      return GreaterThanEqualValidator;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "ɵbl", function () {
      return JSONValidator;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "ɵbm", function () {
      return LessThanValidator;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "ɵbn", function () {
      return LessThanEqualValidator;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "ɵbo", function () {
      return MaxValidator;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "ɵbp", function () {
      return MaxDateValidator;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "ɵbq", function () {
      return MinValidator;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "ɵbr", function () {
      return MinDateValidator;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "ɵbs", function () {
      return NotEqualValidator;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "ɵbt", function () {
      return NotEqualToValidator;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "ɵbu", function () {
      return NumberValidator;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "ɵbv", function () {
      return PropertyValidator;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "ɵbw", function () {
      return RangeValidator;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "ɵbx", function () {
      return RangeLengthValidator;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "ɵby", function () {
      return UrlValidator;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "ɵbz", function () {
      return UUIDValidator;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "ɵc", function () {
      return creditCard;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "ɵd", function () {
      return date;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "ɵe", function () {
      return dateISO;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "ɵf", function () {
      return digits;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "ɵg", function () {
      return email;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "ɵh", function () {
      return equal;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "ɵi", function () {
      return equalTo;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "ɵj", function () {
      return gt;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "ɵk", function () {
      return gte;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "ɵl", function () {
      return json;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "ɵm", function () {
      return lt;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "ɵn", function () {
      return lte;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "ɵo", function () {
      return max;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "ɵp", function () {
      return maxDate;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "ɵq", function () {
      return min;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "ɵr", function () {
      return minDate;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "ɵs", function () {
      return notEqual;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "ɵt", function () {
      return notEqualTo;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "ɵu", function () {
      return number;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "ɵv", function () {
      return property;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "ɵw", function () {
      return range;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "ɵx", function () {
      return rangeLength;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "ɵy", function () {
      return url;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "ɵz", function () {
      return uuid;
    });
    /* harmony import */


    var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
    /*! tslib */
    "./node_modules/tslib/tslib.es6.js");
    /* harmony import */


    var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(
    /*! @angular/core */
    "./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");
    /* harmony import */


    var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(
    /*! @angular/forms */
    "./node_modules/@angular/forms/__ivy_ngcc__/fesm2015/forms.js");

    function isPresent(obj) {
      return obj !== undefined && obj !== null;
    }

    function isDate(obj) {
      try {
        var _date = new Date(obj);

        return !isNaN(_date.getTime());
      } catch (e) {
        return false;
      }
    }

    function parseDate(obj) {
      try {
        // Moment.js
        if (obj._d instanceof Date) {
          var d = obj._d;
          var month = +d.getMonth() + 1;
          var day = +d.getDate();
          return "".concat(d.getFullYear(), "-").concat(formatDayOrMonth(month), "-").concat(formatDayOrMonth(day));
        } // NgbDateStruct


        if (typeof obj === 'object' && obj.year != null && obj.month != null && obj.day != null) {
          var _month = +obj.month;

          var _day = +obj.day;

          return "".concat(obj.year, "-").concat(formatDayOrMonth(_month), "-").concat(formatDayOrMonth(_day));
        }
      } catch (e) {}

      return obj;
    }

    function formatDayOrMonth(month) {
      return month < 10 ? "0".concat(month) : month;
    }

    var arrayLength = function arrayLength(value) {
      return function (control) {
        if (isPresent(_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required(control))) {
          return null;
        }

        var obj = control.value;
        return Array.isArray(obj) && obj.length >= +value ? null : {
          arrayLength: {
            minLength: value
          }
        };
      };
    };

    var ARRAY_LENGTH_VALIDATOR = {
      provide: _angular_forms__WEBPACK_IMPORTED_MODULE_2__["NG_VALIDATORS"],
      useExisting: Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["forwardRef"])(function () {
        return ArrayLengthValidator;
      }),
      multi: true
    };

    var ArrayLengthValidator = /*#__PURE__*/function () {
      function ArrayLengthValidator() {
        _classCallCheck(this, ArrayLengthValidator);
      }

      _createClass(ArrayLengthValidator, [{
        key: "ngOnInit",
        value: function ngOnInit() {
          this.validator = arrayLength(this.arrayLength);
        }
      }, {
        key: "ngOnChanges",
        value: function ngOnChanges(changes) {
          for (var key in changes) {
            if (key === 'arrayLength') {
              this.validator = arrayLength(changes[key].currentValue);

              if (this.onChange) {
                this.onChange();
              }
            }
          }
        }
      }, {
        key: "validate",
        value: function validate(c) {
          return this.validator(c);
        }
      }, {
        key: "registerOnValidatorChange",
        value: function registerOnValidatorChange(fn) {
          this.onChange = fn;
        }
      }]);

      return ArrayLengthValidator;
    }();

    ArrayLengthValidator.ɵfac = function ArrayLengthValidator_Factory(t) {
      return new (t || ArrayLengthValidator)();
    };

    ArrayLengthValidator.ɵdir = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: ArrayLengthValidator,
      selectors: [["", "arrayLength", "", "formControlName", ""], ["", "arrayLength", "", "formControl", ""], ["", "arrayLength", "", "ngModel", ""]],
      inputs: {
        arrayLength: "arrayLength"
      },
      features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵProvidersFeature"]([ARRAY_LENGTH_VALIDATOR]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵNgOnChangesFeature"]]
    });
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])()], ArrayLengthValidator.prototype, "arrayLength", void 0);

    var base64 = function base64(control) {
      if (isPresent(_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required(control))) {
        return null;
      }

      var v = control.value;
      return /^(?:[A-Z0-9+\/]{4})*(?:[A-Z0-9+\/]{2}==|[A-Z0-9+\/]{3}=|[A-Z0-9+\/]{4})$/i.test(v) ? null : {
        base64: true
      };
    };

    var BASE64_VALIDATOR = {
      provide: _angular_forms__WEBPACK_IMPORTED_MODULE_2__["NG_VALIDATORS"],
      useExisting: Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["forwardRef"])(function () {
        return Base64Validator;
      }),
      multi: true
    };

    var Base64Validator = /*#__PURE__*/function () {
      function Base64Validator() {
        _classCallCheck(this, Base64Validator);
      }

      _createClass(Base64Validator, [{
        key: "validate",
        value: function validate(c) {
          return base64(c);
        }
      }]);

      return Base64Validator;
    }();

    Base64Validator.ɵfac = function Base64Validator_Factory(t) {
      return new (t || Base64Validator)();
    };

    Base64Validator.ɵdir = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: Base64Validator,
      selectors: [["", "base64", "", "formControlName", ""], ["", "base64", "", "formControl", ""], ["", "base64", "", "ngModel", ""]],
      features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵProvidersFeature"]([BASE64_VALIDATOR])]
    });

    var creditCard = function creditCard(control) {
      if (isPresent(_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required(control))) {
        return null;
      }

      var v = control.value;
      var sanitized = v.replace(/[^0-9]+/g, ''); // problem with chrome

      /* tslint:disable */

      if (!/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11}|(?:9792)\d{12})$/.test(sanitized)) {
        return {
          creditCard: true
        };
      }
      /* tslint:enable */


      var sum = 0;
      var digit;
      var tmpNum;
      var shouldDouble;

      for (var i = sanitized.length - 1; i >= 0; i--) {
        digit = sanitized.substring(i, i + 1);
        tmpNum = parseInt(digit, 10);

        if (shouldDouble) {
          tmpNum *= 2;

          if (tmpNum >= 10) {
            sum += tmpNum % 10 + 1;
          } else {
            sum += tmpNum;
          }
        } else {
          sum += tmpNum;
        }

        shouldDouble = !shouldDouble;
      }

      if (Boolean(sum % 10 === 0 ? sanitized : false)) {
        return null;
      }

      return {
        creditCard: true
      };
    };

    var CREDIT_CARD_VALIDATOR = {
      provide: _angular_forms__WEBPACK_IMPORTED_MODULE_2__["NG_VALIDATORS"],
      useExisting: Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["forwardRef"])(function () {
        return CreditCardValidator;
      }),
      multi: true
    };

    var CreditCardValidator = /*#__PURE__*/function () {
      function CreditCardValidator() {
        _classCallCheck(this, CreditCardValidator);
      }

      _createClass(CreditCardValidator, [{
        key: "validate",
        value: function validate(c) {
          return creditCard(c);
        }
      }]);

      return CreditCardValidator;
    }();

    CreditCardValidator.ɵfac = function CreditCardValidator_Factory(t) {
      return new (t || CreditCardValidator)();
    };

    CreditCardValidator.ɵdir = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: CreditCardValidator,
      selectors: [["", "creditCard", "", "formControlName", ""], ["", "creditCard", "", "formControl", ""], ["", "creditCard", "", "ngModel", ""]],
      features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵProvidersFeature"]([CREDIT_CARD_VALIDATOR])]
    });

    var dateISO = function dateISO(control) {
      if (isPresent(_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required(control))) {
        return null;
      }

      var v = control.value;
      return /^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(v) ? null : {
        dateISO: true
      };
    };

    var DATE_ISO_VALIDATOR = {
      provide: _angular_forms__WEBPACK_IMPORTED_MODULE_2__["NG_VALIDATORS"],
      useExisting: Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["forwardRef"])(function () {
        return DateISOValidator;
      }),
      multi: true
    };

    var DateISOValidator = /*#__PURE__*/function () {
      function DateISOValidator() {
        _classCallCheck(this, DateISOValidator);
      }

      _createClass(DateISOValidator, [{
        key: "validate",
        value: function validate(c) {
          return dateISO(c);
        }
      }]);

      return DateISOValidator;
    }();

    DateISOValidator.ɵfac = function DateISOValidator_Factory(t) {
      return new (t || DateISOValidator)();
    };

    DateISOValidator.ɵdir = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: DateISOValidator,
      selectors: [["", "dateISO", "", "formControlName", ""], ["", "dateISO", "", "formControl", ""], ["", "dateISO", "", "ngModel", ""]],
      features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵProvidersFeature"]([DATE_ISO_VALIDATOR])]
    });

    var date = function date(control) {
      if (isPresent(_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required(control))) {
        return null;
      }

      var v = control.value;
      v = parseDate(v);
      return isDate(v) ? null : {
        date: true
      };
    };

    var DATE_VALIDATOR = {
      provide: _angular_forms__WEBPACK_IMPORTED_MODULE_2__["NG_VALIDATORS"],
      useExisting: Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["forwardRef"])(function () {
        return DateValidator;
      }),
      multi: true
    };

    var DateValidator = /*#__PURE__*/function () {
      function DateValidator() {
        _classCallCheck(this, DateValidator);
      }

      _createClass(DateValidator, [{
        key: "validate",
        value: function validate(c) {
          return date(c);
        }
      }]);

      return DateValidator;
    }();

    DateValidator.ɵfac = function DateValidator_Factory(t) {
      return new (t || DateValidator)();
    };

    DateValidator.ɵdir = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: DateValidator,
      selectors: [["", "date", "", "formControlName", ""], ["", "date", "", "formControl", ""], ["", "date", "", "ngModel", ""]],
      features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵProvidersFeature"]([DATE_VALIDATOR])]
    });

    var digits = function digits(control) {
      if (isPresent(_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required(control))) {
        return null;
      }

      var v = control.value;
      return /^\d+$/.test(v) ? null : {
        digits: true
      };
    };

    var DIGITS_VALIDATOR = {
      provide: _angular_forms__WEBPACK_IMPORTED_MODULE_2__["NG_VALIDATORS"],
      useExisting: Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["forwardRef"])(function () {
        return DigitsValidator;
      }),
      multi: true
    };

    var DigitsValidator = /*#__PURE__*/function () {
      function DigitsValidator() {
        _classCallCheck(this, DigitsValidator);
      }

      _createClass(DigitsValidator, [{
        key: "validate",
        value: function validate(c) {
          return digits(c);
        }
      }]);

      return DigitsValidator;
    }();

    DigitsValidator.ɵfac = function DigitsValidator_Factory(t) {
      return new (t || DigitsValidator)();
    };

    DigitsValidator.ɵdir = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: DigitsValidator,
      selectors: [["", "digits", "", "formControlName", ""], ["", "digits", "", "formControl", ""], ["", "digits", "", "ngModel", ""]],
      features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵProvidersFeature"]([DIGITS_VALIDATOR])]
    });

    var email = function email(control) {
      if (isPresent(_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required(control))) {
        return null;
      }

      var v = control.value;
      /* tslint:disable */

      return /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(v) ? null : {
        'email': true
      };
      /* tslint:enable */
    };

    var EMAIL_VALIDATOR = {
      provide: _angular_forms__WEBPACK_IMPORTED_MODULE_2__["NG_VALIDATORS"],
      useExisting: Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["forwardRef"])(function () {
        return EmailValidator;
      }),
      multi: true
    };

    var EmailValidator = /*#__PURE__*/function () {
      function EmailValidator() {
        _classCallCheck(this, EmailValidator);
      }

      _createClass(EmailValidator, [{
        key: "validate",
        value: function validate(c) {
          return email(c);
        }
      }]);

      return EmailValidator;
    }();

    EmailValidator.ɵfac = function EmailValidator_Factory(t) {
      return new (t || EmailValidator)();
    };

    EmailValidator.ɵdir = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: EmailValidator,
      selectors: [["", "ngvemail", "", "formControlName", ""], ["", "ngvemail", "", "formControl", ""], ["", "ngvemail", "", "ngModel", ""]],
      features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵProvidersFeature"]([EMAIL_VALIDATOR])]
    });

    var equalTo = function equalTo(equalControl) {
      var subscribe = false;
      return function (control) {
        if (!subscribe) {
          subscribe = true;
          equalControl.valueChanges.subscribe(function () {
            control.updateValueAndValidity();
          });
        }

        var v = control.value;
        return equalControl.value === v ? null : {
          equalTo: {
            control: equalControl,
            value: equalControl.value
          }
        };
      };
    };

    var EQUAL_TO_VALIDATOR = {
      provide: _angular_forms__WEBPACK_IMPORTED_MODULE_2__["NG_VALIDATORS"],
      useExisting: Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["forwardRef"])(function () {
        return EqualToValidator;
      }),
      multi: true
    };

    var EqualToValidator = /*#__PURE__*/function () {
      function EqualToValidator() {
        _classCallCheck(this, EqualToValidator);
      }

      _createClass(EqualToValidator, [{
        key: "ngOnInit",
        value: function ngOnInit() {
          this.validator = equalTo(this.equalTo);
        }
      }, {
        key: "validate",
        value: function validate(c) {
          return this.validator(c);
        }
      }]);

      return EqualToValidator;
    }();

    EqualToValidator.ɵfac = function EqualToValidator_Factory(t) {
      return new (t || EqualToValidator)();
    };

    EqualToValidator.ɵdir = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: EqualToValidator,
      selectors: [["", "equalTo", "", "formControlName", ""], ["", "equalTo", "", "formControl", ""], ["", "equalTo", "", "ngModel", ""]],
      inputs: {
        equalTo: "equalTo"
      },
      features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵProvidersFeature"]([EQUAL_TO_VALIDATOR])]
    });
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])()], EqualToValidator.prototype, "equalTo", void 0);

    var equal = function equal(val) {
      return function (control) {
        if (isPresent(_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required(control))) {
          return null;
        }

        var v = control.value;
        return val === v ? null : {
          equal: {
            value: val
          }
        };
      };
    };

    var EQUAL_VALIDATOR = {
      provide: _angular_forms__WEBPACK_IMPORTED_MODULE_2__["NG_VALIDATORS"],
      useExisting: Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["forwardRef"])(function () {
        return EqualValidator;
      }),
      multi: true
    };

    var EqualValidator = /*#__PURE__*/function () {
      function EqualValidator() {
        _classCallCheck(this, EqualValidator);
      }

      _createClass(EqualValidator, [{
        key: "ngOnInit",
        value: function ngOnInit() {
          this.validator = equal(this.equal);
        }
      }, {
        key: "ngOnChanges",
        value: function ngOnChanges(changes) {
          for (var key in changes) {
            if (key === 'equal') {
              this.validator = equal(changes[key].currentValue);

              if (this.onChange) {
                this.onChange();
              }
            }
          }
        }
      }, {
        key: "validate",
        value: function validate(c) {
          return this.validator(c);
        }
      }, {
        key: "registerOnValidatorChange",
        value: function registerOnValidatorChange(fn) {
          this.onChange = fn;
        }
      }]);

      return EqualValidator;
    }();

    EqualValidator.ɵfac = function EqualValidator_Factory(t) {
      return new (t || EqualValidator)();
    };

    EqualValidator.ɵdir = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: EqualValidator,
      selectors: [["", "equal", "", "formControlName", ""], ["", "equal", "", "formControl", ""], ["", "equal", "", "ngModel", ""]],
      inputs: {
        equal: "equal"
      },
      features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵProvidersFeature"]([EQUAL_VALIDATOR]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵNgOnChangesFeature"]]
    });
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])()], EqualValidator.prototype, "equal", void 0);

    var gte = function gte(value) {
      return function (control) {
        if (!isPresent(value)) {
          return null;
        }

        if (isPresent(_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required(control))) {
          return null;
        }

        var v = +control.value;
        return v >= +value ? null : {
          gte: {
            value: value
          }
        };
      };
    };

    var GREATER_THAN_EQUAL_VALIDATOR = {
      provide: _angular_forms__WEBPACK_IMPORTED_MODULE_2__["NG_VALIDATORS"],
      useExisting: Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["forwardRef"])(function () {
        return GreaterThanEqualValidator;
      }),
      multi: true
    };

    var GreaterThanEqualValidator = /*#__PURE__*/function () {
      function GreaterThanEqualValidator() {
        _classCallCheck(this, GreaterThanEqualValidator);
      }

      _createClass(GreaterThanEqualValidator, [{
        key: "ngOnInit",
        value: function ngOnInit() {
          this.validator = gte(this.gte);
        }
      }, {
        key: "ngOnChanges",
        value: function ngOnChanges(changes) {
          for (var key in changes) {
            if (key === 'gte') {
              this.validator = gte(changes[key].currentValue);

              if (this.onChange) {
                this.onChange();
              }
            }
          }
        }
      }, {
        key: "validate",
        value: function validate(c) {
          return this.validator(c);
        }
      }, {
        key: "registerOnValidatorChange",
        value: function registerOnValidatorChange(fn) {
          this.onChange = fn;
        }
      }]);

      return GreaterThanEqualValidator;
    }();

    GreaterThanEqualValidator.ɵfac = function GreaterThanEqualValidator_Factory(t) {
      return new (t || GreaterThanEqualValidator)();
    };

    GreaterThanEqualValidator.ɵdir = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: GreaterThanEqualValidator,
      selectors: [["", "gte", "", "formControlName", ""], ["", "gte", "", "formControl", ""], ["", "gte", "", "ngModel", ""]],
      inputs: {
        gte: "gte"
      },
      features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵProvidersFeature"]([GREATER_THAN_EQUAL_VALIDATOR]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵNgOnChangesFeature"]]
    });
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])()], GreaterThanEqualValidator.prototype, "gte", void 0);

    var gt = function gt(value) {
      return function (control) {
        if (!isPresent(value)) {
          return null;
        }

        if (isPresent(_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required(control))) {
          return null;
        }

        var v = +control.value;
        return v > +value ? null : {
          gt: {
            value: value
          }
        };
      };
    };

    var GREATER_THAN_VALIDATOR = {
      provide: _angular_forms__WEBPACK_IMPORTED_MODULE_2__["NG_VALIDATORS"],
      useExisting: Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["forwardRef"])(function () {
        return GreaterThanValidator;
      }),
      multi: true
    };

    var GreaterThanValidator = /*#__PURE__*/function () {
      function GreaterThanValidator() {
        _classCallCheck(this, GreaterThanValidator);
      }

      _createClass(GreaterThanValidator, [{
        key: "ngOnInit",
        value: function ngOnInit() {
          this.validator = gt(this.gt);
        }
      }, {
        key: "ngOnChanges",
        value: function ngOnChanges(changes) {
          for (var key in changes) {
            if (key === 'gt') {
              this.validator = gt(changes[key].currentValue);

              if (this.onChange) {
                this.onChange();
              }
            }
          }
        }
      }, {
        key: "validate",
        value: function validate(c) {
          return this.validator(c);
        }
      }, {
        key: "registerOnValidatorChange",
        value: function registerOnValidatorChange(fn) {
          this.onChange = fn;
        }
      }]);

      return GreaterThanValidator;
    }();

    GreaterThanValidator.ɵfac = function GreaterThanValidator_Factory(t) {
      return new (t || GreaterThanValidator)();
    };

    GreaterThanValidator.ɵdir = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: GreaterThanValidator,
      selectors: [["", "gt", "", "formControlName", ""], ["", "gt", "", "formControl", ""], ["", "gt", "", "ngModel", ""]],
      inputs: {
        gt: "gt"
      },
      features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵProvidersFeature"]([GREATER_THAN_VALIDATOR]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵNgOnChangesFeature"]]
    });
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])()], GreaterThanValidator.prototype, "gt", void 0);

    var json = function json(control) {
      if (isPresent(_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required(control))) {
        return null;
      }

      var v = control.value;

      try {
        var obj = JSON.parse(v);

        if (Boolean(obj) && typeof obj === 'object') {
          return null;
        }
      } catch (e) {}

      return {
        json: true
      };
    };

    var JSON_VALIDATOR = {
      provide: _angular_forms__WEBPACK_IMPORTED_MODULE_2__["NG_VALIDATORS"],
      useExisting: Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["forwardRef"])(function () {
        return JSONValidator;
      }),
      multi: true
    };

    var JSONValidator = /*#__PURE__*/function () {
      function JSONValidator() {
        _classCallCheck(this, JSONValidator);
      }

      _createClass(JSONValidator, [{
        key: "validate",
        value: function validate(c) {
          return json(c);
        }
      }]);

      return JSONValidator;
    }();

    JSONValidator.ɵfac = function JSONValidator_Factory(t) {
      return new (t || JSONValidator)();
    };

    JSONValidator.ɵdir = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: JSONValidator,
      selectors: [["", "json", "", "formControlName", ""], ["", "json", "", "formControl", ""], ["", "json", "", "ngModel", ""]],
      features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵProvidersFeature"]([JSON_VALIDATOR])]
    });

    var lte = function lte(value) {
      return function (control) {
        if (!isPresent(value)) {
          return null;
        }

        if (isPresent(_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required(control))) {
          return null;
        }

        var v = +control.value;
        return v <= +value ? null : {
          lte: {
            value: value
          }
        };
      };
    };

    var LESS_THAN_EQUAL_VALIDATOR = {
      provide: _angular_forms__WEBPACK_IMPORTED_MODULE_2__["NG_VALIDATORS"],
      useExisting: Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["forwardRef"])(function () {
        return LessThanEqualValidator;
      }),
      multi: true
    };

    var LessThanEqualValidator = /*#__PURE__*/function () {
      function LessThanEqualValidator() {
        _classCallCheck(this, LessThanEqualValidator);
      }

      _createClass(LessThanEqualValidator, [{
        key: "ngOnInit",
        value: function ngOnInit() {
          this.validator = lte(this.lte);
        }
      }, {
        key: "ngOnChanges",
        value: function ngOnChanges(changes) {
          for (var key in changes) {
            if (key === 'lte') {
              this.validator = lte(changes[key].currentValue);

              if (this.onChange) {
                this.onChange();
              }
            }
          }
        }
      }, {
        key: "validate",
        value: function validate(c) {
          return this.validator(c);
        }
      }, {
        key: "registerOnValidatorChange",
        value: function registerOnValidatorChange(fn) {
          this.onChange = fn;
        }
      }]);

      return LessThanEqualValidator;
    }();

    LessThanEqualValidator.ɵfac = function LessThanEqualValidator_Factory(t) {
      return new (t || LessThanEqualValidator)();
    };

    LessThanEqualValidator.ɵdir = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: LessThanEqualValidator,
      selectors: [["", "lte", "", "formControlName", ""], ["", "lte", "", "formControl", ""], ["", "lte", "", "ngModel", ""]],
      inputs: {
        lte: "lte"
      },
      features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵProvidersFeature"]([LESS_THAN_EQUAL_VALIDATOR]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵNgOnChangesFeature"]]
    });
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])()], LessThanEqualValidator.prototype, "lte", void 0);

    var lt = function lt(value) {
      return function (control) {
        if (!isPresent(value)) {
          return null;
        }

        if (isPresent(_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required(control))) {
          return null;
        }

        var v = +control.value;
        return v < +value ? null : {
          lt: {
            value: value
          }
        };
      };
    };

    var LESS_THAN_VALIDATOR = {
      provide: _angular_forms__WEBPACK_IMPORTED_MODULE_2__["NG_VALIDATORS"],
      useExisting: Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["forwardRef"])(function () {
        return LessThanValidator;
      }),
      multi: true
    };

    var LessThanValidator = /*#__PURE__*/function () {
      function LessThanValidator() {
        _classCallCheck(this, LessThanValidator);
      }

      _createClass(LessThanValidator, [{
        key: "ngOnInit",
        value: function ngOnInit() {
          this.validator = lt(this.lt);
        }
      }, {
        key: "ngOnChanges",
        value: function ngOnChanges(changes) {
          for (var key in changes) {
            if (key === 'lt') {
              this.validator = lt(changes[key].currentValue);

              if (this.onChange) {
                this.onChange();
              }
            }
          }
        }
      }, {
        key: "validate",
        value: function validate(c) {
          return this.validator(c);
        }
      }, {
        key: "registerOnValidatorChange",
        value: function registerOnValidatorChange(fn) {
          this.onChange = fn;
        }
      }]);

      return LessThanValidator;
    }();

    LessThanValidator.ɵfac = function LessThanValidator_Factory(t) {
      return new (t || LessThanValidator)();
    };

    LessThanValidator.ɵdir = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: LessThanValidator,
      selectors: [["", "lt", "", "formControlName", ""], ["", "lt", "", "formControl", ""], ["", "lt", "", "ngModel", ""]],
      inputs: {
        lt: "lt"
      },
      features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵProvidersFeature"]([LESS_THAN_VALIDATOR]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵNgOnChangesFeature"]]
    });
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])()], LessThanValidator.prototype, "lt", void 0);

    var maxDate = function maxDate(maxInput) {
      var value;
      var subscribe = false;
      var maxValue = maxInput;
      var isForm = maxInput instanceof _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"] || maxInput instanceof _angular_forms__WEBPACK_IMPORTED_MODULE_2__["NgModel"];
      return function (control) {
        if (!subscribe && isForm) {
          subscribe = true;
          maxInput.valueChanges.subscribe(function () {
            control.updateValueAndValidity();
          });
        }

        if (isForm) {
          maxValue = maxInput.value;
        }

        value = parseDate(maxValue);

        if (!isDate(value) && !(value instanceof Function)) {
          if (value == null) {
            return null;
          } else if (isForm) {
            return {
              maxDate: {
                error: 'maxDate is invalid'
              }
            };
          } else {
            throw Error('maxDate value must be or return a formatted date');
          }
        }

        if (isPresent(_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required(control))) {
          return null;
        }

        var d = new Date(parseDate(control.value)).getTime();

        if (!isDate(d)) {
          return {
            value: true
          };
        }

        if (value instanceof Function) {
          value = value();
        }

        return d <= new Date(value).getTime() ? null : isForm ? {
          maxDate: {
            control: maxInput,
            value: maxInput.value
          }
        } : {
          maxDate: {
            value: maxValue,
            control: undefined
          }
        };
      };
    };

    var MAX_DATE_VALIDATOR = {
      provide: _angular_forms__WEBPACK_IMPORTED_MODULE_2__["NG_VALIDATORS"],
      useExisting: Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["forwardRef"])(function () {
        return MaxDateValidator;
      }),
      multi: true
    };

    var MaxDateValidator = /*#__PURE__*/function () {
      function MaxDateValidator() {
        _classCallCheck(this, MaxDateValidator);
      }

      _createClass(MaxDateValidator, [{
        key: "ngOnInit",
        value: function ngOnInit() {
          this.validator = maxDate(this.maxDate);
        }
      }, {
        key: "ngOnChanges",
        value: function ngOnChanges(changes) {
          for (var key in changes) {
            if (key === 'maxDate') {
              this.validator = maxDate(changes[key].currentValue);

              if (this.onChange) {
                this.onChange();
              }
            }
          }
        }
      }, {
        key: "validate",
        value: function validate(c) {
          return this.validator(c);
        }
      }, {
        key: "registerOnValidatorChange",
        value: function registerOnValidatorChange(fn) {
          this.onChange = fn;
        }
      }]);

      return MaxDateValidator;
    }();

    MaxDateValidator.ɵfac = function MaxDateValidator_Factory(t) {
      return new (t || MaxDateValidator)();
    };

    MaxDateValidator.ɵdir = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: MaxDateValidator,
      selectors: [["", "maxDate", "", "formControlName", ""], ["", "maxDate", "", "formControl", ""], ["", "maxDate", "", "ngModel", ""]],
      inputs: {
        maxDate: "maxDate"
      },
      features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵProvidersFeature"]([MAX_DATE_VALIDATOR]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵNgOnChangesFeature"]]
    });
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])()], MaxDateValidator.prototype, "maxDate", void 0);

    var max = function max(value) {
      return function (control) {
        if (!isPresent(value)) {
          return null;
        }

        if (isPresent(_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required(control))) {
          return null;
        }

        var v = +control.value;
        return v <= +value ? null : {
          max: {
            value: value
          }
        };
      };
    };

    var MAX_VALIDATOR = {
      provide: _angular_forms__WEBPACK_IMPORTED_MODULE_2__["NG_VALIDATORS"],
      useExisting: Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["forwardRef"])(function () {
        return MaxValidator;
      }),
      multi: true
    };

    var MaxValidator = /*#__PURE__*/function () {
      function MaxValidator() {
        _classCallCheck(this, MaxValidator);
      }

      _createClass(MaxValidator, [{
        key: "ngOnInit",
        value: function ngOnInit() {
          this.validator = max(this.max);
        }
      }, {
        key: "ngOnChanges",
        value: function ngOnChanges(changes) {
          for (var key in changes) {
            if (key === 'max') {
              this.validator = max(changes[key].currentValue);

              if (this.onChange) {
                this.onChange();
              }
            }
          }
        }
      }, {
        key: "validate",
        value: function validate(c) {
          return this.validator(c);
        }
      }, {
        key: "registerOnValidatorChange",
        value: function registerOnValidatorChange(fn) {
          this.onChange = fn;
        }
      }]);

      return MaxValidator;
    }();

    MaxValidator.ɵfac = function MaxValidator_Factory(t) {
      return new (t || MaxValidator)();
    };

    MaxValidator.ɵdir = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: MaxValidator,
      selectors: [["", "max", "", "formControlName", ""], ["", "max", "", "formControl", ""], ["", "max", "", "ngModel", ""]],
      inputs: {
        max: "max"
      },
      features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵProvidersFeature"]([MAX_VALIDATOR]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵNgOnChangesFeature"]]
    });
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])()], MaxValidator.prototype, "max", void 0);

    var minDate = function minDate(minInput) {
      var value;
      var subscribe = false;
      var minValue = minInput;
      var isForm = minInput instanceof _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"] || minInput instanceof _angular_forms__WEBPACK_IMPORTED_MODULE_2__["NgModel"];
      return function (control) {
        if (!subscribe && isForm) {
          subscribe = true;
          minInput.valueChanges.subscribe(function () {
            control.updateValueAndValidity();
          });
        }

        if (isForm) {
          minValue = minInput.value;
        }

        value = parseDate(minValue);

        if (!isDate(value) && !(value instanceof Function)) {
          if (value == null) {
            return null;
          } else if (isForm) {
            return {
              minDate: {
                error: 'minDate is invalid'
              }
            };
          } else {
            throw Error('minDate value must be or return a formatted date');
          }
        }

        if (isPresent(_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required(control))) {
          return null;
        }

        var d = new Date(parseDate(control.value)).getTime();

        if (!isDate(d)) {
          return {
            value: true
          };
        }

        if (value instanceof Function) {
          value = value();
        }

        return d >= new Date(value).getTime() ? null : isForm ? {
          minDate: {
            control: minInput,
            value: minInput.value
          }
        } : {
          minDate: {
            value: minValue,
            control: undefined
          }
        };
      };
    };

    var MIN_DATE_VALIDATOR = {
      provide: _angular_forms__WEBPACK_IMPORTED_MODULE_2__["NG_VALIDATORS"],
      useExisting: Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["forwardRef"])(function () {
        return MinDateValidator;
      }),
      multi: true
    };

    var MinDateValidator = /*#__PURE__*/function () {
      function MinDateValidator() {
        _classCallCheck(this, MinDateValidator);
      }

      _createClass(MinDateValidator, [{
        key: "ngOnInit",
        value: function ngOnInit() {
          this.validator = minDate(this.minDate);
        }
      }, {
        key: "ngOnChanges",
        value: function ngOnChanges(changes) {
          for (var key in changes) {
            if (key === 'minDate') {
              this.validator = minDate(changes[key].currentValue);

              if (this.onChange) {
                this.onChange();
              }
            }
          }
        }
      }, {
        key: "validate",
        value: function validate(c) {
          return this.validator(c);
        }
      }, {
        key: "registerOnValidatorChange",
        value: function registerOnValidatorChange(fn) {
          this.onChange = fn;
        }
      }]);

      return MinDateValidator;
    }();

    MinDateValidator.ɵfac = function MinDateValidator_Factory(t) {
      return new (t || MinDateValidator)();
    };

    MinDateValidator.ɵdir = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: MinDateValidator,
      selectors: [["", "minDate", "", "formControlName", ""], ["", "minDate", "", "formControl", ""], ["", "minDate", "", "ngModel", ""]],
      inputs: {
        minDate: "minDate"
      },
      features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵProvidersFeature"]([MIN_DATE_VALIDATOR]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵNgOnChangesFeature"]]
    });
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])()], MinDateValidator.prototype, "minDate", void 0);

    var min = function min(value) {
      return function (control) {
        if (!isPresent(value)) {
          return null;
        }

        if (isPresent(_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required(control))) {
          return null;
        }

        var v = +control.value;
        return v >= +value ? null : {
          min: {
            value: value
          }
        };
      };
    };

    var MIN_VALIDATOR = {
      provide: _angular_forms__WEBPACK_IMPORTED_MODULE_2__["NG_VALIDATORS"],
      useExisting: Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["forwardRef"])(function () {
        return MinValidator;
      }),
      multi: true
    };

    var MinValidator = /*#__PURE__*/function () {
      function MinValidator() {
        _classCallCheck(this, MinValidator);
      }

      _createClass(MinValidator, [{
        key: "ngOnInit",
        value: function ngOnInit() {
          this.validator = min(this.min);
        }
      }, {
        key: "ngOnChanges",
        value: function ngOnChanges(changes) {
          for (var key in changes) {
            if (key === 'min') {
              this.validator = min(changes[key].currentValue);

              if (this.onChange) {
                this.onChange();
              }
            }
          }
        }
      }, {
        key: "validate",
        value: function validate(c) {
          return this.validator(c);
        }
      }, {
        key: "registerOnValidatorChange",
        value: function registerOnValidatorChange(fn) {
          this.onChange = fn;
        }
      }]);

      return MinValidator;
    }();

    MinValidator.ɵfac = function MinValidator_Factory(t) {
      return new (t || MinValidator)();
    };

    MinValidator.ɵdir = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: MinValidator,
      selectors: [["", "min", "", "formControlName", ""], ["", "min", "", "formControl", ""], ["", "min", "", "ngModel", ""]],
      inputs: {
        min: "min"
      },
      features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵProvidersFeature"]([MIN_VALIDATOR]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵNgOnChangesFeature"]]
    });
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])()], MinValidator.prototype, "min", void 0);

    var notEqualTo = function notEqualTo(notEqualControl) {
      var subscribe = false;
      return function (control) {
        if (!subscribe) {
          subscribe = true;
          notEqualControl.valueChanges.subscribe(function () {
            control.updateValueAndValidity();
          });
        }

        var v = control.value;

        if (notEqualControl.value == null && v == null) {
          return null;
        }

        return notEqualControl.value !== v ? null : {
          notEqualTo: {
            control: notEqualControl,
            value: notEqualControl.value
          }
        };
      };
    };

    var NOT_EQUAL_TO_VALIDATOR = {
      provide: _angular_forms__WEBPACK_IMPORTED_MODULE_2__["NG_VALIDATORS"],
      useExisting: Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["forwardRef"])(function () {
        return NotEqualToValidator;
      }),
      multi: true
    };

    var NotEqualToValidator = /*#__PURE__*/function () {
      function NotEqualToValidator() {
        _classCallCheck(this, NotEqualToValidator);
      }

      _createClass(NotEqualToValidator, [{
        key: "ngOnInit",
        value: function ngOnInit() {
          this.validator = notEqualTo(this.notEqualTo);
        }
      }, {
        key: "validate",
        value: function validate(c) {
          return this.validator(c);
        }
      }]);

      return NotEqualToValidator;
    }();

    NotEqualToValidator.ɵfac = function NotEqualToValidator_Factory(t) {
      return new (t || NotEqualToValidator)();
    };

    NotEqualToValidator.ɵdir = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: NotEqualToValidator,
      selectors: [["", "notEqualTo", "", "formControlName", ""], ["", "notEqualTo", "", "formControl", ""], ["", "notEqualTo", "", "ngModel", ""]],
      inputs: {
        notEqualTo: "notEqualTo"
      },
      features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵProvidersFeature"]([NOT_EQUAL_TO_VALIDATOR])]
    });
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])()], NotEqualToValidator.prototype, "notEqualTo", void 0);

    var notEqual = function notEqual(val) {
      return function (control) {
        if (isPresent(_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required(control))) {
          return null;
        }

        var v = control.value;
        return val !== v ? null : {
          notEqual: {
            value: val
          }
        };
      };
    };

    var NOT_EQUAL_VALIDATOR = {
      provide: _angular_forms__WEBPACK_IMPORTED_MODULE_2__["NG_VALIDATORS"],
      useExisting: Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["forwardRef"])(function () {
        return NotEqualValidator;
      }),
      multi: true
    };

    var NotEqualValidator = /*#__PURE__*/function () {
      function NotEqualValidator() {
        _classCallCheck(this, NotEqualValidator);
      }

      _createClass(NotEqualValidator, [{
        key: "ngOnInit",
        value: function ngOnInit() {
          this.validator = notEqual(this.notEqual);
        }
      }, {
        key: "ngOnChanges",
        value: function ngOnChanges(changes) {
          for (var key in changes) {
            if (key === 'notEqual') {
              this.validator = notEqual(changes[key].currentValue);

              if (this.onChange) {
                this.onChange();
              }
            }
          }
        }
      }, {
        key: "validate",
        value: function validate(c) {
          return this.validator(c);
        }
      }, {
        key: "registerOnValidatorChange",
        value: function registerOnValidatorChange(fn) {
          this.onChange = fn;
        }
      }]);

      return NotEqualValidator;
    }();

    NotEqualValidator.ɵfac = function NotEqualValidator_Factory(t) {
      return new (t || NotEqualValidator)();
    };

    NotEqualValidator.ɵdir = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: NotEqualValidator,
      selectors: [["", "notEqual", "", "formControlName", ""], ["", "notEqual", "", "formControl", ""], ["", "notEqual", "", "ngModel", ""]],
      inputs: {
        notEqual: "notEqual"
      },
      features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵProvidersFeature"]([NOT_EQUAL_VALIDATOR]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵNgOnChangesFeature"]]
    });
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])()], NotEqualValidator.prototype, "notEqual", void 0);

    var number = function number(control) {
      if (isPresent(_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required(control))) {
        return null;
      }

      var v = control.value;
      return /^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(v) ? null : {
        'number': true
      };
    };

    var NUMBER_VALIDATOR = {
      provide: _angular_forms__WEBPACK_IMPORTED_MODULE_2__["NG_VALIDATORS"],
      useExisting: Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["forwardRef"])(function () {
        return NumberValidator;
      }),
      multi: true
    };

    var NumberValidator = /*#__PURE__*/function () {
      function NumberValidator() {
        _classCallCheck(this, NumberValidator);
      }

      _createClass(NumberValidator, [{
        key: "validate",
        value: function validate(c) {
          return number(c);
        }
      }]);

      return NumberValidator;
    }();

    NumberValidator.ɵfac = function NumberValidator_Factory(t) {
      return new (t || NumberValidator)();
    };

    NumberValidator.ɵdir = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: NumberValidator,
      selectors: [["", "number", "", "formControlName", ""], ["", "number", "", "formControl", ""], ["", "number", "", "ngModel", ""]],
      features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵProvidersFeature"]([NUMBER_VALIDATOR])]
    });

    var property = function property(value) {
      return function (control) {
        if (isPresent(_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required(control))) {
          return null;
        }

        var properties = value.split(',');
        var obj = control.value;
        var isValid = true;

        var _iterator8 = _createForOfIteratorHelper(properties),
            _step8;

        try {
          for (_iterator8.s(); !(_step8 = _iterator8.n()).done;) {
            var prop = _step8.value;

            if (obj[prop] == null) {
              isValid = false;
              break;
            }
          }
        } catch (err) {
          _iterator8.e(err);
        } finally {
          _iterator8.f();
        }

        return isValid ? null : {
          hasProperty: {
            value: value
          }
        };
      };
    };

    var PROPERTY_VALIDATOR = {
      provide: _angular_forms__WEBPACK_IMPORTED_MODULE_2__["NG_VALIDATORS"],
      useExisting: Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["forwardRef"])(function () {
        return PropertyValidator;
      }),
      multi: true
    };

    var PropertyValidator = /*#__PURE__*/function () {
      function PropertyValidator() {
        _classCallCheck(this, PropertyValidator);
      }

      _createClass(PropertyValidator, [{
        key: "ngOnInit",
        value: function ngOnInit() {
          this.validator = property(this.property);
        }
      }, {
        key: "ngOnChanges",
        value: function ngOnChanges(changes) {
          for (var key in changes) {
            if (key === 'property') {
              this.validator = property(changes[key].currentValue);

              if (this.onChange) {
                this.onChange();
              }
            }
          }
        }
      }, {
        key: "validate",
        value: function validate(c) {
          return this.validator(c);
        }
      }, {
        key: "registerOnValidatorChange",
        value: function registerOnValidatorChange(fn) {
          this.onChange = fn;
        }
      }]);

      return PropertyValidator;
    }();

    PropertyValidator.ɵfac = function PropertyValidator_Factory(t) {
      return new (t || PropertyValidator)();
    };

    PropertyValidator.ɵdir = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: PropertyValidator,
      selectors: [["", "property", "", "formControlName", ""], ["", "property", "", "formControl", ""], ["", "property", "", "ngModel", ""]],
      inputs: {
        property: "property"
      },
      features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵProvidersFeature"]([PROPERTY_VALIDATOR]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵNgOnChangesFeature"]]
    });
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])()], PropertyValidator.prototype, "property", void 0);

    var rangeLength = function rangeLength(value) {
      return function (control) {
        if (!isPresent(value)) {
          return null;
        }

        if (isPresent(_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required(control))) {
          return null;
        }

        var v = control.value;
        return v.length >= value[0] && v.length <= value[1] ? null : {
          rangeLength: {
            value: value
          }
        };
      };
    };

    var RANGE_LENGTH_VALIDATOR = {
      provide: _angular_forms__WEBPACK_IMPORTED_MODULE_2__["NG_VALIDATORS"],
      useExisting: Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["forwardRef"])(function () {
        return RangeLengthValidator;
      }),
      multi: true
    };

    var RangeLengthValidator = /*#__PURE__*/function () {
      function RangeLengthValidator() {
        _classCallCheck(this, RangeLengthValidator);
      }

      _createClass(RangeLengthValidator, [{
        key: "ngOnInit",
        value: function ngOnInit() {
          this.validator = rangeLength(this.rangeLength);
        }
      }, {
        key: "ngOnChanges",
        value: function ngOnChanges(changes) {
          for (var key in changes) {
            if (key === 'rangeLength') {
              this.validator = rangeLength(changes[key].currentValue);

              if (this.onChange) {
                this.onChange();
              }
            }
          }
        }
      }, {
        key: "validate",
        value: function validate(c) {
          return this.validator(c);
        }
      }, {
        key: "registerOnValidatorChange",
        value: function registerOnValidatorChange(fn) {
          this.onChange = fn;
        }
      }]);

      return RangeLengthValidator;
    }();

    RangeLengthValidator.ɵfac = function RangeLengthValidator_Factory(t) {
      return new (t || RangeLengthValidator)();
    };

    RangeLengthValidator.ɵdir = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: RangeLengthValidator,
      selectors: [["", "rangeLength", "", "formControlName", ""], ["", "rangeLength", "", "formControl", ""], ["", "rangeLength", "", "ngModel", ""]],
      inputs: {
        rangeLength: "rangeLength"
      },
      features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵProvidersFeature"]([RANGE_LENGTH_VALIDATOR]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵNgOnChangesFeature"]]
    });
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])()], RangeLengthValidator.prototype, "rangeLength", void 0);

    var range = function range(value) {
      return function (control) {
        if (!isPresent(value)) {
          return null;
        }

        if (isPresent(_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required(control))) {
          return null;
        }

        var v = +control.value;
        return v >= value[0] && v <= value[1] ? null : {
          range: {
            value: value
          }
        };
      };
    };

    var RANGE_VALIDATOR = {
      provide: _angular_forms__WEBPACK_IMPORTED_MODULE_2__["NG_VALIDATORS"],
      useExisting: Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["forwardRef"])(function () {
        return RangeValidator;
      }),
      multi: true
    };

    var RangeValidator = /*#__PURE__*/function () {
      function RangeValidator() {
        _classCallCheck(this, RangeValidator);
      }

      _createClass(RangeValidator, [{
        key: "ngOnInit",
        value: function ngOnInit() {
          this.validator = range(this.range);
        }
      }, {
        key: "ngOnChanges",
        value: function ngOnChanges(changes) {
          for (var key in changes) {
            if (key === 'range') {
              this.validator = range(changes[key].currentValue);

              if (this.onChange) {
                this.onChange();
              }
            }
          }
        }
      }, {
        key: "validate",
        value: function validate(c) {
          return this.validator(c);
        }
      }, {
        key: "registerOnValidatorChange",
        value: function registerOnValidatorChange(fn) {
          this.onChange = fn;
        }
      }]);

      return RangeValidator;
    }();

    RangeValidator.ɵfac = function RangeValidator_Factory(t) {
      return new (t || RangeValidator)();
    };

    RangeValidator.ɵdir = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: RangeValidator,
      selectors: [["", "range", "", "formControlName", ""], ["", "range", "", "formControl", ""], ["", "range", "", "ngModel", ""]],
      inputs: {
        range: "range"
      },
      features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵProvidersFeature"]([RANGE_VALIDATOR]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵNgOnChangesFeature"]]
    });
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])()], RangeValidator.prototype, "range", void 0);

    var url = function url(control) {
      if (isPresent(_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required(control))) {
        return null;
      }

      var v = control.value;
      /* tslint:disable */

      return /^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(v) ? null : {
        'url': true
      };
      /* tslint:enable */
    };

    var URL_VALIDATOR = {
      provide: _angular_forms__WEBPACK_IMPORTED_MODULE_2__["NG_VALIDATORS"],
      useExisting: Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["forwardRef"])(function () {
        return UrlValidator;
      }),
      multi: true
    };

    var UrlValidator = /*#__PURE__*/function () {
      function UrlValidator() {
        _classCallCheck(this, UrlValidator);
      }

      _createClass(UrlValidator, [{
        key: "validate",
        value: function validate(c) {
          return url(c);
        }
      }]);

      return UrlValidator;
    }();

    UrlValidator.ɵfac = function UrlValidator_Factory(t) {
      return new (t || UrlValidator)();
    };

    UrlValidator.ɵdir = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: UrlValidator,
      selectors: [["", "url", "", "formControlName", ""], ["", "url", "", "formControl", ""], ["", "url", "", "ngModel", ""]],
      features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵProvidersFeature"]([URL_VALIDATOR])]
    });
    var uuids = {
      '3': /^[0-9A-F]{8}-[0-9A-F]{4}-3[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,
      '4': /^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,
      '5': /^[0-9A-F]{8}-[0-9A-F]{4}-5[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,
      'all': /^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i
    };

    var uuid = function uuid(version) {
      return function (control) {
        if (isPresent(_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required(control))) {
          return null;
        }

        var v = control.value;
        var pattern = uuids[version] || uuids.all;
        return new RegExp(pattern).test(v) ? null : {
          uuid: true
        };
      };
    };

    var UUID_VALIDATOR = {
      provide: _angular_forms__WEBPACK_IMPORTED_MODULE_2__["NG_VALIDATORS"],
      useExisting: Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["forwardRef"])(function () {
        return UUIDValidator;
      }),
      multi: true
    };

    var UUIDValidator = /*#__PURE__*/function () {
      function UUIDValidator() {
        _classCallCheck(this, UUIDValidator);
      }

      _createClass(UUIDValidator, [{
        key: "ngOnInit",
        value: function ngOnInit() {
          this.validator = uuid(this.uuid);
        }
      }, {
        key: "ngOnChanges",
        value: function ngOnChanges(changes) {
          for (var key in changes) {
            if (key === 'uuid') {
              this.validator = uuid(changes[key].currentValue);

              if (this.onChange) {
                this.onChange();
              }
            }
          }
        }
      }, {
        key: "validate",
        value: function validate(c) {
          return this.validator(c);
        }
      }, {
        key: "registerOnValidatorChange",
        value: function registerOnValidatorChange(fn) {
          this.onChange = fn;
        }
      }]);

      return UUIDValidator;
    }();

    UUIDValidator.ɵfac = function UUIDValidator_Factory(t) {
      return new (t || UUIDValidator)();
    };

    UUIDValidator.ɵdir = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: UUIDValidator,
      selectors: [["", "uuid", "", "formControlName", ""], ["", "uuid", "", "formControl", ""], ["", "uuid", "", "ngModel", ""]],
      inputs: {
        uuid: "uuid"
      },
      features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵProvidersFeature"]([UUID_VALIDATOR]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵNgOnChangesFeature"]]
    });
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])()], UUIDValidator.prototype, "uuid", void 0);
    var CustomValidators = {
      arrayLength: arrayLength,
      base64: base64,
      creditCard: creditCard,
      date: date,
      dateISO: dateISO,
      digits: digits,
      email: email,
      equal: equal,
      equalTo: equalTo,
      gt: gt,
      gte: gte,
      json: json,
      lt: lt,
      lte: lte,
      max: max,
      maxDate: maxDate,
      min: min,
      minDate: minDate,
      notEqual: notEqual,
      notEqualTo: notEqualTo,
      number: number,
      property: property,
      range: range,
      rangeLength: rangeLength,
      url: url,
      uuid: uuid
    };
    var CustomDirectives = [ArrayLengthValidator, Base64Validator, CreditCardValidator, DateValidator, DateISOValidator, DigitsValidator, EmailValidator, EqualValidator, EqualToValidator, GreaterThanValidator, GreaterThanEqualValidator, JSONValidator, LessThanValidator, LessThanEqualValidator, MaxValidator, MaxDateValidator, MinValidator, MinDateValidator, NotEqualValidator, NotEqualToValidator, NumberValidator, PropertyValidator, RangeValidator, RangeLengthValidator, UrlValidator, UUIDValidator];

    var CustomFormsModule = function CustomFormsModule() {
      _classCallCheck(this, CustomFormsModule);
    };

    CustomFormsModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineNgModule"]({
      type: CustomFormsModule
    });
    CustomFormsModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjector"]({
      factory: function CustomFormsModule_Factory(t) {
        return new (t || CustomFormsModule)();
      }
    });
    /*@__PURE__*/

    (function () {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](ArrayLengthValidator, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Directive"],
        args: [{
          selector: '[arrayLength][formControlName],[arrayLength][formControl],[arrayLength][ngModel]',
          providers: [ARRAY_LENGTH_VALIDATOR]
        }]
      }], null, {
        arrayLength: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"]
        }]
      });
    })();
    /*@__PURE__*/


    (function () {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](Base64Validator, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Directive"],
        args: [{
          selector: '[base64][formControlName],[base64][formControl],[base64][ngModel]',
          providers: [BASE64_VALIDATOR]
        }]
      }], null, null);
    })();
    /*@__PURE__*/


    (function () {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](CreditCardValidator, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Directive"],
        args: [{
          selector: '[creditCard][formControlName],[creditCard][formControl],[creditCard][ngModel]',
          providers: [CREDIT_CARD_VALIDATOR]
        }]
      }], null, null);
    })();
    /*@__PURE__*/


    (function () {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](DateISOValidator, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Directive"],
        args: [{
          selector: '[dateISO][formControlName],[dateISO][formControl],[dateISO][ngModel]',
          providers: [DATE_ISO_VALIDATOR]
        }]
      }], null, null);
    })();
    /*@__PURE__*/


    (function () {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](DateValidator, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Directive"],
        args: [{
          selector: '[date][formControlName],[date][formControl],[date][ngModel]',
          providers: [DATE_VALIDATOR]
        }]
      }], null, null);
    })();
    /*@__PURE__*/


    (function () {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](DigitsValidator, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Directive"],
        args: [{
          selector: '[digits][formControlName],[digits][formControl],[digits][ngModel]',
          providers: [DIGITS_VALIDATOR]
        }]
      }], null, null);
    })();
    /*@__PURE__*/


    (function () {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](EmailValidator, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Directive"],
        args: [{
          selector: '[ngvemail][formControlName],[ngvemail][formControl],[ngvemail][ngModel]',
          providers: [EMAIL_VALIDATOR]
        }]
      }], null, null);
    })();
    /*@__PURE__*/


    (function () {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](EqualToValidator, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Directive"],
        args: [{
          selector: '[equalTo][formControlName],[equalTo][formControl],[equalTo][ngModel]',
          providers: [EQUAL_TO_VALIDATOR]
        }]
      }], null, {
        equalTo: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"]
        }]
      });
    })();
    /*@__PURE__*/


    (function () {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](EqualValidator, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Directive"],
        args: [{
          selector: '[equal][formControlName],[equal][formControl],[equal][ngModel]',
          providers: [EQUAL_VALIDATOR]
        }]
      }], null, {
        equal: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"]
        }]
      });
    })();
    /*@__PURE__*/


    (function () {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](GreaterThanEqualValidator, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Directive"],
        args: [{
          selector: '[gte][formControlName],[gte][formControl],[gte][ngModel]',
          providers: [GREATER_THAN_EQUAL_VALIDATOR]
        }]
      }], null, {
        gte: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"]
        }]
      });
    })();
    /*@__PURE__*/


    (function () {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](GreaterThanValidator, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Directive"],
        args: [{
          selector: '[gt][formControlName],[gt][formControl],[gt][ngModel]',
          providers: [GREATER_THAN_VALIDATOR]
        }]
      }], null, {
        gt: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"]
        }]
      });
    })();
    /*@__PURE__*/


    (function () {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](JSONValidator, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Directive"],
        args: [{
          selector: '[json][formControlName],[json][formControl],[json][ngModel]',
          providers: [JSON_VALIDATOR]
        }]
      }], null, null);
    })();
    /*@__PURE__*/


    (function () {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](LessThanEqualValidator, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Directive"],
        args: [{
          selector: '[lte][formControlName],[lte][formControl],[lte][ngModel]',
          providers: [LESS_THAN_EQUAL_VALIDATOR]
        }]
      }], null, {
        lte: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"]
        }]
      });
    })();
    /*@__PURE__*/


    (function () {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](LessThanValidator, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Directive"],
        args: [{
          selector: '[lt][formControlName],[lt][formControl],[lt][ngModel]',
          providers: [LESS_THAN_VALIDATOR]
        }]
      }], null, {
        lt: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"]
        }]
      });
    })();
    /*@__PURE__*/


    (function () {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](MaxDateValidator, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Directive"],
        args: [{
          selector: '[maxDate][formControlName],[maxDate][formControl],[maxDate][ngModel]',
          providers: [MAX_DATE_VALIDATOR]
        }]
      }], null, {
        maxDate: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"]
        }]
      });
    })();
    /*@__PURE__*/


    (function () {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](MaxValidator, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Directive"],
        args: [{
          selector: '[max][formControlName],[max][formControl],[max][ngModel]',
          providers: [MAX_VALIDATOR]
        }]
      }], null, {
        max: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"]
        }]
      });
    })();
    /*@__PURE__*/


    (function () {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](MinDateValidator, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Directive"],
        args: [{
          selector: '[minDate][formControlName],[minDate][formControl],[minDate][ngModel]',
          providers: [MIN_DATE_VALIDATOR]
        }]
      }], null, {
        minDate: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"]
        }]
      });
    })();
    /*@__PURE__*/


    (function () {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](MinValidator, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Directive"],
        args: [{
          selector: '[min][formControlName],[min][formControl],[min][ngModel]',
          providers: [MIN_VALIDATOR]
        }]
      }], null, {
        min: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"]
        }]
      });
    })();
    /*@__PURE__*/


    (function () {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](NotEqualToValidator, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Directive"],
        args: [{
          selector: '[notEqualTo][formControlName],[notEqualTo][formControl],[notEqualTo][ngModel]',
          providers: [NOT_EQUAL_TO_VALIDATOR]
        }]
      }], null, {
        notEqualTo: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"]
        }]
      });
    })();
    /*@__PURE__*/


    (function () {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](NotEqualValidator, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Directive"],
        args: [{
          selector: '[notEqual][formControlName],[notEqual][formControl],[notEqual][ngModel]',
          providers: [NOT_EQUAL_VALIDATOR]
        }]
      }], null, {
        notEqual: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"]
        }]
      });
    })();
    /*@__PURE__*/


    (function () {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](NumberValidator, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Directive"],
        args: [{
          selector: '[number][formControlName],[number][formControl],[number][ngModel]',
          providers: [NUMBER_VALIDATOR]
        }]
      }], null, null);
    })();
    /*@__PURE__*/


    (function () {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](PropertyValidator, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Directive"],
        args: [{
          selector: '[property][formControlName],[property][formControl],[property][ngModel]',
          providers: [PROPERTY_VALIDATOR]
        }]
      }], null, {
        property: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"]
        }]
      });
    })();
    /*@__PURE__*/


    (function () {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](RangeLengthValidator, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Directive"],
        args: [{
          selector: '[rangeLength][formControlName],[rangeLength][formControl],[rangeLength][ngModel]',
          providers: [RANGE_LENGTH_VALIDATOR]
        }]
      }], null, {
        rangeLength: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"]
        }]
      });
    })();
    /*@__PURE__*/


    (function () {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](RangeValidator, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Directive"],
        args: [{
          selector: '[range][formControlName],[range][formControl],[range][ngModel]',
          providers: [RANGE_VALIDATOR]
        }]
      }], null, {
        range: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"]
        }]
      });
    })();
    /*@__PURE__*/


    (function () {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](UrlValidator, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Directive"],
        args: [{
          selector: '[url][formControlName],[url][formControl],[url][ngModel]',
          providers: [URL_VALIDATOR]
        }]
      }], null, null);
    })();
    /*@__PURE__*/


    (function () {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](UUIDValidator, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Directive"],
        args: [{
          selector: '[uuid][formControlName],[uuid][formControl],[uuid][ngModel]',
          providers: [UUID_VALIDATOR]
        }]
      }], null, {
        uuid: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"]
        }]
      });
    })();

    (function () {
      (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵsetNgModuleScope"](CustomFormsModule, {
        declarations: [ArrayLengthValidator, Base64Validator, CreditCardValidator, DateValidator, DateISOValidator, DigitsValidator, EmailValidator, EqualValidator, EqualToValidator, GreaterThanValidator, GreaterThanEqualValidator, JSONValidator, LessThanValidator, LessThanEqualValidator, MaxValidator, MaxDateValidator, MinValidator, MinDateValidator, NotEqualValidator, NotEqualToValidator, NumberValidator, PropertyValidator, RangeValidator, RangeLengthValidator, UrlValidator, UUIDValidator],
        exports: [ArrayLengthValidator, Base64Validator, CreditCardValidator, DateValidator, DateISOValidator, DigitsValidator, EmailValidator, EqualValidator, EqualToValidator, GreaterThanValidator, GreaterThanEqualValidator, JSONValidator, LessThanValidator, LessThanEqualValidator, MaxValidator, MaxDateValidator, MinValidator, MinDateValidator, NotEqualValidator, NotEqualToValidator, NumberValidator, PropertyValidator, RangeValidator, RangeLengthValidator, UrlValidator, UUIDValidator]
      });
    })();
    /*@__PURE__*/


    (function () {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](CustomFormsModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"],
        args: [{
          declarations: [CustomDirectives],
          exports: [CustomDirectives]
        }]
      }], null, null);
    })();
    /**
     * Generated bundle index. Do not edit.
     */
    //# sourceMappingURL=ngx-custom-validators.js.map

    /***/

  },

  /***/
  "./node_modules/raw-loader/dist/cjs.js!./src/app/form/form-elements/form-elements.component.html":
  /*!*******************************************************************************************************!*\
    !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/form/form-elements/form-elements.component.html ***!
    \*******************************************************************************************************/

  /*! exports provided: default */

  /***/
  function node_modulesRawLoaderDistCjsJsSrcAppFormFormElementsFormElementsComponentHtml(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony default export */


    __webpack_exports__["default"] = "<div class=\"az-content\">\n  <div class=\"container\">\n    <app-components-sidebar></app-components-sidebar>\n    <div class=\"az-content-body pd-lg-l-40 d-flex flex-column\">\n      <div class=\"az-content-breadcrumb\">\n        <span>Components</span>\n        <span>Forms</span>\n        <span>Form Elements</span>\n      </div>\n      <h2 class=\"az-content-title\">Form Elements</h2>\n\n      <div class=\"az-content-label mg-b-5\">Form Input &amp; Textarea</div>\n      <p class=\"mg-b-20\">A basic form control input and textarea with disabled and readonly mode.</p>\n\n      <div class=\"row row-sm\"> \n        <div class=\"col-lg\">\n          <input class=\"form-control\" placeholder=\"Input box\" type=\"text\">\n        </div><!-- col -->\n        <div class=\"col-lg mg-t-10 mg-lg-t-0\">\n          <input class=\"form-control\" placeholder=\"Input box (readonly)\" readonly=\"\" type=\"text\">\n        </div><!-- col -->\n        <div class=\"col-lg mg-t-10 mg-lg-t-0\">\n          <input class=\"form-control\" placeholder=\"Input box (disabled)\" disabled=\"\" type=\"text\">\n        </div><!-- col -->\n      </div><!-- row -->\n\n      <div class=\"row row-sm mg-t-20\">\n        <div class=\"col-lg\">\n          <textarea rows=\"3\" class=\"form-control\" placeholder=\"Textarea\"></textarea>\n        </div><!-- col -->\n        <div class=\"col-lg mg-t-10 mg-lg-t-0\">\n          <textarea rows=\"3\" class=\"form-control\" placeholder=\"Textarea (readonly)\" readonly></textarea>\n        </div><!-- col -->\n        <div class=\"col-lg mg-t-10 mg-lg-t-0\">\n          <textarea rows=\"3\" class=\"form-control\" placeholder=\"Texarea (disabled)\" disabled></textarea>\n        </div><!-- col -->\n      </div><!-- row -->\n\n      <hr class=\"mg-y-30\">\n\n      <div class=\"az-content-label mg-b-5\">Valid State Input</div>\n      <p class=\"mg-b-20\">A form control with success, warning and error state.</p>\n\n      <form class=\"needs-validation was-validated\">\n        <div class=\"row row-sm\">\n          <div class=\"col-lg-4\">\n            <div class=\"form-group has-success mg-b-0\">\n              <input class=\"form-control\" placeholder=\"Input box (success state)\" value=\"This is input\" required type=\"text\">\n              <textarea rows=\"3\" class=\"form-control mg-t-20\" placeholder=\"Textarea (success state)\" required>This is textarea</textarea>\n            </div><!-- form-group -->\n          </div><!-- col -->\n          <div class=\"col-lg-4 mg-t-20 mg-lg-t-0\">\n            <div class=\"form-group has-danger mg-b-0\">\n              <input class=\"form-control\" placeholder=\"Input box (invalid state)\" type=\"text\" required>\n              <textarea rows=\"3\" class=\"form-control mg-t-20\" placeholder=\"Textarea (invalid state)\" required></textarea>\n            </div><!-- form-group -->\n          </div><!-- col -->\n        </div><!-- row -->\n      </form>\n\n      <hr class=\"mg-y-30\">\n\n      <div class=\"az-content-label mg-b-5\">Custom Checkboxes &amp; Radios</div>\n      <p class=\"mg-b-20\">A custom styled checkboxes and radios.</p>\n\n      <div class=\"row\">\n        <div class=\"col-lg-3\">\n          <label class=\"ckbox\">\n            <input type=\"checkbox\"><span>Checkbox Unchecked</span>\n          </label>\n        </div><!-- col-3 -->\n        <div class=\"col-lg-3 mg-t-20 mg-lg-t-0\">\n          <label class=\"ckbox\">\n            <input type=\"checkbox\" checked><span>Checkbox Checked</span>\n          </label>\n        </div><!-- col-3 -->\n        <div class=\"col-lg-3 mg-t-20 mg-lg-t-0\">\n          <label class=\"ckbox\">\n            <input type=\"checkbox\" disabled><span>Checkbox Disabled</span>\n          </label>\n        </div><!-- col-3 -->\n      </div><!-- row -->\n\n      <div class=\"row mg-t-10\">\n        <div class=\"col-lg-3\">\n          <label class=\"rdiobox\">\n            <input name=\"rdio\" type=\"radio\">\n            <span>Radio Unchecked</span>\n          </label>\n        </div><!-- col-3 -->\n        <div class=\"col-lg-3 mg-t-20 mg-lg-t-0\">\n          <label class=\"rdiobox\">\n            <input name=\"rdio\" type=\"radio\" checked>\n            <span>Radio Checked</span>\n          </label>\n        </div><!-- col-3 -->\n        <div class=\"col-lg-3 mg-t-20 mg-lg-t-0\">\n          <label class=\"rdiobox\">\n            <input name=\"rdio\" type=\"radio\" disabled>\n            <span>Radio Disabled</span>\n          </label>\n        </div><!-- col-3 -->\n      </div><!-- row -->\n\n      <hr class=\"mg-y-30\">\n\n      <div class=\"az-content-label mg-b-5\">File Browser</div>\n      <p class=\"mg-b-20\">A custom styled file browser.</p>\n\n      <div class=\"row row-sm\">\n        <div class=\"col-sm-7 col-md-6 col-lg-4\">\n          <div class=\"custom-file\">\n            <input type=\"file\" class=\"custom-file-input\" id=\"customFile\">\n            <label class=\"custom-file-label\" for=\"customFile\">Choose file</label>\n          </div>\n        </div><!-- col -->\n      </div><!-- row -->\n\n      <hr class=\"mg-y-30\">\n\n      <div class=\"az-content-label mg-b-5\">Toggle Switches</div>\n      <p class=\"mg-b-20\">A custom made toggles with jquery support.</p>\n\n      <div class=\"az-toggle-group-demo\">\n        <div class=\"az-toggle\" (click)=\"switch1=!switch1\" [ngClass]=\"switch1 ? 'on' : null\"><span></span></div>\n        <div class=\"az-toggle az-toggle-secondary\" (click)=\"switch2=!switch2\" [ngClass]=\"switch2 ? 'on' : null\"><span></span></div>\n        <div class=\"az-toggle az-toggle-success\" (click)=\"switch3=!switch3\" [ngClass]=\"switch3 ? 'on' : null\"><span></span></div>\n        <div class=\"az-toggle az-toggle-dark\" (click)=\"switch4=!switch4\" [ngClass]=\"switch4 ? 'on' : null\"><span></span></div>\n      </div>\n\n      <div class=\"az-toggle-group-demo mg-t-10\">\n        <div class=\"az-toggle\" (click)=\"switch5=!switch5\" [ngClass]=\"switch5 ? null : 'on' \"><span></span></div>\n        <div class=\"az-toggle az-toggle-secondary\" (click)=\"switch6=!switch6\" [ngClass]=\"switch6 ? null : 'on' \"><span></span></div>\n        <div class=\"az-toggle az-toggle-success\" (click)=\"switch7=!switch7\" [ngClass]=\"switch7 ? null : 'on' \"><span></span></div>\n        <div class=\"az-toggle az-toggle-dark\" (click)=\"switch8=!switch8\" [ngClass]=\"switch8 ? null : 'on' \"><span></span></div>\n      </div>\n\n      <table class=\"table az-table-reference\">\n        <thead>\n          <tr>\n            <th class=\"wd-40p\">Class Reference</th>\n            <th class=\"wd-60p\">Values</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr>\n            <td><code class=\"pd-0 bg-transparent\">class=\"az-toggle az-toggle-[value]\"</code></td>\n            <td>secondary | success | dark</td>\n          </tr>\n        </tbody>\n      </table>\n\n      <hr class=\"mg-y-30\">\n\n      <div class=\"az-content-label mg-b-5\">Input Groups</div>\n      <p class=\"mg-b-20\">Easily extend form controls by adding text, buttons, or button groups on either side of textual inputs.</p>\n\n      <div class=\"row row-sm\">\n        <div class=\"col-lg-4\">\n          <div class=\"input-group mb-3\">\n            <div class=\"input-group-prepend\">\n              <span class=\"input-group-text\" id=\"basic-addon1\">@</span>\n            </div>\n            <input type=\"text\" class=\"form-control\" placeholder=\"Username\" aria-label=\"Username\" aria-describedby=\"basic-addon1\">\n          </div><!-- input-group -->\n        </div><!-- col -->\n        <div class=\"col-lg-4\">\n          <div class=\"input-group mb-3\">\n            <input type=\"text\" class=\"form-control\" placeholder=\"Recipient's username\" aria-label=\"Recipient's username\" aria-describedby=\"basic-addon2\">\n            <div class=\"input-group-append\">\n              <span class=\"input-group-text\" id=\"basic-addon2\">@example.com</span>\n            </div>\n          </div>\n        </div><!-- col -->\n        <div class=\"col-lg-4\">\n          <div class=\"input-group mb-3\">\n            <div class=\"input-group-prepend\">\n              <span class=\"input-group-text\">$</span>\n            </div>\n            <input type=\"text\" class=\"form-control\" aria-label=\"Amount (to the nearest dollar)\">\n            <div class=\"input-group-append\">\n              <span class=\"input-group-text\">.00</span>\n            </div>\n          </div><!-- input-group -->\n        </div><!-- col -->\n      </div><!-- row -->\n\n      <div class=\"row row-sm\">\n        <div class=\"col-lg-4\">\n          <div class=\"input-group\">\n            <div class=\"input-group-prepend\">\n              <div class=\"input-group-text\">\n                <label class=\"ckbox wd-16 mg-b-0\">\n                  <input type=\"checkbox\" class=\"mg-0\"><span></span>\n                </label>\n              </div>\n            </div>\n            <input type=\"text\" class=\"form-control\" placeholder=\"Text input with checkbox\">\n          </div><!-- input-group -->\n        </div><!-- col-4 -->\n        <div class=\"col-lg-4 mg-t-20 mg-lg-t-0\">\n          <div class=\"input-group\">\n            <div class=\"input-group-prepend\">\n              <div class=\"input-group-text\">\n                <label class=\"rdiobox wd-16 mg-b-0\">\n                  <input type=\"radio\"><span></span>\n                </label>\n              </div>\n            </div>\n            <input type=\"text\" class=\"form-control\" placeholder=\"Text input with radiobox\">\n          </div><!-- input-group -->\n        </div><!-- col-4 -->\n        <div class=\"col-lg-4 mg-t-20 mg-lg-t-0\">\n          <div class=\"input-group\">\n            <input type=\"text\" class=\"form-control\" placeholder=\"Search for...\">\n            <span class=\"input-group-btn\">\n              <button class=\"btn btn-primary\" type=\"button\"><i class=\"fa fa-search\"></i></button>\n            </span>\n          </div><!-- input-group -->\n        </div><!-- col-4 -->\n      </div><!-- row -->\n\n      <hr class=\"mg-y-30\">\n\n      <div class=\"az-content-label mg-b-5\">Color Picker</div>\n      <p class=\"mg-b-20\">A simple component to select color in the same way you select color in Adobe Photoshop.</p>\n      <input [(colorPicker)]=\"color1\" \n        [style.background]=\"color1\" \n        class=\"wd-40\"\n        [cpCancelButton]=\"true\"\n        [cpCancelButtonClass]= \"'btn btn-primary btn-xs'\"\n        [cpOKButton]=\"true\"\n        [cpSaveClickOutside]=\"false\"\n        [cpOKButtonClass]= \"'btn btn-primary btn-xs'\"/>\n\n      <p class=\"mg-t-40 mg-b-10\">With preset colors:</p>\n      <input [(colorPicker)]=\"color2\" \n      [style.background]=\"color2\" \n      class=\"wd-40\"\n      [cpCancelButton]=\"true\"\n      [cpCancelButtonClass]= \"'btn btn-primary btn-xs'\"\n      [cpOKButton]=\"true\"\n      [cpSaveClickOutside]=\"false\"\n      [cpOKButtonClass]= \"'btn btn-primary btn-xs'\"\n      [cpPresetColors]=\"['#fff', '#000', '#2889e9', '#e920e9', '#fff500', 'rgb(236,64,64)']\"/>\n\n      <hr class=\"mg-y-30\">\n\n      <div class=\"az-content-label mg-b-5\">jQuery UI Date Picker</div>\n      <p class=\"mg-b-20\">The datepicker is tied to a standard form input field. Click on the input to open an interactive calendar in a small overlay. If a date is chosen, feedback is shown as the input's value.</p>\n\n      <div class=\"wd-200 mg-b-20\">\n        <div class=\"input-group\">\n          <div class=\"input-group-prepend\">\n            <div class=\"input-group-text\" (click)=\"d.toggle()\">\n              <i class=\"typcn typcn-calendar-outline tx-24 lh--9 op-6\"></i>\n            </div>\n          </div>\n          <input class=\"form-control\" placeholder=\"yyyy-mm-dd\"\n              name=\"dp\" ngbDatepicker #d=\"ngbDatepicker\" (click)=\"d.toggle()\">\n        </div>\n      </div><!-- wd-200 -->\n\n      <p>Set the numberOfMonths option to an integer of 2 or more to show multiple months in a single datepicker.</p>\n\n      <div class=\"wd-200 mg-b-20\">\n        <div class=\"input-group\">\n          <div class=\"input-group-prepend\">\n            <div class=\"input-group-text\" (click)=\"d2.toggle()\">\n              <i class=\"typcn typcn-calendar-outline tx-24 lh--9 op-6\"></i>\n            </div>\n          </div>\n          <input type=\"text\" class=\"form-control\" placeholder=\"MM/DD/YYYY\" name=\"dp\" [displayMonths]=\"displayMonths\" [navigation]=\"navigation\" [outsideDays]=\"outsideDays\"\n          [showWeekNumbers]=\"showWeekNumbers\" ngbDatepicker #d2=\"ngbDatepicker\" (click)=\"d2.toggle()\">\n        </div>\n      </div>\n\n      <p>Display the datepicker embedded in the page instead of in an overlay.</p>\n\n      <ngb-datepicker #dp (navigate)=\"date = $event.next\" [style.maxWidth]=\"'234px'\"></ngb-datepicker>\n\n      <hr class=\"mg-y-30\">\n\n      <div class=\"az-content-label mg-b-5\">Timepicker</div>\n      <p class=\"mg-b-20\">A simple component to select time.</p>\n\n      <div class=\"wd-250 mg-b-20\">\n        <ngb-timepicker [(ngModel)]=\"time\" [meridian]=\"meridian\"></ngb-timepicker>\n      </div>\n\n      <hr class=\"mg-y-30\">\n\n      <div class=\"az-content-label mg-b-5\">Select<span class=\"tx-sserif\">2</span> Box</div>\n      <p class=\"mg-b-20\">Select2 gives you a customizable select box with support for searching, tagging, remote data sets, infinite scrolling, and many other highly used options.</p>\n\n      <div class=\"row row-sm mg-b-20\">\n        <div class=\"col-lg-4\">\n          <p class=\"mg-b-10\">Single Select</p>\n          <ng-select [items]=\"variableName\"\n            bindLabel=\"name\"\n            autofocus\n            bindValue=\"id\"\n            [(ngModel)]=\"selectedPersonId\">\n          </ng-select>\n        </div><!-- col-4 -->\n        <div class=\"col-lg-4 mg-t-20 mg-lg-t-0\">\n          <p class=\"mg-b-10\">Multi Select</p>\n          <ng-select [items]=\"variableName\"\n            bindLabel=\"name\"\n            autofocus\n            bindValue=\"id\"\n            [(ngModel)]=\"selectedPersonIdDisabled\"\n            [disabled]=\"true\">\n          </ng-select>\n        </div><!-- col-4 -->\n        <div class=\"col-lg-4 mg-t-20 mg-lg-t-0\">\n          <p class=\"mg-b-10\">Multi Select</p>\n          <ng-select [items]=\"variableName\"\n            bindLabel=\"name\"\n            autofocus\n            bindValue=\"id\"\n            [(ngModel)]=\"selectedPersonIdMultiple\"\n            [multiple]=\"true\">\n          </ng-select>\n        </div><!-- col-4 -->\n      </div><!-- row -->\n\n\n      <div class=\"ht-40\"></div>\n\n    </div><!-- az-content-body -->\n  </div><!-- container -->\n</div><!-- az-content -->";
    /***/
  },

  /***/
  "./node_modules/tinymce/plugins/advlist/plugin.js":
  /*!********************************************************!*\
    !*** ./node_modules/tinymce/plugins/advlist/plugin.js ***!
    \********************************************************/

  /*! no static exports found */

  /***/
  function node_modulesTinymcePluginsAdvlistPluginJs(module, exports) {
    (function () {
      var advlist = function () {
        'use strict';

        var global = tinymce.util.Tools.resolve('tinymce.PluginManager');
        var global$1 = tinymce.util.Tools.resolve('tinymce.util.Tools');

        var applyListFormat = function applyListFormat(editor, listName, styleValue) {
          var cmd = listName === 'UL' ? 'InsertUnorderedList' : 'InsertOrderedList';
          editor.execCommand(cmd, false, styleValue === false ? null : {
            'list-style-type': styleValue
          });
        };

        var Actions = {
          applyListFormat: applyListFormat
        };

        var register = function register(editor) {
          editor.addCommand('ApplyUnorderedListStyle', function (ui, value) {
            Actions.applyListFormat(editor, 'UL', value['list-style-type']);
          });
          editor.addCommand('ApplyOrderedListStyle', function (ui, value) {
            Actions.applyListFormat(editor, 'OL', value['list-style-type']);
          });
        };

        var Commands = {
          register: register
        };

        var getNumberStyles = function getNumberStyles(editor) {
          var styles = editor.getParam('advlist_number_styles', 'default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman');
          return styles ? styles.split(/[ ,]/) : [];
        };

        var getBulletStyles = function getBulletStyles(editor) {
          var styles = editor.getParam('advlist_bullet_styles', 'default,circle,disc,square');
          return styles ? styles.split(/[ ,]/) : [];
        };

        var Settings = {
          getNumberStyles: getNumberStyles,
          getBulletStyles: getBulletStyles
        };

        var isChildOfBody = function isChildOfBody(editor, elm) {
          return editor.$.contains(editor.getBody(), elm);
        };

        var isTableCellNode = function isTableCellNode(node) {
          return node && /^(TH|TD)$/.test(node.nodeName);
        };

        var isListNode = function isListNode(editor) {
          return function (node) {
            return node && /^(OL|UL|DL)$/.test(node.nodeName) && isChildOfBody(editor, node);
          };
        };

        var getSelectedStyleType = function getSelectedStyleType(editor) {
          var listElm = editor.dom.getParent(editor.selection.getNode(), 'ol,ul');
          return editor.dom.getStyle(listElm, 'listStyleType') || '';
        };

        var ListUtils = {
          isTableCellNode: isTableCellNode,
          isListNode: isListNode,
          getSelectedStyleType: getSelectedStyleType
        };

        var styleValueToText = function styleValueToText(styleValue) {
          return styleValue.replace(/\-/g, ' ').replace(/\b\w/g, function (chr) {
            return chr.toUpperCase();
          });
        };

        var toMenuItems = function toMenuItems(styles) {
          return global$1.map(styles, function (styleValue) {
            var text = styleValueToText(styleValue);
            var data = styleValue === 'default' ? '' : styleValue;
            return {
              text: text,
              data: data
            };
          });
        };

        var ListStyles = {
          toMenuItems: toMenuItems
        };

        var findIndex = function findIndex(list, predicate) {
          for (var index = 0; index < list.length; index++) {
            var element = list[index];

            if (predicate(element)) {
              return index;
            }
          }

          return -1;
        };

        var listState = function listState(editor, listName) {
          return function (e) {
            var ctrl = e.control;
            editor.on('NodeChange', function (e) {
              var tableCellIndex = findIndex(e.parents, ListUtils.isTableCellNode);
              var parents = tableCellIndex !== -1 ? e.parents.slice(0, tableCellIndex) : e.parents;
              var lists = global$1.grep(parents, ListUtils.isListNode(editor));
              ctrl.active(lists.length > 0 && lists[0].nodeName === listName);
            });
          };
        };

        var updateSelection = function updateSelection(editor) {
          return function (e) {
            var listStyleType = ListUtils.getSelectedStyleType(editor);
            e.control.items().each(function (ctrl) {
              ctrl.active(ctrl.settings.data === listStyleType);
            });
          };
        };

        var addSplitButton = function addSplitButton(editor, id, tooltip, cmd, nodeName, styles) {
          editor.addButton(id, {
            active: false,
            type: 'splitbutton',
            tooltip: tooltip,
            menu: ListStyles.toMenuItems(styles),
            onPostRender: listState(editor, nodeName),
            onshow: updateSelection(editor),
            onselect: function onselect(e) {
              Actions.applyListFormat(editor, nodeName, e.control.settings.data);
            },
            onclick: function onclick() {
              editor.execCommand(cmd);
            }
          });
        };

        var addButton = function addButton(editor, id, tooltip, cmd, nodeName, styles) {
          editor.addButton(id, {
            active: false,
            type: 'button',
            tooltip: tooltip,
            onPostRender: listState(editor, nodeName),
            onclick: function onclick() {
              editor.execCommand(cmd);
            }
          });
        };

        var addControl = function addControl(editor, id, tooltip, cmd, nodeName, styles) {
          if (styles.length > 0) {
            addSplitButton(editor, id, tooltip, cmd, nodeName, styles);
          } else {
            addButton(editor, id, tooltip, cmd, nodeName);
          }
        };

        var register$1 = function register$1(editor) {
          addControl(editor, 'numlist', 'Numbered list', 'InsertOrderedList', 'OL', Settings.getNumberStyles(editor));
          addControl(editor, 'bullist', 'Bullet list', 'InsertUnorderedList', 'UL', Settings.getBulletStyles(editor));
        };

        var Buttons = {
          register: register$1
        };
        global.add('advlist', function (editor) {
          var hasPlugin = function hasPlugin(editor, plugin) {
            var plugins = editor.settings.plugins ? editor.settings.plugins : '';
            return global$1.inArray(plugins.split(/[ ,]/), plugin) !== -1;
          };

          if (hasPlugin(editor, 'lists')) {
            Buttons.register(editor);
            Commands.register(editor);
          }
        });

        function Plugin() {}

        return Plugin;
      }();
    })();
    /***/

  },

  /***/
  "./node_modules/tinymce/plugins/autoresize/plugin.js":
  /*!***********************************************************!*\
    !*** ./node_modules/tinymce/plugins/autoresize/plugin.js ***!
    \***********************************************************/

  /*! no static exports found */

  /***/
  function node_modulesTinymcePluginsAutoresizePluginJs(module, exports) {
    (function () {
      var autoresize = function () {
        'use strict';

        var Cell = function Cell(initial) {
          var value = initial;

          var get = function get() {
            return value;
          };

          var set = function set(v) {
            value = v;
          };

          var clone = function clone() {
            return Cell(get());
          };

          return {
            get: get,
            set: set,
            clone: clone
          };
        };

        var global = tinymce.util.Tools.resolve('tinymce.PluginManager');
        var global$1 = tinymce.util.Tools.resolve('tinymce.Env');
        var global$2 = tinymce.util.Tools.resolve('tinymce.util.Delay');

        var getAutoResizeMinHeight = function getAutoResizeMinHeight(editor) {
          return parseInt(editor.getParam('autoresize_min_height', editor.getElement().offsetHeight), 10);
        };

        var getAutoResizeMaxHeight = function getAutoResizeMaxHeight(editor) {
          return parseInt(editor.getParam('autoresize_max_height', 0), 10);
        };

        var getAutoResizeOverflowPadding = function getAutoResizeOverflowPadding(editor) {
          return editor.getParam('autoresize_overflow_padding', 1);
        };

        var getAutoResizeBottomMargin = function getAutoResizeBottomMargin(editor) {
          return editor.getParam('autoresize_bottom_margin', 50);
        };

        var shouldAutoResizeOnInit = function shouldAutoResizeOnInit(editor) {
          return editor.getParam('autoresize_on_init', true);
        };

        var Settings = {
          getAutoResizeMinHeight: getAutoResizeMinHeight,
          getAutoResizeMaxHeight: getAutoResizeMaxHeight,
          getAutoResizeOverflowPadding: getAutoResizeOverflowPadding,
          getAutoResizeBottomMargin: getAutoResizeBottomMargin,
          shouldAutoResizeOnInit: shouldAutoResizeOnInit
        };

        var isFullscreen = function isFullscreen(editor) {
          return editor.plugins.fullscreen && editor.plugins.fullscreen.isFullscreen();
        };

        var wait = function wait(editor, oldSize, times, interval, callback) {
          global$2.setEditorTimeout(editor, function () {
            resize(editor, oldSize);

            if (times--) {
              wait(editor, oldSize, times, interval, callback);
            } else if (callback) {
              callback();
            }
          }, interval);
        };

        var toggleScrolling = function toggleScrolling(editor, state) {
          var body = editor.getBody();

          if (body) {
            body.style.overflowY = state ? '' : 'hidden';

            if (!state) {
              body.scrollTop = 0;
            }
          }
        };

        var resize = function resize(editor, oldSize) {
          var deltaSize, doc, body, resizeHeight, myHeight;
          var marginTop, marginBottom, paddingTop, paddingBottom, borderTop, borderBottom;
          var dom = editor.dom;
          doc = editor.getDoc();

          if (!doc) {
            return;
          }

          if (isFullscreen(editor)) {
            toggleScrolling(editor, true);
            return;
          }

          body = doc.body;
          resizeHeight = Settings.getAutoResizeMinHeight(editor);
          marginTop = dom.getStyle(body, 'margin-top', true);
          marginBottom = dom.getStyle(body, 'margin-bottom', true);
          paddingTop = dom.getStyle(body, 'padding-top', true);
          paddingBottom = dom.getStyle(body, 'padding-bottom', true);
          borderTop = dom.getStyle(body, 'border-top-width', true);
          borderBottom = dom.getStyle(body, 'border-bottom-width', true);
          myHeight = body.offsetHeight + parseInt(marginTop, 10) + parseInt(marginBottom, 10) + parseInt(paddingTop, 10) + parseInt(paddingBottom, 10) + parseInt(borderTop, 10) + parseInt(borderBottom, 10);

          if (isNaN(myHeight) || myHeight <= 0) {
            myHeight = global$1.ie ? body.scrollHeight : global$1.webkit && body.clientHeight === 0 ? 0 : body.offsetHeight;
          }

          if (myHeight > Settings.getAutoResizeMinHeight(editor)) {
            resizeHeight = myHeight;
          }

          var maxHeight = Settings.getAutoResizeMaxHeight(editor);

          if (maxHeight && myHeight > maxHeight) {
            resizeHeight = maxHeight;
            toggleScrolling(editor, true);
          } else {
            toggleScrolling(editor, false);
          }

          if (resizeHeight !== oldSize.get()) {
            deltaSize = resizeHeight - oldSize.get();
            dom.setStyle(editor.iframeElement, 'height', resizeHeight + 'px');
            oldSize.set(resizeHeight);

            if (global$1.webkit && deltaSize < 0) {
              resize(editor, oldSize);
            }
          }
        };

        var setup = function setup(editor, oldSize) {
          editor.on('init', function () {
            var overflowPadding, bottomMargin;
            var dom = editor.dom;
            overflowPadding = Settings.getAutoResizeOverflowPadding(editor);
            bottomMargin = Settings.getAutoResizeBottomMargin(editor);

            if (overflowPadding !== false) {
              dom.setStyles(editor.getBody(), {
                paddingLeft: overflowPadding,
                paddingRight: overflowPadding
              });
            }

            if (bottomMargin !== false) {
              dom.setStyles(editor.getBody(), {
                paddingBottom: bottomMargin
              });
            }
          });
          editor.on('nodechange setcontent keyup FullscreenStateChanged', function (e) {
            resize(editor, oldSize);
          });

          if (Settings.shouldAutoResizeOnInit(editor)) {
            editor.on('init', function () {
              wait(editor, oldSize, 20, 100, function () {
                wait(editor, oldSize, 5, 1000);
              });
            });
          }
        };

        var Resize = {
          setup: setup,
          resize: resize
        };

        var register = function register(editor, oldSize) {
          editor.addCommand('mceAutoResize', function () {
            Resize.resize(editor, oldSize);
          });
        };

        var Commands = {
          register: register
        };
        global.add('autoresize', function (editor) {
          if (!editor.inline) {
            var oldSize = Cell(0);
            Commands.register(editor, oldSize);
            Resize.setup(editor, oldSize);
          }
        });

        function Plugin() {}

        return Plugin;
      }();
    })();
    /***/

  },

  /***/
  "./node_modules/tinymce/plugins/code/plugin.js":
  /*!*****************************************************!*\
    !*** ./node_modules/tinymce/plugins/code/plugin.js ***!
    \*****************************************************/

  /*! no static exports found */

  /***/
  function node_modulesTinymcePluginsCodePluginJs(module, exports) {
    (function () {
      var code = function () {
        'use strict';

        var global = tinymce.util.Tools.resolve('tinymce.PluginManager');
        var global$1 = tinymce.util.Tools.resolve('tinymce.dom.DOMUtils');

        var getMinWidth = function getMinWidth(editor) {
          return editor.getParam('code_dialog_width', 600);
        };

        var getMinHeight = function getMinHeight(editor) {
          return editor.getParam('code_dialog_height', Math.min(global$1.DOM.getViewPort().h - 200, 500));
        };

        var Settings = {
          getMinWidth: getMinWidth,
          getMinHeight: getMinHeight
        };

        var setContent = function setContent(editor, html) {
          editor.focus();
          editor.undoManager.transact(function () {
            editor.setContent(html);
          });
          editor.selection.setCursorLocation();
          editor.nodeChanged();
        };

        var getContent = function getContent(editor) {
          return editor.getContent({
            source_view: true
          });
        };

        var Content = {
          setContent: setContent,
          getContent: getContent
        };

        var open = function open(editor) {
          var minWidth = Settings.getMinWidth(editor);
          var minHeight = Settings.getMinHeight(editor);
          var win = editor.windowManager.open({
            title: 'Source code',
            body: {
              type: 'textbox',
              name: 'code',
              multiline: true,
              minWidth: minWidth,
              minHeight: minHeight,
              spellcheck: false,
              style: 'direction: ltr; text-align: left'
            },
            onSubmit: function onSubmit(e) {
              Content.setContent(editor, e.data.code);
            }
          });
          win.find('#code').value(Content.getContent(editor));
        };

        var Dialog = {
          open: open
        };

        var register = function register(editor) {
          editor.addCommand('mceCodeEditor', function () {
            Dialog.open(editor);
          });
        };

        var Commands = {
          register: register
        };

        var register$1 = function register$1(editor) {
          editor.addButton('code', {
            icon: 'code',
            tooltip: 'Source code',
            onclick: function onclick() {
              Dialog.open(editor);
            }
          });
          editor.addMenuItem('code', {
            icon: 'code',
            text: 'Source code',
            onclick: function onclick() {
              Dialog.open(editor);
            }
          });
        };

        var Buttons = {
          register: register$1
        };
        global.add('code', function (editor) {
          Commands.register(editor);
          Buttons.register(editor);
          return {};
        });

        function Plugin() {}

        return Plugin;
      }();
    })();
    /***/

  },

  /***/
  "./node_modules/tinymce/plugins/link/plugin.js":
  /*!*****************************************************!*\
    !*** ./node_modules/tinymce/plugins/link/plugin.js ***!
    \*****************************************************/

  /*! no static exports found */

  /***/
  function node_modulesTinymcePluginsLinkPluginJs(module, exports) {
    (function () {
      var link = function (domGlobals) {
        'use strict';

        var global = tinymce.util.Tools.resolve('tinymce.PluginManager');
        var global$1 = tinymce.util.Tools.resolve('tinymce.util.VK');

        var assumeExternalTargets = function assumeExternalTargets(editorSettings) {
          return typeof editorSettings.link_assume_external_targets === 'boolean' ? editorSettings.link_assume_external_targets : false;
        };

        var hasContextToolbar = function hasContextToolbar(editorSettings) {
          return typeof editorSettings.link_context_toolbar === 'boolean' ? editorSettings.link_context_toolbar : false;
        };

        var getLinkList = function getLinkList(editorSettings) {
          return editorSettings.link_list;
        };

        var hasDefaultLinkTarget = function hasDefaultLinkTarget(editorSettings) {
          return typeof editorSettings.default_link_target === 'string';
        };

        var getDefaultLinkTarget = function getDefaultLinkTarget(editorSettings) {
          return editorSettings.default_link_target;
        };

        var getTargetList = function getTargetList(editorSettings) {
          return editorSettings.target_list;
        };

        var setTargetList = function setTargetList(editor, list) {
          editor.settings.target_list = list;
        };

        var shouldShowTargetList = function shouldShowTargetList(editorSettings) {
          return getTargetList(editorSettings) !== false;
        };

        var getRelList = function getRelList(editorSettings) {
          return editorSettings.rel_list;
        };

        var hasRelList = function hasRelList(editorSettings) {
          return getRelList(editorSettings) !== undefined;
        };

        var getLinkClassList = function getLinkClassList(editorSettings) {
          return editorSettings.link_class_list;
        };

        var hasLinkClassList = function hasLinkClassList(editorSettings) {
          return getLinkClassList(editorSettings) !== undefined;
        };

        var shouldShowLinkTitle = function shouldShowLinkTitle(editorSettings) {
          return editorSettings.link_title !== false;
        };

        var allowUnsafeLinkTarget = function allowUnsafeLinkTarget(editorSettings) {
          return typeof editorSettings.allow_unsafe_link_target === 'boolean' ? editorSettings.allow_unsafe_link_target : false;
        };

        var Settings = {
          assumeExternalTargets: assumeExternalTargets,
          hasContextToolbar: hasContextToolbar,
          getLinkList: getLinkList,
          hasDefaultLinkTarget: hasDefaultLinkTarget,
          getDefaultLinkTarget: getDefaultLinkTarget,
          getTargetList: getTargetList,
          setTargetList: setTargetList,
          shouldShowTargetList: shouldShowTargetList,
          getRelList: getRelList,
          hasRelList: hasRelList,
          getLinkClassList: getLinkClassList,
          hasLinkClassList: hasLinkClassList,
          shouldShowLinkTitle: shouldShowLinkTitle,
          allowUnsafeLinkTarget: allowUnsafeLinkTarget
        };
        var global$2 = tinymce.util.Tools.resolve('tinymce.dom.DOMUtils');
        var global$3 = tinymce.util.Tools.resolve('tinymce.Env');

        var appendClickRemove = function appendClickRemove(link, evt) {
          domGlobals.document.body.appendChild(link);
          link.dispatchEvent(evt);
          domGlobals.document.body.removeChild(link);
        };

        var open = function open(url) {
          if (!global$3.ie || global$3.ie > 10) {
            var link = domGlobals.document.createElement('a');
            link.target = '_blank';
            link.href = url;
            link.rel = 'noreferrer noopener';
            var evt = domGlobals.document.createEvent('MouseEvents');
            evt.initMouseEvent('click', true, true, domGlobals.window, 0, 0, 0, 0, 0, false, false, false, false, 0, null);
            appendClickRemove(link, evt);
          } else {
            var win = domGlobals.window.open('', '_blank');

            if (win) {
              win.opener = null;
              var doc = win.document;
              doc.open();
              doc.write('<meta http-equiv="refresh" content="0; url=' + global$2.DOM.encode(url) + '">');
              doc.close();
            }
          }
        };

        var OpenUrl = {
          open: open
        };
        var global$4 = tinymce.util.Tools.resolve('tinymce.util.Tools');

        var toggleTargetRules = function toggleTargetRules(rel, isUnsafe) {
          var rules = ['noopener'];
          var newRel = rel ? rel.split(/\s+/) : [];

          var toString = function toString(rel) {
            return global$4.trim(rel.sort().join(' '));
          };

          var addTargetRules = function addTargetRules(rel) {
            rel = removeTargetRules(rel);
            return rel.length ? rel.concat(rules) : rules;
          };

          var removeTargetRules = function removeTargetRules(rel) {
            return rel.filter(function (val) {
              return global$4.inArray(rules, val) === -1;
            });
          };

          newRel = isUnsafe ? addTargetRules(newRel) : removeTargetRules(newRel);
          return newRel.length ? toString(newRel) : null;
        };

        var trimCaretContainers = function trimCaretContainers(text) {
          return text.replace(/\uFEFF/g, '');
        };

        var getAnchorElement = function getAnchorElement(editor, selectedElm) {
          selectedElm = selectedElm || editor.selection.getNode();

          if (isImageFigure(selectedElm)) {
            return editor.dom.select('a[href]', selectedElm)[0];
          } else {
            return editor.dom.getParent(selectedElm, 'a[href]');
          }
        };

        var getAnchorText = function getAnchorText(selection, anchorElm) {
          var text = anchorElm ? anchorElm.innerText || anchorElm.textContent : selection.getContent({
            format: 'text'
          });
          return trimCaretContainers(text);
        };

        var isLink = function isLink(elm) {
          return elm && elm.nodeName === 'A' && elm.href;
        };

        var hasLinks = function hasLinks(elements) {
          return global$4.grep(elements, isLink).length > 0;
        };

        var isOnlyTextSelected = function isOnlyTextSelected(html) {
          if (/</.test(html) && (!/^<a [^>]+>[^<]+<\/a>$/.test(html) || html.indexOf('href=') === -1)) {
            return false;
          }

          return true;
        };

        var isImageFigure = function isImageFigure(node) {
          return node && node.nodeName === 'FIGURE' && /\bimage\b/i.test(node.className);
        };

        var link = function link(editor, attachState) {
          return function (data) {
            editor.undoManager.transact(function () {
              var selectedElm = editor.selection.getNode();
              var anchorElm = getAnchorElement(editor, selectedElm);
              var linkAttrs = {
                href: data.href,
                target: data.target ? data.target : null,
                rel: data.rel ? data.rel : null,
                "class": data["class"] ? data["class"] : null,
                title: data.title ? data.title : null
              };

              if (!Settings.hasRelList(editor.settings) && Settings.allowUnsafeLinkTarget(editor.settings) === false) {
                linkAttrs.rel = toggleTargetRules(linkAttrs.rel, linkAttrs.target === '_blank');
              }

              if (data.href === attachState.href) {
                attachState.attach();
                attachState = {};
              }

              if (anchorElm) {
                editor.focus();

                if (data.hasOwnProperty('text')) {
                  if ('innerText' in anchorElm) {
                    anchorElm.innerText = data.text;
                  } else {
                    anchorElm.textContent = data.text;
                  }
                }

                editor.dom.setAttribs(anchorElm, linkAttrs);
                editor.selection.select(anchorElm);
                editor.undoManager.add();
              } else {
                if (isImageFigure(selectedElm)) {
                  linkImageFigure(editor, selectedElm, linkAttrs);
                } else if (data.hasOwnProperty('text')) {
                  editor.insertContent(editor.dom.createHTML('a', linkAttrs, editor.dom.encode(data.text)));
                } else {
                  editor.execCommand('mceInsertLink', false, linkAttrs);
                }
              }
            });
          };
        };

        var unlink = function unlink(editor) {
          return function () {
            editor.undoManager.transact(function () {
              var node = editor.selection.getNode();

              if (isImageFigure(node)) {
                unlinkImageFigure(editor, node);
              } else {
                editor.execCommand('unlink');
              }
            });
          };
        };

        var unlinkImageFigure = function unlinkImageFigure(editor, fig) {
          var a, img;
          img = editor.dom.select('img', fig)[0];

          if (img) {
            a = editor.dom.getParents(img, 'a[href]', fig)[0];

            if (a) {
              a.parentNode.insertBefore(img, a);
              editor.dom.remove(a);
            }
          }
        };

        var linkImageFigure = function linkImageFigure(editor, fig, attrs) {
          var a, img;
          img = editor.dom.select('img', fig)[0];

          if (img) {
            a = editor.dom.create('a', attrs);
            img.parentNode.insertBefore(a, img);
            a.appendChild(img);
          }
        };

        var Utils = {
          link: link,
          unlink: unlink,
          isLink: isLink,
          hasLinks: hasLinks,
          isOnlyTextSelected: isOnlyTextSelected,
          getAnchorElement: getAnchorElement,
          getAnchorText: getAnchorText,
          toggleTargetRules: toggleTargetRules
        };
        var global$5 = tinymce.util.Tools.resolve('tinymce.util.Delay');
        var global$6 = tinymce.util.Tools.resolve('tinymce.util.XHR');
        var attachState = {};

        var createLinkList = function createLinkList(editor, callback) {
          var linkList = Settings.getLinkList(editor.settings);

          if (typeof linkList === 'string') {
            global$6.send({
              url: linkList,
              success: function success(text) {
                callback(editor, JSON.parse(text));
              }
            });
          } else if (typeof linkList === 'function') {
            linkList(function (list) {
              callback(editor, list);
            });
          } else {
            callback(editor, linkList);
          }
        };

        var buildListItems = function buildListItems(inputList, itemCallback, startItems) {
          var appendItems = function appendItems(values, output) {
            output = output || [];
            global$4.each(values, function (item) {
              var menuItem = {
                text: item.text || item.title
              };

              if (item.menu) {
                menuItem.menu = appendItems(item.menu);
              } else {
                menuItem.value = item.value;

                if (itemCallback) {
                  itemCallback(menuItem);
                }
              }

              output.push(menuItem);
            });
            return output;
          };

          return appendItems(inputList, startItems || []);
        };

        var delayedConfirm = function delayedConfirm(editor, message, callback) {
          var rng = editor.selection.getRng();
          global$5.setEditorTimeout(editor, function () {
            editor.windowManager.confirm(message, function (state) {
              editor.selection.setRng(rng);
              callback(state);
            });
          });
        };

        var showDialog = function showDialog(editor, linkList) {
          var data = {};
          var selection = editor.selection;
          var dom = editor.dom;
          var anchorElm, initialText;
          var win, onlyText, textListCtrl, linkListCtrl, relListCtrl, targetListCtrl, classListCtrl, linkTitleCtrl, value;

          var linkListChangeHandler = function linkListChangeHandler(e) {
            var textCtrl = win.find('#text');

            if (!textCtrl.value() || e.lastControl && textCtrl.value() === e.lastControl.text()) {
              textCtrl.value(e.control.text());
            }

            win.find('#href').value(e.control.value());
          };

          var buildAnchorListControl = function buildAnchorListControl(url) {
            var anchorList = [];
            global$4.each(editor.dom.select('a:not([href])'), function (anchor) {
              var id = anchor.name || anchor.id;

              if (id) {
                anchorList.push({
                  text: id,
                  value: '#' + id,
                  selected: url.indexOf('#' + id) !== -1
                });
              }
            });

            if (anchorList.length) {
              anchorList.unshift({
                text: 'None',
                value: ''
              });
              return {
                name: 'anchor',
                type: 'listbox',
                label: 'Anchors',
                values: anchorList,
                onselect: linkListChangeHandler
              };
            }
          };

          var updateText = function updateText() {
            if (!initialText && onlyText && !data.text) {
              this.parent().parent().find('#text')[0].value(this.value());
            }
          };

          var urlChange = function urlChange(e) {
            var meta = e.meta || {};

            if (linkListCtrl) {
              linkListCtrl.value(editor.convertURL(this.value(), 'href'));
            }

            global$4.each(e.meta, function (value, key) {
              var inp = win.find('#' + key);

              if (key === 'text') {
                if (initialText.length === 0) {
                  inp.value(value);
                  data.text = value;
                }
              } else {
                inp.value(value);
              }
            });

            if (meta.attach) {
              attachState = {
                href: this.value(),
                attach: meta.attach
              };
            }

            if (!meta.text) {
              updateText.call(this);
            }
          };

          var onBeforeCall = function onBeforeCall(e) {
            e.meta = win.toJSON();
          };

          onlyText = Utils.isOnlyTextSelected(selection.getContent());
          anchorElm = Utils.getAnchorElement(editor);
          data.text = initialText = Utils.getAnchorText(editor.selection, anchorElm);
          data.href = anchorElm ? dom.getAttrib(anchorElm, 'href') : '';

          if (anchorElm) {
            data.target = dom.getAttrib(anchorElm, 'target');
          } else if (Settings.hasDefaultLinkTarget(editor.settings)) {
            data.target = Settings.getDefaultLinkTarget(editor.settings);
          }

          if (value = dom.getAttrib(anchorElm, 'rel')) {
            data.rel = value;
          }

          if (value = dom.getAttrib(anchorElm, 'class')) {
            data["class"] = value;
          }

          if (value = dom.getAttrib(anchorElm, 'title')) {
            data.title = value;
          }

          if (onlyText) {
            textListCtrl = {
              name: 'text',
              type: 'textbox',
              size: 40,
              label: 'Text to display',
              onchange: function onchange() {
                data.text = this.value();
              }
            };
          }

          if (linkList) {
            linkListCtrl = {
              type: 'listbox',
              label: 'Link list',
              values: buildListItems(linkList, function (item) {
                item.value = editor.convertURL(item.value || item.url, 'href');
              }, [{
                text: 'None',
                value: ''
              }]),
              onselect: linkListChangeHandler,
              value: editor.convertURL(data.href, 'href'),
              onPostRender: function onPostRender() {
                linkListCtrl = this;
              }
            };
          }

          if (Settings.shouldShowTargetList(editor.settings)) {
            if (Settings.getTargetList(editor.settings) === undefined) {
              Settings.setTargetList(editor, [{
                text: 'None',
                value: ''
              }, {
                text: 'New window',
                value: '_blank'
              }]);
            }

            targetListCtrl = {
              name: 'target',
              type: 'listbox',
              label: 'Target',
              values: buildListItems(Settings.getTargetList(editor.settings))
            };
          }

          if (Settings.hasRelList(editor.settings)) {
            relListCtrl = {
              name: 'rel',
              type: 'listbox',
              label: 'Rel',
              values: buildListItems(Settings.getRelList(editor.settings), function (item) {
                if (Settings.allowUnsafeLinkTarget(editor.settings) === false) {
                  item.value = Utils.toggleTargetRules(item.value, data.target === '_blank');
                }
              })
            };
          }

          if (Settings.hasLinkClassList(editor.settings)) {
            classListCtrl = {
              name: 'class',
              type: 'listbox',
              label: 'Class',
              values: buildListItems(Settings.getLinkClassList(editor.settings), function (item) {
                if (item.value) {
                  item.textStyle = function () {
                    return editor.formatter.getCssText({
                      inline: 'a',
                      classes: [item.value]
                    });
                  };
                }
              })
            };
          }

          if (Settings.shouldShowLinkTitle(editor.settings)) {
            linkTitleCtrl = {
              name: 'title',
              type: 'textbox',
              label: 'Title',
              value: data.title
            };
          }

          win = editor.windowManager.open({
            title: 'Insert link',
            data: data,
            body: [{
              name: 'href',
              type: 'filepicker',
              filetype: 'file',
              size: 40,
              autofocus: true,
              label: 'Url',
              onchange: urlChange,
              onkeyup: updateText,
              onpaste: updateText,
              onbeforecall: onBeforeCall
            }, textListCtrl, linkTitleCtrl, buildAnchorListControl(data.href), linkListCtrl, relListCtrl, targetListCtrl, classListCtrl],
            onSubmit: function onSubmit(e) {
              var assumeExternalTargets = Settings.assumeExternalTargets(editor.settings);
              var insertLink = Utils.link(editor, attachState);
              var removeLink = Utils.unlink(editor);
              var resultData = global$4.extend({}, data, e.data);
              var href = resultData.href;

              if (!href) {
                removeLink();
                return;
              }

              if (!onlyText || resultData.text === initialText) {
                delete resultData.text;
              }

              if (href.indexOf('@') > 0 && href.indexOf('//') === -1 && href.indexOf('mailto:') === -1) {
                delayedConfirm(editor, 'The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?', function (state) {
                  if (state) {
                    resultData.href = 'mailto:' + href;
                  }

                  insertLink(resultData);
                });
                return;
              }

              if (assumeExternalTargets === true && !/^\w+:/i.test(href) || assumeExternalTargets === false && /^\s*www[\.|\d\.]/i.test(href)) {
                delayedConfirm(editor, 'The URL you entered seems to be an external link. Do you want to add the required http:// prefix?', function (state) {
                  if (state) {
                    resultData.href = 'http://' + href;
                  }

                  insertLink(resultData);
                });
                return;
              }

              insertLink(resultData);
            }
          });
        };

        var open$1 = function open$1(editor) {
          createLinkList(editor, showDialog);
        };

        var Dialog = {
          open: open$1
        };

        var getLink = function getLink(editor, elm) {
          return editor.dom.getParent(elm, 'a[href]');
        };

        var getSelectedLink = function getSelectedLink(editor) {
          return getLink(editor, editor.selection.getStart());
        };

        var getHref = function getHref(elm) {
          var href = elm.getAttribute('data-mce-href');
          return href ? href : elm.getAttribute('href');
        };

        var isContextMenuVisible = function isContextMenuVisible(editor) {
          var contextmenu = editor.plugins.contextmenu;
          return contextmenu ? contextmenu.isContextMenuVisible() : false;
        };

        var hasOnlyAltModifier = function hasOnlyAltModifier(e) {
          return e.altKey === true && e.shiftKey === false && e.ctrlKey === false && e.metaKey === false;
        };

        var gotoLink = function gotoLink(editor, a) {
          if (a) {
            var href = getHref(a);

            if (/^#/.test(href)) {
              var targetEl = editor.$(href);

              if (targetEl.length) {
                editor.selection.scrollIntoView(targetEl[0], true);
              }
            } else {
              OpenUrl.open(a.href);
            }
          }
        };

        var openDialog = function openDialog(editor) {
          return function () {
            Dialog.open(editor);
          };
        };

        var gotoSelectedLink = function gotoSelectedLink(editor) {
          return function () {
            gotoLink(editor, getSelectedLink(editor));
          };
        };

        var leftClickedOnAHref = function leftClickedOnAHref(editor) {
          return function (elm) {
            var sel, rng, node;

            if (Settings.hasContextToolbar(editor.settings) && !isContextMenuVisible(editor) && Utils.isLink(elm)) {
              sel = editor.selection;
              rng = sel.getRng();
              node = rng.startContainer;

              if (node.nodeType === 3 && sel.isCollapsed() && rng.startOffset > 0 && rng.startOffset < node.data.length) {
                return true;
              }
            }

            return false;
          };
        };

        var setupGotoLinks = function setupGotoLinks(editor) {
          editor.on('click', function (e) {
            var link = getLink(editor, e.target);

            if (link && global$1.metaKeyPressed(e)) {
              e.preventDefault();
              gotoLink(editor, link);
            }
          });
          editor.on('keydown', function (e) {
            var link = getSelectedLink(editor);

            if (link && e.keyCode === 13 && hasOnlyAltModifier(e)) {
              e.preventDefault();
              gotoLink(editor, link);
            }
          });
        };

        var toggleActiveState = function toggleActiveState(editor) {
          return function () {
            var self = this;
            editor.on('nodechange', function (e) {
              self.active(!editor.readonly && !!Utils.getAnchorElement(editor, e.element));
            });
          };
        };

        var toggleViewLinkState = function toggleViewLinkState(editor) {
          return function () {
            var self = this;

            var toggleVisibility = function toggleVisibility(e) {
              if (Utils.hasLinks(e.parents)) {
                self.show();
              } else {
                self.hide();
              }
            };

            if (!Utils.hasLinks(editor.dom.getParents(editor.selection.getStart()))) {
              self.hide();
            }

            editor.on('nodechange', toggleVisibility);
            self.on('remove', function () {
              editor.off('nodechange', toggleVisibility);
            });
          };
        };

        var Actions = {
          openDialog: openDialog,
          gotoSelectedLink: gotoSelectedLink,
          leftClickedOnAHref: leftClickedOnAHref,
          setupGotoLinks: setupGotoLinks,
          toggleActiveState: toggleActiveState,
          toggleViewLinkState: toggleViewLinkState
        };

        var register = function register(editor) {
          editor.addCommand('mceLink', Actions.openDialog(editor));
        };

        var Commands = {
          register: register
        };

        var setup = function setup(editor) {
          editor.addShortcut('Meta+K', '', Actions.openDialog(editor));
        };

        var Keyboard = {
          setup: setup
        };

        var setupButtons = function setupButtons(editor) {
          editor.addButton('link', {
            active: false,
            icon: 'link',
            tooltip: 'Insert/edit link',
            onclick: Actions.openDialog(editor),
            onpostrender: Actions.toggleActiveState(editor)
          });
          editor.addButton('unlink', {
            active: false,
            icon: 'unlink',
            tooltip: 'Remove link',
            onclick: Utils.unlink(editor),
            onpostrender: Actions.toggleActiveState(editor)
          });

          if (editor.addContextToolbar) {
            editor.addButton('openlink', {
              icon: 'newtab',
              tooltip: 'Open link',
              onclick: Actions.gotoSelectedLink(editor)
            });
          }
        };

        var setupMenuItems = function setupMenuItems(editor) {
          editor.addMenuItem('openlink', {
            text: 'Open link',
            icon: 'newtab',
            onclick: Actions.gotoSelectedLink(editor),
            onPostRender: Actions.toggleViewLinkState(editor),
            prependToContext: true
          });
          editor.addMenuItem('link', {
            icon: 'link',
            text: 'Link',
            shortcut: 'Meta+K',
            onclick: Actions.openDialog(editor),
            stateSelector: 'a[href]',
            context: 'insert',
            prependToContext: true
          });
          editor.addMenuItem('unlink', {
            icon: 'unlink',
            text: 'Remove link',
            onclick: Utils.unlink(editor),
            stateSelector: 'a[href]'
          });
        };

        var setupContextToolbars = function setupContextToolbars(editor) {
          if (editor.addContextToolbar) {
            editor.addContextToolbar(Actions.leftClickedOnAHref(editor), 'openlink | link unlink');
          }
        };

        var Controls = {
          setupButtons: setupButtons,
          setupMenuItems: setupMenuItems,
          setupContextToolbars: setupContextToolbars
        };
        global.add('link', function (editor) {
          Controls.setupButtons(editor);
          Controls.setupMenuItems(editor);
          Controls.setupContextToolbars(editor);
          Actions.setupGotoLinks(editor);
          Commands.register(editor);
          Keyboard.setup(editor);
        });

        function Plugin() {}

        return Plugin;
      }(window);
    })();
    /***/

  },

  /***/
  "./node_modules/tinymce/plugins/lists/plugin.js":
  /*!******************************************************!*\
    !*** ./node_modules/tinymce/plugins/lists/plugin.js ***!
    \******************************************************/

  /*! no static exports found */

  /***/
  function node_modulesTinymcePluginsListsPluginJs(module, exports) {
    (function () {
      var lists = function (domGlobals) {
        'use strict';

        var global = tinymce.util.Tools.resolve('tinymce.PluginManager');
        var global$1 = tinymce.util.Tools.resolve('tinymce.dom.RangeUtils');
        var global$2 = tinymce.util.Tools.resolve('tinymce.dom.TreeWalker');
        var global$3 = tinymce.util.Tools.resolve('tinymce.util.VK');
        var global$4 = tinymce.util.Tools.resolve('tinymce.dom.BookmarkManager');
        var global$5 = tinymce.util.Tools.resolve('tinymce.util.Tools');
        var global$6 = tinymce.util.Tools.resolve('tinymce.dom.DOMUtils');

        var isTextNode = function isTextNode(node) {
          return node && node.nodeType === 3;
        };

        var isListNode = function isListNode(node) {
          return node && /^(OL|UL|DL)$/.test(node.nodeName);
        };

        var isOlUlNode = function isOlUlNode(node) {
          return node && /^(OL|UL)$/.test(node.nodeName);
        };

        var isListItemNode = function isListItemNode(node) {
          return node && /^(LI|DT|DD)$/.test(node.nodeName);
        };

        var isDlItemNode = function isDlItemNode(node) {
          return node && /^(DT|DD)$/.test(node.nodeName);
        };

        var isTableCellNode = function isTableCellNode(node) {
          return node && /^(TH|TD)$/.test(node.nodeName);
        };

        var isBr = function isBr(node) {
          return node && node.nodeName === 'BR';
        };

        var isFirstChild = function isFirstChild(node) {
          return node.parentNode.firstChild === node;
        };

        var isLastChild = function isLastChild(node) {
          return node.parentNode.lastChild === node;
        };

        var isTextBlock = function isTextBlock(editor, node) {
          return node && !!editor.schema.getTextBlockElements()[node.nodeName];
        };

        var isBlock = function isBlock(node, blockElements) {
          return node && node.nodeName in blockElements;
        };

        var isBogusBr = function isBogusBr(dom, node) {
          if (!isBr(node)) {
            return false;
          }

          if (dom.isBlock(node.nextSibling) && !isBr(node.previousSibling)) {
            return true;
          }

          return false;
        };

        var isEmpty = function isEmpty(dom, elm, keepBookmarks) {
          var empty = dom.isEmpty(elm);

          if (keepBookmarks && dom.select('span[data-mce-type=bookmark]', elm).length > 0) {
            return false;
          }

          return empty;
        };

        var isChildOfBody = function isChildOfBody(dom, elm) {
          return dom.isChildOf(elm, dom.getRoot());
        };

        var NodeType = {
          isTextNode: isTextNode,
          isListNode: isListNode,
          isOlUlNode: isOlUlNode,
          isDlItemNode: isDlItemNode,
          isListItemNode: isListItemNode,
          isTableCellNode: isTableCellNode,
          isBr: isBr,
          isFirstChild: isFirstChild,
          isLastChild: isLastChild,
          isTextBlock: isTextBlock,
          isBlock: isBlock,
          isBogusBr: isBogusBr,
          isEmpty: isEmpty,
          isChildOfBody: isChildOfBody
        };

        var getNormalizedPoint = function getNormalizedPoint(container, offset) {
          if (NodeType.isTextNode(container)) {
            return {
              container: container,
              offset: offset
            };
          }

          var node = global$1.getNode(container, offset);

          if (NodeType.isTextNode(node)) {
            return {
              container: node,
              offset: offset >= container.childNodes.length ? node.data.length : 0
            };
          } else if (node.previousSibling && NodeType.isTextNode(node.previousSibling)) {
            return {
              container: node.previousSibling,
              offset: node.previousSibling.data.length
            };
          } else if (node.nextSibling && NodeType.isTextNode(node.nextSibling)) {
            return {
              container: node.nextSibling,
              offset: 0
            };
          }

          return {
            container: container,
            offset: offset
          };
        };

        var normalizeRange = function normalizeRange(rng) {
          var outRng = rng.cloneRange();
          var rangeStart = getNormalizedPoint(rng.startContainer, rng.startOffset);
          outRng.setStart(rangeStart.container, rangeStart.offset);
          var rangeEnd = getNormalizedPoint(rng.endContainer, rng.endOffset);
          outRng.setEnd(rangeEnd.container, rangeEnd.offset);
          return outRng;
        };

        var Range = {
          getNormalizedPoint: getNormalizedPoint,
          normalizeRange: normalizeRange
        };
        var DOM = global$6.DOM;

        var createBookmark = function createBookmark(rng) {
          var bookmark = {};

          var setupEndPoint = function setupEndPoint(start) {
            var offsetNode, container, offset;
            container = rng[start ? 'startContainer' : 'endContainer'];
            offset = rng[start ? 'startOffset' : 'endOffset'];

            if (container.nodeType === 1) {
              offsetNode = DOM.create('span', {
                'data-mce-type': 'bookmark'
              });

              if (container.hasChildNodes()) {
                offset = Math.min(offset, container.childNodes.length - 1);

                if (start) {
                  container.insertBefore(offsetNode, container.childNodes[offset]);
                } else {
                  DOM.insertAfter(offsetNode, container.childNodes[offset]);
                }
              } else {
                container.appendChild(offsetNode);
              }

              container = offsetNode;
              offset = 0;
            }

            bookmark[start ? 'startContainer' : 'endContainer'] = container;
            bookmark[start ? 'startOffset' : 'endOffset'] = offset;
          };

          setupEndPoint(true);

          if (!rng.collapsed) {
            setupEndPoint();
          }

          return bookmark;
        };

        var resolveBookmark = function resolveBookmark(bookmark) {
          function restoreEndPoint(start) {
            var container, offset, node;

            var nodeIndex = function nodeIndex(container) {
              var node = container.parentNode.firstChild,
                  idx = 0;

              while (node) {
                if (node === container) {
                  return idx;
                }

                if (node.nodeType !== 1 || node.getAttribute('data-mce-type') !== 'bookmark') {
                  idx++;
                }

                node = node.nextSibling;
              }

              return -1;
            };

            container = node = bookmark[start ? 'startContainer' : 'endContainer'];
            offset = bookmark[start ? 'startOffset' : 'endOffset'];

            if (!container) {
              return;
            }

            if (container.nodeType === 1) {
              offset = nodeIndex(container);
              container = container.parentNode;
              DOM.remove(node);

              if (!container.hasChildNodes() && DOM.isBlock(container)) {
                container.appendChild(DOM.create('br'));
              }
            }

            bookmark[start ? 'startContainer' : 'endContainer'] = container;
            bookmark[start ? 'startOffset' : 'endOffset'] = offset;
          }

          restoreEndPoint(true);
          restoreEndPoint();
          var rng = DOM.createRng();
          rng.setStart(bookmark.startContainer, bookmark.startOffset);

          if (bookmark.endContainer) {
            rng.setEnd(bookmark.endContainer, bookmark.endOffset);
          }

          return Range.normalizeRange(rng);
        };

        var Bookmark = {
          createBookmark: createBookmark,
          resolveBookmark: resolveBookmark
        };

        var constant = function constant(value) {
          return function () {
            return value;
          };
        };

        var not = function not(f) {
          return function () {
            var args = [];

            for (var _i = 0; _i < arguments.length; _i++) {
              args[_i] = arguments[_i];
            }

            return !f.apply(null, args);
          };
        };

        var never = constant(false);
        var always = constant(true);
        var never$1 = never;
        var always$1 = always;

        var none = function none() {
          return NONE;
        };

        var NONE = function () {
          var eq = function eq(o) {
            return o.isNone();
          };

          var call = function call(thunk) {
            return thunk();
          };

          var id = function id(n) {
            return n;
          };

          var noop = function noop() {};

          var nul = function nul() {
            return null;
          };

          var undef = function undef() {
            return undefined;
          };

          var me = {
            fold: function fold(n, s) {
              return n();
            },
            is: never$1,
            isSome: never$1,
            isNone: always$1,
            getOr: id,
            getOrThunk: call,
            getOrDie: function getOrDie(msg) {
              throw new Error(msg || 'error: getOrDie called on none.');
            },
            getOrNull: nul,
            getOrUndefined: undef,
            or: id,
            orThunk: call,
            map: none,
            ap: none,
            each: noop,
            bind: none,
            flatten: none,
            exists: never$1,
            forall: always$1,
            filter: none,
            equals: eq,
            equals_: eq,
            toArray: function toArray() {
              return [];
            },
            toString: constant('none()')
          };
          if (Object.freeze) Object.freeze(me);
          return me;
        }();

        var some = function some(a) {
          var constant_a = function constant_a() {
            return a;
          };

          var self = function self() {
            return me;
          };

          var map = function map(f) {
            return some(f(a));
          };

          var bind = function bind(f) {
            return f(a);
          };

          var me = {
            fold: function fold(n, s) {
              return s(a);
            },
            is: function is(v) {
              return a === v;
            },
            isSome: always$1,
            isNone: never$1,
            getOr: constant_a,
            getOrThunk: constant_a,
            getOrDie: constant_a,
            getOrNull: constant_a,
            getOrUndefined: constant_a,
            or: self,
            orThunk: self,
            map: map,
            ap: function ap(optfab) {
              return optfab.fold(none, function (fab) {
                return some(fab(a));
              });
            },
            each: function each(f) {
              f(a);
            },
            bind: bind,
            flatten: constant_a,
            exists: bind,
            forall: bind,
            filter: function filter(f) {
              return f(a) ? me : NONE;
            },
            equals: function equals(o) {
              return o.is(a);
            },
            equals_: function equals_(o, elementEq) {
              return o.fold(never$1, function (b) {
                return elementEq(a, b);
              });
            },
            toArray: function toArray() {
              return [a];
            },
            toString: function toString() {
              return 'some(' + a + ')';
            }
          };
          return me;
        };

        var from = function from(value) {
          return value === null || value === undefined ? NONE : some(value);
        };

        var Option = {
          some: some,
          none: none,
          from: from
        };

        var typeOf = function typeOf(x) {
          if (x === null) return 'null';
          var t = typeof x;
          if (t === 'object' && (Array.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'Array')) return 'array';
          if (t === 'object' && (String.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'String')) return 'string';
          return t;
        };

        var isType = function isType(type) {
          return function (value) {
            return typeOf(value) === type;
          };
        };

        var isString = isType('string');
        var isBoolean = isType('boolean');
        var isFunction = isType('function');
        var isNumber = isType('number');
        var slice = Array.prototype.slice;

        var map = function map(xs, f) {
          var len = xs.length;
          var r = new Array(len);

          for (var i = 0; i < len; i++) {
            var x = xs[i];
            r[i] = f(x, i, xs);
          }

          return r;
        };

        var each = function each(xs, f) {
          for (var i = 0, len = xs.length; i < len; i++) {
            var x = xs[i];
            f(x, i, xs);
          }
        };

        var filter = function filter(xs, pred) {
          var r = [];

          for (var i = 0, len = xs.length; i < len; i++) {
            var x = xs[i];

            if (pred(x, i, xs)) {
              r.push(x);
            }
          }

          return r;
        };

        var groupBy = function groupBy(xs, f) {
          if (xs.length === 0) {
            return [];
          } else {
            var wasType = f(xs[0]);
            var r = [];
            var group = [];

            for (var i = 0, len = xs.length; i < len; i++) {
              var x = xs[i];
              var type = f(x);

              if (type !== wasType) {
                r.push(group);
                group = [];
              }

              wasType = type;
              group.push(x);
            }

            if (group.length !== 0) {
              r.push(group);
            }

            return r;
          }
        };

        var foldl = function foldl(xs, f, acc) {
          each(xs, function (x) {
            acc = f(acc, x);
          });
          return acc;
        };

        var find = function find(xs, pred) {
          for (var i = 0, len = xs.length; i < len; i++) {
            var x = xs[i];

            if (pred(x, i, xs)) {
              return Option.some(x);
            }
          }

          return Option.none();
        };

        var push = Array.prototype.push;

        var flatten = function flatten(xs) {
          var r = [];

          for (var i = 0, len = xs.length; i < len; ++i) {
            if (!Array.prototype.isPrototypeOf(xs[i])) throw new Error('Arr.flatten item ' + i + ' was not an array, input: ' + xs);
            push.apply(r, xs[i]);
          }

          return r;
        };

        var bind = function bind(xs, f) {
          var output = map(xs, f);
          return flatten(output);
        };

        var reverse = function reverse(xs) {
          var r = slice.call(xs, 0);
          r.reverse();
          return r;
        };

        var head = function head(xs) {
          return xs.length === 0 ? Option.none() : Option.some(xs[0]);
        };

        var last = function last(xs) {
          return xs.length === 0 ? Option.none() : Option.some(xs[xs.length - 1]);
        };

        var from$1 = isFunction(Array.from) ? Array.from : function (x) {
          return slice.call(x);
        };
        var Global = typeof domGlobals.window !== 'undefined' ? domGlobals.window : Function('return this;')();

        var path = function path(parts, scope) {
          var o = scope !== undefined && scope !== null ? scope : Global;

          for (var i = 0; i < parts.length && o !== undefined && o !== null; ++i) {
            o = o[parts[i]];
          }

          return o;
        };

        var resolve = function resolve(p, scope) {
          var parts = p.split('.');
          return path(parts, scope);
        };

        var unsafe = function unsafe(name, scope) {
          return resolve(name, scope);
        };

        var getOrDie = function getOrDie(name, scope) {
          var actual = unsafe(name, scope);
          if (actual === undefined || actual === null) throw name + ' not available on this browser';
          return actual;
        };

        var Global$1 = {
          getOrDie: getOrDie
        };

        var htmlElement = function htmlElement(scope) {
          return Global$1.getOrDie('HTMLElement', scope);
        };

        var isPrototypeOf = function isPrototypeOf(x) {
          var scope = resolve('ownerDocument.defaultView', x);
          return htmlElement(scope).prototype.isPrototypeOf(x);
        };

        var HTMLElement = {
          isPrototypeOf: isPrototypeOf
        };
        var global$7 = tinymce.util.Tools.resolve('tinymce.dom.DomQuery');

        var getParentList = function getParentList(editor) {
          var selectionStart = editor.selection.getStart(true);
          return editor.dom.getParent(selectionStart, 'OL,UL,DL', getClosestListRootElm(editor, selectionStart));
        };

        var isParentListSelected = function isParentListSelected(parentList, selectedBlocks) {
          return parentList && selectedBlocks.length === 1 && selectedBlocks[0] === parentList;
        };

        var findSubLists = function findSubLists(parentList) {
          return global$5.grep(parentList.querySelectorAll('ol,ul,dl'), function (elm) {
            return NodeType.isListNode(elm);
          });
        };

        var getSelectedSubLists = function getSelectedSubLists(editor) {
          var parentList = getParentList(editor);
          var selectedBlocks = editor.selection.getSelectedBlocks();

          if (isParentListSelected(parentList, selectedBlocks)) {
            return findSubLists(parentList);
          } else {
            return global$5.grep(selectedBlocks, function (elm) {
              return NodeType.isListNode(elm) && parentList !== elm;
            });
          }
        };

        var findParentListItemsNodes = function findParentListItemsNodes(editor, elms) {
          var listItemsElms = global$5.map(elms, function (elm) {
            var parentLi = editor.dom.getParent(elm, 'li,dd,dt', getClosestListRootElm(editor, elm));
            return parentLi ? parentLi : elm;
          });
          return global$7.unique(listItemsElms);
        };

        var getSelectedListItems = function getSelectedListItems(editor) {
          var selectedBlocks = editor.selection.getSelectedBlocks();
          return global$5.grep(findParentListItemsNodes(editor, selectedBlocks), function (block) {
            return NodeType.isListItemNode(block);
          });
        };

        var getSelectedDlItems = function getSelectedDlItems(editor) {
          return filter(getSelectedListItems(editor), NodeType.isDlItemNode);
        };

        var getClosestListRootElm = function getClosestListRootElm(editor, elm) {
          var parentTableCell = editor.dom.getParents(elm, 'TD,TH');
          var root = parentTableCell.length > 0 ? parentTableCell[0] : editor.getBody();
          return root;
        };

        var findLastParentListNode = function findLastParentListNode(editor, elm) {
          var parentLists = editor.dom.getParents(elm, 'ol,ul', getClosestListRootElm(editor, elm));
          return last(parentLists);
        };

        var getSelectedLists = function getSelectedLists(editor) {
          var firstList = findLastParentListNode(editor, editor.selection.getStart());
          var subsequentLists = filter(editor.selection.getSelectedBlocks(), NodeType.isOlUlNode);
          return firstList.toArray().concat(subsequentLists);
        };

        var getSelectedListRoots = function getSelectedListRoots(editor) {
          var selectedLists = getSelectedLists(editor);
          return getUniqueListRoots(editor, selectedLists);
        };

        var getUniqueListRoots = function getUniqueListRoots(editor, lists) {
          var listRoots = map(lists, function (list) {
            return findLastParentListNode(editor, list).getOr(list);
          });
          return global$7.unique(listRoots);
        };

        var isList = function isList(editor) {
          var list = getParentList(editor);
          return HTMLElement.isPrototypeOf(list);
        };

        var Selection = {
          isList: isList,
          getParentList: getParentList,
          getSelectedSubLists: getSelectedSubLists,
          getSelectedListItems: getSelectedListItems,
          getClosestListRootElm: getClosestListRootElm,
          getSelectedDlItems: getSelectedDlItems,
          getSelectedListRoots: getSelectedListRoots
        };

        var fromHtml = function fromHtml(html, scope) {
          var doc = scope || domGlobals.document;
          var div = doc.createElement('div');
          div.innerHTML = html;

          if (!div.hasChildNodes() || div.childNodes.length > 1) {
            domGlobals.console.error('HTML does not have a single root node', html);
            throw new Error('HTML must have a single root node');
          }

          return fromDom(div.childNodes[0]);
        };

        var fromTag = function fromTag(tag, scope) {
          var doc = scope || domGlobals.document;
          var node = doc.createElement(tag);
          return fromDom(node);
        };

        var fromText = function fromText(text, scope) {
          var doc = scope || domGlobals.document;
          var node = doc.createTextNode(text);
          return fromDom(node);
        };

        var fromDom = function fromDom(node) {
          if (node === null || node === undefined) {
            throw new Error('Node cannot be null or undefined');
          }

          return {
            dom: constant(node)
          };
        };

        var fromPoint = function fromPoint(docElm, x, y) {
          var doc = docElm.dom();
          return Option.from(doc.elementFromPoint(x, y)).map(fromDom);
        };

        var Element = {
          fromHtml: fromHtml,
          fromTag: fromTag,
          fromText: fromText,
          fromDom: fromDom,
          fromPoint: fromPoint
        };

        var liftN = function liftN(arr, f) {
          var r = [];

          for (var i = 0; i < arr.length; i++) {
            var x = arr[i];

            if (x.isSome()) {
              r.push(x.getOrDie());
            } else {
              return Option.none();
            }
          }

          return Option.some(f.apply(null, r));
        };

        var fromElements = function fromElements(elements, scope) {
          var doc = scope || domGlobals.document;
          var fragment = doc.createDocumentFragment();
          each(elements, function (element) {
            fragment.appendChild(element.dom());
          });
          return Element.fromDom(fragment);
        };

        var Immutable = function Immutable() {
          var fields = [];

          for (var _i = 0; _i < arguments.length; _i++) {
            fields[_i] = arguments[_i];
          }

          return function () {
            var values = [];

            for (var _i = 0; _i < arguments.length; _i++) {
              values[_i] = arguments[_i];
            }

            if (fields.length !== values.length) {
              throw new Error('Wrong number of arguments to struct. Expected "[' + fields.length + ']", got ' + values.length + ' arguments');
            }

            var struct = {};
            each(fields, function (name, i) {
              struct[name] = constant(values[i]);
            });
            return struct;
          };
        };

        var keys = Object.keys;

        var each$1 = function each$1(obj, f) {
          var props = keys(obj);

          for (var k = 0, len = props.length; k < len; k++) {
            var i = props[k];
            var x = obj[i];
            f(x, i, obj);
          }
        };

        var node = function node() {
          var f = Global$1.getOrDie('Node');
          return f;
        };

        var compareDocumentPosition = function compareDocumentPosition(a, b, match) {
          return (a.compareDocumentPosition(b) & match) !== 0;
        };

        var documentPositionPreceding = function documentPositionPreceding(a, b) {
          return compareDocumentPosition(a, b, node().DOCUMENT_POSITION_PRECEDING);
        };

        var documentPositionContainedBy = function documentPositionContainedBy(a, b) {
          return compareDocumentPosition(a, b, node().DOCUMENT_POSITION_CONTAINED_BY);
        };

        var Node = {
          documentPositionPreceding: documentPositionPreceding,
          documentPositionContainedBy: documentPositionContainedBy
        };

        var cached = function cached(f) {
          var called = false;
          var r;
          return function () {
            var args = [];

            for (var _i = 0; _i < arguments.length; _i++) {
              args[_i] = arguments[_i];
            }

            if (!called) {
              called = true;
              r = f.apply(null, args);
            }

            return r;
          };
        };

        var firstMatch = function firstMatch(regexes, s) {
          for (var i = 0; i < regexes.length; i++) {
            var x = regexes[i];
            if (x.test(s)) return x;
          }

          return undefined;
        };

        var find$1 = function find$1(regexes, agent) {
          var r = firstMatch(regexes, agent);
          if (!r) return {
            major: 0,
            minor: 0
          };

          var group = function group(i) {
            return Number(agent.replace(r, '$' + i));
          };

          return nu(group(1), group(2));
        };

        var detect = function detect(versionRegexes, agent) {
          var cleanedAgent = String(agent).toLowerCase();
          if (versionRegexes.length === 0) return unknown();
          return find$1(versionRegexes, cleanedAgent);
        };

        var unknown = function unknown() {
          return nu(0, 0);
        };

        var nu = function nu(major, minor) {
          return {
            major: major,
            minor: minor
          };
        };

        var Version = {
          nu: nu,
          detect: detect,
          unknown: unknown
        };
        var edge = 'Edge';
        var chrome = 'Chrome';
        var ie = 'IE';
        var opera = 'Opera';
        var firefox = 'Firefox';
        var safari = 'Safari';

        var isBrowser = function isBrowser(name, current) {
          return function () {
            return current === name;
          };
        };

        var unknown$1 = function unknown$1() {
          return nu$1({
            current: undefined,
            version: Version.unknown()
          });
        };

        var nu$1 = function nu$1(info) {
          var current = info.current;
          var version = info.version;
          return {
            current: current,
            version: version,
            isEdge: isBrowser(edge, current),
            isChrome: isBrowser(chrome, current),
            isIE: isBrowser(ie, current),
            isOpera: isBrowser(opera, current),
            isFirefox: isBrowser(firefox, current),
            isSafari: isBrowser(safari, current)
          };
        };

        var Browser = {
          unknown: unknown$1,
          nu: nu$1,
          edge: constant(edge),
          chrome: constant(chrome),
          ie: constant(ie),
          opera: constant(opera),
          firefox: constant(firefox),
          safari: constant(safari)
        };
        var windows = 'Windows';
        var ios = 'iOS';
        var android = 'Android';
        var linux = 'Linux';
        var osx = 'OSX';
        var solaris = 'Solaris';
        var freebsd = 'FreeBSD';

        var isOS = function isOS(name, current) {
          return function () {
            return current === name;
          };
        };

        var unknown$2 = function unknown$2() {
          return nu$2({
            current: undefined,
            version: Version.unknown()
          });
        };

        var nu$2 = function nu$2(info) {
          var current = info.current;
          var version = info.version;
          return {
            current: current,
            version: version,
            isWindows: isOS(windows, current),
            isiOS: isOS(ios, current),
            isAndroid: isOS(android, current),
            isOSX: isOS(osx, current),
            isLinux: isOS(linux, current),
            isSolaris: isOS(solaris, current),
            isFreeBSD: isOS(freebsd, current)
          };
        };

        var OperatingSystem = {
          unknown: unknown$2,
          nu: nu$2,
          windows: constant(windows),
          ios: constant(ios),
          android: constant(android),
          linux: constant(linux),
          osx: constant(osx),
          solaris: constant(solaris),
          freebsd: constant(freebsd)
        };

        var DeviceType = function DeviceType(os, browser, userAgent) {
          var isiPad = os.isiOS() && /ipad/i.test(userAgent) === true;
          var isiPhone = os.isiOS() && !isiPad;
          var isAndroid3 = os.isAndroid() && os.version.major === 3;
          var isAndroid4 = os.isAndroid() && os.version.major === 4;
          var isTablet = isiPad || isAndroid3 || isAndroid4 && /mobile/i.test(userAgent) === true;
          var isTouch = os.isiOS() || os.isAndroid();
          var isPhone = isTouch && !isTablet;
          var iOSwebview = browser.isSafari() && os.isiOS() && /safari/i.test(userAgent) === false;
          return {
            isiPad: constant(isiPad),
            isiPhone: constant(isiPhone),
            isTablet: constant(isTablet),
            isPhone: constant(isPhone),
            isTouch: constant(isTouch),
            isAndroid: os.isAndroid,
            isiOS: os.isiOS,
            isWebView: constant(iOSwebview)
          };
        };

        var detect$1 = function detect$1(candidates, userAgent) {
          var agent = String(userAgent).toLowerCase();
          return find(candidates, function (candidate) {
            return candidate.search(agent);
          });
        };

        var detectBrowser = function detectBrowser(browsers, userAgent) {
          return detect$1(browsers, userAgent).map(function (browser) {
            var version = Version.detect(browser.versionRegexes, userAgent);
            return {
              current: browser.name,
              version: version
            };
          });
        };

        var detectOs = function detectOs(oses, userAgent) {
          return detect$1(oses, userAgent).map(function (os) {
            var version = Version.detect(os.versionRegexes, userAgent);
            return {
              current: os.name,
              version: version
            };
          });
        };

        var UaString = {
          detectBrowser: detectBrowser,
          detectOs: detectOs
        };

        var contains = function contains(str, substr) {
          return str.indexOf(substr) !== -1;
        };

        var normalVersionRegex = /.*?version\/\ ?([0-9]+)\.([0-9]+).*/;

        var checkContains = function checkContains(target) {
          return function (uastring) {
            return contains(uastring, target);
          };
        };

        var browsers = [{
          name: 'Edge',
          versionRegexes: [/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],
          search: function search(uastring) {
            var monstrosity = contains(uastring, 'edge/') && contains(uastring, 'chrome') && contains(uastring, 'safari') && contains(uastring, 'applewebkit');
            return monstrosity;
          }
        }, {
          name: 'Chrome',
          versionRegexes: [/.*?chrome\/([0-9]+)\.([0-9]+).*/, normalVersionRegex],
          search: function search(uastring) {
            return contains(uastring, 'chrome') && !contains(uastring, 'chromeframe');
          }
        }, {
          name: 'IE',
          versionRegexes: [/.*?msie\ ?([0-9]+)\.([0-9]+).*/, /.*?rv:([0-9]+)\.([0-9]+).*/],
          search: function search(uastring) {
            return contains(uastring, 'msie') || contains(uastring, 'trident');
          }
        }, {
          name: 'Opera',
          versionRegexes: [normalVersionRegex, /.*?opera\/([0-9]+)\.([0-9]+).*/],
          search: checkContains('opera')
        }, {
          name: 'Firefox',
          versionRegexes: [/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],
          search: checkContains('firefox')
        }, {
          name: 'Safari',
          versionRegexes: [normalVersionRegex, /.*?cpu os ([0-9]+)_([0-9]+).*/],
          search: function search(uastring) {
            return (contains(uastring, 'safari') || contains(uastring, 'mobile/')) && contains(uastring, 'applewebkit');
          }
        }];
        var oses = [{
          name: 'Windows',
          search: checkContains('win'),
          versionRegexes: [/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]
        }, {
          name: 'iOS',
          search: function search(uastring) {
            return contains(uastring, 'iphone') || contains(uastring, 'ipad');
          },
          versionRegexes: [/.*?version\/\ ?([0-9]+)\.([0-9]+).*/, /.*cpu os ([0-9]+)_([0-9]+).*/, /.*cpu iphone os ([0-9]+)_([0-9]+).*/]
        }, {
          name: 'Android',
          search: checkContains('android'),
          versionRegexes: [/.*?android\ ?([0-9]+)\.([0-9]+).*/]
        }, {
          name: 'OSX',
          search: checkContains('os x'),
          versionRegexes: [/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]
        }, {
          name: 'Linux',
          search: checkContains('linux'),
          versionRegexes: []
        }, {
          name: 'Solaris',
          search: checkContains('sunos'),
          versionRegexes: []
        }, {
          name: 'FreeBSD',
          search: checkContains('freebsd'),
          versionRegexes: []
        }];
        var PlatformInfo = {
          browsers: constant(browsers),
          oses: constant(oses)
        };

        var detect$2 = function detect$2(userAgent) {
          var browsers = PlatformInfo.browsers();
          var oses = PlatformInfo.oses();
          var browser = UaString.detectBrowser(browsers, userAgent).fold(Browser.unknown, Browser.nu);
          var os = UaString.detectOs(oses, userAgent).fold(OperatingSystem.unknown, OperatingSystem.nu);
          var deviceType = DeviceType(os, browser, userAgent);
          return {
            browser: browser,
            os: os,
            deviceType: deviceType
          };
        };

        var PlatformDetection = {
          detect: detect$2
        };
        var detect$3 = cached(function () {
          var userAgent = domGlobals.navigator.userAgent;
          return PlatformDetection.detect(userAgent);
        });
        var PlatformDetection$1 = {
          detect: detect$3
        };
        var ATTRIBUTE = domGlobals.Node.ATTRIBUTE_NODE;
        var CDATA_SECTION = domGlobals.Node.CDATA_SECTION_NODE;
        var COMMENT = domGlobals.Node.COMMENT_NODE;
        var DOCUMENT = domGlobals.Node.DOCUMENT_NODE;
        var DOCUMENT_TYPE = domGlobals.Node.DOCUMENT_TYPE_NODE;
        var DOCUMENT_FRAGMENT = domGlobals.Node.DOCUMENT_FRAGMENT_NODE;
        var ELEMENT = domGlobals.Node.ELEMENT_NODE;
        var TEXT = domGlobals.Node.TEXT_NODE;
        var PROCESSING_INSTRUCTION = domGlobals.Node.PROCESSING_INSTRUCTION_NODE;
        var ENTITY_REFERENCE = domGlobals.Node.ENTITY_REFERENCE_NODE;
        var ENTITY = domGlobals.Node.ENTITY_NODE;
        var NOTATION = domGlobals.Node.NOTATION_NODE;
        var ELEMENT$1 = ELEMENT;

        var is = function is(element, selector) {
          var elem = element.dom();

          if (elem.nodeType !== ELEMENT$1) {
            return false;
          } else if (elem.matches !== undefined) {
            return elem.matches(selector);
          } else if (elem.msMatchesSelector !== undefined) {
            return elem.msMatchesSelector(selector);
          } else if (elem.webkitMatchesSelector !== undefined) {
            return elem.webkitMatchesSelector(selector);
          } else if (elem.mozMatchesSelector !== undefined) {
            return elem.mozMatchesSelector(selector);
          } else {
            throw new Error('Browser lacks native selectors');
          }
        };

        var eq = function eq(e1, e2) {
          return e1.dom() === e2.dom();
        };

        var regularContains = function regularContains(e1, e2) {
          var d1 = e1.dom();
          var d2 = e2.dom();
          return d1 === d2 ? false : d1.contains(d2);
        };

        var ieContains = function ieContains(e1, e2) {
          return Node.documentPositionContainedBy(e1.dom(), e2.dom());
        };

        var browser = PlatformDetection$1.detect().browser;
        var contains$1 = browser.isIE() ? ieContains : regularContains;
        var is$1 = is;

        var parent = function parent(element) {
          var dom = element.dom();
          return Option.from(dom.parentNode).map(Element.fromDom);
        };

        var children = function children(element) {
          var dom = element.dom();
          return map(dom.childNodes, Element.fromDom);
        };

        var child = function child(element, index) {
          var cs = element.dom().childNodes;
          return Option.from(cs[index]).map(Element.fromDom);
        };

        var firstChild = function firstChild(element) {
          return child(element, 0);
        };

        var lastChild = function lastChild(element) {
          return child(element, element.dom().childNodes.length - 1);
        };

        var spot = Immutable('element', 'offset');

        var before = function before(marker, element) {
          var parent$1 = parent(marker);
          parent$1.each(function (v) {
            v.dom().insertBefore(element.dom(), marker.dom());
          });
        };

        var append = function append(parent, element) {
          parent.dom().appendChild(element.dom());
        };

        var before$1 = function before$1(marker, elements) {
          each(elements, function (x) {
            before(marker, x);
          });
        };

        var append$1 = function append$1(parent, elements) {
          each(elements, function (x) {
            append(parent, x);
          });
        };

        var remove = function remove(element) {
          var dom = element.dom();

          if (dom.parentNode !== null) {
            dom.parentNode.removeChild(dom);
          }
        };

        var name = function name(element) {
          var r = element.dom().nodeName;
          return r.toLowerCase();
        };

        var rawSet = function rawSet(dom, key, value) {
          if (isString(value) || isBoolean(value) || isNumber(value)) {
            dom.setAttribute(key, value + '');
          } else {
            domGlobals.console.error('Invalid call to Attr.set. Key ', key, ':: Value ', value, ':: Element ', dom);
            throw new Error('Attribute value was not simple');
          }
        };

        var setAll = function setAll(element, attrs) {
          var dom = element.dom();
          each$1(attrs, function (v, k) {
            rawSet(dom, k, v);
          });
        };

        var clone = function clone(element) {
          return foldl(element.dom().attributes, function (acc, attr) {
            acc[attr.name] = attr.value;
            return acc;
          }, {});
        };

        var isSupported = function isSupported(dom) {
          return dom.style !== undefined && isFunction(dom.style.getPropertyValue);
        };

        var internalSet = function internalSet(dom, property, value) {
          if (!isString(value)) {
            domGlobals.console.error('Invalid call to CSS.set. Property ', property, ':: Value ', value, ':: Element ', dom);
            throw new Error('CSS value must be a string: ' + value);
          }

          if (isSupported(dom)) {
            dom.style.setProperty(property, value);
          }
        };

        var set = function set(element, property, value) {
          var dom = element.dom();
          internalSet(dom, property, value);
        };

        var clone$1 = function clone$1(original, isDeep) {
          return Element.fromDom(original.dom().cloneNode(isDeep));
        };

        var deep = function deep(original) {
          return clone$1(original, true);
        };

        var shallowAs = function shallowAs(original, tag) {
          var nu = Element.fromTag(tag);
          var attributes = clone(original);
          setAll(nu, attributes);
          return nu;
        };

        var mutate = function mutate(original, tag) {
          var nu = shallowAs(original, tag);
          before(original, nu);
          var children$1 = children(original);
          append$1(nu, children$1);
          remove(original);
          return nu;
        };

        var joinSegment = function joinSegment(parent, child) {
          append(parent.item, child.list);
        };

        var joinSegments = function joinSegments(segments) {
          for (var i = 1; i < segments.length; i++) {
            joinSegment(segments[i - 1], segments[i]);
          }
        };

        var appendSegments = function appendSegments(head$1, tail) {
          liftN([last(head$1), head(tail)], joinSegment);
        };

        var createSegment = function createSegment(scope, listType) {
          var segment = {
            list: Element.fromTag(listType, scope),
            item: Element.fromTag('li', scope)
          };
          append(segment.list, segment.item);
          return segment;
        };

        var createSegments = function createSegments(scope, entry, size) {
          var segments = [];

          for (var i = 0; i < size; i++) {
            segments.push(createSegment(scope, entry.listType));
          }

          return segments;
        };

        var populateSegments = function populateSegments(segments, entry) {
          for (var i = 0; i < segments.length - 1; i++) {
            set(segments[i].item, 'list-style-type', 'none');
          }

          last(segments).each(function (segment) {
            setAll(segment.list, entry.listAttributes);
            setAll(segment.item, entry.itemAttributes);
            append$1(segment.item, entry.content);
          });
        };

        var normalizeSegment = function normalizeSegment(segment, entry) {
          if (name(segment.list) !== entry.listType) {
            segment.list = mutate(segment.list, entry.listType);
          }

          setAll(segment.list, entry.listAttributes);
        };

        var createItem = function createItem(scope, attr, content) {
          var item = Element.fromTag('li', scope);
          setAll(item, attr);
          append$1(item, content);
          return item;
        };

        var appendItem = function appendItem(segment, item) {
          append(segment.list, item);
          segment.item = item;
        };

        var writeShallow = function writeShallow(scope, cast, entry) {
          var newCast = cast.slice(0, entry.depth);
          last(newCast).each(function (segment) {
            var item = createItem(scope, entry.itemAttributes, entry.content);
            appendItem(segment, item);
            normalizeSegment(segment, entry);
          });
          return newCast;
        };

        var writeDeep = function writeDeep(scope, cast, entry) {
          var segments = createSegments(scope, entry, entry.depth - cast.length);
          joinSegments(segments);
          populateSegments(segments, entry);
          appendSegments(cast, segments);
          return cast.concat(segments);
        };

        var composeList = function composeList(scope, entries) {
          var cast = foldl(entries, function (cast, entry) {
            return entry.depth > cast.length ? writeDeep(scope, cast, entry) : writeShallow(scope, cast, entry);
          }, []);
          return head(cast).map(function (segment) {
            return segment.list;
          });
        };

        var isList$1 = function isList$1(el) {
          return is$1(el, 'OL,UL');
        };

        var hasFirstChildList = function hasFirstChildList(el) {
          return firstChild(el).map(isList$1).getOr(false);
        };

        var hasLastChildList = function hasLastChildList(el) {
          return lastChild(el).map(isList$1).getOr(false);
        };

        var isIndented = function isIndented(entry) {
          return entry.depth > 0;
        };

        var isSelected = function isSelected(entry) {
          return entry.isSelected;
        };

        var cloneItemContent = function cloneItemContent(li) {
          var children$1 = children(li);
          var content = hasLastChildList(li) ? children$1.slice(0, -1) : children$1;
          return map(content, deep);
        };

        var createEntry = function createEntry(li, depth, isSelected) {
          return parent(li).map(function (list) {
            return {
              depth: depth,
              isSelected: isSelected,
              content: cloneItemContent(li),
              itemAttributes: clone(li),
              listAttributes: clone(list),
              listType: name(list)
            };
          });
        };

        var indentEntry = function indentEntry(indentation, entry) {
          switch (indentation) {
            case 'Indent':
              entry.depth++;
              break;

            case 'Outdent':
              entry.depth--;
              break;

            case 'Flatten':
              entry.depth = 0;
          }
        };

        var hasOwnProperty = Object.prototype.hasOwnProperty;

        var shallow = function shallow(old, nu) {
          return nu;
        };

        var baseMerge = function baseMerge(merger) {
          return function () {
            var objects = new Array(arguments.length);

            for (var i = 0; i < objects.length; i++) {
              objects[i] = arguments[i];
            }

            if (objects.length === 0) throw new Error('Can\'t merge zero objects');
            var ret = {};

            for (var j = 0; j < objects.length; j++) {
              var curObject = objects[j];

              for (var key in curObject) {
                if (hasOwnProperty.call(curObject, key)) {
                  ret[key] = merger(ret[key], curObject[key]);
                }
              }
            }

            return ret;
          };
        };

        var merge = baseMerge(shallow);

        var cloneListProperties = function cloneListProperties(target, source) {
          target.listType = source.listType;
          target.listAttributes = merge({}, source.listAttributes);
        };

        var previousSiblingEntry = function previousSiblingEntry(entries, start) {
          var depth = entries[start].depth;

          for (var i = start - 1; i >= 0; i--) {
            if (entries[i].depth === depth) {
              return Option.some(entries[i]);
            }

            if (entries[i].depth < depth) {
              break;
            }
          }

          return Option.none();
        };

        var normalizeEntries = function normalizeEntries(entries) {
          each(entries, function (entry, i) {
            previousSiblingEntry(entries, i).each(function (matchingEntry) {
              cloneListProperties(entry, matchingEntry);
            });
          });
        };

        var Cell = function Cell(initial) {
          var value = initial;

          var get = function get() {
            return value;
          };

          var set = function set(v) {
            value = v;
          };

          var clone = function clone() {
            return Cell(get());
          };

          return {
            get: get,
            set: set,
            clone: clone
          };
        };

        var parseItem = function parseItem(depth, itemSelection, selectionState, item) {
          return firstChild(item).filter(isList$1).fold(function () {
            itemSelection.each(function (selection) {
              if (eq(selection.start, item)) {
                selectionState.set(true);
              }
            });
            var currentItemEntry = createEntry(item, depth, selectionState.get());
            itemSelection.each(function (selection) {
              if (eq(selection.end, item)) {
                selectionState.set(false);
              }
            });
            var childListEntries = lastChild(item).filter(isList$1).map(function (list) {
              return parseList(depth, itemSelection, selectionState, list);
            }).getOr([]);
            return currentItemEntry.toArray().concat(childListEntries);
          }, function (list) {
            return parseList(depth, itemSelection, selectionState, list);
          });
        };

        var parseList = function parseList(depth, itemSelection, selectionState, list) {
          return bind(children(list), function (element) {
            var parser = isList$1(element) ? parseList : parseItem;
            var newDepth = depth + 1;
            return parser(newDepth, itemSelection, selectionState, element);
          });
        };

        var parseLists = function parseLists(lists, itemSelection) {
          var selectionState = Cell(false);
          var initialDepth = 0;
          return map(lists, function (list) {
            return {
              sourceList: list,
              entries: parseList(initialDepth, itemSelection, selectionState, list)
            };
          });
        };

        var global$8 = tinymce.util.Tools.resolve('tinymce.Env');

        var createTextBlock = function createTextBlock(editor, contentNode) {
          var dom = editor.dom;
          var blockElements = editor.schema.getBlockElements();
          var fragment = dom.createFragment();
          var node, textBlock, blockName, hasContentNode;

          if (editor.settings.forced_root_block) {
            blockName = editor.settings.forced_root_block;
          }

          if (blockName) {
            textBlock = dom.create(blockName);

            if (textBlock.tagName === editor.settings.forced_root_block) {
              dom.setAttribs(textBlock, editor.settings.forced_root_block_attrs);
            }

            if (!NodeType.isBlock(contentNode.firstChild, blockElements)) {
              fragment.appendChild(textBlock);
            }
          }

          if (contentNode) {
            while (node = contentNode.firstChild) {
              var nodeName = node.nodeName;

              if (!hasContentNode && (nodeName !== 'SPAN' || node.getAttribute('data-mce-type') !== 'bookmark')) {
                hasContentNode = true;
              }

              if (NodeType.isBlock(node, blockElements)) {
                fragment.appendChild(node);
                textBlock = null;
              } else {
                if (blockName) {
                  if (!textBlock) {
                    textBlock = dom.create(blockName);
                    fragment.appendChild(textBlock);
                  }

                  textBlock.appendChild(node);
                } else {
                  fragment.appendChild(node);
                }
              }
            }
          }

          if (!editor.settings.forced_root_block) {
            fragment.appendChild(dom.create('br'));
          } else {
            if (!hasContentNode && (!global$8.ie || global$8.ie > 10)) {
              textBlock.appendChild(dom.create('br', {
                'data-mce-bogus': '1'
              }));
            }
          }

          return fragment;
        };

        var outdentedComposer = function outdentedComposer(editor, entries) {
          return map(entries, function (entry) {
            var content = fromElements(entry.content);
            return Element.fromDom(createTextBlock(editor, content.dom()));
          });
        };

        var indentedComposer = function indentedComposer(editor, entries) {
          normalizeEntries(entries);
          return composeList(editor.contentDocument, entries).toArray();
        };

        var composeEntries = function composeEntries(editor, entries) {
          return bind(groupBy(entries, isIndented), function (entries) {
            var groupIsIndented = head(entries).map(isIndented).getOr(false);
            return groupIsIndented ? indentedComposer(editor, entries) : outdentedComposer(editor, entries);
          });
        };

        var indentSelectedEntries = function indentSelectedEntries(entries, indentation) {
          each(filter(entries, isSelected), function (entry) {
            return indentEntry(indentation, entry);
          });
        };

        var getItemSelection = function getItemSelection(editor) {
          var selectedListItems = map(Selection.getSelectedListItems(editor), Element.fromDom);
          return liftN([find(selectedListItems, not(hasFirstChildList)), find(reverse(selectedListItems), not(hasFirstChildList))], function (start, end) {
            return {
              start: start,
              end: end
            };
          });
        };

        var listsIndentation = function listsIndentation(editor, lists, indentation) {
          var entrySets = parseLists(lists, getItemSelection(editor));
          each(entrySets, function (entrySet) {
            indentSelectedEntries(entrySet.entries, indentation);
            before$1(entrySet.sourceList, composeEntries(editor, entrySet.entries));
            remove(entrySet.sourceList);
          });
        };

        var DOM$1 = global$6.DOM;

        var splitList = function splitList(editor, ul, li) {
          var tmpRng, fragment, bookmarks, node, newBlock;

          var removeAndKeepBookmarks = function removeAndKeepBookmarks(targetNode) {
            global$5.each(bookmarks, function (node) {
              targetNode.parentNode.insertBefore(node, li.parentNode);
            });
            DOM$1.remove(targetNode);
          };

          bookmarks = DOM$1.select('span[data-mce-type="bookmark"]', ul);
          newBlock = createTextBlock(editor, li);
          tmpRng = DOM$1.createRng();
          tmpRng.setStartAfter(li);
          tmpRng.setEndAfter(ul);
          fragment = tmpRng.extractContents();

          for (node = fragment.firstChild; node; node = node.firstChild) {
            if (node.nodeName === 'LI' && editor.dom.isEmpty(node)) {
              DOM$1.remove(node);
              break;
            }
          }

          if (!editor.dom.isEmpty(fragment)) {
            DOM$1.insertAfter(fragment, ul);
          }

          DOM$1.insertAfter(newBlock, ul);

          if (NodeType.isEmpty(editor.dom, li.parentNode)) {
            removeAndKeepBookmarks(li.parentNode);
          }

          DOM$1.remove(li);

          if (NodeType.isEmpty(editor.dom, ul)) {
            DOM$1.remove(ul);
          }
        };

        var SplitList = {
          splitList: splitList
        };

        var outdentDlItem = function outdentDlItem(editor, item) {
          if (is$1(item, 'DD')) {
            mutate(item, 'DT');
          } else if (is$1(item, 'DT')) {
            parent(item).each(function (dl) {
              return SplitList.splitList(editor, dl.dom(), item.dom());
            });
          }
        };

        var indentDlItem = function indentDlItem(item) {
          if (is$1(item, 'DT')) {
            mutate(item, 'DD');
          }
        };

        var dlIndentation = function dlIndentation(editor, indentation, dlItems) {
          if (indentation === 'Indent') {
            each(dlItems, indentDlItem);
          } else {
            each(dlItems, function (item) {
              return outdentDlItem(editor, item);
            });
          }
        };

        var selectionIndentation = function selectionIndentation(editor, indentation) {
          var lists = map(Selection.getSelectedListRoots(editor), Element.fromDom);
          var dlItems = map(Selection.getSelectedDlItems(editor), Element.fromDom);
          var isHandled = false;

          if (lists.length || dlItems.length) {
            var bookmark = editor.selection.getBookmark();
            listsIndentation(editor, lists, indentation);
            dlIndentation(editor, indentation, dlItems);
            editor.selection.moveToBookmark(bookmark);
            editor.selection.setRng(Range.normalizeRange(editor.selection.getRng()));
            editor.nodeChanged();
            isHandled = true;
          }

          return isHandled;
        };

        var indentListSelection = function indentListSelection(editor) {
          return selectionIndentation(editor, 'Indent');
        };

        var outdentListSelection = function outdentListSelection(editor) {
          return selectionIndentation(editor, 'Outdent');
        };

        var flattenListSelection = function flattenListSelection(editor) {
          return selectionIndentation(editor, 'Flatten');
        };

        var updateListStyle = function updateListStyle(dom, el, detail) {
          var type = detail['list-style-type'] ? detail['list-style-type'] : null;
          dom.setStyle(el, 'list-style-type', type);
        };

        var setAttribs = function setAttribs(elm, attrs) {
          global$5.each(attrs, function (value, key) {
            elm.setAttribute(key, value);
          });
        };

        var updateListAttrs = function updateListAttrs(dom, el, detail) {
          setAttribs(el, detail['list-attributes']);
          global$5.each(dom.select('li', el), function (li) {
            setAttribs(li, detail['list-item-attributes']);
          });
        };

        var updateListWithDetails = function updateListWithDetails(dom, el, detail) {
          updateListStyle(dom, el, detail);
          updateListAttrs(dom, el, detail);
        };

        var removeStyles = function removeStyles(dom, element, styles) {
          global$5.each(styles, function (style) {
            var _a;

            return dom.setStyle(element, (_a = {}, _a[style] = '', _a));
          });
        };

        var getEndPointNode = function getEndPointNode(editor, rng, start, root) {
          var container, offset;
          container = rng[start ? 'startContainer' : 'endContainer'];
          offset = rng[start ? 'startOffset' : 'endOffset'];

          if (container.nodeType === 1) {
            container = container.childNodes[Math.min(offset, container.childNodes.length - 1)] || container;
          }

          if (!start && NodeType.isBr(container.nextSibling)) {
            container = container.nextSibling;
          }

          while (container.parentNode !== root) {
            if (NodeType.isTextBlock(editor, container)) {
              return container;
            }

            if (/^(TD|TH)$/.test(container.parentNode.nodeName)) {
              return container;
            }

            container = container.parentNode;
          }

          return container;
        };

        var getSelectedTextBlocks = function getSelectedTextBlocks(editor, rng, root) {
          var textBlocks = [],
              dom = editor.dom;
          var startNode = getEndPointNode(editor, rng, true, root);
          var endNode = getEndPointNode(editor, rng, false, root);
          var block;
          var siblings = [];

          for (var node = startNode; node; node = node.nextSibling) {
            siblings.push(node);

            if (node === endNode) {
              break;
            }
          }

          global$5.each(siblings, function (node) {
            if (NodeType.isTextBlock(editor, node)) {
              textBlocks.push(node);
              block = null;
              return;
            }

            if (dom.isBlock(node) || NodeType.isBr(node)) {
              if (NodeType.isBr(node)) {
                dom.remove(node);
              }

              block = null;
              return;
            }

            var nextSibling = node.nextSibling;

            if (global$4.isBookmarkNode(node)) {
              if (NodeType.isTextBlock(editor, nextSibling) || !nextSibling && node.parentNode === root) {
                block = null;
                return;
              }
            }

            if (!block) {
              block = dom.create('p');
              node.parentNode.insertBefore(block, node);
              textBlocks.push(block);
            }

            block.appendChild(node);
          });
          return textBlocks;
        };

        var hasCompatibleStyle = function hasCompatibleStyle(dom, sib, detail) {
          var sibStyle = dom.getStyle(sib, 'list-style-type');
          var detailStyle = detail ? detail['list-style-type'] : '';
          detailStyle = detailStyle === null ? '' : detailStyle;
          return sibStyle === detailStyle;
        };

        var applyList = function applyList(editor, listName, detail) {
          if (detail === void 0) {
            detail = {};
          }

          var rng = editor.selection.getRng(true);
          var bookmark;
          var listItemName = 'LI';
          var root = Selection.getClosestListRootElm(editor, editor.selection.getStart(true));
          var dom = editor.dom;

          if (dom.getContentEditable(editor.selection.getNode()) === 'false') {
            return;
          }

          listName = listName.toUpperCase();

          if (listName === 'DL') {
            listItemName = 'DT';
          }

          bookmark = Bookmark.createBookmark(rng);
          global$5.each(getSelectedTextBlocks(editor, rng, root), function (block) {
            var listBlock, sibling;
            sibling = block.previousSibling;

            if (sibling && NodeType.isListNode(sibling) && sibling.nodeName === listName && hasCompatibleStyle(dom, sibling, detail)) {
              listBlock = sibling;
              block = dom.rename(block, listItemName);
              sibling.appendChild(block);
            } else {
              listBlock = dom.create(listName);
              block.parentNode.insertBefore(listBlock, block);
              listBlock.appendChild(block);
              block = dom.rename(block, listItemName);
            }

            removeStyles(dom, block, ['margin', 'margin-right', 'margin-bottom', 'margin-left', 'margin-top', 'padding', 'padding-right', 'padding-bottom', 'padding-left', 'padding-top']);
            updateListWithDetails(dom, listBlock, detail);
            mergeWithAdjacentLists(editor.dom, listBlock);
          });
          editor.selection.setRng(Bookmark.resolveBookmark(bookmark));
        };

        var isValidLists = function isValidLists(list1, list2) {
          return list1 && list2 && NodeType.isListNode(list1) && list1.nodeName === list2.nodeName;
        };

        var hasSameListStyle = function hasSameListStyle(dom, list1, list2) {
          var targetStyle = dom.getStyle(list1, 'list-style-type', true);
          var style = dom.getStyle(list2, 'list-style-type', true);
          return targetStyle === style;
        };

        var hasSameClasses = function hasSameClasses(elm1, elm2) {
          return elm1.className === elm2.className;
        };

        var shouldMerge = function shouldMerge(dom, list1, list2) {
          return isValidLists(list1, list2) && hasSameListStyle(dom, list1, list2) && hasSameClasses(list1, list2);
        };

        var mergeWithAdjacentLists = function mergeWithAdjacentLists(dom, listBlock) {
          var sibling, node;
          sibling = listBlock.nextSibling;

          if (shouldMerge(dom, listBlock, sibling)) {
            while (node = sibling.firstChild) {
              listBlock.appendChild(node);
            }

            dom.remove(sibling);
          }

          sibling = listBlock.previousSibling;

          if (shouldMerge(dom, listBlock, sibling)) {
            while (node = sibling.lastChild) {
              listBlock.insertBefore(node, listBlock.firstChild);
            }

            dom.remove(sibling);
          }
        };

        var updateList = function updateList(dom, list, listName, detail) {
          if (list.nodeName !== listName) {
            var newList = dom.rename(list, listName);
            updateListWithDetails(dom, newList, detail);
          } else {
            updateListWithDetails(dom, list, detail);
          }
        };

        var toggleMultipleLists = function toggleMultipleLists(editor, parentList, lists, listName, detail) {
          if (parentList.nodeName === listName && !hasListStyleDetail(detail)) {
            flattenListSelection(editor);
          } else {
            var bookmark = Bookmark.createBookmark(editor.selection.getRng(true));
            global$5.each([parentList].concat(lists), function (elm) {
              updateList(editor.dom, elm, listName, detail);
            });
            editor.selection.setRng(Bookmark.resolveBookmark(bookmark));
          }
        };

        var hasListStyleDetail = function hasListStyleDetail(detail) {
          return 'list-style-type' in detail;
        };

        var toggleSingleList = function toggleSingleList(editor, parentList, listName, detail) {
          if (parentList === editor.getBody()) {
            return;
          }

          if (parentList) {
            if (parentList.nodeName === listName && !hasListStyleDetail(detail)) {
              flattenListSelection(editor);
            } else {
              var bookmark = Bookmark.createBookmark(editor.selection.getRng(true));
              updateListWithDetails(editor.dom, parentList, detail);
              mergeWithAdjacentLists(editor.dom, editor.dom.rename(parentList, listName));
              editor.selection.setRng(Bookmark.resolveBookmark(bookmark));
            }
          } else {
            applyList(editor, listName, detail);
          }
        };

        var toggleList = function toggleList(editor, listName, detail) {
          var parentList = Selection.getParentList(editor);
          var selectedSubLists = Selection.getSelectedSubLists(editor);
          detail = detail ? detail : {};

          if (parentList && selectedSubLists.length > 0) {
            toggleMultipleLists(editor, parentList, selectedSubLists, listName, detail);
          } else {
            toggleSingleList(editor, parentList, listName, detail);
          }
        };

        var ToggleList = {
          toggleList: toggleList,
          mergeWithAdjacentLists: mergeWithAdjacentLists
        };
        var DOM$2 = global$6.DOM;

        var normalizeList = function normalizeList(dom, ul) {
          var sibling;
          var parentNode = ul.parentNode;

          if (parentNode.nodeName === 'LI' && parentNode.firstChild === ul) {
            sibling = parentNode.previousSibling;

            if (sibling && sibling.nodeName === 'LI') {
              sibling.appendChild(ul);

              if (NodeType.isEmpty(dom, parentNode)) {
                DOM$2.remove(parentNode);
              }
            } else {
              DOM$2.setStyle(parentNode, 'listStyleType', 'none');
            }
          }

          if (NodeType.isListNode(parentNode)) {
            sibling = parentNode.previousSibling;

            if (sibling && sibling.nodeName === 'LI') {
              sibling.appendChild(ul);
            }
          }
        };

        var normalizeLists = function normalizeLists(dom, element) {
          global$5.each(global$5.grep(dom.select('ol,ul', element)), function (ul) {
            normalizeList(dom, ul);
          });
        };

        var NormalizeLists = {
          normalizeList: normalizeList,
          normalizeLists: normalizeLists
        };

        var findNextCaretContainer = function findNextCaretContainer(editor, rng, isForward, root) {
          var node = rng.startContainer;
          var offset = rng.startOffset;
          var nonEmptyBlocks, walker;

          if (node.nodeType === 3 && (isForward ? offset < node.data.length : offset > 0)) {
            return node;
          }

          nonEmptyBlocks = editor.schema.getNonEmptyElements();

          if (node.nodeType === 1) {
            node = global$1.getNode(node, offset);
          }

          walker = new global$2(node, root);

          if (isForward) {
            if (NodeType.isBogusBr(editor.dom, node)) {
              walker.next();
            }
          }

          while (node = walker[isForward ? 'next' : 'prev2']()) {
            if (node.nodeName === 'LI' && !node.hasChildNodes()) {
              return node;
            }

            if (nonEmptyBlocks[node.nodeName]) {
              return node;
            }

            if (node.nodeType === 3 && node.data.length > 0) {
              return node;
            }
          }
        };

        var hasOnlyOneBlockChild = function hasOnlyOneBlockChild(dom, elm) {
          var childNodes = elm.childNodes;
          return childNodes.length === 1 && !NodeType.isListNode(childNodes[0]) && dom.isBlock(childNodes[0]);
        };

        var unwrapSingleBlockChild = function unwrapSingleBlockChild(dom, elm) {
          if (hasOnlyOneBlockChild(dom, elm)) {
            dom.remove(elm.firstChild, true);
          }
        };

        var moveChildren = function moveChildren(dom, fromElm, toElm) {
          var node, targetElm;
          targetElm = hasOnlyOneBlockChild(dom, toElm) ? toElm.firstChild : toElm;
          unwrapSingleBlockChild(dom, fromElm);

          if (!NodeType.isEmpty(dom, fromElm, true)) {
            while (node = fromElm.firstChild) {
              targetElm.appendChild(node);
            }
          }
        };

        var mergeLiElements = function mergeLiElements(dom, fromElm, toElm) {
          var node, listNode;
          var ul = fromElm.parentNode;

          if (!NodeType.isChildOfBody(dom, fromElm) || !NodeType.isChildOfBody(dom, toElm)) {
            return;
          }

          if (NodeType.isListNode(toElm.lastChild)) {
            listNode = toElm.lastChild;
          }

          if (ul === toElm.lastChild) {
            if (NodeType.isBr(ul.previousSibling)) {
              dom.remove(ul.previousSibling);
            }
          }

          node = toElm.lastChild;

          if (node && NodeType.isBr(node) && fromElm.hasChildNodes()) {
            dom.remove(node);
          }

          if (NodeType.isEmpty(dom, toElm, true)) {
            dom.$(toElm).empty();
          }

          moveChildren(dom, fromElm, toElm);

          if (listNode) {
            toElm.appendChild(listNode);
          }

          var contains = contains$1(Element.fromDom(toElm), Element.fromDom(fromElm));
          var nestedLists = contains ? dom.getParents(fromElm, NodeType.isListNode, toElm) : [];
          dom.remove(fromElm);
          each(nestedLists, function (list) {
            if (NodeType.isEmpty(dom, list) && list !== dom.getRoot()) {
              dom.remove(list);
            }
          });
        };

        var mergeIntoEmptyLi = function mergeIntoEmptyLi(editor, fromLi, toLi) {
          editor.dom.$(toLi).empty();
          mergeLiElements(editor.dom, fromLi, toLi);
          editor.selection.setCursorLocation(toLi);
        };

        var mergeForward = function mergeForward(editor, rng, fromLi, toLi) {
          var dom = editor.dom;

          if (dom.isEmpty(toLi)) {
            mergeIntoEmptyLi(editor, fromLi, toLi);
          } else {
            var bookmark = Bookmark.createBookmark(rng);
            mergeLiElements(dom, fromLi, toLi);
            editor.selection.setRng(Bookmark.resolveBookmark(bookmark));
          }
        };

        var mergeBackward = function mergeBackward(editor, rng, fromLi, toLi) {
          var bookmark = Bookmark.createBookmark(rng);
          mergeLiElements(editor.dom, fromLi, toLi);
          var resolvedBookmark = Bookmark.resolveBookmark(bookmark);
          editor.selection.setRng(resolvedBookmark);
        };

        var backspaceDeleteFromListToListCaret = function backspaceDeleteFromListToListCaret(editor, isForward) {
          var dom = editor.dom,
              selection = editor.selection;
          var selectionStartElm = selection.getStart();
          var root = Selection.getClosestListRootElm(editor, selectionStartElm);
          var li = dom.getParent(selection.getStart(), 'LI', root);
          var ul, rng, otherLi;

          if (li) {
            ul = li.parentNode;

            if (ul === editor.getBody() && NodeType.isEmpty(dom, ul)) {
              return true;
            }

            rng = Range.normalizeRange(selection.getRng(true));
            otherLi = dom.getParent(findNextCaretContainer(editor, rng, isForward, root), 'LI', root);

            if (otherLi && otherLi !== li) {
              if (isForward) {
                mergeForward(editor, rng, otherLi, li);
              } else {
                mergeBackward(editor, rng, li, otherLi);
              }

              return true;
            } else if (!otherLi) {
              if (!isForward) {
                flattenListSelection(editor);
                return true;
              }
            }
          }

          return false;
        };

        var removeBlock = function removeBlock(dom, block, root) {
          var parentBlock = dom.getParent(block.parentNode, dom.isBlock, root);
          dom.remove(block);

          if (parentBlock && dom.isEmpty(parentBlock)) {
            dom.remove(parentBlock);
          }
        };

        var backspaceDeleteIntoListCaret = function backspaceDeleteIntoListCaret(editor, isForward) {
          var dom = editor.dom;
          var selectionStartElm = editor.selection.getStart();
          var root = Selection.getClosestListRootElm(editor, selectionStartElm);
          var block = dom.getParent(selectionStartElm, dom.isBlock, root);

          if (block && dom.isEmpty(block)) {
            var rng = Range.normalizeRange(editor.selection.getRng(true));
            var otherLi_1 = dom.getParent(findNextCaretContainer(editor, rng, isForward, root), 'LI', root);

            if (otherLi_1) {
              editor.undoManager.transact(function () {
                removeBlock(dom, block, root);
                ToggleList.mergeWithAdjacentLists(dom, otherLi_1.parentNode);
                editor.selection.select(otherLi_1, true);
                editor.selection.collapse(isForward);
              });
              return true;
            }
          }

          return false;
        };

        var backspaceDeleteCaret = function backspaceDeleteCaret(editor, isForward) {
          return backspaceDeleteFromListToListCaret(editor, isForward) || backspaceDeleteIntoListCaret(editor, isForward);
        };

        var backspaceDeleteRange = function backspaceDeleteRange(editor) {
          var selectionStartElm = editor.selection.getStart();
          var root = Selection.getClosestListRootElm(editor, selectionStartElm);
          var startListParent = editor.dom.getParent(selectionStartElm, 'LI,DT,DD', root);

          if (startListParent || Selection.getSelectedListItems(editor).length > 0) {
            editor.undoManager.transact(function () {
              editor.execCommand('Delete');
              NormalizeLists.normalizeLists(editor.dom, editor.getBody());
            });
            return true;
          }

          return false;
        };

        var backspaceDelete = function backspaceDelete(editor, isForward) {
          return editor.selection.isCollapsed() ? backspaceDeleteCaret(editor, isForward) : backspaceDeleteRange(editor);
        };

        var setup = function setup(editor) {
          editor.on('keydown', function (e) {
            if (e.keyCode === global$3.BACKSPACE) {
              if (backspaceDelete(editor, false)) {
                e.preventDefault();
              }
            } else if (e.keyCode === global$3.DELETE) {
              if (backspaceDelete(editor, true)) {
                e.preventDefault();
              }
            }
          });
        };

        var Delete = {
          setup: setup,
          backspaceDelete: backspaceDelete
        };

        var get = function get(editor) {
          return {
            backspaceDelete: function backspaceDelete(isForward) {
              Delete.backspaceDelete(editor, isForward);
            }
          };
        };

        var Api = {
          get: get
        };

        var queryListCommandState = function queryListCommandState(editor, listName) {
          return function () {
            var parentList = editor.dom.getParent(editor.selection.getStart(), 'UL,OL,DL');
            return parentList && parentList.nodeName === listName;
          };
        };

        var register = function register(editor) {
          editor.on('BeforeExecCommand', function (e) {
            var cmd = e.command.toLowerCase();

            if (cmd === 'indent') {
              indentListSelection(editor);
            } else if (cmd === 'outdent') {
              outdentListSelection(editor);
            }
          });
          editor.addCommand('InsertUnorderedList', function (ui, detail) {
            ToggleList.toggleList(editor, 'UL', detail);
          });
          editor.addCommand('InsertOrderedList', function (ui, detail) {
            ToggleList.toggleList(editor, 'OL', detail);
          });
          editor.addCommand('InsertDefinitionList', function (ui, detail) {
            ToggleList.toggleList(editor, 'DL', detail);
          });
          editor.addCommand('RemoveList', function () {
            flattenListSelection(editor);
          });
          editor.addQueryStateHandler('InsertUnorderedList', queryListCommandState(editor, 'UL'));
          editor.addQueryStateHandler('InsertOrderedList', queryListCommandState(editor, 'OL'));
          editor.addQueryStateHandler('InsertDefinitionList', queryListCommandState(editor, 'DL'));
        };

        var Commands = {
          register: register
        };

        var shouldIndentOnTab = function shouldIndentOnTab(editor) {
          return editor.getParam('lists_indent_on_tab', true);
        };

        var Settings = {
          shouldIndentOnTab: shouldIndentOnTab
        };

        var setupTabKey = function setupTabKey(editor) {
          editor.on('keydown', function (e) {
            if (e.keyCode !== global$3.TAB || global$3.metaKeyPressed(e)) {
              return;
            }

            editor.undoManager.transact(function () {
              if (e.shiftKey ? outdentListSelection(editor) : indentListSelection(editor)) {
                e.preventDefault();
              }
            });
          });
        };

        var setup$1 = function setup$1(editor) {
          if (Settings.shouldIndentOnTab(editor)) {
            setupTabKey(editor);
          }

          Delete.setup(editor);
        };

        var Keyboard = {
          setup: setup$1
        };

        var findIndex = function findIndex(list, predicate) {
          for (var index = 0; index < list.length; index++) {
            var element = list[index];

            if (predicate(element)) {
              return index;
            }
          }

          return -1;
        };

        var listState = function listState(editor, listName) {
          return function (e) {
            var ctrl = e.control;
            editor.on('NodeChange', function (e) {
              var tableCellIndex = findIndex(e.parents, NodeType.isTableCellNode);
              var parents = tableCellIndex !== -1 ? e.parents.slice(0, tableCellIndex) : e.parents;
              var lists = global$5.grep(parents, NodeType.isListNode);
              ctrl.active(lists.length > 0 && lists[0].nodeName === listName);
            });
          };
        };

        var register$1 = function register$1(editor) {
          var hasPlugin = function hasPlugin(editor, plugin) {
            var plugins = editor.settings.plugins ? editor.settings.plugins : '';
            return global$5.inArray(plugins.split(/[ ,]/), plugin) !== -1;
          };

          if (!hasPlugin(editor, 'advlist')) {
            editor.addButton('numlist', {
              active: false,
              title: 'Numbered list',
              cmd: 'InsertOrderedList',
              onPostRender: listState(editor, 'OL')
            });
            editor.addButton('bullist', {
              active: false,
              title: 'Bullet list',
              cmd: 'InsertUnorderedList',
              onPostRender: listState(editor, 'UL')
            });
          }

          editor.addButton('indent', {
            icon: 'indent',
            title: 'Increase indent',
            cmd: 'Indent'
          });
        };

        var Buttons = {
          register: register$1
        };
        global.add('lists', function (editor) {
          Keyboard.setup(editor);
          Buttons.register(editor);
          Commands.register(editor);
          return Api.get(editor);
        });

        function Plugin() {}

        return Plugin;
      }(window);
    })();
    /***/

  },

  /***/
  "./node_modules/tinymce/plugins/paste/plugin.js":
  /*!******************************************************!*\
    !*** ./node_modules/tinymce/plugins/paste/plugin.js ***!
    \******************************************************/

  /*! no static exports found */

  /***/
  function node_modulesTinymcePluginsPastePluginJs(module, exports) {
    (function () {
      var paste = function (domGlobals) {
        'use strict';

        var Cell = function Cell(initial) {
          var value = initial;

          var get = function get() {
            return value;
          };

          var set = function set(v) {
            value = v;
          };

          var clone = function clone() {
            return Cell(get());
          };

          return {
            get: get,
            set: set,
            clone: clone
          };
        };

        var global = tinymce.util.Tools.resolve('tinymce.PluginManager');

        var hasProPlugin = function hasProPlugin(editor) {
          if (/(^|[ ,])powerpaste([, ]|$)/.test(editor.settings.plugins) && global.get('powerpaste')) {
            if (typeof domGlobals.window.console !== 'undefined' && domGlobals.window.console.log) {
              domGlobals.window.console.log('PowerPaste is incompatible with Paste plugin! Remove \'paste\' from the \'plugins\' option.');
            }

            return true;
          } else {
            return false;
          }
        };

        var DetectProPlugin = {
          hasProPlugin: hasProPlugin
        };

        var get = function get(clipboard, quirks) {
          return {
            clipboard: clipboard,
            quirks: quirks
          };
        };

        var Api = {
          get: get
        };

        var firePastePreProcess = function firePastePreProcess(editor, html, internal, isWordHtml) {
          return editor.fire('PastePreProcess', {
            content: html,
            internal: internal,
            wordContent: isWordHtml
          });
        };

        var firePastePostProcess = function firePastePostProcess(editor, node, internal, isWordHtml) {
          return editor.fire('PastePostProcess', {
            node: node,
            internal: internal,
            wordContent: isWordHtml
          });
        };

        var firePastePlainTextToggle = function firePastePlainTextToggle(editor, state) {
          return editor.fire('PastePlainTextToggle', {
            state: state
          });
        };

        var firePaste = function firePaste(editor, ieFake) {
          return editor.fire('paste', {
            ieFake: ieFake
          });
        };

        var Events = {
          firePastePreProcess: firePastePreProcess,
          firePastePostProcess: firePastePostProcess,
          firePastePlainTextToggle: firePastePlainTextToggle,
          firePaste: firePaste
        };

        var shouldPlainTextInform = function shouldPlainTextInform(editor) {
          return editor.getParam('paste_plaintext_inform', true);
        };

        var shouldBlockDrop = function shouldBlockDrop(editor) {
          return editor.getParam('paste_block_drop', false);
        };

        var shouldPasteDataImages = function shouldPasteDataImages(editor) {
          return editor.getParam('paste_data_images', false);
        };

        var shouldFilterDrop = function shouldFilterDrop(editor) {
          return editor.getParam('paste_filter_drop', true);
        };

        var getPreProcess = function getPreProcess(editor) {
          return editor.getParam('paste_preprocess');
        };

        var getPostProcess = function getPostProcess(editor) {
          return editor.getParam('paste_postprocess');
        };

        var getWebkitStyles = function getWebkitStyles(editor) {
          return editor.getParam('paste_webkit_styles');
        };

        var shouldRemoveWebKitStyles = function shouldRemoveWebKitStyles(editor) {
          return editor.getParam('paste_remove_styles_if_webkit', true);
        };

        var shouldMergeFormats = function shouldMergeFormats(editor) {
          return editor.getParam('paste_merge_formats', true);
        };

        var isSmartPasteEnabled = function isSmartPasteEnabled(editor) {
          return editor.getParam('smart_paste', true);
        };

        var isPasteAsTextEnabled = function isPasteAsTextEnabled(editor) {
          return editor.getParam('paste_as_text', false);
        };

        var getRetainStyleProps = function getRetainStyleProps(editor) {
          return editor.getParam('paste_retain_style_properties');
        };

        var getWordValidElements = function getWordValidElements(editor) {
          var defaultValidElements = '-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,' + '-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,' + 'td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody';
          return editor.getParam('paste_word_valid_elements', defaultValidElements);
        };

        var shouldConvertWordFakeLists = function shouldConvertWordFakeLists(editor) {
          return editor.getParam('paste_convert_word_fake_lists', true);
        };

        var shouldUseDefaultFilters = function shouldUseDefaultFilters(editor) {
          return editor.getParam('paste_enable_default_filters', true);
        };

        var Settings = {
          shouldPlainTextInform: shouldPlainTextInform,
          shouldBlockDrop: shouldBlockDrop,
          shouldPasteDataImages: shouldPasteDataImages,
          shouldFilterDrop: shouldFilterDrop,
          getPreProcess: getPreProcess,
          getPostProcess: getPostProcess,
          getWebkitStyles: getWebkitStyles,
          shouldRemoveWebKitStyles: shouldRemoveWebKitStyles,
          shouldMergeFormats: shouldMergeFormats,
          isSmartPasteEnabled: isSmartPasteEnabled,
          isPasteAsTextEnabled: isPasteAsTextEnabled,
          getRetainStyleProps: getRetainStyleProps,
          getWordValidElements: getWordValidElements,
          shouldConvertWordFakeLists: shouldConvertWordFakeLists,
          shouldUseDefaultFilters: shouldUseDefaultFilters
        };

        var shouldInformUserAboutPlainText = function shouldInformUserAboutPlainText(editor, userIsInformedState) {
          return userIsInformedState.get() === false && Settings.shouldPlainTextInform(editor);
        };

        var displayNotification = function displayNotification(editor, message) {
          editor.notificationManager.open({
            text: editor.translate(message),
            type: 'info'
          });
        };

        var togglePlainTextPaste = function togglePlainTextPaste(editor, clipboard, userIsInformedState) {
          if (clipboard.pasteFormat.get() === 'text') {
            clipboard.pasteFormat.set('html');
            Events.firePastePlainTextToggle(editor, false);
          } else {
            clipboard.pasteFormat.set('text');
            Events.firePastePlainTextToggle(editor, true);

            if (shouldInformUserAboutPlainText(editor, userIsInformedState)) {
              displayNotification(editor, 'Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off.');
              userIsInformedState.set(true);
            }
          }

          editor.focus();
        };

        var Actions = {
          togglePlainTextPaste: togglePlainTextPaste
        };

        var register = function register(editor, clipboard, userIsInformedState) {
          editor.addCommand('mceTogglePlainTextPaste', function () {
            Actions.togglePlainTextPaste(editor, clipboard, userIsInformedState);
          });
          editor.addCommand('mceInsertClipboardContent', function (ui, value) {
            if (value.content) {
              clipboard.pasteHtml(value.content, value.internal);
            }

            if (value.text) {
              clipboard.pasteText(value.text);
            }
          });
        };

        var Commands = {
          register: register
        };
        var global$1 = tinymce.util.Tools.resolve('tinymce.Env');
        var global$2 = tinymce.util.Tools.resolve('tinymce.util.Delay');
        var global$3 = tinymce.util.Tools.resolve('tinymce.util.Tools');
        var global$4 = tinymce.util.Tools.resolve('tinymce.util.VK');
        var internalMimeType = 'x-tinymce/html';
        var internalMark = '<!-- ' + internalMimeType + ' -->';

        var mark = function mark(html) {
          return internalMark + html;
        };

        var unmark = function unmark(html) {
          return html.replace(internalMark, '');
        };

        var isMarked = function isMarked(html) {
          return html.indexOf(internalMark) !== -1;
        };

        var InternalHtml = {
          mark: mark,
          unmark: unmark,
          isMarked: isMarked,
          internalHtmlMime: function internalHtmlMime() {
            return internalMimeType;
          }
        };
        var global$5 = tinymce.util.Tools.resolve('tinymce.html.Entities');

        var isPlainText = function isPlainText(text) {
          return !/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(text);
        };

        var toBRs = function toBRs(text) {
          return text.replace(/\r?\n/g, '<br>');
        };

        var openContainer = function openContainer(rootTag, rootAttrs) {
          var key;
          var attrs = [];
          var tag = '<' + rootTag;

          if (typeof rootAttrs === 'object') {
            for (key in rootAttrs) {
              if (rootAttrs.hasOwnProperty(key)) {
                attrs.push(key + '="' + global$5.encodeAllRaw(rootAttrs[key]) + '"');
              }
            }

            if (attrs.length) {
              tag += ' ' + attrs.join(' ');
            }
          }

          return tag + '>';
        };

        var toBlockElements = function toBlockElements(text, rootTag, rootAttrs) {
          var blocks = text.split(/\n\n/);
          var tagOpen = openContainer(rootTag, rootAttrs);
          var tagClose = '</' + rootTag + '>';
          var paragraphs = global$3.map(blocks, function (p) {
            return p.split(/\n/).join('<br />');
          });

          var stitch = function stitch(p) {
            return tagOpen + p + tagClose;
          };

          return paragraphs.length === 1 ? paragraphs[0] : global$3.map(paragraphs, stitch).join('');
        };

        var convert = function convert(text, rootTag, rootAttrs) {
          return rootTag ? toBlockElements(text, rootTag, rootAttrs) : toBRs(text);
        };

        var Newlines = {
          isPlainText: isPlainText,
          convert: convert,
          toBRs: toBRs,
          toBlockElements: toBlockElements
        };
        var global$6 = tinymce.util.Tools.resolve('tinymce.html.DomParser');
        var global$7 = tinymce.util.Tools.resolve('tinymce.html.Node');
        var global$8 = tinymce.util.Tools.resolve('tinymce.html.Schema');
        var global$9 = tinymce.util.Tools.resolve('tinymce.html.Serializer');

        function filter(content, items) {
          global$3.each(items, function (v) {
            if (v.constructor === RegExp) {
              content = content.replace(v, '');
            } else {
              content = content.replace(v[0], v[1]);
            }
          });
          return content;
        }

        function innerText(html) {
          var schema = global$8();
          var domParser = global$6({}, schema);
          var text = '';
          var shortEndedElements = schema.getShortEndedElements();
          var ignoreElements = global$3.makeMap('script noscript style textarea video audio iframe object', ' ');
          var blockElements = schema.getBlockElements();

          function walk(node) {
            var name = node.name,
                currentNode = node;

            if (name === 'br') {
              text += '\n';
              return;
            }

            if (name === 'wbr') {
              return;
            }

            if (shortEndedElements[name]) {
              text += ' ';
            }

            if (ignoreElements[name]) {
              text += ' ';
              return;
            }

            if (node.type === 3) {
              text += node.value;
            }

            if (!node.shortEnded) {
              if (node = node.firstChild) {
                do {
                  walk(node);
                } while (node = node.next);
              }
            }

            if (blockElements[name] && currentNode.next) {
              text += '\n';

              if (name === 'p') {
                text += '\n';
              }
            }
          }

          html = filter(html, [/<!\[[^\]]+\]>/g]);
          walk(domParser.parse(html));
          return text;
        }

        function trimHtml(html) {
          function trimSpaces(all, s1, s2) {
            if (!s1 && !s2) {
              return ' ';
            }

            return '\xA0';
          }

          html = filter(html, [/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig, /<!--StartFragment-->|<!--EndFragment-->/g, [/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g, trimSpaces], /<br class="Apple-interchange-newline">/g, /<br>$/i]);
          return html;
        }

        function createIdGenerator(prefix) {
          var count = 0;
          return function () {
            return prefix + count++;
          };
        }

        var isMsEdge = function isMsEdge() {
          return domGlobals.navigator.userAgent.indexOf(' Edge/') !== -1;
        };

        var Utils = {
          filter: filter,
          innerText: innerText,
          trimHtml: trimHtml,
          createIdGenerator: createIdGenerator,
          isMsEdge: isMsEdge
        };

        function isWordContent(content) {
          return /<font face="Times New Roman"|class="?Mso|style="[^"]*\bmso-|style='[^'']*\bmso-|w:WordDocument/i.test(content) || /class="OutlineElement/.test(content) || /id="?docs\-internal\-guid\-/.test(content);
        }

        function isNumericList(text) {
          var found, patterns;
          patterns = [/^[IVXLMCD]{1,2}\.[ \u00a0]/, /^[ivxlmcd]{1,2}\.[ \u00a0]/, /^[a-z]{1,2}[\.\)][ \u00a0]/, /^[A-Z]{1,2}[\.\)][ \u00a0]/, /^[0-9]+\.[ \u00a0]/, /^[\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]+\.[ \u00a0]/, /^[\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d\u62fe]+\.[ \u00a0]/];
          text = text.replace(/^[\u00a0 ]+/, '');
          global$3.each(patterns, function (pattern) {
            if (pattern.test(text)) {
              found = true;
              return false;
            }
          });
          return found;
        }

        function isBulletList(text) {
          return /^[\s\u00a0]*[\u2022\u00b7\u00a7\u25CF]\s*/.test(text);
        }

        function convertFakeListsToProperLists(node) {
          var currentListNode,
              prevListNode,
              lastLevel = 1;

          function getText(node) {
            var txt = '';

            if (node.type === 3) {
              return node.value;
            }

            if (node = node.firstChild) {
              do {
                txt += getText(node);
              } while (node = node.next);
            }

            return txt;
          }

          function trimListStart(node, regExp) {
            if (node.type === 3) {
              if (regExp.test(node.value)) {
                node.value = node.value.replace(regExp, '');
                return false;
              }
            }

            if (node = node.firstChild) {
              do {
                if (!trimListStart(node, regExp)) {
                  return false;
                }
              } while (node = node.next);
            }

            return true;
          }

          function removeIgnoredNodes(node) {
            if (node._listIgnore) {
              node.remove();
              return;
            }

            if (node = node.firstChild) {
              do {
                removeIgnoredNodes(node);
              } while (node = node.next);
            }
          }

          function convertParagraphToLi(paragraphNode, listName, start) {
            var level = paragraphNode._listLevel || lastLevel;

            if (level !== lastLevel) {
              if (level < lastLevel) {
                if (currentListNode) {
                  currentListNode = currentListNode.parent.parent;
                }
              } else {
                prevListNode = currentListNode;
                currentListNode = null;
              }
            }

            if (!currentListNode || currentListNode.name !== listName) {
              prevListNode = prevListNode || currentListNode;
              currentListNode = new global$7(listName, 1);

              if (start > 1) {
                currentListNode.attr('start', '' + start);
              }

              paragraphNode.wrap(currentListNode);
            } else {
              currentListNode.append(paragraphNode);
            }

            paragraphNode.name = 'li';

            if (level > lastLevel && prevListNode) {
              prevListNode.lastChild.append(currentListNode);
            }

            lastLevel = level;
            removeIgnoredNodes(paragraphNode);
            trimListStart(paragraphNode, /^\u00a0+/);
            trimListStart(paragraphNode, /^\s*([\u2022\u00b7\u00a7\u25CF]|\w+\.)/);
            trimListStart(paragraphNode, /^\u00a0+/);
          }

          var elements = [];
          var child = node.firstChild;

          while (typeof child !== 'undefined' && child !== null) {
            elements.push(child);
            child = child.walk();

            if (child !== null) {
              while (typeof child !== 'undefined' && child.parent !== node) {
                child = child.walk();
              }
            }
          }

          for (var i = 0; i < elements.length; i++) {
            node = elements[i];

            if (node.name === 'p' && node.firstChild) {
              var nodeText = getText(node);

              if (isBulletList(nodeText)) {
                convertParagraphToLi(node, 'ul');
                continue;
              }

              if (isNumericList(nodeText)) {
                var matches = /([0-9]+)\./.exec(nodeText);
                var start = 1;

                if (matches) {
                  start = parseInt(matches[1], 10);
                }

                convertParagraphToLi(node, 'ol', start);
                continue;
              }

              if (node._listLevel) {
                convertParagraphToLi(node, 'ul', 1);
                continue;
              }

              currentListNode = null;
            } else {
              prevListNode = currentListNode;
              currentListNode = null;
            }
          }
        }

        function filterStyles(editor, validStyles, node, styleValue) {
          var outputStyles = {},
              matches;
          var styles = editor.dom.parseStyle(styleValue);
          global$3.each(styles, function (value, name) {
            switch (name) {
              case 'mso-list':
                matches = /\w+ \w+([0-9]+)/i.exec(styleValue);

                if (matches) {
                  node._listLevel = parseInt(matches[1], 10);
                }

                if (/Ignore/i.test(value) && node.firstChild) {
                  node._listIgnore = true;
                  node.firstChild._listIgnore = true;
                }

                break;

              case 'horiz-align':
                name = 'text-align';
                break;

              case 'vert-align':
                name = 'vertical-align';
                break;

              case 'font-color':
              case 'mso-foreground':
                name = 'color';
                break;

              case 'mso-background':
              case 'mso-highlight':
                name = 'background';
                break;

              case 'font-weight':
              case 'font-style':
                if (value !== 'normal') {
                  outputStyles[name] = value;
                }

                return;

              case 'mso-element':
                if (/^(comment|comment-list)$/i.test(value)) {
                  node.remove();
                  return;
                }

                break;
            }

            if (name.indexOf('mso-comment') === 0) {
              node.remove();
              return;
            }

            if (name.indexOf('mso-') === 0) {
              return;
            }

            if (Settings.getRetainStyleProps(editor) === 'all' || validStyles && validStyles[name]) {
              outputStyles[name] = value;
            }
          });

          if (/(bold)/i.test(outputStyles['font-weight'])) {
            delete outputStyles['font-weight'];
            node.wrap(new global$7('b', 1));
          }

          if (/(italic)/i.test(outputStyles['font-style'])) {
            delete outputStyles['font-style'];
            node.wrap(new global$7('i', 1));
          }

          outputStyles = editor.dom.serializeStyle(outputStyles, node.name);

          if (outputStyles) {
            return outputStyles;
          }

          return null;
        }

        var filterWordContent = function filterWordContent(editor, content) {
          var retainStyleProperties, validStyles;
          retainStyleProperties = Settings.getRetainStyleProps(editor);

          if (retainStyleProperties) {
            validStyles = global$3.makeMap(retainStyleProperties.split(/[, ]/));
          }

          content = Utils.filter(content, [/<br class="?Apple-interchange-newline"?>/gi, /<b[^>]+id="?docs-internal-[^>]*>/gi, /<!--[\s\S]+?-->/gi, /<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi, [/<(\/?)s>/gi, '<$1strike>'], [/&nbsp;/gi, '\xA0'], [/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi, function (str, spaces) {
            return spaces.length > 0 ? spaces.replace(/./, ' ').slice(Math.floor(spaces.length / 2)).split('').join('\xA0') : '';
          }]]);
          var validElements = Settings.getWordValidElements(editor);
          var schema = global$8({
            valid_elements: validElements,
            valid_children: '-li[p]'
          });
          global$3.each(schema.elements, function (rule) {
            if (!rule.attributes["class"]) {
              rule.attributes["class"] = {};
              rule.attributesOrder.push('class');
            }

            if (!rule.attributes.style) {
              rule.attributes.style = {};
              rule.attributesOrder.push('style');
            }
          });
          var domParser = global$6({}, schema);
          domParser.addAttributeFilter('style', function (nodes) {
            var i = nodes.length,
                node;

            while (i--) {
              node = nodes[i];
              node.attr('style', filterStyles(editor, validStyles, node, node.attr('style')));

              if (node.name === 'span' && node.parent && !node.attributes.length) {
                node.unwrap();
              }
            }
          });
          domParser.addAttributeFilter('class', function (nodes) {
            var i = nodes.length,
                node,
                className;

            while (i--) {
              node = nodes[i];
              className = node.attr('class');

              if (/^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(className)) {
                node.remove();
              }

              node.attr('class', null);
            }
          });
          domParser.addNodeFilter('del', function (nodes) {
            var i = nodes.length;

            while (i--) {
              nodes[i].remove();
            }
          });
          domParser.addNodeFilter('a', function (nodes) {
            var i = nodes.length,
                node,
                href,
                name;

            while (i--) {
              node = nodes[i];
              href = node.attr('href');
              name = node.attr('name');

              if (href && href.indexOf('#_msocom_') !== -1) {
                node.remove();
                continue;
              }

              if (href && href.indexOf('file://') === 0) {
                href = href.split('#')[1];

                if (href) {
                  href = '#' + href;
                }
              }

              if (!href && !name) {
                node.unwrap();
              } else {
                if (name && !/^_?(?:toc|edn|ftn)/i.test(name)) {
                  node.unwrap();
                  continue;
                }

                node.attr({
                  href: href,
                  name: name
                });
              }
            }
          });
          var rootNode = domParser.parse(content);

          if (Settings.shouldConvertWordFakeLists(editor)) {
            convertFakeListsToProperLists(rootNode);
          }

          content = global$9({
            validate: editor.settings.validate
          }, schema).serialize(rootNode);
          return content;
        };

        var preProcess = function preProcess(editor, content) {
          return Settings.shouldUseDefaultFilters(editor) ? filterWordContent(editor, content) : content;
        };

        var WordFilter = {
          preProcess: preProcess,
          isWordContent: isWordContent
        };

        var processResult = function processResult(content, cancelled) {
          return {
            content: content,
            cancelled: cancelled
          };
        };

        var postProcessFilter = function postProcessFilter(editor, html, internal, isWordHtml) {
          var tempBody = editor.dom.create('div', {
            style: 'display:none'
          }, html);
          var postProcessArgs = Events.firePastePostProcess(editor, tempBody, internal, isWordHtml);
          return processResult(postProcessArgs.node.innerHTML, postProcessArgs.isDefaultPrevented());
        };

        var filterContent = function filterContent(editor, content, internal, isWordHtml) {
          var preProcessArgs = Events.firePastePreProcess(editor, content, internal, isWordHtml);

          if (editor.hasEventListeners('PastePostProcess') && !preProcessArgs.isDefaultPrevented()) {
            return postProcessFilter(editor, preProcessArgs.content, internal, isWordHtml);
          } else {
            return processResult(preProcessArgs.content, preProcessArgs.isDefaultPrevented());
          }
        };

        var process = function process(editor, html, internal) {
          var isWordHtml = WordFilter.isWordContent(html);
          var content = isWordHtml ? WordFilter.preProcess(editor, html) : html;
          return filterContent(editor, content, internal, isWordHtml);
        };

        var ProcessFilters = {
          process: process
        };

        var removeMeta = function removeMeta(editor, html) {
          var body = editor.dom.create('body', {}, html);
          global$3.each(body.querySelectorAll('meta'), function (elm) {
            return elm.parentNode.removeChild(elm);
          });
          return body.innerHTML;
        };

        var pasteHtml = function pasteHtml(editor, html) {
          editor.insertContent(removeMeta(editor, html), {
            merge: Settings.shouldMergeFormats(editor),
            paste: true
          });
          return true;
        };

        var isAbsoluteUrl = function isAbsoluteUrl(url) {
          return /^https?:\/\/[\w\?\-\/+=.&%@~#]+$/i.test(url);
        };

        var isImageUrl = function isImageUrl(url) {
          return isAbsoluteUrl(url) && /.(gif|jpe?g|png)$/.test(url);
        };

        var createImage = function createImage(editor, url, pasteHtmlFn) {
          editor.undoManager.extra(function () {
            pasteHtmlFn(editor, url);
          }, function () {
            editor.insertContent('<img src="' + url + '">');
          });
          return true;
        };

        var createLink = function createLink(editor, url, pasteHtmlFn) {
          editor.undoManager.extra(function () {
            pasteHtmlFn(editor, url);
          }, function () {
            editor.execCommand('mceInsertLink', false, url);
          });
          return true;
        };

        var linkSelection = function linkSelection(editor, html, pasteHtmlFn) {
          return editor.selection.isCollapsed() === false && isAbsoluteUrl(html) ? createLink(editor, html, pasteHtmlFn) : false;
        };

        var insertImage = function insertImage(editor, html, pasteHtmlFn) {
          return isImageUrl(html) ? createImage(editor, html, pasteHtmlFn) : false;
        };

        var smartInsertContent = function smartInsertContent(editor, html) {
          global$3.each([linkSelection, insertImage, pasteHtml], function (action) {
            return action(editor, html, pasteHtml) !== true;
          });
        };

        var insertContent = function insertContent(editor, html) {
          if (Settings.isSmartPasteEnabled(editor) === false) {
            pasteHtml(editor, html);
          } else {
            smartInsertContent(editor, html);
          }
        };

        var SmartPaste = {
          isImageUrl: isImageUrl,
          isAbsoluteUrl: isAbsoluteUrl,
          insertContent: insertContent
        };

        var constant = function constant(value) {
          return function () {
            return value;
          };
        };

        function curry(fn) {
          var initialArgs = [];

          for (var _i = 1; _i < arguments.length; _i++) {
            initialArgs[_i - 1] = arguments[_i];
          }

          return function () {
            var restArgs = [];

            for (var _i = 0; _i < arguments.length; _i++) {
              restArgs[_i] = arguments[_i];
            }

            var all = initialArgs.concat(restArgs);
            return fn.apply(null, all);
          };
        }

        var never = constant(false);
        var always = constant(true);
        var never$1 = never;
        var always$1 = always;

        var none = function none() {
          return NONE;
        };

        var NONE = function () {
          var eq = function eq(o) {
            return o.isNone();
          };

          var call = function call(thunk) {
            return thunk();
          };

          var id = function id(n) {
            return n;
          };

          var noop = function noop() {};

          var nul = function nul() {
            return null;
          };

          var undef = function undef() {
            return undefined;
          };

          var me = {
            fold: function fold(n, s) {
              return n();
            },
            is: never$1,
            isSome: never$1,
            isNone: always$1,
            getOr: id,
            getOrThunk: call,
            getOrDie: function getOrDie(msg) {
              throw new Error(msg || 'error: getOrDie called on none.');
            },
            getOrNull: nul,
            getOrUndefined: undef,
            or: id,
            orThunk: call,
            map: none,
            ap: none,
            each: noop,
            bind: none,
            flatten: none,
            exists: never$1,
            forall: always$1,
            filter: none,
            equals: eq,
            equals_: eq,
            toArray: function toArray() {
              return [];
            },
            toString: constant('none()')
          };
          if (Object.freeze) Object.freeze(me);
          return me;
        }();

        var some = function some(a) {
          var constant_a = function constant_a() {
            return a;
          };

          var self = function self() {
            return me;
          };

          var map = function map(f) {
            return some(f(a));
          };

          var bind = function bind(f) {
            return f(a);
          };

          var me = {
            fold: function fold(n, s) {
              return s(a);
            },
            is: function is(v) {
              return a === v;
            },
            isSome: always$1,
            isNone: never$1,
            getOr: constant_a,
            getOrThunk: constant_a,
            getOrDie: constant_a,
            getOrNull: constant_a,
            getOrUndefined: constant_a,
            or: self,
            orThunk: self,
            map: map,
            ap: function ap(optfab) {
              return optfab.fold(none, function (fab) {
                return some(fab(a));
              });
            },
            each: function each(f) {
              f(a);
            },
            bind: bind,
            flatten: constant_a,
            exists: bind,
            forall: bind,
            filter: function filter(f) {
              return f(a) ? me : NONE;
            },
            equals: function equals(o) {
              return o.is(a);
            },
            equals_: function equals_(o, elementEq) {
              return o.fold(never$1, function (b) {
                return elementEq(a, b);
              });
            },
            toArray: function toArray() {
              return [a];
            },
            toString: function toString() {
              return 'some(' + a + ')';
            }
          };
          return me;
        };

        var from = function from(value) {
          return value === null || value === undefined ? NONE : some(value);
        };

        var Option = {
          some: some,
          none: none,
          from: from
        };

        var typeOf = function typeOf(x) {
          if (x === null) return 'null';
          var t = typeof x;
          if (t === 'object' && (Array.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'Array')) return 'array';
          if (t === 'object' && (String.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'String')) return 'string';
          return t;
        };

        var isType = function isType(type) {
          return function (value) {
            return typeOf(value) === type;
          };
        };

        var isFunction = isType('function');
        var slice = Array.prototype.slice;

        var map = function map(xs, f) {
          var len = xs.length;
          var r = new Array(len);

          for (var i = 0; i < len; i++) {
            var x = xs[i];
            r[i] = f(x, i, xs);
          }

          return r;
        };

        var each = function each(xs, f) {
          for (var i = 0, len = xs.length; i < len; i++) {
            var x = xs[i];
            f(x, i, xs);
          }
        };

        var filter$1 = function filter$1(xs, pred) {
          var r = [];

          for (var i = 0, len = xs.length; i < len; i++) {
            var x = xs[i];

            if (pred(x, i, xs)) {
              r.push(x);
            }
          }

          return r;
        };

        var from$1 = isFunction(Array.from) ? Array.from : function (x) {
          return slice.call(x);
        };

        var nu = function nu(baseFn) {
          var data = Option.none();
          var callbacks = [];

          var map = function map(f) {
            return nu(function (nCallback) {
              get(function (data) {
                nCallback(f(data));
              });
            });
          };

          var get = function get(nCallback) {
            if (isReady()) call(nCallback);else callbacks.push(nCallback);
          };

          var set = function set(x) {
            data = Option.some(x);
            run(callbacks);
            callbacks = [];
          };

          var isReady = function isReady() {
            return data.isSome();
          };

          var run = function run(cbs) {
            each(cbs, call);
          };

          var call = function call(cb) {
            data.each(function (x) {
              domGlobals.setTimeout(function () {
                cb(x);
              }, 0);
            });
          };

          baseFn(set);
          return {
            get: get,
            map: map,
            isReady: isReady
          };
        };

        var pure = function pure(a) {
          return nu(function (callback) {
            callback(a);
          });
        };

        var LazyValue = {
          nu: nu,
          pure: pure
        };

        var bounce = function bounce(f) {
          return function () {
            var args = [];

            for (var _i = 0; _i < arguments.length; _i++) {
              args[_i] = arguments[_i];
            }

            var me = this;
            domGlobals.setTimeout(function () {
              f.apply(me, args);
            }, 0);
          };
        };

        var nu$1 = function nu$1(baseFn) {
          var get = function get(callback) {
            baseFn(bounce(callback));
          };

          var map = function map(fab) {
            return nu$1(function (callback) {
              get(function (a) {
                var value = fab(a);
                callback(value);
              });
            });
          };

          var bind = function bind(aFutureB) {
            return nu$1(function (callback) {
              get(function (a) {
                aFutureB(a).get(callback);
              });
            });
          };

          var anonBind = function anonBind(futureB) {
            return nu$1(function (callback) {
              get(function (a) {
                futureB.get(callback);
              });
            });
          };

          var toLazy = function toLazy() {
            return LazyValue.nu(get);
          };

          var toCached = function toCached() {
            var cache = null;
            return nu$1(function (callback) {
              if (cache === null) {
                cache = toLazy();
              }

              cache.get(callback);
            });
          };

          return {
            map: map,
            bind: bind,
            anonBind: anonBind,
            toLazy: toLazy,
            toCached: toCached,
            get: get
          };
        };

        var pure$1 = function pure$1(a) {
          return nu$1(function (callback) {
            callback(a);
          });
        };

        var Future = {
          nu: nu$1,
          pure: pure$1
        };

        var par = function par(asyncValues, nu) {
          return nu(function (callback) {
            var r = [];
            var count = 0;

            var cb = function cb(i) {
              return function (value) {
                r[i] = value;
                count++;

                if (count >= asyncValues.length) {
                  callback(r);
                }
              };
            };

            if (asyncValues.length === 0) {
              callback([]);
            } else {
              each(asyncValues, function (asyncValue, i) {
                asyncValue.get(cb(i));
              });
            }
          });
        };

        var par$1 = function par$1(futures) {
          return par(futures, Future.nu);
        };

        var mapM = function mapM(array, fn) {
          var futures = map(array, fn);
          return par$1(futures);
        };

        var value = function value() {
          var subject = Cell(Option.none());

          var clear = function clear() {
            subject.set(Option.none());
          };

          var set = function set(s) {
            subject.set(Option.some(s));
          };

          var on = function on(f) {
            subject.get().each(f);
          };

          var isSet = function isSet() {
            return subject.get().isSome();
          };

          return {
            clear: clear,
            set: set,
            isSet: isSet,
            on: on
          };
        };

        var pasteHtml$1 = function pasteHtml$1(editor, html, internalFlag) {
          var internal = internalFlag ? internalFlag : InternalHtml.isMarked(html);
          var args = ProcessFilters.process(editor, InternalHtml.unmark(html), internal);

          if (args.cancelled === false) {
            SmartPaste.insertContent(editor, args.content);
          }
        };

        var _pasteText = function pasteText(editor, text) {
          text = editor.dom.encode(text).replace(/\r\n/g, '\n');
          text = Newlines.convert(text, editor.settings.forced_root_block, editor.settings.forced_root_block_attrs);
          pasteHtml$1(editor, text, false);
        };

        var getDataTransferItems = function getDataTransferItems(dataTransfer) {
          var items = {};
          var mceInternalUrlPrefix = 'data:text/mce-internal,';

          if (dataTransfer) {
            if (dataTransfer.getData) {
              var legacyText = dataTransfer.getData('Text');

              if (legacyText && legacyText.length > 0) {
                if (legacyText.indexOf(mceInternalUrlPrefix) === -1) {
                  items['text/plain'] = legacyText;
                }
              }
            }

            if (dataTransfer.types) {
              for (var i = 0; i < dataTransfer.types.length; i++) {
                var contentType = dataTransfer.types[i];

                try {
                  items[contentType] = dataTransfer.getData(contentType);
                } catch (ex) {
                  items[contentType] = '';
                }
              }
            }
          }

          return items;
        };

        var getClipboardContent = function getClipboardContent(editor, clipboardEvent) {
          var content = getDataTransferItems(clipboardEvent.clipboardData || editor.getDoc().dataTransfer);
          return Utils.isMsEdge() ? global$3.extend(content, {
            'text/html': ''
          }) : content;
        };

        var hasContentType = function hasContentType(clipboardContent, mimeType) {
          return mimeType in clipboardContent && clipboardContent[mimeType].length > 0;
        };

        var hasHtmlOrText = function hasHtmlOrText(content) {
          return hasContentType(content, 'text/html') || hasContentType(content, 'text/plain');
        };

        var getBase64FromUri = function getBase64FromUri(uri) {
          var idx;
          idx = uri.indexOf(',');

          if (idx !== -1) {
            return uri.substr(idx + 1);
          }

          return null;
        };

        var isValidDataUriImage = function isValidDataUriImage(settings, imgElm) {
          return settings.images_dataimg_filter ? settings.images_dataimg_filter(imgElm) : true;
        };

        var extractFilename = function extractFilename(editor, str) {
          var m = str.match(/([\s\S]+?)\.(?:jpeg|jpg|png|gif)$/i);
          return m ? editor.dom.encode(m[1]) : null;
        };

        var uniqueId = Utils.createIdGenerator('mceclip');

        var pasteImage = function pasteImage(editor, imageItem) {
          var base64 = getBase64FromUri(imageItem.uri);
          var id = uniqueId();
          var name = editor.settings.images_reuse_filename && imageItem.blob.name ? extractFilename(editor, imageItem.blob.name) : id;
          var img = new domGlobals.Image();
          img.src = imageItem.uri;

          if (isValidDataUriImage(editor.settings, img)) {
            var blobCache = editor.editorUpload.blobCache;
            var blobInfo = void 0,
                existingBlobInfo = void 0;
            existingBlobInfo = blobCache.findFirst(function (cachedBlobInfo) {
              return cachedBlobInfo.base64() === base64;
            });

            if (!existingBlobInfo) {
              blobInfo = blobCache.create(id, imageItem.blob, base64, name);
              blobCache.add(blobInfo);
            } else {
              blobInfo = existingBlobInfo;
            }

            pasteHtml$1(editor, '<img src="' + blobInfo.blobUri() + '">', false);
          } else {
            pasteHtml$1(editor, '<img src="' + imageItem.uri + '">', false);
          }
        };

        var isClipboardEvent = function isClipboardEvent(event) {
          return event.type === 'paste';
        };

        var readBlobsAsDataUris = function readBlobsAsDataUris(items) {
          return mapM(items, function (item) {
            return Future.nu(function (resolve) {
              var blob = item.getAsFile ? item.getAsFile() : item;
              var reader = new window.FileReader();

              reader.onload = function () {
                resolve({
                  blob: blob,
                  uri: reader.result
                });
              };

              reader.readAsDataURL(blob);
            });
          });
        };

        var getImagesFromDataTransfer = function getImagesFromDataTransfer(dataTransfer) {
          var items = dataTransfer.items ? map(from$1(dataTransfer.items), function (item) {
            return item.getAsFile();
          }) : [];
          var files = dataTransfer.files ? from$1(dataTransfer.files) : [];
          var images = filter$1(items.length > 0 ? items : files, function (file) {
            return /^image\/(jpeg|png|gif|bmp)$/.test(file.type);
          });
          return images;
        };

        var _pasteImageData = function pasteImageData(editor, e, rng) {
          var dataTransfer = isClipboardEvent(e) ? e.clipboardData : e.dataTransfer;

          if (editor.settings.paste_data_images && dataTransfer) {
            var images = getImagesFromDataTransfer(dataTransfer);

            if (images.length > 0) {
              e.preventDefault();
              readBlobsAsDataUris(images).get(function (blobResults) {
                if (rng) {
                  editor.selection.setRng(rng);
                }

                each(blobResults, function (result) {
                  pasteImage(editor, result);
                });
              });
              return true;
            }
          }

          return false;
        };

        var isBrokenAndroidClipboardEvent = function isBrokenAndroidClipboardEvent(e) {
          var clipboardData = e.clipboardData;
          return domGlobals.navigator.userAgent.indexOf('Android') !== -1 && clipboardData && clipboardData.items && clipboardData.items.length === 0;
        };

        var isKeyboardPasteEvent = function isKeyboardPasteEvent(e) {
          return global$4.metaKeyPressed(e) && e.keyCode === 86 || e.shiftKey && e.keyCode === 45;
        };

        var registerEventHandlers = function registerEventHandlers(editor, pasteBin, pasteFormat) {
          var keyboardPasteEvent = value();
          var keyboardPastePlainTextState;
          editor.on('keydown', function (e) {
            function removePasteBinOnKeyUp(e) {
              if (isKeyboardPasteEvent(e) && !e.isDefaultPrevented()) {
                pasteBin.remove();
              }
            }

            if (isKeyboardPasteEvent(e) && !e.isDefaultPrevented()) {
              keyboardPastePlainTextState = e.shiftKey && e.keyCode === 86;

              if (keyboardPastePlainTextState && global$1.webkit && domGlobals.navigator.userAgent.indexOf('Version/') !== -1) {
                return;
              }

              e.stopImmediatePropagation();
              keyboardPasteEvent.set(e);
              window.setTimeout(function () {
                keyboardPasteEvent.clear();
              }, 100);

              if (global$1.ie && keyboardPastePlainTextState) {
                e.preventDefault();
                Events.firePaste(editor, true);
                return;
              }

              pasteBin.remove();
              pasteBin.create();
              editor.once('keyup', removePasteBinOnKeyUp);
              editor.once('paste', function () {
                editor.off('keyup', removePasteBinOnKeyUp);
              });
            }
          });

          function insertClipboardContent(clipboardContent, isKeyBoardPaste, plainTextMode, internal) {
            var content, isPlainTextHtml;

            if (hasContentType(clipboardContent, 'text/html')) {
              content = clipboardContent['text/html'];
            } else {
              content = pasteBin.getHtml();
              internal = internal ? internal : InternalHtml.isMarked(content);

              if (pasteBin.isDefaultContent(content)) {
                plainTextMode = true;
              }
            }

            content = Utils.trimHtml(content);
            pasteBin.remove();
            isPlainTextHtml = internal === false && Newlines.isPlainText(content);

            if (!content.length || isPlainTextHtml) {
              plainTextMode = true;
            }

            if (plainTextMode) {
              if (hasContentType(clipboardContent, 'text/plain') && isPlainTextHtml) {
                content = clipboardContent['text/plain'];
              } else {
                content = Utils.innerText(content);
              }
            }

            if (pasteBin.isDefaultContent(content)) {
              if (!isKeyBoardPaste) {
                editor.windowManager.alert('Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents.');
              }

              return;
            }

            if (plainTextMode) {
              _pasteText(editor, content);
            } else {
              pasteHtml$1(editor, content, internal);
            }
          }

          var getLastRng = function getLastRng() {
            return pasteBin.getLastRng() || editor.selection.getRng();
          };

          editor.on('paste', function (e) {
            var isKeyBoardPaste = keyboardPasteEvent.isSet();
            var clipboardContent = getClipboardContent(editor, e);
            var plainTextMode = pasteFormat.get() === 'text' || keyboardPastePlainTextState;
            var internal = hasContentType(clipboardContent, InternalHtml.internalHtmlMime());
            keyboardPastePlainTextState = false;

            if (e.isDefaultPrevented() || isBrokenAndroidClipboardEvent(e)) {
              pasteBin.remove();
              return;
            }

            if (!hasHtmlOrText(clipboardContent) && _pasteImageData(editor, e, getLastRng())) {
              pasteBin.remove();
              return;
            }

            if (!isKeyBoardPaste) {
              e.preventDefault();
            }

            if (global$1.ie && (!isKeyBoardPaste || e.ieFake) && !hasContentType(clipboardContent, 'text/html')) {
              pasteBin.create();
              editor.dom.bind(pasteBin.getEl(), 'paste', function (e) {
                e.stopPropagation();
              });
              editor.getDoc().execCommand('Paste', false, null);
              clipboardContent['text/html'] = pasteBin.getHtml();
            }

            if (hasContentType(clipboardContent, 'text/html')) {
              e.preventDefault();

              if (!internal) {
                internal = InternalHtml.isMarked(clipboardContent['text/html']);
              }

              insertClipboardContent(clipboardContent, isKeyBoardPaste, plainTextMode, internal);
            } else {
              global$2.setEditorTimeout(editor, function () {
                insertClipboardContent(clipboardContent, isKeyBoardPaste, plainTextMode, internal);
              }, 0);
            }
          });
        };

        var registerEventsAndFilters = function registerEventsAndFilters(editor, pasteBin, pasteFormat) {
          registerEventHandlers(editor, pasteBin, pasteFormat);
          var src;
          editor.parser.addNodeFilter('img', function (nodes, name, args) {
            var isPasteInsert = function isPasteInsert(args) {
              return args.data && args.data.paste === true;
            };

            var remove = function remove(node) {
              if (!node.attr('data-mce-object') && src !== global$1.transparentSrc) {
                node.remove();
              }
            };

            var isWebKitFakeUrl = function isWebKitFakeUrl(src) {
              return src.indexOf('webkit-fake-url') === 0;
            };

            var isDataUri = function isDataUri(src) {
              return src.indexOf('data:') === 0;
            };

            if (!editor.settings.paste_data_images && isPasteInsert(args)) {
              var i = nodes.length;

              while (i--) {
                src = nodes[i].attributes.map.src;

                if (!src) {
                  continue;
                }

                if (isWebKitFakeUrl(src)) {
                  remove(nodes[i]);
                } else if (!editor.settings.allow_html_data_urls && isDataUri(src)) {
                  remove(nodes[i]);
                }
              }
            }
          });
        };

        var getPasteBinParent = function getPasteBinParent(editor) {
          return global$1.ie && editor.inline ? domGlobals.document.body : editor.getBody();
        };

        var isExternalPasteBin = function isExternalPasteBin(editor) {
          return getPasteBinParent(editor) !== editor.getBody();
        };

        var delegatePasteEvents = function delegatePasteEvents(editor, pasteBinElm, pasteBinDefaultContent) {
          if (isExternalPasteBin(editor)) {
            editor.dom.bind(pasteBinElm, 'paste keyup', function (e) {
              if (!_isDefault(editor, pasteBinDefaultContent)) {
                editor.fire('paste');
              }
            });
          }
        };

        var _create = function create(editor, lastRngCell, pasteBinDefaultContent) {
          var dom = editor.dom,
              body = editor.getBody();
          var pasteBinElm;
          lastRngCell.set(editor.selection.getRng());
          pasteBinElm = editor.dom.add(getPasteBinParent(editor), 'div', {
            'id': 'mcepastebin',
            'class': 'mce-pastebin',
            'contentEditable': true,
            'data-mce-bogus': 'all',
            'style': 'position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0'
          }, pasteBinDefaultContent);

          if (global$1.ie || global$1.gecko) {
            dom.setStyle(pasteBinElm, 'left', dom.getStyle(body, 'direction', true) === 'rtl' ? 65535 : -65535);
          }

          dom.bind(pasteBinElm, 'beforedeactivate focusin focusout', function (e) {
            e.stopPropagation();
          });
          delegatePasteEvents(editor, pasteBinElm, pasteBinDefaultContent);
          pasteBinElm.focus();
          editor.selection.select(pasteBinElm, true);
        };

        var _remove = function remove(editor, lastRngCell) {
          if (_getEl(editor)) {
            var pasteBinClone = void 0;
            var lastRng = lastRngCell.get();

            while (pasteBinClone = editor.dom.get('mcepastebin')) {
              editor.dom.remove(pasteBinClone);
              editor.dom.unbind(pasteBinClone);
            }

            if (lastRng) {
              editor.selection.setRng(lastRng);
            }
          }

          lastRngCell.set(null);
        };

        var _getEl = function getEl(editor) {
          return editor.dom.get('mcepastebin');
        };

        var _getHtml = function getHtml(editor) {
          var pasteBinElm, pasteBinClones, i, dirtyWrappers, cleanWrapper;

          var copyAndRemove = function copyAndRemove(toElm, fromElm) {
            toElm.appendChild(fromElm);
            editor.dom.remove(fromElm, true);
          };

          pasteBinClones = global$3.grep(getPasteBinParent(editor).childNodes, function (elm) {
            return elm.id === 'mcepastebin';
          });
          pasteBinElm = pasteBinClones.shift();
          global$3.each(pasteBinClones, function (pasteBinClone) {
            copyAndRemove(pasteBinElm, pasteBinClone);
          });
          dirtyWrappers = editor.dom.select('div[id=mcepastebin]', pasteBinElm);

          for (i = dirtyWrappers.length - 1; i >= 0; i--) {
            cleanWrapper = editor.dom.create('div');
            pasteBinElm.insertBefore(cleanWrapper, dirtyWrappers[i]);
            copyAndRemove(cleanWrapper, dirtyWrappers[i]);
          }

          return pasteBinElm ? pasteBinElm.innerHTML : '';
        };

        var _getLastRng = function getLastRng(lastRng) {
          return lastRng.get();
        };

        var _isDefaultContent = function isDefaultContent(pasteBinDefaultContent, content) {
          return content === pasteBinDefaultContent;
        };

        var isPasteBin = function isPasteBin(elm) {
          return elm && elm.id === 'mcepastebin';
        };

        var _isDefault = function isDefault(editor, pasteBinDefaultContent) {
          var pasteBinElm = _getEl(editor);

          return isPasteBin(pasteBinElm) && _isDefaultContent(pasteBinDefaultContent, pasteBinElm.innerHTML);
        };

        var PasteBin = function PasteBin(editor) {
          var lastRng = Cell(null);
          var pasteBinDefaultContent = '%MCEPASTEBIN%';
          return {
            create: function create() {
              return _create(editor, lastRng, pasteBinDefaultContent);
            },
            remove: function remove() {
              return _remove(editor, lastRng);
            },
            getEl: function getEl() {
              return _getEl(editor);
            },
            getHtml: function getHtml() {
              return _getHtml(editor);
            },
            getLastRng: function getLastRng() {
              return _getLastRng(lastRng);
            },
            isDefault: function isDefault() {
              return _isDefault(editor, pasteBinDefaultContent);
            },
            isDefaultContent: function isDefaultContent(content) {
              return _isDefaultContent(pasteBinDefaultContent, content);
            }
          };
        };

        var Clipboard = function Clipboard(editor, pasteFormat) {
          var pasteBin = PasteBin(editor);
          editor.on('preInit', function () {
            return registerEventsAndFilters(editor, pasteBin, pasteFormat);
          });
          return {
            pasteFormat: pasteFormat,
            pasteHtml: function pasteHtml(html, internalFlag) {
              return pasteHtml$1(editor, html, internalFlag);
            },
            pasteText: function pasteText(text) {
              return _pasteText(editor, text);
            },
            pasteImageData: function pasteImageData(e, rng) {
              return _pasteImageData(editor, e, rng);
            },
            getDataTransferItems: getDataTransferItems,
            hasHtmlOrText: hasHtmlOrText,
            hasContentType: hasContentType
          };
        };

        var noop = function noop() {};

        var hasWorkingClipboardApi = function hasWorkingClipboardApi(clipboardData) {
          return global$1.iOS === false && clipboardData !== undefined && typeof clipboardData.setData === 'function' && Utils.isMsEdge() !== true;
        };

        var setHtml5Clipboard = function setHtml5Clipboard(clipboardData, html, text) {
          if (hasWorkingClipboardApi(clipboardData)) {
            try {
              clipboardData.clearData();
              clipboardData.setData('text/html', html);
              clipboardData.setData('text/plain', text);
              clipboardData.setData(InternalHtml.internalHtmlMime(), html);
              return true;
            } catch (e) {
              return false;
            }
          } else {
            return false;
          }
        };

        var setClipboardData = function setClipboardData(evt, data, fallback, done) {
          if (setHtml5Clipboard(evt.clipboardData, data.html, data.text)) {
            evt.preventDefault();
            done();
          } else {
            fallback(data.html, done);
          }
        };

        var fallback = function fallback(editor) {
          return function (html, done) {
            var markedHtml = InternalHtml.mark(html);
            var outer = editor.dom.create('div', {
              'contenteditable': 'false',
              'data-mce-bogus': 'all'
            });
            var inner = editor.dom.create('div', {
              contenteditable: 'true'
            }, markedHtml);
            editor.dom.setStyles(outer, {
              position: 'fixed',
              top: '0',
              left: '-3000px',
              width: '1000px',
              overflow: 'hidden'
            });
            outer.appendChild(inner);
            editor.dom.add(editor.getBody(), outer);
            var range = editor.selection.getRng();
            inner.focus();
            var offscreenRange = editor.dom.createRng();
            offscreenRange.selectNodeContents(inner);
            editor.selection.setRng(offscreenRange);
            setTimeout(function () {
              editor.selection.setRng(range);
              outer.parentNode.removeChild(outer);
              done();
            }, 0);
          };
        };

        var getData = function getData(editor) {
          return {
            html: editor.selection.getContent({
              contextual: true
            }),
            text: editor.selection.getContent({
              format: 'text'
            })
          };
        };

        var isTableSelection = function isTableSelection(editor) {
          return !!editor.dom.getParent(editor.selection.getStart(), 'td[data-mce-selected],th[data-mce-selected]', editor.getBody());
        };

        var hasSelectedContent = function hasSelectedContent(editor) {
          return !editor.selection.isCollapsed() || isTableSelection(editor);
        };

        var cut = function cut(editor) {
          return function (evt) {
            if (hasSelectedContent(editor)) {
              setClipboardData(evt, getData(editor), fallback(editor), function () {
                setTimeout(function () {
                  editor.execCommand('Delete');
                }, 0);
              });
            }
          };
        };

        var copy = function copy(editor) {
          return function (evt) {
            if (hasSelectedContent(editor)) {
              setClipboardData(evt, getData(editor), fallback(editor), noop);
            }
          };
        };

        var register$1 = function register$1(editor) {
          editor.on('cut', cut(editor));
          editor.on('copy', copy(editor));
        };

        var CutCopy = {
          register: register$1
        };
        var global$a = tinymce.util.Tools.resolve('tinymce.dom.RangeUtils');

        var getCaretRangeFromEvent = function getCaretRangeFromEvent(editor, e) {
          return global$a.getCaretRangeFromPoint(e.clientX, e.clientY, editor.getDoc());
        };

        var isPlainTextFileUrl = function isPlainTextFileUrl(content) {
          var plainTextContent = content['text/plain'];
          return plainTextContent ? plainTextContent.indexOf('file://') === 0 : false;
        };

        var setFocusedRange = function setFocusedRange(editor, rng) {
          editor.focus();
          editor.selection.setRng(rng);
        };

        var setup = function setup(editor, clipboard, draggingInternallyState) {
          if (Settings.shouldBlockDrop(editor)) {
            editor.on('dragend dragover draggesture dragdrop drop drag', function (e) {
              e.preventDefault();
              e.stopPropagation();
            });
          }

          if (!Settings.shouldPasteDataImages(editor)) {
            editor.on('drop', function (e) {
              var dataTransfer = e.dataTransfer;

              if (dataTransfer && dataTransfer.files && dataTransfer.files.length > 0) {
                e.preventDefault();
              }
            });
          }

          editor.on('drop', function (e) {
            var dropContent, rng;
            rng = getCaretRangeFromEvent(editor, e);

            if (e.isDefaultPrevented() || draggingInternallyState.get()) {
              return;
            }

            dropContent = clipboard.getDataTransferItems(e.dataTransfer);
            var internal = clipboard.hasContentType(dropContent, InternalHtml.internalHtmlMime());

            if ((!clipboard.hasHtmlOrText(dropContent) || isPlainTextFileUrl(dropContent)) && clipboard.pasteImageData(e, rng)) {
              return;
            }

            if (rng && Settings.shouldFilterDrop(editor)) {
              var content_1 = dropContent['mce-internal'] || dropContent['text/html'] || dropContent['text/plain'];

              if (content_1) {
                e.preventDefault();
                global$2.setEditorTimeout(editor, function () {
                  editor.undoManager.transact(function () {
                    if (dropContent['mce-internal']) {
                      editor.execCommand('Delete');
                    }

                    setFocusedRange(editor, rng);
                    content_1 = Utils.trimHtml(content_1);

                    if (!dropContent['text/html']) {
                      clipboard.pasteText(content_1);
                    } else {
                      clipboard.pasteHtml(content_1, internal);
                    }
                  });
                });
              }
            }
          });
          editor.on('dragstart', function (e) {
            draggingInternallyState.set(true);
          });
          editor.on('dragover dragend', function (e) {
            if (Settings.shouldPasteDataImages(editor) && draggingInternallyState.get() === false) {
              e.preventDefault();
              setFocusedRange(editor, getCaretRangeFromEvent(editor, e));
            }

            if (e.type === 'dragend') {
              draggingInternallyState.set(false);
            }
          });
        };

        var DragDrop = {
          setup: setup
        };

        var setup$1 = function setup$1(editor) {
          var plugin = editor.plugins.paste;
          var preProcess = Settings.getPreProcess(editor);

          if (preProcess) {
            editor.on('PastePreProcess', function (e) {
              preProcess.call(plugin, plugin, e);
            });
          }

          var postProcess = Settings.getPostProcess(editor);

          if (postProcess) {
            editor.on('PastePostProcess', function (e) {
              postProcess.call(plugin, plugin, e);
            });
          }
        };

        var PrePostProcess = {
          setup: setup$1
        };

        function addPreProcessFilter(editor, filterFunc) {
          editor.on('PastePreProcess', function (e) {
            e.content = filterFunc(editor, e.content, e.internal, e.wordContent);
          });
        }

        function addPostProcessFilter(editor, filterFunc) {
          editor.on('PastePostProcess', function (e) {
            filterFunc(editor, e.node);
          });
        }

        function removeExplorerBrElementsAfterBlocks(editor, html) {
          if (!WordFilter.isWordContent(html)) {
            return html;
          }

          var blockElements = [];
          global$3.each(editor.schema.getBlockElements(), function (block, blockName) {
            blockElements.push(blockName);
          });
          var explorerBlocksRegExp = new RegExp('(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*(<\\/?(' + blockElements.join('|') + ')[^>]*>)(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*', 'g');
          html = Utils.filter(html, [[explorerBlocksRegExp, '$1']]);
          html = Utils.filter(html, [[/<br><br>/g, '<BR><BR>'], [/<br>/g, ' '], [/<BR><BR>/g, '<br>']]);
          return html;
        }

        function removeWebKitStyles(editor, content, internal, isWordHtml) {
          if (isWordHtml || internal) {
            return content;
          }

          var webKitStylesSetting = Settings.getWebkitStyles(editor);
          var webKitStyles;

          if (Settings.shouldRemoveWebKitStyles(editor) === false || webKitStylesSetting === 'all') {
            return content;
          }

          if (webKitStylesSetting) {
            webKitStyles = webKitStylesSetting.split(/[, ]/);
          }

          if (webKitStyles) {
            var dom_1 = editor.dom,
                node_1 = editor.selection.getNode();
            content = content.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi, function (all, before, value, after) {
              var inputStyles = dom_1.parseStyle(dom_1.decode(value));
              var outputStyles = {};

              if (webKitStyles === 'none') {
                return before + after;
              }

              for (var i = 0; i < webKitStyles.length; i++) {
                var inputValue = inputStyles[webKitStyles[i]],
                    currentValue = dom_1.getStyle(node_1, webKitStyles[i], true);

                if (/color/.test(webKitStyles[i])) {
                  inputValue = dom_1.toHex(inputValue);
                  currentValue = dom_1.toHex(currentValue);
                }

                if (currentValue !== inputValue) {
                  outputStyles[webKitStyles[i]] = inputValue;
                }
              }

              outputStyles = dom_1.serializeStyle(outputStyles, 'span');

              if (outputStyles) {
                return before + ' style="' + outputStyles + '"' + after;
              }

              return before + after;
            });
          } else {
            content = content.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi, '$1$3');
          }

          content = content.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi, function (all, before, value, after) {
            return before + ' style="' + value + '"' + after;
          });
          return content;
        }

        function removeUnderlineAndFontInAnchor(editor, root) {
          editor.$('a', root).find('font,u').each(function (i, node) {
            editor.dom.remove(node, true);
          });
        }

        var setup$2 = function setup$2(editor) {
          if (global$1.webkit) {
            addPreProcessFilter(editor, removeWebKitStyles);
          }

          if (global$1.ie) {
            addPreProcessFilter(editor, removeExplorerBrElementsAfterBlocks);
            addPostProcessFilter(editor, removeUnderlineAndFontInAnchor);
          }
        };

        var Quirks = {
          setup: setup$2
        };

        var stateChange = function stateChange(editor, clipboard, e) {
          var ctrl = e.control;
          ctrl.active(clipboard.pasteFormat.get() === 'text');
          editor.on('PastePlainTextToggle', function (e) {
            ctrl.active(e.state);
          });
        };

        var register$2 = function register$2(editor, clipboard) {
          var postRender = curry(stateChange, editor, clipboard);
          editor.addButton('pastetext', {
            active: false,
            icon: 'pastetext',
            tooltip: 'Paste as text',
            cmd: 'mceTogglePlainTextPaste',
            onPostRender: postRender
          });
          editor.addMenuItem('pastetext', {
            text: 'Paste as text',
            selectable: true,
            active: clipboard.pasteFormat,
            cmd: 'mceTogglePlainTextPaste',
            onPostRender: postRender
          });
        };

        var Buttons = {
          register: register$2
        };
        global.add('paste', function (editor) {
          if (DetectProPlugin.hasProPlugin(editor) === false) {
            var userIsInformedState = Cell(false);
            var draggingInternallyState = Cell(false);
            var pasteFormat = Cell(Settings.isPasteAsTextEnabled(editor) ? 'text' : 'html');
            var clipboard = Clipboard(editor, pasteFormat);
            var quirks = Quirks.setup(editor);
            Buttons.register(editor, clipboard);
            Commands.register(editor, clipboard, userIsInformedState);
            PrePostProcess.setup(editor);
            CutCopy.register(editor);
            DragDrop.setup(editor, clipboard, draggingInternallyState);
            return Api.get(clipboard, quirks);
          }
        });

        function Plugin() {}

        return Plugin;
      }(window);
    })();
    /***/

  },

  /***/
  "./node_modules/tinymce/plugins/table/plugin.js":
  /*!******************************************************!*\
    !*** ./node_modules/tinymce/plugins/table/plugin.js ***!
    \******************************************************/

  /*! no static exports found */

  /***/
  function node_modulesTinymcePluginsTablePluginJs(module, exports) {
    (function () {
      var table = function (domGlobals) {
        'use strict';

        var global = tinymce.util.Tools.resolve('tinymce.PluginManager');

        var noop = function noop() {};

        var compose = function compose(fa, fb) {
          return function () {
            var args = [];

            for (var _i = 0; _i < arguments.length; _i++) {
              args[_i] = arguments[_i];
            }

            return fa(fb.apply(null, args));
          };
        };

        var constant = function constant(value) {
          return function () {
            return value;
          };
        };

        var identity = function identity(x) {
          return x;
        };

        function curry(fn) {
          var initialArgs = [];

          for (var _i = 1; _i < arguments.length; _i++) {
            initialArgs[_i - 1] = arguments[_i];
          }

          return function () {
            var restArgs = [];

            for (var _i = 0; _i < arguments.length; _i++) {
              restArgs[_i] = arguments[_i];
            }

            var all = initialArgs.concat(restArgs);
            return fn.apply(null, all);
          };
        }

        var not = function not(f) {
          return function () {
            var args = [];

            for (var _i = 0; _i < arguments.length; _i++) {
              args[_i] = arguments[_i];
            }

            return !f.apply(null, args);
          };
        };

        var die = function die(msg) {
          return function () {
            throw new Error(msg);
          };
        };

        var apply = function apply(f) {
          return f();
        };

        var never = constant(false);
        var always = constant(true);
        var never$1 = never;
        var always$1 = always;

        var none = function none() {
          return NONE;
        };

        var NONE = function () {
          var eq = function eq(o) {
            return o.isNone();
          };

          var call = function call(thunk) {
            return thunk();
          };

          var id = function id(n) {
            return n;
          };

          var noop = function noop() {};

          var nul = function nul() {
            return null;
          };

          var undef = function undef() {
            return undefined;
          };

          var me = {
            fold: function fold(n, s) {
              return n();
            },
            is: never$1,
            isSome: never$1,
            isNone: always$1,
            getOr: id,
            getOrThunk: call,
            getOrDie: function getOrDie(msg) {
              throw new Error(msg || 'error: getOrDie called on none.');
            },
            getOrNull: nul,
            getOrUndefined: undef,
            or: id,
            orThunk: call,
            map: none,
            ap: none,
            each: noop,
            bind: none,
            flatten: none,
            exists: never$1,
            forall: always$1,
            filter: none,
            equals: eq,
            equals_: eq,
            toArray: function toArray() {
              return [];
            },
            toString: constant('none()')
          };
          if (Object.freeze) Object.freeze(me);
          return me;
        }();

        var some = function some(a) {
          var constant_a = function constant_a() {
            return a;
          };

          var self = function self() {
            return me;
          };

          var map = function map(f) {
            return some(f(a));
          };

          var bind = function bind(f) {
            return f(a);
          };

          var me = {
            fold: function fold(n, s) {
              return s(a);
            },
            is: function is(v) {
              return a === v;
            },
            isSome: always$1,
            isNone: never$1,
            getOr: constant_a,
            getOrThunk: constant_a,
            getOrDie: constant_a,
            getOrNull: constant_a,
            getOrUndefined: constant_a,
            or: self,
            orThunk: self,
            map: map,
            ap: function ap(optfab) {
              return optfab.fold(none, function (fab) {
                return some(fab(a));
              });
            },
            each: function each(f) {
              f(a);
            },
            bind: bind,
            flatten: constant_a,
            exists: bind,
            forall: bind,
            filter: function filter(f) {
              return f(a) ? me : NONE;
            },
            equals: function equals(o) {
              return o.is(a);
            },
            equals_: function equals_(o, elementEq) {
              return o.fold(never$1, function (b) {
                return elementEq(a, b);
              });
            },
            toArray: function toArray() {
              return [a];
            },
            toString: function toString() {
              return 'some(' + a + ')';
            }
          };
          return me;
        };

        var from = function from(value) {
          return value === null || value === undefined ? NONE : some(value);
        };

        var Option = {
          some: some,
          none: none,
          from: from
        };

        var typeOf = function typeOf(x) {
          if (x === null) return 'null';
          var t = typeof x;
          if (t === 'object' && (Array.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'Array')) return 'array';
          if (t === 'object' && (String.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'String')) return 'string';
          return t;
        };

        var isType = function isType(type) {
          return function (value) {
            return typeOf(value) === type;
          };
        };

        var isString = isType('string');
        var isArray = isType('array');
        var isBoolean = isType('boolean');
        var isFunction = isType('function');
        var isNumber = isType('number');
        var slice = Array.prototype.slice;

        var rawIndexOf = function () {
          var pIndexOf = Array.prototype.indexOf;

          var fastIndex = function fastIndex(xs, x) {
            return pIndexOf.call(xs, x);
          };

          var slowIndex = function slowIndex(xs, x) {
            return slowIndexOf(xs, x);
          };

          return pIndexOf === undefined ? slowIndex : fastIndex;
        }();

        var contains = function contains(xs, x) {
          return rawIndexOf(xs, x) > -1;
        };

        var exists = function exists(xs, pred) {
          return findIndex(xs, pred).isSome();
        };

        var map = function map(xs, f) {
          var len = xs.length;
          var r = new Array(len);

          for (var i = 0; i < len; i++) {
            var x = xs[i];
            r[i] = f(x, i, xs);
          }

          return r;
        };

        var each = function each(xs, f) {
          for (var i = 0, len = xs.length; i < len; i++) {
            var x = xs[i];
            f(x, i, xs);
          }
        };

        var eachr = function eachr(xs, f) {
          for (var i = xs.length - 1; i >= 0; i--) {
            var x = xs[i];
            f(x, i, xs);
          }
        };

        var filter = function filter(xs, pred) {
          var r = [];

          for (var i = 0, len = xs.length; i < len; i++) {
            var x = xs[i];

            if (pred(x, i, xs)) {
              r.push(x);
            }
          }

          return r;
        };

        var foldr = function foldr(xs, f, acc) {
          eachr(xs, function (x) {
            acc = f(acc, x);
          });
          return acc;
        };

        var foldl = function foldl(xs, f, acc) {
          each(xs, function (x) {
            acc = f(acc, x);
          });
          return acc;
        };

        var find = function find(xs, pred) {
          for (var i = 0, len = xs.length; i < len; i++) {
            var x = xs[i];

            if (pred(x, i, xs)) {
              return Option.some(x);
            }
          }

          return Option.none();
        };

        var findIndex = function findIndex(xs, pred) {
          for (var i = 0, len = xs.length; i < len; i++) {
            var x = xs[i];

            if (pred(x, i, xs)) {
              return Option.some(i);
            }
          }

          return Option.none();
        };

        var slowIndexOf = function slowIndexOf(xs, x) {
          for (var i = 0, len = xs.length; i < len; ++i) {
            if (xs[i] === x) {
              return i;
            }
          }

          return -1;
        };

        var push = Array.prototype.push;

        var flatten = function flatten(xs) {
          var r = [];

          for (var i = 0, len = xs.length; i < len; ++i) {
            if (!Array.prototype.isPrototypeOf(xs[i])) throw new Error('Arr.flatten item ' + i + ' was not an array, input: ' + xs);
            push.apply(r, xs[i]);
          }

          return r;
        };

        var bind = function bind(xs, f) {
          var output = map(xs, f);
          return flatten(output);
        };

        var forall = function forall(xs, pred) {
          for (var i = 0, len = xs.length; i < len; ++i) {
            var x = xs[i];

            if (pred(x, i, xs) !== true) {
              return false;
            }
          }

          return true;
        };

        var reverse = function reverse(xs) {
          var r = slice.call(xs, 0);
          r.reverse();
          return r;
        };

        var last = function last(xs) {
          return xs.length === 0 ? Option.none() : Option.some(xs[xs.length - 1]);
        };

        var from$1 = isFunction(Array.from) ? Array.from : function (x) {
          return slice.call(x);
        };
        var keys = Object.keys;

        var each$1 = function each$1(obj, f) {
          var props = keys(obj);

          for (var k = 0, len = props.length; k < len; k++) {
            var i = props[k];
            var x = obj[i];
            f(x, i, obj);
          }
        };

        var map$1 = function map$1(obj, f) {
          return tupleMap(obj, function (x, i, obj) {
            return {
              k: i,
              v: f(x, i, obj)
            };
          });
        };

        var tupleMap = function tupleMap(obj, f) {
          var r = {};
          each$1(obj, function (x, i) {
            var tuple = f(x, i, obj);
            r[tuple.k] = tuple.v;
          });
          return r;
        };

        var Immutable = function Immutable() {
          var fields = [];

          for (var _i = 0; _i < arguments.length; _i++) {
            fields[_i] = arguments[_i];
          }

          return function () {
            var values = [];

            for (var _i = 0; _i < arguments.length; _i++) {
              values[_i] = arguments[_i];
            }

            if (fields.length !== values.length) {
              throw new Error('Wrong number of arguments to struct. Expected "[' + fields.length + ']", got ' + values.length + ' arguments');
            }

            var struct = {};
            each(fields, function (name, i) {
              struct[name] = constant(values[i]);
            });
            return struct;
          };
        };

        var sort = function sort(arr) {
          return arr.slice(0).sort();
        };

        var reqMessage = function reqMessage(required, keys) {
          throw new Error('All required keys (' + sort(required).join(', ') + ') were not specified. Specified keys were: ' + sort(keys).join(', ') + '.');
        };

        var unsuppMessage = function unsuppMessage(unsupported) {
          throw new Error('Unsupported keys for object: ' + sort(unsupported).join(', '));
        };

        var validateStrArr = function validateStrArr(label, array) {
          if (!isArray(array)) throw new Error('The ' + label + ' fields must be an array. Was: ' + array + '.');
          each(array, function (a) {
            if (!isString(a)) throw new Error('The value ' + a + ' in the ' + label + ' fields was not a string.');
          });
        };

        var invalidTypeMessage = function invalidTypeMessage(incorrect, type) {
          throw new Error('All values need to be of type: ' + type + '. Keys (' + sort(incorrect).join(', ') + ') were not.');
        };

        var checkDupes = function checkDupes(everything) {
          var sorted = sort(everything);
          var dupe = find(sorted, function (s, i) {
            return i < sorted.length - 1 && s === sorted[i + 1];
          });
          dupe.each(function (d) {
            throw new Error('The field: ' + d + ' occurs more than once in the combined fields: [' + sorted.join(', ') + '].');
          });
        };

        var MixedBag = function MixedBag(required, optional) {
          var everything = required.concat(optional);
          if (everything.length === 0) throw new Error('You must specify at least one required or optional field.');
          validateStrArr('required', required);
          validateStrArr('optional', optional);
          checkDupes(everything);
          return function (obj) {
            var keys$1 = keys(obj);
            var allReqd = forall(required, function (req) {
              return contains(keys$1, req);
            });
            if (!allReqd) reqMessage(required, keys$1);
            var unsupported = filter(keys$1, function (key) {
              return !contains(everything, key);
            });
            if (unsupported.length > 0) unsuppMessage(unsupported);
            var r = {};
            each(required, function (req) {
              r[req] = constant(obj[req]);
            });
            each(optional, function (opt) {
              r[opt] = constant(Object.prototype.hasOwnProperty.call(obj, opt) ? Option.some(obj[opt]) : Option.none());
            });
            return r;
          };
        };

        var ATTRIBUTE = domGlobals.Node.ATTRIBUTE_NODE;
        var CDATA_SECTION = domGlobals.Node.CDATA_SECTION_NODE;
        var COMMENT = domGlobals.Node.COMMENT_NODE;
        var DOCUMENT = domGlobals.Node.DOCUMENT_NODE;
        var DOCUMENT_TYPE = domGlobals.Node.DOCUMENT_TYPE_NODE;
        var DOCUMENT_FRAGMENT = domGlobals.Node.DOCUMENT_FRAGMENT_NODE;
        var ELEMENT = domGlobals.Node.ELEMENT_NODE;
        var TEXT = domGlobals.Node.TEXT_NODE;
        var PROCESSING_INSTRUCTION = domGlobals.Node.PROCESSING_INSTRUCTION_NODE;
        var ENTITY_REFERENCE = domGlobals.Node.ENTITY_REFERENCE_NODE;
        var ENTITY = domGlobals.Node.ENTITY_NODE;
        var NOTATION = domGlobals.Node.NOTATION_NODE;

        var name = function name(element) {
          var r = element.dom().nodeName;
          return r.toLowerCase();
        };

        var type = function type(element) {
          return element.dom().nodeType;
        };

        var isType$1 = function isType$1(t) {
          return function (element) {
            return type(element) === t;
          };
        };

        var isComment = function isComment(element) {
          return type(element) === COMMENT || name(element) === '#comment';
        };

        var isElement = isType$1(ELEMENT);
        var isText = isType$1(TEXT);
        var isDocument = isType$1(DOCUMENT);

        var rawSet = function rawSet(dom, key, value) {
          if (isString(value) || isBoolean(value) || isNumber(value)) {
            dom.setAttribute(key, value + '');
          } else {
            domGlobals.console.error('Invalid call to Attr.set. Key ', key, ':: Value ', value, ':: Element ', dom);
            throw new Error('Attribute value was not simple');
          }
        };

        var set = function set(element, key, value) {
          rawSet(element.dom(), key, value);
        };

        var setAll = function setAll(element, attrs) {
          var dom = element.dom();
          each$1(attrs, function (v, k) {
            rawSet(dom, k, v);
          });
        };

        var get = function get(element, key) {
          var v = element.dom().getAttribute(key);
          return v === null ? undefined : v;
        };

        var has = function has(element, key) {
          var dom = element.dom();
          return dom && dom.hasAttribute ? dom.hasAttribute(key) : false;
        };

        var remove = function remove(element, key) {
          element.dom().removeAttribute(key);
        };

        var clone = function clone(element) {
          return foldl(element.dom().attributes, function (acc, attr) {
            acc[attr.name] = attr.value;
            return acc;
          }, {});
        };

        var checkRange = function checkRange(str, substr, start) {
          if (substr === '') return true;
          if (str.length < substr.length) return false;
          var x = str.substr(start, start + substr.length);
          return x === substr;
        };

        var contains$1 = function contains$1(str, substr) {
          return str.indexOf(substr) !== -1;
        };

        var endsWith = function endsWith(str, suffix) {
          return checkRange(str, suffix, str.length - suffix.length);
        };

        var trim = function trim(str) {
          return str.replace(/^\s+|\s+$/g, '');
        };

        var isSupported = function isSupported(dom) {
          return dom.style !== undefined && isFunction(dom.style.getPropertyValue);
        };

        var cached = function cached(f) {
          var called = false;
          var r;
          return function () {
            var args = [];

            for (var _i = 0; _i < arguments.length; _i++) {
              args[_i] = arguments[_i];
            }

            if (!called) {
              called = true;
              r = f.apply(null, args);
            }

            return r;
          };
        };

        var fromHtml = function fromHtml(html, scope) {
          var doc = scope || domGlobals.document;
          var div = doc.createElement('div');
          div.innerHTML = html;

          if (!div.hasChildNodes() || div.childNodes.length > 1) {
            domGlobals.console.error('HTML does not have a single root node', html);
            throw new Error('HTML must have a single root node');
          }

          return fromDom(div.childNodes[0]);
        };

        var fromTag = function fromTag(tag, scope) {
          var doc = scope || domGlobals.document;
          var node = doc.createElement(tag);
          return fromDom(node);
        };

        var fromText = function fromText(text, scope) {
          var doc = scope || domGlobals.document;
          var node = doc.createTextNode(text);
          return fromDom(node);
        };

        var fromDom = function fromDom(node) {
          if (node === null || node === undefined) {
            throw new Error('Node cannot be null or undefined');
          }

          return {
            dom: constant(node)
          };
        };

        var fromPoint = function fromPoint(docElm, x, y) {
          var doc = docElm.dom();
          return Option.from(doc.elementFromPoint(x, y)).map(fromDom);
        };

        var Element = {
          fromHtml: fromHtml,
          fromTag: fromTag,
          fromText: fromText,
          fromDom: fromDom,
          fromPoint: fromPoint
        };

        var inBody = function inBody(element) {
          var dom = isText(element) ? element.dom().parentNode : element.dom();
          return dom !== undefined && dom !== null && dom.ownerDocument.body.contains(dom);
        };

        var body = cached(function () {
          return getBody(Element.fromDom(domGlobals.document));
        });

        var getBody = function getBody(doc) {
          var b = doc.dom().body;

          if (b === null || b === undefined) {
            throw new Error('Body is not available yet');
          }

          return Element.fromDom(b);
        };

        var internalSet = function internalSet(dom, property, value) {
          if (!isString(value)) {
            domGlobals.console.error('Invalid call to CSS.set. Property ', property, ':: Value ', value, ':: Element ', dom);
            throw new Error('CSS value must be a string: ' + value);
          }

          if (isSupported(dom)) {
            dom.style.setProperty(property, value);
          }
        };

        var internalRemove = function internalRemove(dom, property) {
          if (isSupported(dom)) {
            dom.style.removeProperty(property);
          }
        };

        var set$1 = function set$1(element, property, value) {
          var dom = element.dom();
          internalSet(dom, property, value);
        };

        var setAll$1 = function setAll$1(element, css) {
          var dom = element.dom();
          each$1(css, function (v, k) {
            internalSet(dom, k, v);
          });
        };

        var get$1 = function get$1(element, property) {
          var dom = element.dom();
          var styles = domGlobals.window.getComputedStyle(dom);
          var r = styles.getPropertyValue(property);
          var v = r === '' && !inBody(element) ? getUnsafeProperty(dom, property) : r;
          return v === null ? undefined : v;
        };

        var getUnsafeProperty = function getUnsafeProperty(dom, property) {
          return isSupported(dom) ? dom.style.getPropertyValue(property) : '';
        };

        var getRaw = function getRaw(element, property) {
          var dom = element.dom();
          var raw = getUnsafeProperty(dom, property);
          return Option.from(raw).filter(function (r) {
            return r.length > 0;
          });
        };

        var remove$1 = function remove$1(element, property) {
          var dom = element.dom();
          internalRemove(dom, property);

          if (has(element, 'style') && trim(get(element, 'style')) === '') {
            remove(element, 'style');
          }
        };

        var copy = function copy(source, target) {
          var sourceDom = source.dom();
          var targetDom = target.dom();

          if (isSupported(sourceDom) && isSupported(targetDom)) {
            targetDom.style.cssText = sourceDom.style.cssText;
          }
        };

        var Global = typeof domGlobals.window !== 'undefined' ? domGlobals.window : Function('return this;')();

        var path = function path(parts, scope) {
          var o = scope !== undefined && scope !== null ? scope : Global;

          for (var i = 0; i < parts.length && o !== undefined && o !== null; ++i) {
            o = o[parts[i]];
          }

          return o;
        };

        var resolve = function resolve(p, scope) {
          var parts = p.split('.');
          return path(parts, scope);
        };

        var unsafe = function unsafe(name, scope) {
          return resolve(name, scope);
        };

        var getOrDie = function getOrDie(name, scope) {
          var actual = unsafe(name, scope);
          if (actual === undefined || actual === null) throw name + ' not available on this browser';
          return actual;
        };

        var Global$1 = {
          getOrDie: getOrDie
        };

        var node = function node() {
          var f = Global$1.getOrDie('Node');
          return f;
        };

        var compareDocumentPosition = function compareDocumentPosition(a, b, match) {
          return (a.compareDocumentPosition(b) & match) !== 0;
        };

        var documentPositionPreceding = function documentPositionPreceding(a, b) {
          return compareDocumentPosition(a, b, node().DOCUMENT_POSITION_PRECEDING);
        };

        var documentPositionContainedBy = function documentPositionContainedBy(a, b) {
          return compareDocumentPosition(a, b, node().DOCUMENT_POSITION_CONTAINED_BY);
        };

        var Node = {
          documentPositionPreceding: documentPositionPreceding,
          documentPositionContainedBy: documentPositionContainedBy
        };

        var firstMatch = function firstMatch(regexes, s) {
          for (var i = 0; i < regexes.length; i++) {
            var x = regexes[i];
            if (x.test(s)) return x;
          }

          return undefined;
        };

        var find$1 = function find$1(regexes, agent) {
          var r = firstMatch(regexes, agent);
          if (!r) return {
            major: 0,
            minor: 0
          };

          var group = function group(i) {
            return Number(agent.replace(r, '$' + i));
          };

          return nu(group(1), group(2));
        };

        var detect = function detect(versionRegexes, agent) {
          var cleanedAgent = String(agent).toLowerCase();
          if (versionRegexes.length === 0) return unknown();
          return find$1(versionRegexes, cleanedAgent);
        };

        var unknown = function unknown() {
          return nu(0, 0);
        };

        var nu = function nu(major, minor) {
          return {
            major: major,
            minor: minor
          };
        };

        var Version = {
          nu: nu,
          detect: detect,
          unknown: unknown
        };
        var edge = 'Edge';
        var chrome = 'Chrome';
        var ie = 'IE';
        var opera = 'Opera';
        var firefox = 'Firefox';
        var safari = 'Safari';

        var isBrowser = function isBrowser(name, current) {
          return function () {
            return current === name;
          };
        };

        var unknown$1 = function unknown$1() {
          return nu$1({
            current: undefined,
            version: Version.unknown()
          });
        };

        var nu$1 = function nu$1(info) {
          var current = info.current;
          var version = info.version;
          return {
            current: current,
            version: version,
            isEdge: isBrowser(edge, current),
            isChrome: isBrowser(chrome, current),
            isIE: isBrowser(ie, current),
            isOpera: isBrowser(opera, current),
            isFirefox: isBrowser(firefox, current),
            isSafari: isBrowser(safari, current)
          };
        };

        var Browser = {
          unknown: unknown$1,
          nu: nu$1,
          edge: constant(edge),
          chrome: constant(chrome),
          ie: constant(ie),
          opera: constant(opera),
          firefox: constant(firefox),
          safari: constant(safari)
        };
        var windows = 'Windows';
        var ios = 'iOS';
        var android = 'Android';
        var linux = 'Linux';
        var osx = 'OSX';
        var solaris = 'Solaris';
        var freebsd = 'FreeBSD';

        var isOS = function isOS(name, current) {
          return function () {
            return current === name;
          };
        };

        var unknown$2 = function unknown$2() {
          return nu$2({
            current: undefined,
            version: Version.unknown()
          });
        };

        var nu$2 = function nu$2(info) {
          var current = info.current;
          var version = info.version;
          return {
            current: current,
            version: version,
            isWindows: isOS(windows, current),
            isiOS: isOS(ios, current),
            isAndroid: isOS(android, current),
            isOSX: isOS(osx, current),
            isLinux: isOS(linux, current),
            isSolaris: isOS(solaris, current),
            isFreeBSD: isOS(freebsd, current)
          };
        };

        var OperatingSystem = {
          unknown: unknown$2,
          nu: nu$2,
          windows: constant(windows),
          ios: constant(ios),
          android: constant(android),
          linux: constant(linux),
          osx: constant(osx),
          solaris: constant(solaris),
          freebsd: constant(freebsd)
        };

        var DeviceType = function DeviceType(os, browser, userAgent) {
          var isiPad = os.isiOS() && /ipad/i.test(userAgent) === true;
          var isiPhone = os.isiOS() && !isiPad;
          var isAndroid3 = os.isAndroid() && os.version.major === 3;
          var isAndroid4 = os.isAndroid() && os.version.major === 4;
          var isTablet = isiPad || isAndroid3 || isAndroid4 && /mobile/i.test(userAgent) === true;
          var isTouch = os.isiOS() || os.isAndroid();
          var isPhone = isTouch && !isTablet;
          var iOSwebview = browser.isSafari() && os.isiOS() && /safari/i.test(userAgent) === false;
          return {
            isiPad: constant(isiPad),
            isiPhone: constant(isiPhone),
            isTablet: constant(isTablet),
            isPhone: constant(isPhone),
            isTouch: constant(isTouch),
            isAndroid: os.isAndroid,
            isiOS: os.isiOS,
            isWebView: constant(iOSwebview)
          };
        };

        var detect$1 = function detect$1(candidates, userAgent) {
          var agent = String(userAgent).toLowerCase();
          return find(candidates, function (candidate) {
            return candidate.search(agent);
          });
        };

        var detectBrowser = function detectBrowser(browsers, userAgent) {
          return detect$1(browsers, userAgent).map(function (browser) {
            var version = Version.detect(browser.versionRegexes, userAgent);
            return {
              current: browser.name,
              version: version
            };
          });
        };

        var detectOs = function detectOs(oses, userAgent) {
          return detect$1(oses, userAgent).map(function (os) {
            var version = Version.detect(os.versionRegexes, userAgent);
            return {
              current: os.name,
              version: version
            };
          });
        };

        var UaString = {
          detectBrowser: detectBrowser,
          detectOs: detectOs
        };
        var normalVersionRegex = /.*?version\/\ ?([0-9]+)\.([0-9]+).*/;

        var checkContains = function checkContains(target) {
          return function (uastring) {
            return contains$1(uastring, target);
          };
        };

        var browsers = [{
          name: 'Edge',
          versionRegexes: [/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],
          search: function search(uastring) {
            var monstrosity = contains$1(uastring, 'edge/') && contains$1(uastring, 'chrome') && contains$1(uastring, 'safari') && contains$1(uastring, 'applewebkit');
            return monstrosity;
          }
        }, {
          name: 'Chrome',
          versionRegexes: [/.*?chrome\/([0-9]+)\.([0-9]+).*/, normalVersionRegex],
          search: function search(uastring) {
            return contains$1(uastring, 'chrome') && !contains$1(uastring, 'chromeframe');
          }
        }, {
          name: 'IE',
          versionRegexes: [/.*?msie\ ?([0-9]+)\.([0-9]+).*/, /.*?rv:([0-9]+)\.([0-9]+).*/],
          search: function search(uastring) {
            return contains$1(uastring, 'msie') || contains$1(uastring, 'trident');
          }
        }, {
          name: 'Opera',
          versionRegexes: [normalVersionRegex, /.*?opera\/([0-9]+)\.([0-9]+).*/],
          search: checkContains('opera')
        }, {
          name: 'Firefox',
          versionRegexes: [/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],
          search: checkContains('firefox')
        }, {
          name: 'Safari',
          versionRegexes: [normalVersionRegex, /.*?cpu os ([0-9]+)_([0-9]+).*/],
          search: function search(uastring) {
            return (contains$1(uastring, 'safari') || contains$1(uastring, 'mobile/')) && contains$1(uastring, 'applewebkit');
          }
        }];
        var oses = [{
          name: 'Windows',
          search: checkContains('win'),
          versionRegexes: [/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]
        }, {
          name: 'iOS',
          search: function search(uastring) {
            return contains$1(uastring, 'iphone') || contains$1(uastring, 'ipad');
          },
          versionRegexes: [/.*?version\/\ ?([0-9]+)\.([0-9]+).*/, /.*cpu os ([0-9]+)_([0-9]+).*/, /.*cpu iphone os ([0-9]+)_([0-9]+).*/]
        }, {
          name: 'Android',
          search: checkContains('android'),
          versionRegexes: [/.*?android\ ?([0-9]+)\.([0-9]+).*/]
        }, {
          name: 'OSX',
          search: checkContains('os x'),
          versionRegexes: [/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]
        }, {
          name: 'Linux',
          search: checkContains('linux'),
          versionRegexes: []
        }, {
          name: 'Solaris',
          search: checkContains('sunos'),
          versionRegexes: []
        }, {
          name: 'FreeBSD',
          search: checkContains('freebsd'),
          versionRegexes: []
        }];
        var PlatformInfo = {
          browsers: constant(browsers),
          oses: constant(oses)
        };

        var detect$2 = function detect$2(userAgent) {
          var browsers = PlatformInfo.browsers();
          var oses = PlatformInfo.oses();
          var browser = UaString.detectBrowser(browsers, userAgent).fold(Browser.unknown, Browser.nu);
          var os = UaString.detectOs(oses, userAgent).fold(OperatingSystem.unknown, OperatingSystem.nu);
          var deviceType = DeviceType(os, browser, userAgent);
          return {
            browser: browser,
            os: os,
            deviceType: deviceType
          };
        };

        var PlatformDetection = {
          detect: detect$2
        };
        var detect$3 = cached(function () {
          var userAgent = domGlobals.navigator.userAgent;
          return PlatformDetection.detect(userAgent);
        });
        var PlatformDetection$1 = {
          detect: detect$3
        };
        var ELEMENT$1 = ELEMENT;
        var DOCUMENT$1 = DOCUMENT;

        var is = function is(element, selector) {
          var elem = element.dom();

          if (elem.nodeType !== ELEMENT$1) {
            return false;
          } else if (elem.matches !== undefined) {
            return elem.matches(selector);
          } else if (elem.msMatchesSelector !== undefined) {
            return elem.msMatchesSelector(selector);
          } else if (elem.webkitMatchesSelector !== undefined) {
            return elem.webkitMatchesSelector(selector);
          } else if (elem.mozMatchesSelector !== undefined) {
            return elem.mozMatchesSelector(selector);
          } else {
            throw new Error('Browser lacks native selectors');
          }
        };

        var bypassSelector = function bypassSelector(dom) {
          return dom.nodeType !== ELEMENT$1 && dom.nodeType !== DOCUMENT$1 || dom.childElementCount === 0;
        };

        var all = function all(selector, scope) {
          var base = scope === undefined ? domGlobals.document : scope.dom();
          return bypassSelector(base) ? [] : map(base.querySelectorAll(selector), Element.fromDom);
        };

        var one = function one(selector, scope) {
          var base = scope === undefined ? domGlobals.document : scope.dom();
          return bypassSelector(base) ? Option.none() : Option.from(base.querySelector(selector)).map(Element.fromDom);
        };

        var eq = function eq(e1, e2) {
          return e1.dom() === e2.dom();
        };

        var regularContains = function regularContains(e1, e2) {
          var d1 = e1.dom();
          var d2 = e2.dom();
          return d1 === d2 ? false : d1.contains(d2);
        };

        var ieContains = function ieContains(e1, e2) {
          return Node.documentPositionContainedBy(e1.dom(), e2.dom());
        };

        var browser = PlatformDetection$1.detect().browser;
        var contains$2 = browser.isIE() ? ieContains : regularContains;
        var is$1 = is;

        var owner = function owner(element) {
          return Element.fromDom(element.dom().ownerDocument);
        };

        var defaultView = function defaultView(element) {
          var el = element.dom();
          var defView = el.ownerDocument.defaultView;
          return Element.fromDom(defView);
        };

        var parent = function parent(element) {
          var dom = element.dom();
          return Option.from(dom.parentNode).map(Element.fromDom);
        };

        var parents = function parents(element, isRoot) {
          var stop = isFunction(isRoot) ? isRoot : constant(false);
          var dom = element.dom();
          var ret = [];

          while (dom.parentNode !== null && dom.parentNode !== undefined) {
            var rawParent = dom.parentNode;
            var p = Element.fromDom(rawParent);
            ret.push(p);

            if (stop(p) === true) {
              break;
            } else {
              dom = rawParent;
            }
          }

          return ret;
        };

        var prevSibling = function prevSibling(element) {
          var dom = element.dom();
          return Option.from(dom.previousSibling).map(Element.fromDom);
        };

        var nextSibling = function nextSibling(element) {
          var dom = element.dom();
          return Option.from(dom.nextSibling).map(Element.fromDom);
        };

        var children = function children(element) {
          var dom = element.dom();
          return map(dom.childNodes, Element.fromDom);
        };

        var child = function child(element, index) {
          var cs = element.dom().childNodes;
          return Option.from(cs[index]).map(Element.fromDom);
        };

        var firstChild = function firstChild(element) {
          return child(element, 0);
        };

        var spot = Immutable('element', 'offset');

        var before = function before(marker, element) {
          var parent$1 = parent(marker);
          parent$1.each(function (v) {
            v.dom().insertBefore(element.dom(), marker.dom());
          });
        };

        var after = function after(marker, element) {
          var sibling = nextSibling(marker);
          sibling.fold(function () {
            var parent$1 = parent(marker);
            parent$1.each(function (v) {
              append(v, element);
            });
          }, function (v) {
            before(v, element);
          });
        };

        var prepend = function prepend(parent, element) {
          var firstChild$1 = firstChild(parent);
          firstChild$1.fold(function () {
            append(parent, element);
          }, function (v) {
            parent.dom().insertBefore(element.dom(), v.dom());
          });
        };

        var append = function append(parent, element) {
          parent.dom().appendChild(element.dom());
        };

        var wrap = function wrap(element, wrapper) {
          before(element, wrapper);
          append(wrapper, element);
        };

        var before$1 = function before$1(marker, elements) {
          each(elements, function (x) {
            before(marker, x);
          });
        };

        var after$1 = function after$1(marker, elements) {
          each(elements, function (x, i) {
            var e = i === 0 ? marker : elements[i - 1];
            after(e, x);
          });
        };

        var append$1 = function append$1(parent, elements) {
          each(elements, function (x) {
            append(parent, x);
          });
        };

        var empty = function empty(element) {
          element.dom().textContent = '';
          each(children(element), function (rogue) {
            remove$2(rogue);
          });
        };

        var remove$2 = function remove$2(element) {
          var dom = element.dom();

          if (dom.parentNode !== null) {
            dom.parentNode.removeChild(dom);
          }
        };

        var unwrap = function unwrap(wrapper) {
          var children$1 = children(wrapper);

          if (children$1.length > 0) {
            before$1(wrapper, children$1);
          }

          remove$2(wrapper);
        };

        var dimension = Immutable('width', 'height');
        var dimensions = Immutable('width', 'height');
        var grid = Immutable('rows', 'columns');
        var address = Immutable('row', 'column');
        var coords = Immutable('x', 'y');
        var detail = Immutable('element', 'rowspan', 'colspan');
        var detailnew = Immutable('element', 'rowspan', 'colspan', 'isNew');
        var extended = Immutable('element', 'rowspan', 'colspan', 'row', 'column');
        var rowdata = Immutable('element', 'cells', 'section');
        var elementnew = Immutable('element', 'isNew');
        var rowdatanew = Immutable('element', 'cells', 'section', 'isNew');
        var rowcells = Immutable('cells', 'section');
        var rowdetails = Immutable('details', 'section');
        var bounds = Immutable('startRow', 'startCol', 'finishRow', 'finishCol');

        var ancestors = function ancestors(scope, predicate, isRoot) {
          return filter(parents(scope, isRoot), predicate);
        };

        var children$1 = function children$1(scope, predicate) {
          return filter(children(scope), predicate);
        };

        var descendants = function descendants(scope, predicate) {
          var result = [];
          each(children(scope), function (x) {
            if (predicate(x)) {
              result = result.concat([x]);
            }

            result = result.concat(descendants(x, predicate));
          });
          return result;
        };

        var ancestors$1 = function ancestors$1(scope, selector, isRoot) {
          return ancestors(scope, function (e) {
            return is(e, selector);
          }, isRoot);
        };

        var children$2 = function children$2(scope, selector) {
          return children$1(scope, function (e) {
            return is(e, selector);
          });
        };

        var descendants$1 = function descendants$1(scope, selector) {
          return all(selector, scope);
        };

        function ClosestOrAncestor(is, ancestor, scope, a, isRoot) {
          return is(scope, a) ? Option.some(scope) : isFunction(isRoot) && isRoot(scope) ? Option.none() : ancestor(scope, a, isRoot);
        }

        var ancestor = function ancestor(scope, predicate, isRoot) {
          var element = scope.dom();
          var stop = isFunction(isRoot) ? isRoot : constant(false);

          while (element.parentNode) {
            element = element.parentNode;
            var el = Element.fromDom(element);

            if (predicate(el)) {
              return Option.some(el);
            } else if (stop(el)) {
              break;
            }
          }

          return Option.none();
        };

        var closest = function closest(scope, predicate, isRoot) {
          var is = function is(s) {
            return predicate(s);
          };

          return ClosestOrAncestor(is, ancestor, scope, predicate, isRoot);
        };

        var child$1 = function child$1(scope, predicate) {
          var result = find(scope.dom().childNodes, compose(predicate, Element.fromDom));
          return result.map(Element.fromDom);
        };

        var descendant = function descendant(scope, predicate) {
          var descend = function descend(node) {
            for (var i = 0; i < node.childNodes.length; i++) {
              if (predicate(Element.fromDom(node.childNodes[i]))) {
                return Option.some(Element.fromDom(node.childNodes[i]));
              }

              var res = descend(node.childNodes[i]);

              if (res.isSome()) {
                return res;
              }
            }

            return Option.none();
          };

          return descend(scope.dom());
        };

        var ancestor$1 = function ancestor$1(scope, selector, isRoot) {
          return ancestor(scope, function (e) {
            return is(e, selector);
          }, isRoot);
        };

        var child$2 = function child$2(scope, selector) {
          return child$1(scope, function (e) {
            return is(e, selector);
          });
        };

        var descendant$1 = function descendant$1(scope, selector) {
          return one(selector, scope);
        };

        var closest$1 = function closest$1(scope, selector, isRoot) {
          return ClosestOrAncestor(is, ancestor$1, scope, selector, isRoot);
        };

        var firstLayer = function firstLayer(scope, selector) {
          return filterFirstLayer(scope, selector, constant(true));
        };

        var filterFirstLayer = function filterFirstLayer(scope, selector, predicate) {
          return bind(children(scope), function (x) {
            return is(x, selector) ? predicate(x) ? [x] : [] : filterFirstLayer(x, selector, predicate);
          });
        };

        var LayerSelector = {
          firstLayer: firstLayer,
          filterFirstLayer: filterFirstLayer
        };

        var lookup = function lookup(tags, element, isRoot) {
          if (isRoot === void 0) {
            isRoot = never;
          }

          if (isRoot(element)) {
            return Option.none();
          }

          if (contains(tags, name(element))) {
            return Option.some(element);
          }

          var isRootOrUpperTable = function isRootOrUpperTable(elm) {
            return is(elm, 'table') || isRoot(elm);
          };

          return ancestor$1(element, tags.join(','), isRootOrUpperTable);
        };

        var cell = function cell(element, isRoot) {
          return lookup(['td', 'th'], element, isRoot);
        };

        var cells = function cells(ancestor) {
          return LayerSelector.firstLayer(ancestor, 'th,td');
        };

        var notCell = function notCell(element, isRoot) {
          return lookup(['caption', 'tr', 'tbody', 'tfoot', 'thead'], element, isRoot);
        };

        var neighbours = function neighbours(selector, element) {
          return parent(element).map(function (parent) {
            return children$2(parent, selector);
          });
        };

        var neighbourCells = curry(neighbours, 'th,td');
        var neighbourRows = curry(neighbours, 'tr');

        var firstCell = function firstCell(ancestor) {
          return descendant$1(ancestor, 'th,td');
        };

        var table = function table(element, isRoot) {
          return closest$1(element, 'table', isRoot);
        };

        var row = function row(element, isRoot) {
          return lookup(['tr'], element, isRoot);
        };

        var rows = function rows(ancestor) {
          return LayerSelector.firstLayer(ancestor, 'tr');
        };

        var attr = function attr(element, property) {
          return parseInt(get(element, property), 10);
        };

        var grid$1 = function grid$1(element, rowProp, colProp) {
          var rowsCount = attr(element, rowProp);
          var cols = attr(element, colProp);
          return grid(rowsCount, cols);
        };

        var TableLookup = {
          cell: cell,
          firstCell: firstCell,
          cells: cells,
          neighbourCells: neighbourCells,
          table: table,
          row: row,
          rows: rows,
          notCell: notCell,
          neighbourRows: neighbourRows,
          attr: attr,
          grid: grid$1
        };

        var fromTable = function fromTable(table) {
          var rows = TableLookup.rows(table);
          return map(rows, function (row) {
            var element = row;
            var parent$1 = parent(element);
            var parentSection = parent$1.map(function (p) {
              var parentName = name(p);
              return parentName === 'tfoot' || parentName === 'thead' || parentName === 'tbody' ? parentName : 'tbody';
            }).getOr('tbody');
            var cells = map(TableLookup.cells(row), function (cell) {
              var rowspan = has(cell, 'rowspan') ? parseInt(get(cell, 'rowspan'), 10) : 1;
              var colspan = has(cell, 'colspan') ? parseInt(get(cell, 'colspan'), 10) : 1;
              return detail(cell, rowspan, colspan);
            });
            return rowdata(element, cells, parentSection);
          });
        };

        var fromPastedRows = function fromPastedRows(rows, example) {
          return map(rows, function (row) {
            var cells = map(TableLookup.cells(row), function (cell) {
              var rowspan = has(cell, 'rowspan') ? parseInt(get(cell, 'rowspan'), 10) : 1;
              var colspan = has(cell, 'colspan') ? parseInt(get(cell, 'colspan'), 10) : 1;
              return detail(cell, rowspan, colspan);
            });
            return rowdata(row, cells, example.section());
          });
        };

        var DetailsList = {
          fromTable: fromTable,
          fromPastedRows: fromPastedRows
        };

        var key = function key(row, column) {
          return row + ',' + column;
        };

        var getAt = function getAt(warehouse, row, column) {
          var raw = warehouse.access()[key(row, column)];
          return raw !== undefined ? Option.some(raw) : Option.none();
        };

        var findItem = function findItem(warehouse, item, comparator) {
          var filtered = filterItems(warehouse, function (detail) {
            return comparator(item, detail.element());
          });
          return filtered.length > 0 ? Option.some(filtered[0]) : Option.none();
        };

        var filterItems = function filterItems(warehouse, predicate) {
          var all = bind(warehouse.all(), function (r) {
            return r.cells();
          });
          return filter(all, predicate);
        };

        var generate = function generate(list) {
          var access = {};
          var cells = [];
          var maxRows = list.length;
          var maxColumns = 0;
          each(list, function (details, r) {
            var currentRow = [];
            each(details.cells(), function (detail) {
              var start = 0;

              while (access[key(r, start)] !== undefined) {
                start++;
              }

              var current = extended(detail.element(), detail.rowspan(), detail.colspan(), r, start);

              for (var i = 0; i < detail.colspan(); i++) {
                for (var j = 0; j < detail.rowspan(); j++) {
                  var cr = r + j;
                  var cc = start + i;
                  var newpos = key(cr, cc);
                  access[newpos] = current;
                  maxColumns = Math.max(maxColumns, cc + 1);
                }
              }

              currentRow.push(current);
            });
            cells.push(rowdata(details.element(), currentRow, details.section()));
          });
          var grid$1 = grid(maxRows, maxColumns);
          return {
            grid: constant(grid$1),
            access: constant(access),
            all: constant(cells)
          };
        };

        var justCells = function justCells(warehouse) {
          var rows = map(warehouse.all(), function (w) {
            return w.cells();
          });
          return flatten(rows);
        };

        var Warehouse = {
          generate: generate,
          getAt: getAt,
          findItem: findItem,
          filterItems: filterItems,
          justCells: justCells
        };
        var statsStruct = Immutable('minRow', 'minCol', 'maxRow', 'maxCol');

        var findSelectedStats = function findSelectedStats(house, isSelected) {
          var totalColumns = house.grid().columns();
          var totalRows = house.grid().rows();
          var minRow = totalRows;
          var minCol = totalColumns;
          var maxRow = 0;
          var maxCol = 0;
          each$1(house.access(), function (detail) {
            if (isSelected(detail)) {
              var startRow = detail.row();
              var endRow = startRow + detail.rowspan() - 1;
              var startCol = detail.column();
              var endCol = startCol + detail.colspan() - 1;

              if (startRow < minRow) {
                minRow = startRow;
              } else if (endRow > maxRow) {
                maxRow = endRow;
              }

              if (startCol < minCol) {
                minCol = startCol;
              } else if (endCol > maxCol) {
                maxCol = endCol;
              }
            }
          });
          return statsStruct(minRow, minCol, maxRow, maxCol);
        };

        var makeCell = function makeCell(list, seenSelected, rowIndex) {
          var row = list[rowIndex].element();
          var td = Element.fromTag('td');
          append(td, Element.fromTag('br'));
          var f = seenSelected ? append : prepend;
          f(row, td);
        };

        var fillInGaps = function fillInGaps(list, house, stats, isSelected) {
          var totalColumns = house.grid().columns();
          var totalRows = house.grid().rows();

          for (var i = 0; i < totalRows; i++) {
            var seenSelected = false;

            for (var j = 0; j < totalColumns; j++) {
              if (!(i < stats.minRow() || i > stats.maxRow() || j < stats.minCol() || j > stats.maxCol())) {
                var needCell = Warehouse.getAt(house, i, j).filter(isSelected).isNone();

                if (needCell) {
                  makeCell(list, seenSelected, i);
                } else {
                  seenSelected = true;
                }
              }
            }
          }
        };

        var clean = function clean(table, stats) {
          var emptyRows = filter(LayerSelector.firstLayer(table, 'tr'), function (row) {
            return row.dom().childElementCount === 0;
          });
          each(emptyRows, remove$2);

          if (stats.minCol() === stats.maxCol() || stats.minRow() === stats.maxRow()) {
            each(LayerSelector.firstLayer(table, 'th,td'), function (cell) {
              remove(cell, 'rowspan');
              remove(cell, 'colspan');
            });
          }

          remove(table, 'width');
          remove(table, 'height');
          remove$1(table, 'width');
          remove$1(table, 'height');
        };

        var extract = function extract(table, selectedSelector) {
          var isSelected = function isSelected(detail) {
            return is(detail.element(), selectedSelector);
          };

          var list = DetailsList.fromTable(table);
          var house = Warehouse.generate(list);
          var stats = findSelectedStats(house, isSelected);
          var selector = 'th:not(' + selectedSelector + ')' + ',td:not(' + selectedSelector + ')';
          var unselectedCells = LayerSelector.filterFirstLayer(table, 'th,td', function (cell) {
            return is(cell, selector);
          });
          each(unselectedCells, remove$2);
          fillInGaps(list, house, stats, isSelected);
          clean(table, stats);
          return table;
        };

        var CopySelected = {
          extract: extract
        };

        function NodeValue(is, name) {
          var get = function get(element) {
            if (!is(element)) {
              throw new Error('Can only get ' + name + ' value of a ' + name + ' node');
            }

            return getOption(element).getOr('');
          };

          var getOptionIE10 = function getOptionIE10(element) {
            try {
              return getOptionSafe(element);
            } catch (e) {
              return Option.none();
            }
          };

          var getOptionSafe = function getOptionSafe(element) {
            return is(element) ? Option.from(element.dom().nodeValue) : Option.none();
          };

          var browser = PlatformDetection$1.detect().browser;
          var getOption = browser.isIE() && browser.version.major === 10 ? getOptionIE10 : getOptionSafe;

          var set = function set(element, value) {
            if (!is(element)) {
              throw new Error('Can only set raw ' + name + ' value of a ' + name + ' node');
            }

            element.dom().nodeValue = value;
          };

          return {
            get: get,
            getOption: getOption,
            set: set
          };
        }

        var api = NodeValue(isText, 'text');

        var get$2 = function get$2(element) {
          return api.get(element);
        };

        var getOption = function getOption(element) {
          return api.getOption(element);
        };

        var set$2 = function set$2(element, value) {
          api.set(element, value);
        };

        var getEnd = function getEnd(element) {
          return name(element) === 'img' ? 1 : getOption(element).fold(function () {
            return children(element).length;
          }, function (v) {
            return v.length;
          });
        };

        var NBSP = '\xA0';

        var isTextNodeWithCursorPosition = function isTextNodeWithCursorPosition(el) {
          return getOption(el).filter(function (text) {
            return text.trim().length !== 0 || text.indexOf(NBSP) > -1;
          }).isSome();
        };

        var elementsWithCursorPosition = ['img', 'br'];

        var isCursorPosition = function isCursorPosition(elem) {
          var hasCursorPosition = isTextNodeWithCursorPosition(elem);
          return hasCursorPosition || contains(elementsWithCursorPosition, name(elem));
        };

        var first = function first(element) {
          return descendant(element, isCursorPosition);
        };

        var last$1 = function last$1(element) {
          return descendantRtl(element, isCursorPosition);
        };

        var descendantRtl = function descendantRtl(scope, predicate) {
          var descend = function descend(element) {
            var children$1 = children(element);

            for (var i = children$1.length - 1; i >= 0; i--) {
              var child = children$1[i];

              if (predicate(child)) {
                return Option.some(child);
              }

              var res = descend(child);

              if (res.isSome()) {
                return res;
              }
            }

            return Option.none();
          };

          return descend(scope);
        };

        var clone$1 = function clone$1(original, isDeep) {
          return Element.fromDom(original.dom().cloneNode(isDeep));
        };

        var shallow = function shallow(original) {
          return clone$1(original, false);
        };

        var deep = function deep(original) {
          return clone$1(original, true);
        };

        var shallowAs = function shallowAs(original, tag) {
          var nu = Element.fromTag(tag);
          var attributes = clone(original);
          setAll(nu, attributes);
          return nu;
        };

        var copy$1 = function copy$1(original, tag) {
          var nu = shallowAs(original, tag);
          var cloneChildren = children(deep(original));
          append$1(nu, cloneChildren);
          return nu;
        };

        var createCell = function createCell() {
          var td = Element.fromTag('td');
          append(td, Element.fromTag('br'));
          return td;
        };

        var replace = function replace(cell, tag, attrs) {
          var replica = copy$1(cell, tag);
          each$1(attrs, function (v, k) {
            if (v === null) {
              remove(replica, k);
            } else {
              set(replica, k, v);
            }
          });
          return replica;
        };

        var pasteReplace = function pasteReplace(cell) {
          return cell;
        };

        var newRow = function newRow(doc) {
          return function () {
            return Element.fromTag('tr', doc.dom());
          };
        };

        var cloneFormats = function cloneFormats(oldCell, newCell, formats) {
          var first$1 = first(oldCell);
          return first$1.map(function (firstText) {
            var formatSelector = formats.join(',');
            var parents = ancestors$1(firstText, formatSelector, function (element) {
              return eq(element, oldCell);
            });
            return foldr(parents, function (last, parent) {
              var clonedFormat = shallow(parent);
              remove(clonedFormat, 'contenteditable');
              append(last, clonedFormat);
              return clonedFormat;
            }, newCell);
          }).getOr(newCell);
        };

        var cellOperations = function cellOperations(mutate, doc, formatsToClone) {
          var newCell = function newCell(prev) {
            var docu = owner(prev.element());
            var td = Element.fromTag(name(prev.element()), docu.dom());
            var formats = formatsToClone.getOr(['strong', 'em', 'b', 'i', 'span', 'font', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'p', 'div']);
            var lastNode = formats.length > 0 ? cloneFormats(prev.element(), td, formats) : td;
            append(lastNode, Element.fromTag('br'));
            copy(prev.element(), td);
            remove$1(td, 'height');

            if (prev.colspan() !== 1) {
              remove$1(prev.element(), 'width');
            }

            mutate(prev.element(), td);
            return td;
          };

          return {
            row: newRow(doc),
            cell: newCell,
            replace: replace,
            gap: createCell
          };
        };

        var paste = function paste(doc) {
          return {
            row: newRow(doc),
            cell: createCell,
            replace: pasteReplace,
            gap: createCell
          };
        };

        var TableFill = {
          cellOperations: cellOperations,
          paste: paste
        };

        var fromHtml$1 = function fromHtml$1(html, scope) {
          var doc = scope || domGlobals.document;
          var div = doc.createElement('div');
          div.innerHTML = html;
          return children(Element.fromDom(div));
        };

        var inSelection = function inSelection(bounds, detail) {
          var leftEdge = detail.column();
          var rightEdge = detail.column() + detail.colspan() - 1;
          var topEdge = detail.row();
          var bottomEdge = detail.row() + detail.rowspan() - 1;
          return leftEdge <= bounds.finishCol() && rightEdge >= bounds.startCol() && topEdge <= bounds.finishRow() && bottomEdge >= bounds.startRow();
        };

        var isWithin = function isWithin(bounds, detail) {
          return detail.column() >= bounds.startCol() && detail.column() + detail.colspan() - 1 <= bounds.finishCol() && detail.row() >= bounds.startRow() && detail.row() + detail.rowspan() - 1 <= bounds.finishRow();
        };

        var isRectangular = function isRectangular(warehouse, bounds) {
          var isRect = true;
          var detailIsWithin = curry(isWithin, bounds);

          for (var i = bounds.startRow(); i <= bounds.finishRow(); i++) {
            for (var j = bounds.startCol(); j <= bounds.finishCol(); j++) {
              isRect = isRect && Warehouse.getAt(warehouse, i, j).exists(detailIsWithin);
            }
          }

          return isRect ? Option.some(bounds) : Option.none();
        };

        var CellBounds = {
          inSelection: inSelection,
          isWithin: isWithin,
          isRectangular: isRectangular
        };

        var getBounds = function getBounds(detailA, detailB) {
          return bounds(Math.min(detailA.row(), detailB.row()), Math.min(detailA.column(), detailB.column()), Math.max(detailA.row() + detailA.rowspan() - 1, detailB.row() + detailB.rowspan() - 1), Math.max(detailA.column() + detailA.colspan() - 1, detailB.column() + detailB.colspan() - 1));
        };

        var getAnyBox = function getAnyBox(warehouse, startCell, finishCell) {
          var startCoords = Warehouse.findItem(warehouse, startCell, eq);
          var finishCoords = Warehouse.findItem(warehouse, finishCell, eq);
          return startCoords.bind(function (sc) {
            return finishCoords.map(function (fc) {
              return getBounds(sc, fc);
            });
          });
        };

        var getBox = function getBox(warehouse, startCell, finishCell) {
          return getAnyBox(warehouse, startCell, finishCell).bind(function (bounds) {
            return CellBounds.isRectangular(warehouse, bounds);
          });
        };

        var CellGroup = {
          getAnyBox: getAnyBox,
          getBox: getBox
        };

        var moveBy = function moveBy(warehouse, cell, row, column) {
          return Warehouse.findItem(warehouse, cell, eq).bind(function (detail) {
            var startRow = row > 0 ? detail.row() + detail.rowspan() - 1 : detail.row();
            var startCol = column > 0 ? detail.column() + detail.colspan() - 1 : detail.column();
            var dest = Warehouse.getAt(warehouse, startRow + row, startCol + column);
            return dest.map(function (d) {
              return d.element();
            });
          });
        };

        var intercepts = function intercepts(warehouse, start, finish) {
          return CellGroup.getAnyBox(warehouse, start, finish).map(function (bounds) {
            var inside = Warehouse.filterItems(warehouse, curry(CellBounds.inSelection, bounds));
            return map(inside, function (detail) {
              return detail.element();
            });
          });
        };

        var parentCell = function parentCell(warehouse, innerCell) {
          var isContainedBy = function isContainedBy(c1, c2) {
            return contains$2(c2, c1);
          };

          return Warehouse.findItem(warehouse, innerCell, isContainedBy).map(function (detail) {
            return detail.element();
          });
        };

        var CellFinder = {
          moveBy: moveBy,
          intercepts: intercepts,
          parentCell: parentCell
        };

        var moveBy$1 = function moveBy$1(cell, deltaRow, deltaColumn) {
          return TableLookup.table(cell).bind(function (table) {
            var warehouse = getWarehouse(table);
            return CellFinder.moveBy(warehouse, cell, deltaRow, deltaColumn);
          });
        };

        var intercepts$1 = function intercepts$1(table, first, last) {
          var warehouse = getWarehouse(table);
          return CellFinder.intercepts(warehouse, first, last);
        };

        var nestedIntercepts = function nestedIntercepts(table, first, firstTable, last, lastTable) {
          var warehouse = getWarehouse(table);
          var optStartCell = eq(table, firstTable) ? Option.some(first) : CellFinder.parentCell(warehouse, first);
          var optLastCell = eq(table, lastTable) ? Option.some(last) : CellFinder.parentCell(warehouse, last);
          return optStartCell.bind(function (startCell) {
            return optLastCell.bind(function (lastCell) {
              return CellFinder.intercepts(warehouse, startCell, lastCell);
            });
          });
        };

        var getBox$1 = function getBox$1(table, first, last) {
          var warehouse = getWarehouse(table);
          return CellGroup.getBox(warehouse, first, last);
        };

        var getWarehouse = function getWarehouse(table) {
          var list = DetailsList.fromTable(table);
          return Warehouse.generate(list);
        };

        var TablePositions = {
          moveBy: moveBy$1,
          intercepts: intercepts$1,
          nestedIntercepts: nestedIntercepts,
          getBox: getBox$1
        };
        var TagBoundaries = ['body', 'p', 'div', 'article', 'aside', 'figcaption', 'figure', 'footer', 'header', 'nav', 'section', 'ol', 'ul', 'li', 'table', 'thead', 'tbody', 'tfoot', 'caption', 'tr', 'td', 'th', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'blockquote', 'pre', 'address'];

        function DomUniverse() {
          var clone$1 = function clone$1(element) {
            return Element.fromDom(element.dom().cloneNode(false));
          };

          var document = function document(element) {
            return element.dom().ownerDocument;
          };

          var isBoundary = function isBoundary(element) {
            if (!isElement(element)) return false;
            if (name(element) === 'body') return true;
            return contains(TagBoundaries, name(element));
          };

          var isEmptyTag = function isEmptyTag(element) {
            if (!isElement(element)) return false;
            return contains(['br', 'img', 'hr', 'input'], name(element));
          };

          var comparePosition = function comparePosition(element, other) {
            return element.dom().compareDocumentPosition(other.dom());
          };

          var copyAttributesTo = function copyAttributesTo(source, destination) {
            var as = clone(source);
            setAll(destination, as);
          };

          return {
            up: constant({
              selector: ancestor$1,
              closest: closest$1,
              predicate: ancestor,
              all: parents
            }),
            down: constant({
              selector: descendants$1,
              predicate: descendants
            }),
            styles: constant({
              get: get$1,
              getRaw: getRaw,
              set: set$1,
              remove: remove$1
            }),
            attrs: constant({
              get: get,
              set: set,
              remove: remove,
              copyTo: copyAttributesTo
            }),
            insert: constant({
              before: before,
              after: after,
              afterAll: after$1,
              append: append,
              appendAll: append$1,
              prepend: prepend,
              wrap: wrap
            }),
            remove: constant({
              unwrap: unwrap,
              remove: remove$2
            }),
            create: constant({
              nu: Element.fromTag,
              clone: clone$1,
              text: Element.fromText
            }),
            query: constant({
              comparePosition: comparePosition,
              prevSibling: prevSibling,
              nextSibling: nextSibling
            }),
            property: constant({
              children: children,
              name: name,
              parent: parent,
              document: document,
              isText: isText,
              isComment: isComment,
              isElement: isElement,
              getText: get$2,
              setText: set$2,
              isBoundary: isBoundary,
              isEmptyTag: isEmptyTag
            }),
            eq: eq,
            is: is$1
          };
        }

        var leftRight = Immutable('left', 'right');
        var brokenPath = Immutable('first', 'second', 'splits');

        var bisect = function bisect(universe, parent, child) {
          var children = universe.property().children(parent);
          var index = findIndex(children, curry(universe.eq, child));
          return index.map(function (ind) {
            return {
              before: constant(children.slice(0, ind)),
              after: constant(children.slice(ind + 1))
            };
          });
        };

        var breakToRight = function breakToRight(universe, parent, child) {
          return bisect(universe, parent, child).map(function (parts) {
            var second = universe.create().clone(parent);
            universe.insert().appendAll(second, parts.after());
            universe.insert().after(parent, second);
            return leftRight(parent, second);
          });
        };

        var breakToLeft = function breakToLeft(universe, parent, child) {
          return bisect(universe, parent, child).map(function (parts) {
            var prior = universe.create().clone(parent);
            universe.insert().appendAll(prior, parts.before().concat([child]));
            universe.insert().appendAll(parent, parts.after());
            universe.insert().before(parent, prior);
            return leftRight(prior, parent);
          });
        };

        var breakPath = function breakPath(universe, item, isTop, breaker) {
          var next = function next(child, group, splits) {
            var fallback = brokenPath(child, Option.none(), splits);

            if (isTop(child)) {
              return brokenPath(child, group, splits);
            } else {
              return universe.property().parent(child).bind(function (parent) {
                return breaker(universe, parent, child).map(function (breakage) {
                  var extra = [{
                    first: breakage.left,
                    second: breakage.right
                  }];
                  var nextChild = isTop(parent) ? parent : breakage.left();
                  return next(nextChild, Option.some(breakage.right()), splits.concat(extra));
                });
              }).getOr(fallback);
            }
          };

          return next(item, Option.none(), []);
        };

        var all$1 = function all$1(universe, look, elements, f) {
          var head = elements[0];
          var tail = elements.slice(1);
          return f(universe, look, head, tail);
        };

        var oneAll = function oneAll(universe, look, elements) {
          return elements.length > 0 ? all$1(universe, look, elements, unsafeOne) : Option.none();
        };

        var unsafeOne = function unsafeOne(universe, look, head, tail) {
          var start = look(universe, head);
          return foldr(tail, function (b, a) {
            var current = look(universe, a);
            return commonElement(universe, b, current);
          }, start);
        };

        var commonElement = function commonElement(universe, start, end) {
          return start.bind(function (s) {
            return end.filter(curry(universe.eq, s));
          });
        };

        var eq$1 = function eq$1(universe, item) {
          return curry(universe.eq, item);
        };

        var unsafeSubset = function unsafeSubset(universe, common, ps1, ps2) {
          var children = universe.property().children(common);

          if (universe.eq(common, ps1[0])) {
            return Option.some([ps1[0]]);
          }

          if (universe.eq(common, ps2[0])) {
            return Option.some([ps2[0]]);
          }

          var finder = function finder(ps) {
            var topDown = reverse(ps);
            var index = findIndex(topDown, eq$1(universe, common)).getOr(-1);
            var item = index < topDown.length - 1 ? topDown[index + 1] : topDown[index];
            return findIndex(children, eq$1(universe, item));
          };

          var startIndex = finder(ps1);
          var endIndex = finder(ps2);
          return startIndex.bind(function (sIndex) {
            return endIndex.map(function (eIndex) {
              var first = Math.min(sIndex, eIndex);
              var last = Math.max(sIndex, eIndex);
              return children.slice(first, last + 1);
            });
          });
        };

        var ancestors$2 = function ancestors$2(universe, start, end, isRoot) {
          if (isRoot === void 0) {
            isRoot = never;
          }

          var ps1 = [start].concat(universe.up().all(start));
          var ps2 = [end].concat(universe.up().all(end));

          var prune = function prune(path) {
            var index = findIndex(path, isRoot);
            return index.fold(function () {
              return path;
            }, function (ind) {
              return path.slice(0, ind + 1);
            });
          };

          var pruned1 = prune(ps1);
          var pruned2 = prune(ps2);
          var shared = find(pruned1, function (x) {
            return exists(pruned2, eq$1(universe, x));
          });
          return {
            firstpath: constant(pruned1),
            secondpath: constant(pruned2),
            shared: constant(shared)
          };
        };

        var subset = function subset(universe, start, end) {
          var ancs = ancestors$2(universe, start, end);
          return ancs.shared().bind(function (shared) {
            return unsafeSubset(universe, shared, ancs.firstpath(), ancs.secondpath());
          });
        };

        var SubsetFn = {
          subset: subset,
          ancestors: ancestors$2
        };
        var sharedOne = oneAll;
        var subset$1 = SubsetFn.subset;
        var ancestors$3 = SubsetFn.ancestors;
        var breakToLeft$1 = breakToLeft;
        var breakToRight$1 = breakToRight;
        var breakPath$1 = breakPath;
        var Parent = {
          sharedOne: sharedOne,
          subset: subset$1,
          ancestors: ancestors$3,
          breakToLeft: breakToLeft$1,
          breakToRight: breakToRight$1,
          breakPath: breakPath$1
        };
        var universe = DomUniverse();

        var sharedOne$1 = function sharedOne$1(look, elements) {
          return Parent.sharedOne(universe, function (_universe, element) {
            return look(element);
          }, elements);
        };

        var subset$2 = function subset$2(start, finish) {
          return Parent.subset(universe, start, finish);
        };

        var ancestors$4 = function ancestors$4(start, finish, isRoot) {
          return Parent.ancestors(universe, start, finish, isRoot);
        };

        var breakToLeft$2 = function breakToLeft$2(parent, child) {
          return Parent.breakToLeft(universe, parent, child);
        };

        var breakToRight$2 = function breakToRight$2(parent, child) {
          return Parent.breakToRight(universe, parent, child);
        };

        var breakPath$2 = function breakPath$2(child, isTop, breaker) {
          return Parent.breakPath(universe, child, isTop, function (u, p, c) {
            return breaker(p, c);
          });
        };

        var DomParent = {
          sharedOne: sharedOne$1,
          subset: subset$2,
          ancestors: ancestors$4,
          breakToLeft: breakToLeft$2,
          breakToRight: breakToRight$2,
          breakPath: breakPath$2
        };
        var create = MixedBag(['boxes', 'start', 'finish'], []);
        var Identified = {
          create: create
        };

        var lookupTable = function lookupTable(container) {
          return ancestor$1(container, 'table');
        };

        var identify = function identify(start, finish, isRoot) {
          var getIsRoot = function getIsRoot(rootTable) {
            return function (element) {
              return isRoot !== undefined && isRoot(element) || eq(element, rootTable);
            };
          };

          if (eq(start, finish)) {
            return Option.some(Identified.create({
              boxes: Option.some([start]),
              start: start,
              finish: finish
            }));
          } else {
            return lookupTable(start).bind(function (startTable) {
              return lookupTable(finish).bind(function (finishTable) {
                if (eq(startTable, finishTable)) {
                  return Option.some(Identified.create({
                    boxes: TablePositions.intercepts(startTable, start, finish),
                    start: start,
                    finish: finish
                  }));
                } else if (contains$2(startTable, finishTable)) {
                  var ancestorCells = ancestors$1(finish, 'td,th', getIsRoot(startTable));
                  var finishCell = ancestorCells.length > 0 ? ancestorCells[ancestorCells.length - 1] : finish;
                  return Option.some(Identified.create({
                    boxes: TablePositions.nestedIntercepts(startTable, start, startTable, finish, finishTable),
                    start: start,
                    finish: finishCell
                  }));
                } else if (contains$2(finishTable, startTable)) {
                  var ancestorCells = ancestors$1(start, 'td,th', getIsRoot(finishTable));
                  var startCell = ancestorCells.length > 0 ? ancestorCells[ancestorCells.length - 1] : start;
                  return Option.some(Identified.create({
                    boxes: TablePositions.nestedIntercepts(finishTable, start, startTable, finish, finishTable),
                    start: start,
                    finish: startCell
                  }));
                } else {
                  return DomParent.ancestors(start, finish).shared().bind(function (lca) {
                    return closest$1(lca, 'table', isRoot).bind(function (lcaTable) {
                      var finishAncestorCells = ancestors$1(finish, 'td,th', getIsRoot(lcaTable));
                      var finishCell = finishAncestorCells.length > 0 ? finishAncestorCells[finishAncestorCells.length - 1] : finish;
                      var startAncestorCells = ancestors$1(start, 'td,th', getIsRoot(lcaTable));
                      var startCell = startAncestorCells.length > 0 ? startAncestorCells[startAncestorCells.length - 1] : start;
                      return Option.some(Identified.create({
                        boxes: TablePositions.nestedIntercepts(lcaTable, start, startTable, finish, finishTable),
                        start: startCell,
                        finish: finishCell
                      }));
                    });
                  });
                }
              });
            });
          }
        };

        var retrieve = function retrieve(container, selector) {
          var sels = descendants$1(container, selector);
          return sels.length > 0 ? Option.some(sels) : Option.none();
        };

        var getLast = function getLast(boxes, lastSelectedSelector) {
          return find(boxes, function (box) {
            return is(box, lastSelectedSelector);
          });
        };

        var getEdges = function getEdges(container, firstSelectedSelector, lastSelectedSelector) {
          return descendant$1(container, firstSelectedSelector).bind(function (first) {
            return descendant$1(container, lastSelectedSelector).bind(function (last) {
              return DomParent.sharedOne(lookupTable, [first, last]).map(function (tbl) {
                return {
                  first: constant(first),
                  last: constant(last),
                  table: constant(tbl)
                };
              });
            });
          });
        };

        var expandTo = function expandTo(finish, firstSelectedSelector) {
          return ancestor$1(finish, 'table').bind(function (table) {
            return descendant$1(table, firstSelectedSelector).bind(function (start) {
              return identify(start, finish).bind(function (identified) {
                return identified.boxes().map(function (boxes) {
                  return {
                    boxes: constant(boxes),
                    start: constant(identified.start()),
                    finish: constant(identified.finish())
                  };
                });
              });
            });
          });
        };

        var shiftSelection = function shiftSelection(boxes, deltaRow, deltaColumn, firstSelectedSelector, lastSelectedSelector) {
          return getLast(boxes, lastSelectedSelector).bind(function (last) {
            return TablePositions.moveBy(last, deltaRow, deltaColumn).bind(function (finish) {
              return expandTo(finish, firstSelectedSelector);
            });
          });
        };

        var CellSelection = {
          identify: identify,
          retrieve: retrieve,
          shiftSelection: shiftSelection,
          getEdges: getEdges
        };

        var retrieve$1 = function retrieve$1(container, selector) {
          return CellSelection.retrieve(container, selector);
        };

        var retrieveBox = function retrieveBox(container, firstSelectedSelector, lastSelectedSelector) {
          return CellSelection.getEdges(container, firstSelectedSelector, lastSelectedSelector).bind(function (edges) {
            var isRoot = function isRoot(ancestor) {
              return eq(container, ancestor);
            };

            var firstAncestor = ancestor$1(edges.first(), 'thead,tfoot,tbody,table', isRoot);
            var lastAncestor = ancestor$1(edges.last(), 'thead,tfoot,tbody,table', isRoot);
            return firstAncestor.bind(function (fA) {
              return lastAncestor.bind(function (lA) {
                return eq(fA, lA) ? TablePositions.getBox(edges.table(), edges.first(), edges.last()) : Option.none();
              });
            });
          });
        };

        var TableSelection = {
          retrieve: retrieve$1,
          retrieveBox: retrieveBox
        };
        var selected = 'data-mce-selected';
        var selectedSelector = 'td[' + selected + '],th[' + selected + ']';
        var attributeSelector = '[' + selected + ']';
        var firstSelected = 'data-mce-first-selected';
        var firstSelectedSelector = 'td[' + firstSelected + '],th[' + firstSelected + ']';
        var lastSelected = 'data-mce-last-selected';
        var lastSelectedSelector = 'td[' + lastSelected + '],th[' + lastSelected + ']';
        var Ephemera = {
          selected: constant(selected),
          selectedSelector: constant(selectedSelector),
          attributeSelector: constant(attributeSelector),
          firstSelected: constant(firstSelected),
          firstSelectedSelector: constant(firstSelectedSelector),
          lastSelected: constant(lastSelected),
          lastSelectedSelector: constant(lastSelectedSelector)
        };

        var generate$1 = function generate$1(cases) {
          if (!isArray(cases)) {
            throw new Error('cases must be an array');
          }

          if (cases.length === 0) {
            throw new Error('there must be at least one case');
          }

          var constructors = [];
          var adt = {};
          each(cases, function (acase, count) {
            var keys$1 = keys(acase);

            if (keys$1.length !== 1) {
              throw new Error('one and only one name per case');
            }

            var key = keys$1[0];
            var value = acase[key];

            if (adt[key] !== undefined) {
              throw new Error('duplicate key detected:' + key);
            } else if (key === 'cata') {
              throw new Error('cannot have a case named cata (sorry)');
            } else if (!isArray(value)) {
              throw new Error('case arguments must be an array');
            }

            constructors.push(key);

            adt[key] = function () {
              var argLength = arguments.length;

              if (argLength !== value.length) {
                throw new Error('Wrong number of arguments to case ' + key + '. Expected ' + value.length + ' (' + value + '), got ' + argLength);
              }

              var args = new Array(argLength);

              for (var i = 0; i < args.length; i++) {
                args[i] = arguments[i];
              }

              var match = function match(branches) {
                var branchKeys = keys(branches);

                if (constructors.length !== branchKeys.length) {
                  throw new Error('Wrong number of arguments to match. Expected: ' + constructors.join(',') + '\nActual: ' + branchKeys.join(','));
                }

                var allReqd = forall(constructors, function (reqKey) {
                  return contains(branchKeys, reqKey);
                });
                if (!allReqd) throw new Error('Not all branches were specified when using match. Specified: ' + branchKeys.join(', ') + '\nRequired: ' + constructors.join(', '));
                return branches[key].apply(null, args);
              };

              return {
                fold: function fold() {
                  if (arguments.length !== cases.length) {
                    throw new Error('Wrong number of arguments to fold. Expected ' + cases.length + ', got ' + arguments.length);
                  }

                  var target = arguments[count];
                  return target.apply(null, args);
                },
                match: match,
                log: function log(label) {
                  domGlobals.console.log(label, {
                    constructors: constructors,
                    constructor: key,
                    params: args
                  });
                }
              };
            };
          });
          return adt;
        };

        var Adt = {
          generate: generate$1
        };
        var type$1 = Adt.generate([{
          none: []
        }, {
          multiple: ['elements']
        }, {
          single: ['selection']
        }]);

        var cata = function cata(subject, onNone, onMultiple, onSingle) {
          return subject.fold(onNone, onMultiple, onSingle);
        };

        var SelectionTypes = {
          cata: cata,
          none: type$1.none,
          multiple: type$1.multiple,
          single: type$1.single
        };

        var selection = function selection(cell, selections) {
          return SelectionTypes.cata(selections.get(), constant([]), identity, constant([cell]));
        };

        var unmergable = function unmergable(cell, selections) {
          var hasSpan = function hasSpan(elem) {
            return has(elem, 'rowspan') && parseInt(get(elem, 'rowspan'), 10) > 1 || has(elem, 'colspan') && parseInt(get(elem, 'colspan'), 10) > 1;
          };

          var candidates = selection(cell, selections);
          return candidates.length > 0 && forall(candidates, hasSpan) ? Option.some(candidates) : Option.none();
        };

        var mergable = function mergable(table, selections) {
          return SelectionTypes.cata(selections.get(), Option.none, function (cells, _env) {
            if (cells.length === 0) {
              return Option.none();
            }

            return TableSelection.retrieveBox(table, Ephemera.firstSelectedSelector(), Ephemera.lastSelectedSelector()).bind(function (bounds) {
              return cells.length > 1 ? Option.some({
                bounds: constant(bounds),
                cells: constant(cells)
              }) : Option.none();
            });
          }, Option.none);
        };

        var CellOperations = {
          mergable: mergable,
          unmergable: unmergable,
          selection: selection
        };

        var noMenu = function noMenu(cell) {
          return {
            element: constant(cell),
            mergable: Option.none,
            unmergable: Option.none,
            selection: constant([cell])
          };
        };

        var forMenu = function forMenu(selections, table, cell) {
          return {
            element: constant(cell),
            mergable: constant(CellOperations.mergable(table, selections)),
            unmergable: constant(CellOperations.unmergable(cell, selections)),
            selection: constant(CellOperations.selection(cell, selections))
          };
        };

        var notCell$1 = function notCell$1(element) {
          return noMenu(element);
        };

        var paste$1 = Immutable('element', 'clipboard', 'generators');

        var pasteRows = function pasteRows(selections, table, cell, clipboard, generators) {
          return {
            element: constant(cell),
            mergable: Option.none,
            unmergable: Option.none,
            selection: constant(CellOperations.selection(cell, selections)),
            clipboard: constant(clipboard),
            generators: constant(generators)
          };
        };

        var TableTargets = {
          noMenu: noMenu,
          forMenu: forMenu,
          notCell: notCell$1,
          paste: paste$1,
          pasteRows: pasteRows
        };

        var extractSelected = function extractSelected(cells) {
          return TableLookup.table(cells[0]).map(deep).map(function (replica) {
            return [CopySelected.extract(replica, Ephemera.attributeSelector())];
          });
        };

        var serializeElements = function serializeElements(editor, elements) {
          return map(elements, function (elm) {
            return editor.selection.serializer.serialize(elm.dom(), {});
          }).join('');
        };

        var getTextContent = function getTextContent(elements) {
          return map(elements, function (element) {
            return element.dom().innerText;
          }).join('');
        };

        var registerEvents = function registerEvents(editor, selections, actions, cellSelection) {
          editor.on('BeforeGetContent', function (e) {
            var multiCellContext = function multiCellContext(cells) {
              e.preventDefault();
              extractSelected(cells).each(function (elements) {
                e.content = e.format === 'text' ? getTextContent(elements) : serializeElements(editor, elements);
              });
            };

            if (e.selection === true) {
              SelectionTypes.cata(selections.get(), noop, multiCellContext, noop);
            }
          });
          editor.on('BeforeSetContent', function (e) {
            if (e.selection === true && e.paste === true) {
              var cellOpt = Option.from(editor.dom.getParent(editor.selection.getStart(), 'th,td'));
              cellOpt.each(function (domCell) {
                var cell = Element.fromDom(domCell);
                TableLookup.table(cell).each(function (table) {
                  var elements = filter(fromHtml$1(e.content), function (content) {
                    return name(content) !== 'meta';
                  });

                  if (elements.length === 1 && name(elements[0]) === 'table') {
                    e.preventDefault();
                    var doc = Element.fromDom(editor.getDoc());
                    var generators = TableFill.paste(doc);
                    var targets = TableTargets.paste(cell, elements[0], generators);
                    actions.pasteCells(table, targets).each(function (rng) {
                      editor.selection.setRng(rng);
                      editor.focus();
                      cellSelection.clear(table);
                    });
                  }
                });
              });
            }
          });
        };

        var Clipboard = {
          registerEvents: registerEvents
        };

        function Dimension(name, getOffset) {
          var set = function set(element, h) {
            if (!isNumber(h) && !h.match(/^[0-9]+$/)) {
              throw new Error(name + '.set accepts only positive integer values. Value was ' + h);
            }

            var dom = element.dom();

            if (isSupported(dom)) {
              dom.style[name] = h + 'px';
            }
          };

          var get = function get(element) {
            var r = getOffset(element);

            if (r <= 0 || r === null) {
              var css = get$1(element, name);
              return parseFloat(css) || 0;
            }

            return r;
          };

          var getOuter = get;

          var aggregate = function aggregate(element, properties) {
            return foldl(properties, function (acc, property) {
              var val = get$1(element, property);
              var value = val === undefined ? 0 : parseInt(val, 10);
              return isNaN(value) ? acc : acc + value;
            }, 0);
          };

          var max = function max(element, value, properties) {
            var cumulativeInclusions = aggregate(element, properties);
            var absoluteMax = value > cumulativeInclusions ? value - cumulativeInclusions : 0;
            return absoluteMax;
          };

          return {
            set: set,
            get: get,
            getOuter: getOuter,
            aggregate: aggregate,
            max: max
          };
        }

        var api$1 = Dimension('height', function (element) {
          var dom = element.dom();
          return inBody(element) ? dom.getBoundingClientRect().height : dom.offsetHeight;
        });

        var get$3 = function get$3(element) {
          return api$1.get(element);
        };

        var getOuter = function getOuter(element) {
          return api$1.getOuter(element);
        };

        var api$2 = Dimension('width', function (element) {
          return element.dom().offsetWidth;
        });

        var get$4 = function get$4(element) {
          return api$2.get(element);
        };

        var getOuter$1 = function getOuter$1(element) {
          return api$2.getOuter(element);
        };

        var platform = PlatformDetection$1.detect();

        var needManualCalc = function needManualCalc() {
          return platform.browser.isIE() || platform.browser.isEdge();
        };

        var toNumber = function toNumber(px, fallback) {
          var num = parseFloat(px);
          return isNaN(num) ? fallback : num;
        };

        var getProp = function getProp(elm, name, fallback) {
          return toNumber(get$1(elm, name), fallback);
        };

        var getCalculatedHeight = function getCalculatedHeight(cell) {
          var paddingTop = getProp(cell, 'padding-top', 0);
          var paddingBottom = getProp(cell, 'padding-bottom', 0);
          var borderTop = getProp(cell, 'border-top-width', 0);
          var borderBottom = getProp(cell, 'border-bottom-width', 0);
          var height = cell.dom().getBoundingClientRect().height;
          var boxSizing = get$1(cell, 'box-sizing');
          var borders = borderTop + borderBottom;
          return boxSizing === 'border-box' ? height : height - paddingTop - paddingBottom - borders;
        };

        var getWidth = function getWidth(cell) {
          return getProp(cell, 'width', get$4(cell));
        };

        var getHeight = function getHeight(cell) {
          return needManualCalc() ? getCalculatedHeight(cell) : getProp(cell, 'height', get$3(cell));
        };

        var RuntimeSize = {
          getWidth: getWidth,
          getHeight: getHeight
        };
        var genericSizeRegex = /(\d+(\.\d+)?)(\w|%)*/;
        var percentageBasedSizeRegex = /(\d+(\.\d+)?)%/;
        var pixelBasedSizeRegex = /(\d+(\.\d+)?)px|em/;

        var setPixelWidth = function setPixelWidth(cell, amount) {
          set$1(cell, 'width', amount + 'px');
        };

        var setPercentageWidth = function setPercentageWidth(cell, amount) {
          set$1(cell, 'width', amount + '%');
        };

        var setHeight = function setHeight(cell, amount) {
          set$1(cell, 'height', amount + 'px');
        };

        var getHeightValue = function getHeightValue(cell) {
          return getRaw(cell, 'height').getOrThunk(function () {
            return RuntimeSize.getHeight(cell) + 'px';
          });
        };

        var convert = function convert(cell, number, getter, setter) {
          var newSize = TableLookup.table(cell).map(function (table) {
            var total = getter(table);
            return Math.floor(number / 100 * total);
          }).getOr(number);
          setter(cell, newSize);
          return newSize;
        };

        var normalizePixelSize = function normalizePixelSize(value, cell, getter, setter) {
          var number = parseInt(value, 10);
          return endsWith(value, '%') && name(cell) !== 'table' ? convert(cell, number, getter, setter) : number;
        };

        var getTotalHeight = function getTotalHeight(cell) {
          var value = getHeightValue(cell);

          if (!value) {
            return get$3(cell);
          }

          return normalizePixelSize(value, cell, get$3, setHeight);
        };

        var get$5 = function get$5(cell, type, f) {
          var v = f(cell);
          var span = getSpan(cell, type);
          return v / span;
        };

        var getSpan = function getSpan(cell, type) {
          return has(cell, type) ? parseInt(get(cell, type), 10) : 1;
        };

        var getRawWidth = function getRawWidth(element) {
          var cssWidth = getRaw(element, 'width');
          return cssWidth.fold(function () {
            return Option.from(get(element, 'width'));
          }, function (width) {
            return Option.some(width);
          });
        };

        var normalizePercentageWidth = function normalizePercentageWidth(cellWidth, tableSize) {
          return cellWidth / tableSize.pixelWidth() * 100;
        };

        var choosePercentageSize = function choosePercentageSize(element, width, tableSize) {
          var percentMatch = percentageBasedSizeRegex.exec(width);

          if (percentMatch !== null) {
            return parseFloat(percentMatch[1]);
          } else {
            var intWidth = get$4(element);
            return normalizePercentageWidth(intWidth, tableSize);
          }
        };

        var getPercentageWidth = function getPercentageWidth(cell, tableSize) {
          var width = getRawWidth(cell);
          return width.fold(function () {
            var intWidth = get$4(cell);
            return normalizePercentageWidth(intWidth, tableSize);
          }, function (w) {
            return choosePercentageSize(cell, w, tableSize);
          });
        };

        var normalizePixelWidth = function normalizePixelWidth(cellWidth, tableSize) {
          return cellWidth / 100 * tableSize.pixelWidth();
        };

        var choosePixelSize = function choosePixelSize(element, width, tableSize) {
          var pixelMatch = pixelBasedSizeRegex.exec(width);

          if (pixelMatch !== null) {
            return parseInt(pixelMatch[1], 10);
          }

          var percentMatch = percentageBasedSizeRegex.exec(width);

          if (percentMatch !== null) {
            var floatWidth = parseFloat(percentMatch[1]);
            return normalizePixelWidth(floatWidth, tableSize);
          }

          return get$4(element);
        };

        var getPixelWidth = function getPixelWidth(cell, tableSize) {
          var width = getRawWidth(cell);
          return width.fold(function () {
            return get$4(cell);
          }, function (w) {
            return choosePixelSize(cell, w, tableSize);
          });
        };

        var getHeight$1 = function getHeight$1(cell) {
          return get$5(cell, 'rowspan', getTotalHeight);
        };

        var getGenericWidth = function getGenericWidth(cell) {
          var width = getRawWidth(cell);
          return width.bind(function (w) {
            var match = genericSizeRegex.exec(w);

            if (match !== null) {
              return Option.some({
                width: constant(parseFloat(match[1])),
                unit: constant(match[3])
              });
            } else {
              return Option.none();
            }
          });
        };

        var setGenericWidth = function setGenericWidth(cell, amount, unit) {
          set$1(cell, 'width', amount + unit);
        };

        var Sizes = {
          percentageBasedSizeRegex: constant(percentageBasedSizeRegex),
          pixelBasedSizeRegex: constant(pixelBasedSizeRegex),
          setPixelWidth: setPixelWidth,
          setPercentageWidth: setPercentageWidth,
          setHeight: setHeight,
          getPixelWidth: getPixelWidth,
          getPercentageWidth: getPercentageWidth,
          getGenericWidth: getGenericWidth,
          setGenericWidth: setGenericWidth,
          getHeight: getHeight$1,
          getRawWidth: getRawWidth
        };

        var halve = function halve(main, other) {
          var width = Sizes.getGenericWidth(main);
          width.each(function (w) {
            var newWidth = w.width() / 2;
            Sizes.setGenericWidth(main, newWidth, w.unit());
            Sizes.setGenericWidth(other, newWidth, w.unit());
          });
        };

        var CellMutations = {
          halve: halve
        };

        var attached = function attached(element, scope) {
          var doc = scope || Element.fromDom(domGlobals.document.documentElement);
          return ancestor(element, curry(eq, doc)).isSome();
        };

        var windowOf = function windowOf(element) {
          var dom = element.dom();

          if (dom === dom.window && element instanceof domGlobals.Window) {
            return element;
          }

          return isDocument(element) ? dom.defaultView || dom.parentWindow : null;
        };

        var r = function r(left, top) {
          var translate = function translate(x, y) {
            return r(left + x, top + y);
          };

          return {
            left: constant(left),
            top: constant(top),
            translate: translate
          };
        };

        var Position = r;

        var boxPosition = function boxPosition(dom) {
          var box = dom.getBoundingClientRect();
          return Position(box.left, box.top);
        };

        var firstDefinedOrZero = function firstDefinedOrZero(a, b) {
          return a !== undefined ? a : b !== undefined ? b : 0;
        };

        var absolute = function absolute(element) {
          var doc = element.dom().ownerDocument;
          var body = doc.body;
          var win = windowOf(Element.fromDom(doc));
          var html = doc.documentElement;
          var scrollTop = firstDefinedOrZero(win.pageYOffset, html.scrollTop);
          var scrollLeft = firstDefinedOrZero(win.pageXOffset, html.scrollLeft);
          var clientTop = firstDefinedOrZero(html.clientTop, body.clientTop);
          var clientLeft = firstDefinedOrZero(html.clientLeft, body.clientLeft);
          return viewport(element).translate(scrollLeft - clientLeft, scrollTop - clientTop);
        };

        var viewport = function viewport(element) {
          var dom = element.dom();
          var doc = dom.ownerDocument;
          var body = doc.body;
          var html = Element.fromDom(doc.documentElement);

          if (body === dom) {
            return Position(body.offsetLeft, body.offsetTop);
          }

          if (!attached(element, html)) {
            return Position(0, 0);
          }

          return boxPosition(dom);
        };

        var rowInfo = Immutable('row', 'y');
        var colInfo = Immutable('col', 'x');

        var rtlEdge = function rtlEdge(cell) {
          var pos = absolute(cell);
          return pos.left() + getOuter$1(cell);
        };

        var ltrEdge = function ltrEdge(cell) {
          return absolute(cell).left();
        };

        var getLeftEdge = function getLeftEdge(index, cell) {
          return colInfo(index, ltrEdge(cell));
        };

        var getRightEdge = function getRightEdge(index, cell) {
          return colInfo(index, rtlEdge(cell));
        };

        var getTop = function getTop(cell) {
          return absolute(cell).top();
        };

        var getTopEdge = function getTopEdge(index, cell) {
          return rowInfo(index, getTop(cell));
        };

        var getBottomEdge = function getBottomEdge(index, cell) {
          return rowInfo(index, getTop(cell) + getOuter(cell));
        };

        var findPositions = function findPositions(getInnerEdge, getOuterEdge, array) {
          if (array.length === 0) {
            return [];
          }

          var lines = map(array.slice(1), function (cellOption, index) {
            return cellOption.map(function (cell) {
              return getInnerEdge(index, cell);
            });
          });
          var lastLine = array[array.length - 1].map(function (cell) {
            return getOuterEdge(array.length - 1, cell);
          });
          return lines.concat([lastLine]);
        };

        var negate = function negate(step) {
          return -step;
        };

        var height = {
          delta: identity,
          positions: function positions(optElements) {
            return findPositions(getTopEdge, getBottomEdge, optElements);
          },
          edge: getTop
        };
        var ltr = {
          delta: identity,
          edge: ltrEdge,
          positions: function positions(optElements) {
            return findPositions(getLeftEdge, getRightEdge, optElements);
          }
        };
        var rtl = {
          delta: negate,
          edge: rtlEdge,
          positions: function positions(optElements) {
            return findPositions(getRightEdge, getLeftEdge, optElements);
          }
        };
        var BarPositions = {
          height: height,
          rtl: rtl,
          ltr: ltr
        };
        var ResizeDirection = {
          ltr: BarPositions.ltr,
          rtl: BarPositions.rtl
        };

        function TableDirection(directionAt) {
          var auto = function auto(table) {
            return directionAt(table).isRtl() ? ResizeDirection.rtl : ResizeDirection.ltr;
          };

          var delta = function delta(amount, table) {
            return auto(table).delta(amount, table);
          };

          var positions = function positions(cols, table) {
            return auto(table).positions(cols, table);
          };

          var edge = function edge(cell) {
            return auto(cell).edge(cell);
          };

          return {
            delta: delta,
            edge: edge,
            positions: positions
          };
        }

        var getGridSize = function getGridSize(table) {
          var input = DetailsList.fromTable(table);
          var warehouse = Warehouse.generate(input);
          return warehouse.grid();
        };

        var TableGridSize = {
          getGridSize: getGridSize
        };

        var _assign = function __assign() {
          _assign = Object.assign || function __assign(t) {
            for (var s, i = 1, n = arguments.length; i < n; i++) {
              s = arguments[i];

              for (var p in s) {
                if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];
              }
            }

            return t;
          };

          return _assign.apply(this, arguments);
        };

        var cat = function cat(arr) {
          var r = [];

          var push = function push(x) {
            r.push(x);
          };

          for (var i = 0; i < arr.length; i++) {
            arr[i].each(push);
          }

          return r;
        };

        var findMap = function findMap(arr, f) {
          for (var i = 0; i < arr.length; i++) {
            var r = f(arr[i], i);

            if (r.isSome()) {
              return r;
            }
          }

          return Option.none();
        };

        var setIfNot = function setIfNot(element, property, value, ignore) {
          if (value === ignore) {
            remove(element, property);
          } else {
            set(element, property, value);
          }
        };

        var render = function render(table, grid) {
          var newRows = [];
          var newCells = [];

          var renderSection = function renderSection(gridSection, sectionName) {
            var section = child$2(table, sectionName).getOrThunk(function () {
              var tb = Element.fromTag(sectionName, owner(table).dom());
              append(table, tb);
              return tb;
            });
            empty(section);
            var rows = map(gridSection, function (row) {
              if (row.isNew()) {
                newRows.push(row.element());
              }

              var tr = row.element();
              empty(tr);
              each(row.cells(), function (cell) {
                if (cell.isNew()) {
                  newCells.push(cell.element());
                }

                setIfNot(cell.element(), 'colspan', cell.colspan(), 1);
                setIfNot(cell.element(), 'rowspan', cell.rowspan(), 1);
                append(tr, cell.element());
              });
              return tr;
            });
            append$1(section, rows);
          };

          var removeSection = function removeSection(sectionName) {
            child$2(table, sectionName).each(remove$2);
          };

          var renderOrRemoveSection = function renderOrRemoveSection(gridSection, sectionName) {
            if (gridSection.length > 0) {
              renderSection(gridSection, sectionName);
            } else {
              removeSection(sectionName);
            }
          };

          var headSection = [];
          var bodySection = [];
          var footSection = [];
          each(grid, function (row) {
            switch (row.section()) {
              case 'thead':
                headSection.push(row);
                break;

              case 'tbody':
                bodySection.push(row);
                break;

              case 'tfoot':
                footSection.push(row);
                break;
            }
          });
          renderOrRemoveSection(headSection, 'thead');
          renderOrRemoveSection(bodySection, 'tbody');
          renderOrRemoveSection(footSection, 'tfoot');
          return {
            newRows: constant(newRows),
            newCells: constant(newCells)
          };
        };

        var copy$2 = function copy$2(grid) {
          var rows = map(grid, function (row) {
            var tr = shallow(row.element());
            each(row.cells(), function (cell) {
              var clonedCell = deep(cell.element());
              setIfNot(clonedCell, 'colspan', cell.colspan(), 1);
              setIfNot(clonedCell, 'rowspan', cell.rowspan(), 1);
              append(tr, clonedCell);
            });
            return tr;
          });
          return rows;
        };

        var Redraw = {
          render: render,
          copy: copy$2
        };

        var read = function read(element, attr) {
          var value = get(element, attr);
          return value === undefined || value === '' ? [] : value.split(' ');
        };

        var add = function add(element, attr, id) {
          var old = read(element, attr);
          var nu = old.concat([id]);
          set(element, attr, nu.join(' '));
          return true;
        };

        var remove$3 = function remove$3(element, attr, id) {
          var nu = filter(read(element, attr), function (v) {
            return v !== id;
          });

          if (nu.length > 0) {
            set(element, attr, nu.join(' '));
          } else {
            remove(element, attr);
          }

          return false;
        };

        var supports = function supports(element) {
          return element.dom().classList !== undefined;
        };

        var get$6 = function get$6(element) {
          return read(element, 'class');
        };

        var add$1 = function add$1(element, clazz) {
          return add(element, 'class', clazz);
        };

        var remove$4 = function remove$4(element, clazz) {
          return remove$3(element, 'class', clazz);
        };

        var add$2 = function add$2(element, clazz) {
          if (supports(element)) {
            element.dom().classList.add(clazz);
          } else {
            add$1(element, clazz);
          }
        };

        var cleanClass = function cleanClass(element) {
          var classList = supports(element) ? element.dom().classList : get$6(element);

          if (classList.length === 0) {
            remove(element, 'class');
          }
        };

        var remove$5 = function remove$5(element, clazz) {
          if (supports(element)) {
            var classList = element.dom().classList;
            classList.remove(clazz);
          } else {
            remove$4(element, clazz);
          }

          cleanClass(element);
        };

        var has$1 = function has$1(element, clazz) {
          return supports(element) && element.dom().classList.contains(clazz);
        };

        var repeat = function repeat(repititions, f) {
          var r = [];

          for (var i = 0; i < repititions; i++) {
            r.push(f(i));
          }

          return r;
        };

        var range = function range(start, end) {
          var r = [];

          for (var i = start; i < end; i++) {
            r.push(i);
          }

          return r;
        };

        var deduce = function deduce(xs, index) {
          if (index < 0 || index >= xs.length - 1) {
            return Option.none();
          }

          var current = xs[index].fold(function () {
            var rest = reverse(xs.slice(0, index));
            return findMap(rest, function (a, i) {
              return a.map(function (aa) {
                return {
                  value: aa,
                  delta: i + 1
                };
              });
            });
          }, function (c) {
            return Option.some({
              value: c,
              delta: 0
            });
          });
          var next = xs[index + 1].fold(function () {
            var rest = xs.slice(index + 1);
            return findMap(rest, function (a, i) {
              return a.map(function (aa) {
                return {
                  value: aa,
                  delta: i + 1
                };
              });
            });
          }, function (n) {
            return Option.some({
              value: n,
              delta: 1
            });
          });
          return current.bind(function (c) {
            return next.map(function (n) {
              var extras = n.delta + c.delta;
              return Math.abs(n.value - c.value) / extras;
            });
          });
        };

        var columns = function columns(warehouse) {
          var grid = warehouse.grid();
          var cols = range(0, grid.columns());
          var rowsArr = range(0, grid.rows());
          return map(cols, function (col) {
            var getBlock = function getBlock() {
              return bind(rowsArr, function (r) {
                return Warehouse.getAt(warehouse, r, col).filter(function (detail) {
                  return detail.column() === col;
                }).fold(constant([]), function (detail) {
                  return [detail];
                });
              });
            };

            var isSingle = function isSingle(detail) {
              return detail.colspan() === 1;
            };

            var getFallback = function getFallback() {
              return Warehouse.getAt(warehouse, 0, col);
            };

            return decide(getBlock, isSingle, getFallback);
          });
        };

        var decide = function decide(getBlock, isSingle, getFallback) {
          var inBlock = getBlock();
          var singleInBlock = find(inBlock, isSingle);
          var detailOption = singleInBlock.orThunk(function () {
            return Option.from(inBlock[0]).orThunk(getFallback);
          });
          return detailOption.map(function (detail) {
            return detail.element();
          });
        };

        var rows$1 = function rows$1(warehouse) {
          var grid = warehouse.grid();
          var rowsArr = range(0, grid.rows());
          var cols = range(0, grid.columns());
          return map(rowsArr, function (row) {
            var getBlock = function getBlock() {
              return bind(cols, function (c) {
                return Warehouse.getAt(warehouse, row, c).filter(function (detail) {
                  return detail.row() === row;
                }).fold(constant([]), function (detail) {
                  return [detail];
                });
              });
            };

            var isSingle = function isSingle(detail) {
              return detail.rowspan() === 1;
            };

            var getFallback = function getFallback() {
              return Warehouse.getAt(warehouse, row, 0);
            };

            return decide(getBlock, isSingle, getFallback);
          });
        };

        var Blocks = {
          columns: columns,
          rows: rows$1
        };

        var css = function css(namespace) {
          var dashNamespace = namespace.replace(/\./g, '-');

          var resolve = function resolve(str) {
            return dashNamespace + '-' + str;
          };

          return {
            resolve: resolve
          };
        };

        var styles = css('ephox-snooker');
        var Styles = {
          resolve: styles.resolve
        };

        var col = function col(column, x, y, w, h) {
          var blocker = Element.fromTag('div');
          setAll$1(blocker, {
            position: 'absolute',
            left: x - w / 2 + 'px',
            top: y + 'px',
            height: h + 'px',
            width: w + 'px'
          });
          setAll(blocker, {
            'data-column': column,
            'role': 'presentation'
          });
          return blocker;
        };

        var row$1 = function row$1(r, x, y, w, h) {
          var blocker = Element.fromTag('div');
          setAll$1(blocker, {
            position: 'absolute',
            left: x + 'px',
            top: y - h / 2 + 'px',
            height: h + 'px',
            width: w + 'px'
          });
          setAll(blocker, {
            'data-row': r,
            'role': 'presentation'
          });
          return blocker;
        };

        var Bar = {
          col: col,
          row: row$1
        };
        var resizeBar = Styles.resolve('resizer-bar');
        var resizeRowBar = Styles.resolve('resizer-rows');
        var resizeColBar = Styles.resolve('resizer-cols');
        var BAR_THICKNESS = 7;

        var destroy = function destroy(wire) {
          var previous = descendants$1(wire.parent(), '.' + resizeBar);
          each(previous, remove$2);
        };

        var drawBar = function drawBar(wire, positions, create) {
          var origin = wire.origin();
          each(positions, function (cpOption, i) {
            cpOption.each(function (cp) {
              var bar = create(origin, cp);
              add$2(bar, resizeBar);
              append(wire.parent(), bar);
            });
          });
        };

        var refreshCol = function refreshCol(wire, colPositions, position, tableHeight) {
          drawBar(wire, colPositions, function (origin, cp) {
            var colBar = Bar.col(cp.col(), cp.x() - origin.left(), position.top() - origin.top(), BAR_THICKNESS, tableHeight);
            add$2(colBar, resizeColBar);
            return colBar;
          });
        };

        var refreshRow = function refreshRow(wire, rowPositions, position, tableWidth) {
          drawBar(wire, rowPositions, function (origin, cp) {
            var rowBar = Bar.row(cp.row(), position.left() - origin.left(), cp.y() - origin.top(), tableWidth, BAR_THICKNESS);
            add$2(rowBar, resizeRowBar);
            return rowBar;
          });
        };

        var refreshGrid = function refreshGrid(wire, table, rows, cols, hdirection, vdirection) {
          var position = absolute(table);
          var rowPositions = rows.length > 0 ? hdirection.positions(rows, table) : [];
          refreshRow(wire, rowPositions, position, getOuter$1(table));
          var colPositions = cols.length > 0 ? vdirection.positions(cols, table) : [];
          refreshCol(wire, colPositions, position, getOuter(table));
        };

        var refresh = function refresh(wire, table, hdirection, vdirection) {
          destroy(wire);
          var list = DetailsList.fromTable(table);
          var warehouse = Warehouse.generate(list);
          var rows = Blocks.rows(warehouse);
          var cols = Blocks.columns(warehouse);
          refreshGrid(wire, table, rows, cols, hdirection, vdirection);
        };

        var each$2 = function each$2(wire, f) {
          var bars = descendants$1(wire.parent(), '.' + resizeBar);
          each(bars, f);
        };

        var hide = function hide(wire) {
          each$2(wire, function (bar) {
            set$1(bar, 'display', 'none');
          });
        };

        var show = function show(wire) {
          each$2(wire, function (bar) {
            set$1(bar, 'display', 'block');
          });
        };

        var isRowBar = function isRowBar(element) {
          return has$1(element, resizeRowBar);
        };

        var isColBar = function isColBar(element) {
          return has$1(element, resizeColBar);
        };

        var Bars = {
          refresh: refresh,
          hide: hide,
          show: show,
          destroy: destroy,
          isRowBar: isRowBar,
          isColBar: isColBar
        };

        var addCell = function addCell(gridRow, index, cell) {
          var cells = gridRow.cells();
          var before = cells.slice(0, index);
          var after = cells.slice(index);
          var newCells = before.concat([cell]).concat(after);
          return setCells(gridRow, newCells);
        };

        var mutateCell = function mutateCell(gridRow, index, cell) {
          var cells = gridRow.cells();
          cells[index] = cell;
        };

        var setCells = function setCells(gridRow, cells) {
          return rowcells(cells, gridRow.section());
        };

        var mapCells = function mapCells(gridRow, f) {
          var cells = gridRow.cells();
          var r = map(cells, f);
          return rowcells(r, gridRow.section());
        };

        var getCell = function getCell(gridRow, index) {
          return gridRow.cells()[index];
        };

        var getCellElement = function getCellElement(gridRow, index) {
          return getCell(gridRow, index).element();
        };

        var cellLength = function cellLength(gridRow) {
          return gridRow.cells().length;
        };

        var GridRow = {
          addCell: addCell,
          setCells: setCells,
          mutateCell: mutateCell,
          getCell: getCell,
          getCellElement: getCellElement,
          mapCells: mapCells,
          cellLength: cellLength
        };

        var getColumn = function getColumn(grid, index) {
          return map(grid, function (row) {
            return GridRow.getCell(row, index);
          });
        };

        var getRow = function getRow(grid, index) {
          return grid[index];
        };

        var findDiff = function findDiff(xs, comp) {
          if (xs.length === 0) {
            return 0;
          }

          var first = xs[0];
          var index = findIndex(xs, function (x) {
            return !comp(first.element(), x.element());
          });
          return index.fold(function () {
            return xs.length;
          }, function (ind) {
            return ind;
          });
        };

        var subgrid = function subgrid(grid, row, column, comparator) {
          var restOfRow = getRow(grid, row).cells().slice(column);
          var endColIndex = findDiff(restOfRow, comparator);
          var restOfColumn = getColumn(grid, column).slice(row);
          var endRowIndex = findDiff(restOfColumn, comparator);
          return {
            colspan: constant(endColIndex),
            rowspan: constant(endRowIndex)
          };
        };

        var TableGrid = {
          subgrid: subgrid
        };

        var toDetails = function toDetails(grid, comparator) {
          var seen = map(grid, function (row, ri) {
            return map(row.cells(), function (col, ci) {
              return false;
            });
          });

          var updateSeen = function updateSeen(ri, ci, rowspan, colspan) {
            for (var r = ri; r < ri + rowspan; r++) {
              for (var c = ci; c < ci + colspan; c++) {
                seen[r][c] = true;
              }
            }
          };

          return map(grid, function (row, ri) {
            var details = bind(row.cells(), function (cell, ci) {
              if (seen[ri][ci] === false) {
                var result = TableGrid.subgrid(grid, ri, ci, comparator);
                updateSeen(ri, ci, result.rowspan(), result.colspan());
                return [detailnew(cell.element(), result.rowspan(), result.colspan(), cell.isNew())];
              } else {
                return [];
              }
            });
            return rowdetails(details, row.section());
          });
        };

        var toGrid = function toGrid(warehouse, generators, isNew) {
          var grid = [];

          for (var i = 0; i < warehouse.grid().rows(); i++) {
            var rowCells = [];

            for (var j = 0; j < warehouse.grid().columns(); j++) {
              var element = Warehouse.getAt(warehouse, i, j).map(function (item) {
                return elementnew(item.element(), isNew);
              }).getOrThunk(function () {
                return elementnew(generators.gap(), true);
              });
              rowCells.push(element);
            }

            var row = rowcells(rowCells, warehouse.all()[i].section());
            grid.push(row);
          }

          return grid;
        };

        var Transitions = {
          toDetails: toDetails,
          toGrid: toGrid
        };

        var fromWarehouse = function fromWarehouse(warehouse, generators) {
          return Transitions.toGrid(warehouse, generators, false);
        };

        var deriveRows = function deriveRows(rendered, generators) {
          var findRow = function findRow(details) {
            var rowOfCells = findMap(details, function (detail) {
              return parent(detail.element()).map(function (row) {
                var isNew = parent(row).isNone();
                return elementnew(row, isNew);
              });
            });
            return rowOfCells.getOrThunk(function () {
              return elementnew(generators.row(), true);
            });
          };

          return map(rendered, function (details) {
            var row = findRow(details.details());
            return rowdatanew(row.element(), details.details(), details.section(), row.isNew());
          });
        };

        var toDetailList = function toDetailList(grid, generators) {
          var rendered = Transitions.toDetails(grid, eq);
          return deriveRows(rendered, generators);
        };

        var findInWarehouse = function findInWarehouse(warehouse, element) {
          var all = flatten(map(warehouse.all(), function (r) {
            return r.cells();
          }));
          return find(all, function (e) {
            return eq(element, e.element());
          });
        };

        var run = function run(operation, extract, adjustment, postAction, genWrappers) {
          return function (wire, table, target, generators, direction) {
            var input = DetailsList.fromTable(table);
            var warehouse = Warehouse.generate(input);
            var output = extract(warehouse, target).map(function (info) {
              var model = fromWarehouse(warehouse, generators);
              var result = operation(model, info, eq, genWrappers(generators));
              var grid = toDetailList(result.grid(), generators);
              return {
                grid: constant(grid),
                cursor: result.cursor
              };
            });
            return output.fold(function () {
              return Option.none();
            }, function (out) {
              var newElements = Redraw.render(table, out.grid());
              adjustment(table, out.grid(), direction);
              postAction(table);
              Bars.refresh(wire, table, BarPositions.height, direction);
              return Option.some({
                cursor: out.cursor,
                newRows: newElements.newRows,
                newCells: newElements.newCells
              });
            });
          };
        };

        var onCell = function onCell(warehouse, target) {
          return TableLookup.cell(target.element()).bind(function (cell) {
            return findInWarehouse(warehouse, cell);
          });
        };

        var onPaste = function onPaste(warehouse, target) {
          return TableLookup.cell(target.element()).bind(function (cell) {
            return findInWarehouse(warehouse, cell).map(function (details) {
              var value = _assign({}, details, {
                generators: target.generators,
                clipboard: target.clipboard
              });

              return value;
            });
          });
        };

        var onPasteRows = function onPasteRows(warehouse, target) {
          var details = map(target.selection(), function (cell) {
            return TableLookup.cell(cell).bind(function (lc) {
              return findInWarehouse(warehouse, lc);
            });
          });
          var cells = cat(details);
          return cells.length > 0 ? Option.some({
            cells: cells,
            generators: target.generators,
            clipboard: target.clipboard
          }) : Option.none();
        };

        var onMergable = function onMergable(_warehouse, target) {
          return target.mergable();
        };

        var onUnmergable = function onUnmergable(_warehouse, target) {
          return target.unmergable();
        };

        var onCells = function onCells(warehouse, target) {
          var details = map(target.selection(), function (cell) {
            return TableLookup.cell(cell).bind(function (lc) {
              return findInWarehouse(warehouse, lc);
            });
          });
          var cells = cat(details);
          return cells.length > 0 ? Option.some(cells) : Option.none();
        };

        var value = function value(o) {
          var is = function is(v) {
            return o === v;
          };

          var or = function or(opt) {
            return value(o);
          };

          var orThunk = function orThunk(f) {
            return value(o);
          };

          var map = function map(f) {
            return value(f(o));
          };

          var mapError = function mapError(f) {
            return value(o);
          };

          var each = function each(f) {
            f(o);
          };

          var bind = function bind(f) {
            return f(o);
          };

          var fold = function fold(_, onValue) {
            return onValue(o);
          };

          var exists = function exists(f) {
            return f(o);
          };

          var forall = function forall(f) {
            return f(o);
          };

          var toOption = function toOption() {
            return Option.some(o);
          };

          return {
            is: is,
            isValue: always,
            isError: never,
            getOr: constant(o),
            getOrThunk: constant(o),
            getOrDie: constant(o),
            or: or,
            orThunk: orThunk,
            fold: fold,
            map: map,
            mapError: mapError,
            each: each,
            bind: bind,
            exists: exists,
            forall: forall,
            toOption: toOption
          };
        };

        var error = function error(message) {
          var getOrThunk = function getOrThunk(f) {
            return f();
          };

          var getOrDie = function getOrDie() {
            return die(String(message))();
          };

          var or = function or(opt) {
            return opt;
          };

          var orThunk = function orThunk(f) {
            return f();
          };

          var map = function map(f) {
            return error(message);
          };

          var mapError = function mapError(f) {
            return error(f(message));
          };

          var bind = function bind(f) {
            return error(message);
          };

          var fold = function fold(onError, _) {
            return onError(message);
          };

          return {
            is: never,
            isValue: never,
            isError: always,
            getOr: identity,
            getOrThunk: getOrThunk,
            getOrDie: getOrDie,
            or: or,
            orThunk: orThunk,
            fold: fold,
            map: map,
            mapError: mapError,
            each: noop,
            bind: bind,
            exists: never,
            forall: always,
            toOption: Option.none
          };
        };

        var fromOption = function fromOption(opt, err) {
          return opt.fold(function () {
            return error(err);
          }, value);
        };

        var Result = {
          value: value,
          error: error,
          fromOption: fromOption
        };

        var measure = function measure(startAddress, gridA, gridB) {
          if (startAddress.row() >= gridA.length || startAddress.column() > GridRow.cellLength(gridA[0])) {
            return Result.error('invalid start address out of table bounds, row: ' + startAddress.row() + ', column: ' + startAddress.column());
          }

          var rowRemainder = gridA.slice(startAddress.row());
          var colRemainder = rowRemainder[0].cells().slice(startAddress.column());
          var colRequired = GridRow.cellLength(gridB[0]);
          var rowRequired = gridB.length;
          return Result.value({
            rowDelta: constant(rowRemainder.length - rowRequired),
            colDelta: constant(colRemainder.length - colRequired)
          });
        };

        var measureWidth = function measureWidth(gridA, gridB) {
          var colLengthA = GridRow.cellLength(gridA[0]);
          var colLengthB = GridRow.cellLength(gridB[0]);
          return {
            rowDelta: constant(0),
            colDelta: constant(colLengthA - colLengthB)
          };
        };

        var fill = function fill(cells, generator) {
          return map(cells, function () {
            return elementnew(generator.cell(), true);
          });
        };

        var rowFill = function rowFill(grid, amount, generator) {
          return grid.concat(repeat(amount, function (_row) {
            return GridRow.setCells(grid[grid.length - 1], fill(grid[grid.length - 1].cells(), generator));
          }));
        };

        var colFill = function colFill(grid, amount, generator) {
          return map(grid, function (row) {
            return GridRow.setCells(row, row.cells().concat(fill(range(0, amount), generator)));
          });
        };

        var tailor = function tailor(gridA, delta, generator) {
          var fillCols = delta.colDelta() < 0 ? colFill : identity;
          var fillRows = delta.rowDelta() < 0 ? rowFill : identity;
          var modifiedCols = fillCols(gridA, Math.abs(delta.colDelta()), generator);
          var tailoredGrid = fillRows(modifiedCols, Math.abs(delta.rowDelta()), generator);
          return tailoredGrid;
        };

        var Fitment = {
          measure: measure,
          measureWidth: measureWidth,
          tailor: tailor
        };

        var merge = function merge(grid, bounds, comparator, substitution) {
          if (grid.length === 0) {
            return grid;
          }

          for (var i = bounds.startRow(); i <= bounds.finishRow(); i++) {
            for (var j = bounds.startCol(); j <= bounds.finishCol(); j++) {
              GridRow.mutateCell(grid[i], j, elementnew(substitution(), false));
            }
          }

          return grid;
        };

        var unmerge = function unmerge(grid, target, comparator, substitution) {
          var first = true;

          for (var i = 0; i < grid.length; i++) {
            for (var j = 0; j < GridRow.cellLength(grid[0]); j++) {
              var current = GridRow.getCellElement(grid[i], j);
              var isToReplace = comparator(current, target);

              if (isToReplace === true && first === false) {
                GridRow.mutateCell(grid[i], j, elementnew(substitution(), true));
              } else if (isToReplace === true) {
                first = false;
              }
            }
          }

          return grid;
        };

        var uniqueCells = function uniqueCells(row, comparator) {
          return foldl(row, function (rest, cell) {
            return exists(rest, function (currentCell) {
              return comparator(currentCell.element(), cell.element());
            }) ? rest : rest.concat([cell]);
          }, []);
        };

        var splitRows = function splitRows(grid, index, comparator, substitution) {
          if (index > 0 && index < grid.length) {
            var rowPrevCells = grid[index - 1].cells();
            var cells = uniqueCells(rowPrevCells, comparator);
            each(cells, function (cell) {
              var replacement = Option.none();

              var _loop_1 = function _loop_1(i) {
                var _loop_2 = function _loop_2(j) {
                  var current = grid[i].cells()[j];
                  var isToReplace = comparator(current.element(), cell.element());

                  if (isToReplace) {
                    if (replacement.isNone()) {
                      replacement = Option.some(substitution());
                    }

                    replacement.each(function (sub) {
                      GridRow.mutateCell(grid[i], j, elementnew(sub, true));
                    });
                  }
                };

                for (var j = 0; j < GridRow.cellLength(grid[0]); j++) {
                  _loop_2(j);
                }
              };

              for (var i = index; i < grid.length; i++) {
                _loop_1(i);
              }
            });
          }

          return grid;
        };

        var MergingOperations = {
          merge: merge,
          unmerge: unmerge,
          splitRows: splitRows
        };

        var isSpanning = function isSpanning(grid, row, col, comparator) {
          var candidate = GridRow.getCell(grid[row], col);
          var matching = curry(comparator, candidate.element());
          var currentRow = grid[row];
          return grid.length > 1 && GridRow.cellLength(currentRow) > 1 && (col > 0 && matching(GridRow.getCellElement(currentRow, col - 1)) || col < currentRow.cells().length - 1 && matching(GridRow.getCellElement(currentRow, col + 1)) || row > 0 && matching(GridRow.getCellElement(grid[row - 1], col)) || row < grid.length - 1 && matching(GridRow.getCellElement(grid[row + 1], col)));
        };

        var mergeTables = function mergeTables(startAddress, gridA, gridB, generator, comparator) {
          var startRow = startAddress.row();
          var startCol = startAddress.column();
          var mergeHeight = gridB.length;
          var mergeWidth = GridRow.cellLength(gridB[0]);
          var endRow = startRow + mergeHeight;
          var endCol = startCol + mergeWidth;

          for (var r = startRow; r < endRow; r++) {
            for (var c = startCol; c < endCol; c++) {
              if (isSpanning(gridA, r, c, comparator)) {
                MergingOperations.unmerge(gridA, GridRow.getCellElement(gridA[r], c), comparator, generator.cell);
              }

              var newCell = GridRow.getCellElement(gridB[r - startRow], c - startCol);
              var replacement = generator.replace(newCell);
              GridRow.mutateCell(gridA[r], c, elementnew(replacement, true));
            }
          }

          return gridA;
        };

        var merge$1 = function merge$1(startAddress, gridA, gridB, generator, comparator) {
          var result = Fitment.measure(startAddress, gridA, gridB);
          return result.map(function (delta) {
            var fittedGrid = Fitment.tailor(gridA, delta, generator);
            return mergeTables(startAddress, fittedGrid, gridB, generator, comparator);
          });
        };

        var insert = function insert(index, gridA, gridB, generator, comparator) {
          MergingOperations.splitRows(gridA, index, comparator, generator.cell);
          var delta = Fitment.measureWidth(gridB, gridA);
          var fittedNewGrid = Fitment.tailor(gridB, delta, generator);
          var secondDelta = Fitment.measureWidth(gridA, fittedNewGrid);
          var fittedOldGrid = Fitment.tailor(gridA, secondDelta, generator);
          return fittedOldGrid.slice(0, index).concat(fittedNewGrid).concat(fittedOldGrid.slice(index, fittedOldGrid.length));
        };

        var TableMerge = {
          merge: merge$1,
          insert: insert
        };

        var insertRowAt = function insertRowAt(grid, index, example, comparator, substitution) {
          var before = grid.slice(0, index);
          var after = grid.slice(index);
          var between = GridRow.mapCells(grid[example], function (ex, c) {
            var withinSpan = index > 0 && index < grid.length && comparator(GridRow.getCellElement(grid[index - 1], c), GridRow.getCellElement(grid[index], c));
            var ret = withinSpan ? GridRow.getCell(grid[index], c) : elementnew(substitution(ex.element(), comparator), true);
            return ret;
          });
          return before.concat([between]).concat(after);
        };

        var insertColumnAt = function insertColumnAt(grid, index, example, comparator, substitution) {
          return map(grid, function (row) {
            var withinSpan = index > 0 && index < GridRow.cellLength(row) && comparator(GridRow.getCellElement(row, index - 1), GridRow.getCellElement(row, index));
            var sub = withinSpan ? GridRow.getCell(row, index) : elementnew(substitution(GridRow.getCellElement(row, example), comparator), true);
            return GridRow.addCell(row, index, sub);
          });
        };

        var splitCellIntoColumns = function splitCellIntoColumns(grid, exampleRow, exampleCol, comparator, substitution) {
          var index = exampleCol + 1;
          return map(grid, function (row, i) {
            var isTargetCell = i === exampleRow;
            var sub = isTargetCell ? elementnew(substitution(GridRow.getCellElement(row, exampleCol), comparator), true) : GridRow.getCell(row, exampleCol);
            return GridRow.addCell(row, index, sub);
          });
        };

        var splitCellIntoRows = function splitCellIntoRows(grid, exampleRow, exampleCol, comparator, substitution) {
          var index = exampleRow + 1;
          var before = grid.slice(0, index);
          var after = grid.slice(index);
          var between = GridRow.mapCells(grid[exampleRow], function (ex, i) {
            var isTargetCell = i === exampleCol;
            return isTargetCell ? elementnew(substitution(ex.element(), comparator), true) : ex;
          });
          return before.concat([between]).concat(after);
        };

        var deleteColumnsAt = function deleteColumnsAt(grid, start, finish) {
          var rows = map(grid, function (row) {
            var cells = row.cells().slice(0, start).concat(row.cells().slice(finish + 1));
            return rowcells(cells, row.section());
          });
          return filter(rows, function (row) {
            return row.cells().length > 0;
          });
        };

        var deleteRowsAt = function deleteRowsAt(grid, start, finish) {
          return grid.slice(0, start).concat(grid.slice(finish + 1));
        };

        var ModificationOperations = {
          insertRowAt: insertRowAt,
          insertColumnAt: insertColumnAt,
          splitCellIntoColumns: splitCellIntoColumns,
          splitCellIntoRows: splitCellIntoRows,
          deleteRowsAt: deleteRowsAt,
          deleteColumnsAt: deleteColumnsAt
        };

        var replaceIn = function replaceIn(grid, targets, comparator, substitution) {
          var isTarget = function isTarget(cell) {
            return exists(targets, function (target) {
              return comparator(cell.element(), target.element());
            });
          };

          return map(grid, function (row) {
            return GridRow.mapCells(row, function (cell) {
              return isTarget(cell) ? elementnew(substitution(cell.element(), comparator), true) : cell;
            });
          });
        };

        var notStartRow = function notStartRow(grid, rowIndex, colIndex, comparator) {
          return GridRow.getCellElement(grid[rowIndex], colIndex) !== undefined && rowIndex > 0 && comparator(GridRow.getCellElement(grid[rowIndex - 1], colIndex), GridRow.getCellElement(grid[rowIndex], colIndex));
        };

        var notStartColumn = function notStartColumn(row, index, comparator) {
          return index > 0 && comparator(GridRow.getCellElement(row, index - 1), GridRow.getCellElement(row, index));
        };

        var replaceColumn = function replaceColumn(grid, index, comparator, substitution) {
          var targets = bind(grid, function (row, i) {
            var alreadyAdded = notStartRow(grid, i, index, comparator) || notStartColumn(row, index, comparator);
            return alreadyAdded ? [] : [GridRow.getCell(row, index)];
          });
          return replaceIn(grid, targets, comparator, substitution);
        };

        var replaceRow = function replaceRow(grid, index, comparator, substitution) {
          var targetRow = grid[index];
          var targets = bind(targetRow.cells(), function (item, i) {
            var alreadyAdded = notStartRow(grid, index, i, comparator) || notStartColumn(targetRow, i, comparator);
            return alreadyAdded ? [] : [item];
          });
          return replaceIn(grid, targets, comparator, substitution);
        };

        var TransformOperations = {
          replaceColumn: replaceColumn,
          replaceRow: replaceRow
        };
        var adt = Adt.generate([{
          none: []
        }, {
          only: ['index']
        }, {
          left: ['index', 'next']
        }, {
          middle: ['prev', 'index', 'next']
        }, {
          right: ['prev', 'index']
        }]);

        var ColumnContext = _assign({}, adt);

        var neighbours$1 = function neighbours$1(input, index) {
          if (input.length === 0) {
            return ColumnContext.none();
          }

          if (input.length === 1) {
            return ColumnContext.only(0);
          }

          if (index === 0) {
            return ColumnContext.left(0, 1);
          }

          if (index === input.length - 1) {
            return ColumnContext.right(index - 1, index);
          }

          if (index > 0 && index < input.length - 1) {
            return ColumnContext.middle(index - 1, index, index + 1);
          }

          return ColumnContext.none();
        };

        var determine = function determine(input, column, step, tableSize) {
          var result = input.slice(0);
          var context = neighbours$1(input, column);

          var zero = function zero(array) {
            return map(array, constant(0));
          };

          var onNone = constant(zero(result));

          var onOnly = function onOnly(index) {
            return tableSize.singleColumnWidth(result[index], step);
          };

          var onChange = function onChange(index, next) {
            if (step >= 0) {
              var newNext = Math.max(tableSize.minCellWidth(), result[next] - step);
              return zero(result.slice(0, index)).concat([step, newNext - result[next]]).concat(zero(result.slice(next + 1)));
            } else {
              var newThis = Math.max(tableSize.minCellWidth(), result[index] + step);
              var diffx = result[index] - newThis;
              return zero(result.slice(0, index)).concat([newThis - result[index], diffx]).concat(zero(result.slice(next + 1)));
            }
          };

          var onLeft = onChange;

          var onMiddle = function onMiddle(_prev, index, next) {
            return onChange(index, next);
          };

          var onRight = function onRight(_prev, index) {
            if (step >= 0) {
              return zero(result.slice(0, index)).concat([step]);
            } else {
              var size = Math.max(tableSize.minCellWidth(), result[index] + step);
              return zero(result.slice(0, index)).concat([size - result[index]]);
            }
          };

          return context.fold(onNone, onOnly, onLeft, onMiddle, onRight);
        };

        var Deltas = {
          determine: determine
        };

        var getSpan$1 = function getSpan$1(cell, type) {
          return has(cell, type) && parseInt(get(cell, type), 10) > 1;
        };

        var hasColspan = function hasColspan(cell) {
          return getSpan$1(cell, 'colspan');
        };

        var hasRowspan = function hasRowspan(cell) {
          return getSpan$1(cell, 'rowspan');
        };

        var getInt = function getInt(element, property) {
          return parseInt(get$1(element, property), 10);
        };

        var CellUtils = {
          hasColspan: hasColspan,
          hasRowspan: hasRowspan,
          minWidth: constant(10),
          minHeight: constant(10),
          getInt: getInt
        };

        var getRaw$1 = function getRaw$1(cell, property, getter) {
          return getRaw(cell, property).fold(function () {
            return getter(cell) + 'px';
          }, function (raw) {
            return raw;
          });
        };

        var getRawW = function getRawW(cell, tableSize) {
          return getRaw$1(cell, 'width', function (e) {
            return Sizes.getPixelWidth(e, tableSize);
          });
        };

        var getRawH = function getRawH(cell) {
          return getRaw$1(cell, 'height', Sizes.getHeight);
        };

        var getWidthFrom = function getWidthFrom(warehouse, direction, getWidth, fallback, tableSize) {
          var columns = Blocks.columns(warehouse);
          var backups = map(columns, function (cellOption) {
            return cellOption.map(direction.edge);
          });
          return map(columns, function (cellOption, c) {
            var columnCell = cellOption.filter(not(CellUtils.hasColspan));
            return columnCell.fold(function () {
              var deduced = deduce(backups, c);
              return fallback(deduced);
            }, function (cell) {
              return getWidth(cell, tableSize);
            });
          });
        };

        var getDeduced = function getDeduced(deduced) {
          return deduced.map(function (d) {
            return d + 'px';
          }).getOr('');
        };

        var getRawWidths = function getRawWidths(warehouse, direction, tableSize) {
          return getWidthFrom(warehouse, direction, getRawW, getDeduced, tableSize);
        };

        var getPercentageWidths = function getPercentageWidths(warehouse, direction, tableSize) {
          return getWidthFrom(warehouse, direction, Sizes.getPercentageWidth, function (deduced) {
            return deduced.fold(function () {
              return tableSize.minCellWidth();
            }, function (cellWidth) {
              return cellWidth / tableSize.pixelWidth() * 100;
            });
          }, tableSize);
        };

        var getPixelWidths = function getPixelWidths(warehouse, direction, tableSize) {
          return getWidthFrom(warehouse, direction, Sizes.getPixelWidth, function (deduced) {
            return deduced.getOrThunk(tableSize.minCellWidth);
          }, tableSize);
        };

        var getHeightFrom = function getHeightFrom(warehouse, direction, getHeight, fallback) {
          var rows = Blocks.rows(warehouse);
          var backups = map(rows, function (cellOption) {
            return cellOption.map(direction.edge);
          });
          return map(rows, function (cellOption, c) {
            var rowCell = cellOption.filter(not(CellUtils.hasRowspan));
            return rowCell.fold(function () {
              var deduced = deduce(backups, c);
              return fallback(deduced);
            }, function (cell) {
              return getHeight(cell);
            });
          });
        };

        var getPixelHeights = function getPixelHeights(warehouse, direction) {
          return getHeightFrom(warehouse, direction, Sizes.getHeight, function (deduced) {
            return deduced.getOrThunk(CellUtils.minHeight);
          });
        };

        var getRawHeights = function getRawHeights(warehouse, direction) {
          return getHeightFrom(warehouse, direction, getRawH, getDeduced);
        };

        var ColumnSizes = {
          getRawWidths: getRawWidths,
          getPixelWidths: getPixelWidths,
          getPercentageWidths: getPercentageWidths,
          getPixelHeights: getPixelHeights,
          getRawHeights: getRawHeights
        };

        var total = function total(start, end, measures) {
          var r = 0;

          for (var i = start; i < end; i++) {
            r += measures[i] !== undefined ? measures[i] : 0;
          }

          return r;
        };

        var recalculateWidth = function recalculateWidth(warehouse, widths) {
          var all = Warehouse.justCells(warehouse);
          return map(all, function (cell) {
            var width = total(cell.column(), cell.column() + cell.colspan(), widths);
            return {
              element: cell.element,
              width: constant(width),
              colspan: cell.colspan
            };
          });
        };

        var recalculateHeight = function recalculateHeight(warehouse, heights) {
          var all = Warehouse.justCells(warehouse);
          return map(all, function (cell) {
            var height = total(cell.row(), cell.row() + cell.rowspan(), heights);
            return {
              element: cell.element,
              height: constant(height),
              rowspan: cell.rowspan
            };
          });
        };

        var matchRowHeight = function matchRowHeight(warehouse, heights) {
          return map(warehouse.all(), function (row, i) {
            return {
              element: row.element,
              height: constant(heights[i])
            };
          });
        };

        var Recalculations = {
          recalculateWidth: recalculateWidth,
          recalculateHeight: recalculateHeight,
          matchRowHeight: matchRowHeight
        };

        var percentageSize = function percentageSize(width, element) {
          var floatWidth = parseFloat(width);
          var pixelWidth = get$4(element);

          var getCellDelta = function getCellDelta(delta) {
            return delta / pixelWidth * 100;
          };

          var singleColumnWidth = function singleColumnWidth(w, _delta) {
            return [100 - w];
          };

          var minCellWidth = function minCellWidth() {
            return CellUtils.minWidth() / pixelWidth * 100;
          };

          var setTableWidth = function setTableWidth(table, _newWidths, delta) {
            var ratio = delta / 100;
            var change = ratio * floatWidth;
            Sizes.setPercentageWidth(table, floatWidth + change);
          };

          return {
            width: constant(floatWidth),
            pixelWidth: constant(pixelWidth),
            getWidths: ColumnSizes.getPercentageWidths,
            getCellDelta: getCellDelta,
            singleColumnWidth: singleColumnWidth,
            minCellWidth: minCellWidth,
            setElementWidth: Sizes.setPercentageWidth,
            setTableWidth: setTableWidth
          };
        };

        var pixelSize = function pixelSize(width) {
          var getCellDelta = identity;

          var singleColumnWidth = function singleColumnWidth(w, delta) {
            var newNext = Math.max(CellUtils.minWidth(), w + delta);
            return [newNext - w];
          };

          var setTableWidth = function setTableWidth(table, newWidths, _delta) {
            var total = foldr(newWidths, function (b, a) {
              return b + a;
            }, 0);
            Sizes.setPixelWidth(table, total);
          };

          return {
            width: constant(width),
            pixelWidth: constant(width),
            getWidths: ColumnSizes.getPixelWidths,
            getCellDelta: getCellDelta,
            singleColumnWidth: singleColumnWidth,
            minCellWidth: CellUtils.minWidth,
            setElementWidth: Sizes.setPixelWidth,
            setTableWidth: setTableWidth
          };
        };

        var chooseSize = function chooseSize(element, width) {
          var percentMatch = Sizes.percentageBasedSizeRegex().exec(width);

          if (percentMatch !== null) {
            return percentageSize(percentMatch[1], element);
          }

          var pixelMatch = Sizes.pixelBasedSizeRegex().exec(width);

          if (pixelMatch !== null) {
            var intWidth = parseInt(pixelMatch[1], 10);
            return pixelSize(intWidth);
          }

          var fallbackWidth = get$4(element);
          return pixelSize(fallbackWidth);
        };

        var getTableSize = function getTableSize(element) {
          var width = Sizes.getRawWidth(element);
          return width.fold(function () {
            var fallbackWidth = get$4(element);
            return pixelSize(fallbackWidth);
          }, function (w) {
            return chooseSize(element, w);
          });
        };

        var TableSize = {
          getTableSize: getTableSize
        };

        var getWarehouse$1 = function getWarehouse$1(list) {
          return Warehouse.generate(list);
        };

        var sumUp = function sumUp(newSize) {
          return foldr(newSize, function (b, a) {
            return b + a;
          }, 0);
        };

        var getTableWarehouse = function getTableWarehouse(table) {
          var list = DetailsList.fromTable(table);
          return getWarehouse$1(list);
        };

        var adjustWidth = function adjustWidth(table, delta, index, direction) {
          var tableSize = TableSize.getTableSize(table);
          var step = tableSize.getCellDelta(delta);
          var warehouse = getTableWarehouse(table);
          var widths = tableSize.getWidths(warehouse, direction, tableSize);
          var deltas = Deltas.determine(widths, index, step, tableSize);
          var newWidths = map(deltas, function (dx, i) {
            return dx + widths[i];
          });
          var newSizes = Recalculations.recalculateWidth(warehouse, newWidths);
          each(newSizes, function (cell) {
            tableSize.setElementWidth(cell.element(), cell.width());
          });

          if (index === warehouse.grid().columns() - 1) {
            tableSize.setTableWidth(table, newWidths, step);
          }
        };

        var adjustHeight = function adjustHeight(table, delta, index, direction) {
          var warehouse = getTableWarehouse(table);
          var heights = ColumnSizes.getPixelHeights(warehouse, direction);
          var newHeights = map(heights, function (dy, i) {
            return index === i ? Math.max(delta + dy, CellUtils.minHeight()) : dy;
          });
          var newCellSizes = Recalculations.recalculateHeight(warehouse, newHeights);
          var newRowSizes = Recalculations.matchRowHeight(warehouse, newHeights);
          each(newRowSizes, function (row) {
            Sizes.setHeight(row.element(), row.height());
          });
          each(newCellSizes, function (cell) {
            Sizes.setHeight(cell.element(), cell.height());
          });
          var total = sumUp(newHeights);
          Sizes.setHeight(table, total);
        };

        var adjustWidthTo = function adjustWidthTo(table, list, direction) {
          var tableSize = TableSize.getTableSize(table);
          var warehouse = getWarehouse$1(list);
          var widths = tableSize.getWidths(warehouse, direction, tableSize);
          var newSizes = Recalculations.recalculateWidth(warehouse, widths);
          each(newSizes, function (cell) {
            tableSize.setElementWidth(cell.element(), cell.width());
          });

          if (newSizes.length > 0) {
            tableSize.setTableWidth(table, widths, tableSize.getCellDelta(0));
          }
        };

        var Adjustments = {
          adjustWidth: adjustWidth,
          adjustHeight: adjustHeight,
          adjustWidthTo: adjustWidthTo
        };

        var Cell = function Cell(initial) {
          var value = initial;

          var get = function get() {
            return value;
          };

          var set = function set(v) {
            value = v;
          };

          var clone = function clone() {
            return Cell(get());
          };

          return {
            get: get,
            set: set,
            clone: clone
          };
        };

        var base = function base(handleUnsupported, required) {
          return baseWith(handleUnsupported, required, {
            validate: isFunction,
            label: 'function'
          });
        };

        var baseWith = function baseWith(handleUnsupported, required, pred) {
          if (required.length === 0) throw new Error('You must specify at least one required field.');
          validateStrArr('required', required);
          checkDupes(required);
          return function (obj) {
            var keys$1 = keys(obj);
            var allReqd = forall(required, function (req) {
              return contains(keys$1, req);
            });
            if (!allReqd) reqMessage(required, keys$1);
            handleUnsupported(required, keys$1);
            var invalidKeys = filter(required, function (key) {
              return !pred.validate(obj[key], key);
            });
            if (invalidKeys.length > 0) invalidTypeMessage(invalidKeys, pred.label);
            return obj;
          };
        };

        var handleExact = function handleExact(required, keys) {
          var unsupported = filter(keys, function (key) {
            return !contains(required, key);
          });
          if (unsupported.length > 0) unsuppMessage(unsupported);
        };

        var exactly = function exactly(required) {
          return base(handleExact, required);
        };

        var verifyGenerators = exactly(['cell', 'row', 'replace', 'gap']);

        var elementToData = function elementToData(element) {
          var colspan = has(element, 'colspan') ? parseInt(get(element, 'colspan'), 10) : 1;
          var rowspan = has(element, 'rowspan') ? parseInt(get(element, 'rowspan'), 10) : 1;
          return {
            element: constant(element),
            colspan: constant(colspan),
            rowspan: constant(rowspan)
          };
        };

        var modification = function modification(generators, toData) {
          if (toData === void 0) {
            toData = elementToData;
          }

          verifyGenerators(generators);
          var position = Cell(Option.none());

          var nu = function nu(data) {
            return generators.cell(data);
          };

          var nuFrom = function nuFrom(element) {
            var data = toData(element);
            return nu(data);
          };

          var add = function add(element) {
            var replacement = nuFrom(element);

            if (position.get().isNone()) {
              position.set(Option.some(replacement));
            }

            recent = Option.some({
              item: element,
              replacement: replacement
            });
            return replacement;
          };

          var recent = Option.none();

          var getOrInit = function getOrInit(element, comparator) {
            return recent.fold(function () {
              return add(element);
            }, function (p) {
              return comparator(element, p.item) ? p.replacement : add(element);
            });
          };

          return {
            getOrInit: getOrInit,
            cursor: position.get
          };
        };

        var transform = function transform(scope, tag) {
          return function (generators) {
            var position = Cell(Option.none());
            verifyGenerators(generators);
            var list = [];

            var find$1 = function find$1(element, comparator) {
              return find(list, function (x) {
                return comparator(x.item, element);
              });
            };

            var makeNew = function makeNew(element) {
              var attrs = {
                scope: scope
              };
              var cell = generators.replace(element, tag, attrs);
              list.push({
                item: element,
                sub: cell
              });

              if (position.get().isNone()) {
                position.set(Option.some(cell));
              }

              return cell;
            };

            var replaceOrInit = function replaceOrInit(element, comparator) {
              return find$1(element, comparator).fold(function () {
                return makeNew(element);
              }, function (p) {
                return comparator(element, p.item) ? p.sub : makeNew(element);
              });
            };

            return {
              replaceOrInit: replaceOrInit,
              cursor: position.get
            };
          };
        };

        var merging = function merging(generators) {
          verifyGenerators(generators);
          var position = Cell(Option.none());

          var combine = function combine(cell) {
            if (position.get().isNone()) {
              position.set(Option.some(cell));
            }

            return function () {
              var raw = generators.cell({
                element: constant(cell),
                colspan: constant(1),
                rowspan: constant(1)
              });
              remove$1(raw, 'width');
              remove$1(cell, 'width');
              return raw;
            };
          };

          return {
            combine: combine,
            cursor: position.get
          };
        };

        var Generators = {
          modification: modification,
          transform: transform,
          merging: merging
        };
        var blockList = ['body', 'p', 'div', 'article', 'aside', 'figcaption', 'figure', 'footer', 'header', 'nav', 'section', 'ol', 'ul', 'table', 'thead', 'tfoot', 'tbody', 'caption', 'tr', 'td', 'th', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'blockquote', 'pre', 'address'];

        var isList = function isList(universe, item) {
          var tagName = universe.property().name(item);
          return contains(['ol', 'ul'], tagName);
        };

        var isBlock = function isBlock(universe, item) {
          var tagName = universe.property().name(item);
          return contains(blockList, tagName);
        };

        var isFormatting = function isFormatting(universe, item) {
          var tagName = universe.property().name(item);
          return contains(['address', 'pre', 'p', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6'], tagName);
        };

        var isHeading = function isHeading(universe, item) {
          var tagName = universe.property().name(item);
          return contains(['h1', 'h2', 'h3', 'h4', 'h5', 'h6'], tagName);
        };

        var isContainer = function isContainer(universe, item) {
          return contains(['div', 'li', 'td', 'th', 'blockquote', 'body', 'caption'], universe.property().name(item));
        };

        var isEmptyTag = function isEmptyTag(universe, item) {
          return contains(['br', 'img', 'hr', 'input'], universe.property().name(item));
        };

        var isFrame = function isFrame(universe, item) {
          return universe.property().name(item) === 'iframe';
        };

        var isInline = function isInline(universe, item) {
          return !(isBlock(universe, item) || isEmptyTag(universe, item)) && universe.property().name(item) !== 'li';
        };

        var Structure = {
          isBlock: isBlock,
          isList: isList,
          isFormatting: isFormatting,
          isHeading: isHeading,
          isContainer: isContainer,
          isEmptyTag: isEmptyTag,
          isFrame: isFrame,
          isInline: isInline
        };
        var universe$1 = DomUniverse();

        var isBlock$1 = function isBlock$1(element) {
          return Structure.isBlock(universe$1, element);
        };

        var isList$1 = function isList$1(element) {
          return Structure.isList(universe$1, element);
        };

        var isFormatting$1 = function isFormatting$1(element) {
          return Structure.isFormatting(universe$1, element);
        };

        var isHeading$1 = function isHeading$1(element) {
          return Structure.isHeading(universe$1, element);
        };

        var isContainer$1 = function isContainer$1(element) {
          return Structure.isContainer(universe$1, element);
        };

        var isEmptyTag$1 = function isEmptyTag$1(element) {
          return Structure.isEmptyTag(universe$1, element);
        };

        var isFrame$1 = function isFrame$1(element) {
          return Structure.isFrame(universe$1, element);
        };

        var isInline$1 = function isInline$1(element) {
          return Structure.isInline(universe$1, element);
        };

        var DomStructure = {
          isBlock: isBlock$1,
          isList: isList$1,
          isFormatting: isFormatting$1,
          isHeading: isHeading$1,
          isContainer: isContainer$1,
          isEmptyTag: isEmptyTag$1,
          isFrame: isFrame$1,
          isInline: isInline$1
        };

        var merge$2 = function merge$2(cells) {
          var isBr = function isBr(el) {
            return name(el) === 'br';
          };

          var advancedBr = function advancedBr(children) {
            return forall(children, function (c) {
              return isBr(c) || isText(c) && get$2(c).trim().length === 0;
            });
          };

          var isListItem = function isListItem(el) {
            return name(el) === 'li' || ancestor(el, DomStructure.isList).isSome();
          };

          var siblingIsBlock = function siblingIsBlock(el) {
            return nextSibling(el).map(function (rightSibling) {
              if (DomStructure.isBlock(rightSibling)) {
                return true;
              }

              if (DomStructure.isEmptyTag(rightSibling)) {
                return name(rightSibling) === 'img' ? false : true;
              }

              return false;
            }).getOr(false);
          };

          var markCell = function markCell(cell) {
            return last$1(cell).bind(function (rightEdge) {
              var rightSiblingIsBlock = siblingIsBlock(rightEdge);
              return parent(rightEdge).map(function (parent) {
                return rightSiblingIsBlock === true || isListItem(parent) || isBr(rightEdge) || DomStructure.isBlock(parent) && !eq(cell, parent) ? [] : [Element.fromTag('br')];
              });
            }).getOr([]);
          };

          var markContent = function markContent() {
            var content = bind(cells, function (cell) {
              var children$1 = children(cell);
              return advancedBr(children$1) ? [] : children$1.concat(markCell(cell));
            });
            return content.length === 0 ? [Element.fromTag('br')] : content;
          };

          var contents = markContent();
          empty(cells[0]);
          append$1(cells[0], contents);
        };

        var TableContent = {
          merge: merge$2
        };

        var prune = function prune(table) {
          var cells = TableLookup.cells(table);

          if (cells.length === 0) {
            remove$2(table);
          }
        };

        var outcome = Immutable('grid', 'cursor');

        var elementFromGrid = function elementFromGrid(grid, row, column) {
          return findIn(grid, row, column).orThunk(function () {
            return findIn(grid, 0, 0);
          });
        };

        var findIn = function findIn(grid, row, column) {
          return Option.from(grid[row]).bind(function (r) {
            return Option.from(r.cells()[column]).bind(function (c) {
              return Option.from(c.element());
            });
          });
        };

        var bundle = function bundle(grid, row, column) {
          return outcome(grid, findIn(grid, row, column));
        };

        var uniqueRows = function uniqueRows(details) {
          return foldl(details, function (rest, detail) {
            return exists(rest, function (currentDetail) {
              return currentDetail.row() === detail.row();
            }) ? rest : rest.concat([detail]);
          }, []).sort(function (detailA, detailB) {
            return detailA.row() - detailB.row();
          });
        };

        var uniqueColumns = function uniqueColumns(details) {
          return foldl(details, function (rest, detail) {
            return exists(rest, function (currentDetail) {
              return currentDetail.column() === detail.column();
            }) ? rest : rest.concat([detail]);
          }, []).sort(function (detailA, detailB) {
            return detailA.column() - detailB.column();
          });
        };

        var insertRowBefore = function insertRowBefore(grid, detail, comparator, genWrappers) {
          var example = detail.row();
          var targetIndex = detail.row();
          var newGrid = ModificationOperations.insertRowAt(grid, targetIndex, example, comparator, genWrappers.getOrInit);
          return bundle(newGrid, targetIndex, detail.column());
        };

        var insertRowsBefore = function insertRowsBefore(grid, details, comparator, genWrappers) {
          var example = details[0].row();
          var targetIndex = details[0].row();
          var rows = uniqueRows(details);
          var newGrid = foldl(rows, function (newG, _row) {
            return ModificationOperations.insertRowAt(newG, targetIndex, example, comparator, genWrappers.getOrInit);
          }, grid);
          return bundle(newGrid, targetIndex, details[0].column());
        };

        var insertRowAfter = function insertRowAfter(grid, detail, comparator, genWrappers) {
          var example = detail.row();
          var targetIndex = detail.row() + detail.rowspan();
          var newGrid = ModificationOperations.insertRowAt(grid, targetIndex, example, comparator, genWrappers.getOrInit);
          return bundle(newGrid, targetIndex, detail.column());
        };

        var insertRowsAfter = function insertRowsAfter(grid, details, comparator, genWrappers) {
          var rows = uniqueRows(details);
          var example = rows[rows.length - 1].row();
          var targetIndex = rows[rows.length - 1].row() + rows[rows.length - 1].rowspan();
          var newGrid = foldl(rows, function (newG, _row) {
            return ModificationOperations.insertRowAt(newG, targetIndex, example, comparator, genWrappers.getOrInit);
          }, grid);
          return bundle(newGrid, targetIndex, details[0].column());
        };

        var insertColumnBefore = function insertColumnBefore(grid, detail, comparator, genWrappers) {
          var example = detail.column();
          var targetIndex = detail.column();
          var newGrid = ModificationOperations.insertColumnAt(grid, targetIndex, example, comparator, genWrappers.getOrInit);
          return bundle(newGrid, detail.row(), targetIndex);
        };

        var insertColumnsBefore = function insertColumnsBefore(grid, details, comparator, genWrappers) {
          var columns = uniqueColumns(details);
          var example = columns[0].column();
          var targetIndex = columns[0].column();
          var newGrid = foldl(columns, function (newG, _row) {
            return ModificationOperations.insertColumnAt(newG, targetIndex, example, comparator, genWrappers.getOrInit);
          }, grid);
          return bundle(newGrid, details[0].row(), targetIndex);
        };

        var insertColumnAfter = function insertColumnAfter(grid, detail, comparator, genWrappers) {
          var example = detail.column();
          var targetIndex = detail.column() + detail.colspan();
          var newGrid = ModificationOperations.insertColumnAt(grid, targetIndex, example, comparator, genWrappers.getOrInit);
          return bundle(newGrid, detail.row(), targetIndex);
        };

        var insertColumnsAfter = function insertColumnsAfter(grid, details, comparator, genWrappers) {
          var example = details[details.length - 1].column();
          var targetIndex = details[details.length - 1].column() + details[details.length - 1].colspan();
          var columns = uniqueColumns(details);
          var newGrid = foldl(columns, function (newG, _row) {
            return ModificationOperations.insertColumnAt(newG, targetIndex, example, comparator, genWrappers.getOrInit);
          }, grid);
          return bundle(newGrid, details[0].row(), targetIndex);
        };

        var makeRowHeader = function makeRowHeader(grid, detail, comparator, genWrappers) {
          var newGrid = TransformOperations.replaceRow(grid, detail.row(), comparator, genWrappers.replaceOrInit);
          return bundle(newGrid, detail.row(), detail.column());
        };

        var makeColumnHeader = function makeColumnHeader(grid, detail, comparator, genWrappers) {
          var newGrid = TransformOperations.replaceColumn(grid, detail.column(), comparator, genWrappers.replaceOrInit);
          return bundle(newGrid, detail.row(), detail.column());
        };

        var unmakeRowHeader = function unmakeRowHeader(grid, detail, comparator, genWrappers) {
          var newGrid = TransformOperations.replaceRow(grid, detail.row(), comparator, genWrappers.replaceOrInit);
          return bundle(newGrid, detail.row(), detail.column());
        };

        var unmakeColumnHeader = function unmakeColumnHeader(grid, detail, comparator, genWrappers) {
          var newGrid = TransformOperations.replaceColumn(grid, detail.column(), comparator, genWrappers.replaceOrInit);
          return bundle(newGrid, detail.row(), detail.column());
        };

        var splitCellIntoColumns$1 = function splitCellIntoColumns$1(grid, detail, comparator, genWrappers) {
          var newGrid = ModificationOperations.splitCellIntoColumns(grid, detail.row(), detail.column(), comparator, genWrappers.getOrInit);
          return bundle(newGrid, detail.row(), detail.column());
        };

        var splitCellIntoRows$1 = function splitCellIntoRows$1(grid, detail, comparator, genWrappers) {
          var newGrid = ModificationOperations.splitCellIntoRows(grid, detail.row(), detail.column(), comparator, genWrappers.getOrInit);
          return bundle(newGrid, detail.row(), detail.column());
        };

        var eraseColumns = function eraseColumns(grid, details, _comparator, _genWrappers) {
          var columns = uniqueColumns(details);
          var newGrid = ModificationOperations.deleteColumnsAt(grid, columns[0].column(), columns[columns.length - 1].column());
          var cursor = elementFromGrid(newGrid, details[0].row(), details[0].column());
          return outcome(newGrid, cursor);
        };

        var eraseRows = function eraseRows(grid, details, _comparator, _genWrappers) {
          var rows = uniqueRows(details);
          var newGrid = ModificationOperations.deleteRowsAt(grid, rows[0].row(), rows[rows.length - 1].row());
          var cursor = elementFromGrid(newGrid, details[0].row(), details[0].column());
          return outcome(newGrid, cursor);
        };

        var mergeCells = function mergeCells(grid, mergable, comparator, _genWrappers) {
          var cells = mergable.cells();
          TableContent.merge(cells);
          var newGrid = MergingOperations.merge(grid, mergable.bounds(), comparator, constant(cells[0]));
          return outcome(newGrid, Option.from(cells[0]));
        };

        var unmergeCells = function unmergeCells(grid, unmergable, comparator, genWrappers) {
          var newGrid = foldr(unmergable, function (b, cell) {
            return MergingOperations.unmerge(b, cell, comparator, genWrappers.combine(cell));
          }, grid);
          return outcome(newGrid, Option.from(unmergable[0]));
        };

        var pasteCells = function pasteCells(grid, pasteDetails, comparator, _genWrappers) {
          var gridify = function gridify(table, generators) {
            var list = DetailsList.fromTable(table);
            var wh = Warehouse.generate(list);
            return Transitions.toGrid(wh, generators, true);
          };

          var gridB = gridify(pasteDetails.clipboard(), pasteDetails.generators());
          var startAddress = address(pasteDetails.row(), pasteDetails.column());
          var mergedGrid = TableMerge.merge(startAddress, grid, gridB, pasteDetails.generators(), comparator);
          return mergedGrid.fold(function () {
            return outcome(grid, Option.some(pasteDetails.element()));
          }, function (nuGrid) {
            var cursor = elementFromGrid(nuGrid, pasteDetails.row(), pasteDetails.column());
            return outcome(nuGrid, cursor);
          });
        };

        var gridifyRows = function gridifyRows(rows, generators, example) {
          var pasteDetails = DetailsList.fromPastedRows(rows, example);
          var wh = Warehouse.generate(pasteDetails);
          return Transitions.toGrid(wh, generators, true);
        };

        var pasteRowsBefore = function pasteRowsBefore(grid, pasteDetails, comparator, _genWrappers) {
          var example = grid[pasteDetails.cells[0].row()];
          var index = pasteDetails.cells[0].row();
          var gridB = gridifyRows(pasteDetails.clipboard(), pasteDetails.generators(), example);
          var mergedGrid = TableMerge.insert(index, grid, gridB, pasteDetails.generators(), comparator);
          var cursor = elementFromGrid(mergedGrid, pasteDetails.cells[0].row(), pasteDetails.cells[0].column());
          return outcome(mergedGrid, cursor);
        };

        var pasteRowsAfter = function pasteRowsAfter(grid, pasteDetails, comparator, _genWrappers) {
          var example = grid[pasteDetails.cells[0].row()];
          var index = pasteDetails.cells[pasteDetails.cells.length - 1].row() + pasteDetails.cells[pasteDetails.cells.length - 1].rowspan();
          var gridB = gridifyRows(pasteDetails.clipboard(), pasteDetails.generators(), example);
          var mergedGrid = TableMerge.insert(index, grid, gridB, pasteDetails.generators(), comparator);
          var cursor = elementFromGrid(mergedGrid, pasteDetails.cells[0].row(), pasteDetails.cells[0].column());
          return outcome(mergedGrid, cursor);
        };

        var resize = Adjustments.adjustWidthTo;
        var TableOperations = {
          insertRowBefore: run(insertRowBefore, onCell, noop, noop, Generators.modification),
          insertRowsBefore: run(insertRowsBefore, onCells, noop, noop, Generators.modification),
          insertRowAfter: run(insertRowAfter, onCell, noop, noop, Generators.modification),
          insertRowsAfter: run(insertRowsAfter, onCells, noop, noop, Generators.modification),
          insertColumnBefore: run(insertColumnBefore, onCell, resize, noop, Generators.modification),
          insertColumnsBefore: run(insertColumnsBefore, onCells, resize, noop, Generators.modification),
          insertColumnAfter: run(insertColumnAfter, onCell, resize, noop, Generators.modification),
          insertColumnsAfter: run(insertColumnsAfter, onCells, resize, noop, Generators.modification),
          splitCellIntoColumns: run(splitCellIntoColumns$1, onCell, resize, noop, Generators.modification),
          splitCellIntoRows: run(splitCellIntoRows$1, onCell, noop, noop, Generators.modification),
          eraseColumns: run(eraseColumns, onCells, resize, prune, Generators.modification),
          eraseRows: run(eraseRows, onCells, noop, prune, Generators.modification),
          makeColumnHeader: run(makeColumnHeader, onCell, noop, noop, Generators.transform('row', 'th')),
          unmakeColumnHeader: run(unmakeColumnHeader, onCell, noop, noop, Generators.transform(null, 'td')),
          makeRowHeader: run(makeRowHeader, onCell, noop, noop, Generators.transform('col', 'th')),
          unmakeRowHeader: run(unmakeRowHeader, onCell, noop, noop, Generators.transform(null, 'td')),
          mergeCells: run(mergeCells, onMergable, noop, noop, Generators.merging),
          unmergeCells: run(unmergeCells, onUnmergable, resize, noop, Generators.merging),
          pasteCells: run(pasteCells, onPaste, resize, noop, Generators.modification),
          pasteRowsBefore: run(pasteRowsBefore, onPasteRows, noop, noop, Generators.modification),
          pasteRowsAfter: run(pasteRowsAfter, onPasteRows, noop, noop, Generators.modification)
        };

        var getBody$1 = function getBody$1(editor) {
          return Element.fromDom(editor.getBody());
        };

        var getPixelWidth$1 = function getPixelWidth$1(elm) {
          return elm.getBoundingClientRect().width;
        };

        var getPixelHeight = function getPixelHeight(elm) {
          return elm.getBoundingClientRect().height;
        };

        var getIsRoot = function getIsRoot(editor) {
          return function (element) {
            return eq(element, getBody$1(editor));
          };
        };

        var removePxSuffix = function removePxSuffix(size) {
          return size ? size.replace(/px$/, '') : '';
        };

        var addSizeSuffix = function addSizeSuffix(size) {
          if (/^[0-9]+$/.test(size)) {
            size += 'px';
          }

          return size;
        };

        var removeDataStyle = function removeDataStyle(table) {
          var dataStyleCells = descendants$1(table, 'td[data-mce-style],th[data-mce-style]');
          remove(table, 'data-mce-style');
          each(dataStyleCells, function (cell) {
            remove(cell, 'data-mce-style');
          });
        };

        var getDirection = function getDirection(element) {
          return get$1(element, 'direction') === 'rtl' ? 'rtl' : 'ltr';
        };

        var ltr$1 = {
          isRtl: constant(false)
        };
        var rtl$1 = {
          isRtl: constant(true)
        };

        var directionAt = function directionAt(element) {
          var dir = getDirection(element);
          return dir === 'rtl' ? rtl$1 : ltr$1;
        };

        var Direction = {
          directionAt: directionAt
        };
        var defaultTableToolbar = ['tableprops', 'tabledelete', '|', 'tableinsertrowbefore', 'tableinsertrowafter', 'tabledeleterow', '|', 'tableinsertcolbefore', 'tableinsertcolafter', 'tabledeletecol'];
        var defaultStyles = {
          'border-collapse': 'collapse',
          'width': '100%'
        };
        var defaultAttributes = {
          border: '1'
        };

        var getDefaultAttributes = function getDefaultAttributes(editor) {
          return editor.getParam('table_default_attributes', defaultAttributes, 'object');
        };

        var getDefaultStyles = function getDefaultStyles(editor) {
          return editor.getParam('table_default_styles', defaultStyles, 'object');
        };

        var hasTableResizeBars = function hasTableResizeBars(editor) {
          return editor.getParam('table_resize_bars', true, 'boolean');
        };

        var hasTabNavigation = function hasTabNavigation(editor) {
          return editor.getParam('table_tab_navigation', true, 'boolean');
        };

        var hasAdvancedCellTab = function hasAdvancedCellTab(editor) {
          return editor.getParam('table_cell_advtab', true, 'boolean');
        };

        var hasAdvancedRowTab = function hasAdvancedRowTab(editor) {
          return editor.getParam('table_row_advtab', true, 'boolean');
        };

        var hasAdvancedTableTab = function hasAdvancedTableTab(editor) {
          return editor.getParam('table_advtab', true, 'boolean');
        };

        var hasAppearanceOptions = function hasAppearanceOptions(editor) {
          return editor.getParam('table_appearance_options', true, 'boolean');
        };

        var hasTableGrid = function hasTableGrid(editor) {
          return editor.getParam('table_grid', true, 'boolean');
        };

        var shouldStyleWithCss = function shouldStyleWithCss(editor) {
          return editor.getParam('table_style_by_css', false, 'boolean');
        };

        var getCellClassList = function getCellClassList(editor) {
          return editor.getParam('table_cell_class_list', [], 'array');
        };

        var getRowClassList = function getRowClassList(editor) {
          return editor.getParam('table_row_class_list', [], 'array');
        };

        var getTableClassList = function getTableClassList(editor) {
          return editor.getParam('table_class_list', [], 'array');
        };

        var getColorPickerCallback = function getColorPickerCallback(editor) {
          return editor.getParam('color_picker_callback');
        };

        var isPixelsForced = function isPixelsForced(editor) {
          return editor.getParam('table_responsive_width') === false;
        };

        var getCloneElements = function getCloneElements(editor) {
          var cloneElements = editor.getParam('table_clone_elements');

          if (isString(cloneElements)) {
            return Option.some(cloneElements.split(/[ ,]/));
          } else if (Array.isArray(cloneElements)) {
            return Option.some(cloneElements);
          } else {
            return Option.none();
          }
        };

        var hasObjectResizing = function hasObjectResizing(editor) {
          var objectResizing = editor.getParam('object_resizing', true);
          return objectResizing === 'table' || objectResizing;
        };

        var getToolbar = function getToolbar(editor) {
          var toolbar = editor.getParam('table_toolbar', defaultTableToolbar);

          if (toolbar === '' || toolbar === false) {
            return [];
          } else if (isString(toolbar)) {
            return toolbar.split(/[ ,]/);
          } else if (isArray(toolbar)) {
            return toolbar;
          } else {
            return [];
          }
        };

        var fireNewRow = function fireNewRow(editor, row) {
          return editor.fire('newrow', {
            node: row
          });
        };

        var fireNewCell = function fireNewCell(editor, cell) {
          return editor.fire('newcell', {
            node: cell
          });
        };

        var fireObjectResizeStart = function fireObjectResizeStart(editor, target, width, height) {
          editor.fire('ObjectResizeStart', {
            target: target,
            width: width,
            height: height
          });
        };

        var fireObjectResized = function fireObjectResized(editor, target, width, height) {
          editor.fire('ObjectResized', {
            target: target,
            width: width,
            height: height
          });
        };

        var TableActions = function TableActions(editor, lazyWire) {
          var isTableBody = function isTableBody(editor) {
            return name(getBody$1(editor)) === 'table';
          };

          var lastRowGuard = function lastRowGuard(table) {
            var size = TableGridSize.getGridSize(table);
            return isTableBody(editor) === false || size.rows() > 1;
          };

          var lastColumnGuard = function lastColumnGuard(table) {
            var size = TableGridSize.getGridSize(table);
            return isTableBody(editor) === false || size.columns() > 1;
          };

          var cloneFormats = getCloneElements(editor);

          var execute = function execute(operation, guard, mutate, lazyWire) {
            return function (table, target) {
              removeDataStyle(table);
              var wire = lazyWire();
              var doc = Element.fromDom(editor.getDoc());
              var direction = TableDirection(Direction.directionAt);
              var generators = TableFill.cellOperations(mutate, doc, cloneFormats);
              return guard(table) ? operation(wire, table, target, generators, direction).bind(function (result) {
                each(result.newRows(), function (row) {
                  fireNewRow(editor, row.dom());
                });
                each(result.newCells(), function (cell) {
                  fireNewCell(editor, cell.dom());
                });
                return result.cursor().map(function (cell) {
                  var rng = editor.dom.createRng();
                  rng.setStart(cell.dom(), 0);
                  rng.setEnd(cell.dom(), 0);
                  return rng;
                });
              }) : Option.none();
            };
          };

          var deleteRow = execute(TableOperations.eraseRows, lastRowGuard, noop, lazyWire);
          var deleteColumn = execute(TableOperations.eraseColumns, lastColumnGuard, noop, lazyWire);
          var insertRowsBefore = execute(TableOperations.insertRowsBefore, always, noop, lazyWire);
          var insertRowsAfter = execute(TableOperations.insertRowsAfter, always, noop, lazyWire);
          var insertColumnsBefore = execute(TableOperations.insertColumnsBefore, always, CellMutations.halve, lazyWire);
          var insertColumnsAfter = execute(TableOperations.insertColumnsAfter, always, CellMutations.halve, lazyWire);
          var mergeCells = execute(TableOperations.mergeCells, always, noop, lazyWire);
          var unmergeCells = execute(TableOperations.unmergeCells, always, noop, lazyWire);
          var pasteRowsBefore = execute(TableOperations.pasteRowsBefore, always, noop, lazyWire);
          var pasteRowsAfter = execute(TableOperations.pasteRowsAfter, always, noop, lazyWire);
          var pasteCells = execute(TableOperations.pasteCells, always, noop, lazyWire);
          return {
            deleteRow: deleteRow,
            deleteColumn: deleteColumn,
            insertRowsBefore: insertRowsBefore,
            insertRowsAfter: insertRowsAfter,
            insertColumnsBefore: insertColumnsBefore,
            insertColumnsAfter: insertColumnsAfter,
            mergeCells: mergeCells,
            unmergeCells: unmergeCells,
            pasteRowsBefore: pasteRowsBefore,
            pasteRowsAfter: pasteRowsAfter,
            pasteCells: pasteCells
          };
        };

        var copyRows = function copyRows(table, target, generators) {
          var list = DetailsList.fromTable(table);
          var house = Warehouse.generate(list);
          var details = onCells(house, target);
          return details.map(function (selectedCells) {
            var grid = Transitions.toGrid(house, generators, false);
            var slicedGrid = grid.slice(selectedCells[0].row(), selectedCells[selectedCells.length - 1].row() + selectedCells[selectedCells.length - 1].rowspan());
            var slicedDetails = toDetailList(slicedGrid, generators);
            return Redraw.copy(slicedDetails);
          });
        };

        var CopyRows = {
          copyRows: copyRows
        };
        var global$1 = tinymce.util.Tools.resolve('tinymce.util.Tools');

        var getTDTHOverallStyle = function getTDTHOverallStyle(dom, elm, name) {
          var cells = dom.select('td,th', elm);
          var firstChildStyle;

          var checkChildren = function checkChildren(firstChildStyle, elms) {
            for (var i = 0; i < elms.length; i++) {
              var currentStyle = dom.getStyle(elms[i], name);

              if (typeof firstChildStyle === 'undefined') {
                firstChildStyle = currentStyle;
              }

              if (firstChildStyle !== currentStyle) {
                return '';
              }
            }

            return firstChildStyle;
          };

          firstChildStyle = checkChildren(firstChildStyle, cells);
          return firstChildStyle;
        };

        var applyAlign = function applyAlign(editor, elm, name) {
          if (name) {
            editor.formatter.apply('align' + name, {}, elm);
          }
        };

        var applyVAlign = function applyVAlign(editor, elm, name) {
          if (name) {
            editor.formatter.apply('valign' + name, {}, elm);
          }
        };

        var unApplyAlign = function unApplyAlign(editor, elm) {
          global$1.each('left center right'.split(' '), function (name) {
            editor.formatter.remove('align' + name, {}, elm);
          });
        };

        var unApplyVAlign = function unApplyVAlign(editor, elm) {
          global$1.each('top middle bottom'.split(' '), function (name) {
            editor.formatter.remove('valign' + name, {}, elm);
          });
        };

        var Styles$1 = {
          applyAlign: applyAlign,
          applyVAlign: applyVAlign,
          unApplyAlign: unApplyAlign,
          unApplyVAlign: unApplyVAlign,
          getTDTHOverallStyle: getTDTHOverallStyle
        };

        var buildListItems = function buildListItems(inputList, itemCallback, startItems) {
          var appendItems = function appendItems(values, output) {
            output = output || [];
            global$1.each(values, function (item) {
              var menuItem = {
                text: item.text || item.title
              };

              if (item.menu) {
                menuItem.menu = appendItems(item.menu);
              } else {
                menuItem.value = item.value;

                if (itemCallback) {
                  itemCallback(menuItem);
                }
              }

              output.push(menuItem);
            });
            return output;
          };

          return appendItems(inputList, startItems || []);
        };

        function styleFieldHasFocus(e) {
          return e.control.rootControl.find('#style')[0].getEl().isEqualNode(domGlobals.document.activeElement);
        }

        var syncAdvancedStyleFields = function syncAdvancedStyleFields(editor, evt) {
          if (styleFieldHasFocus(evt)) {
            updateAdvancedFields(editor, evt);
          } else {
            updateStyleField(editor, evt);
          }
        };

        var updateStyleField = function updateStyleField(editor, evt) {
          var dom = editor.dom;
          var rootControl = evt.control.rootControl;
          var data = rootControl.toJSON();
          var css = dom.parseStyle(data.style);
          css['border-style'] = data.borderStyle;
          css['border-color'] = data.borderColor;
          css['background-color'] = data.backgroundColor;
          css.width = data.width ? addSizeSuffix(data.width) : '';
          css.height = data.height ? addSizeSuffix(data.height) : '';
          rootControl.find('#style').value(dom.serializeStyle(dom.parseStyle(dom.serializeStyle(css))));
        };

        var updateAdvancedFields = function updateAdvancedFields(editor, evt) {
          var dom = editor.dom;
          var rootControl = evt.control.rootControl;
          var data = rootControl.toJSON();
          var css = dom.parseStyle(data.style);
          rootControl.find('#borderStyle').value(css['border-style'] || '');
          rootControl.find('#borderColor').value(css['border-color'] || '');
          rootControl.find('#backgroundColor').value(css['background-color'] || '');
          rootControl.find('#width').value(css.width || '');
          rootControl.find('#height').value(css.height || '');
        };

        var extractAdvancedStyles = function extractAdvancedStyles(dom, elm) {
          var css = dom.parseStyle(dom.getAttrib(elm, 'style'));
          var data = {};

          if (css['border-style']) {
            data.borderStyle = css['border-style'];
          }

          if (css['border-color']) {
            data.borderColor = css['border-color'];
          }

          if (css['background-color']) {
            data.backgroundColor = css['background-color'];
          }

          data.style = dom.serializeStyle(css);
          return data;
        };

        var createStyleForm = function createStyleForm(editor) {
          var createColorPickAction = function createColorPickAction() {
            var colorPickerCallback = getColorPickerCallback(editor);

            if (colorPickerCallback) {
              return function (evt) {
                return colorPickerCallback.call(editor, function (value) {
                  evt.control.value(value).fire('change');
                }, evt.control.value());
              };
            }
          };

          return {
            title: 'Advanced',
            type: 'form',
            defaults: {
              onchange: curry(updateStyleField, editor)
            },
            items: [{
              label: 'Style',
              name: 'style',
              type: 'textbox',
              onchange: curry(updateAdvancedFields, editor)
            }, {
              type: 'form',
              padding: 0,
              formItemDefaults: {
                layout: 'grid',
                alignH: ['start', 'right']
              },
              defaults: {
                size: 7
              },
              items: [{
                label: 'Border style',
                type: 'listbox',
                name: 'borderStyle',
                width: 90,
                onselect: curry(updateStyleField, editor),
                values: [{
                  text: 'Select...',
                  value: ''
                }, {
                  text: 'Solid',
                  value: 'solid'
                }, {
                  text: 'Dotted',
                  value: 'dotted'
                }, {
                  text: 'Dashed',
                  value: 'dashed'
                }, {
                  text: 'Double',
                  value: 'double'
                }, {
                  text: 'Groove',
                  value: 'groove'
                }, {
                  text: 'Ridge',
                  value: 'ridge'
                }, {
                  text: 'Inset',
                  value: 'inset'
                }, {
                  text: 'Outset',
                  value: 'outset'
                }, {
                  text: 'None',
                  value: 'none'
                }, {
                  text: 'Hidden',
                  value: 'hidden'
                }]
              }, {
                label: 'Border color',
                type: 'colorbox',
                name: 'borderColor',
                onaction: createColorPickAction()
              }, {
                label: 'Background color',
                type: 'colorbox',
                name: 'backgroundColor',
                onaction: createColorPickAction()
              }]
            }]
          };
        };

        var Helpers = {
          createStyleForm: createStyleForm,
          buildListItems: buildListItems,
          updateStyleField: updateStyleField,
          extractAdvancedStyles: extractAdvancedStyles,
          updateAdvancedFields: updateAdvancedFields,
          syncAdvancedStyleFields: syncAdvancedStyleFields
        };

        var updateStyles = function updateStyles(elm, cssText) {
          delete elm.dataset.mceStyle;
          elm.style.cssText += ';' + cssText;
        };

        var extractDataFromElement = function extractDataFromElement(editor, elm) {
          var dom = editor.dom;
          var data = {
            width: dom.getStyle(elm, 'width') || dom.getAttrib(elm, 'width'),
            height: dom.getStyle(elm, 'height') || dom.getAttrib(elm, 'height'),
            scope: dom.getAttrib(elm, 'scope'),
            "class": dom.getAttrib(elm, 'class'),
            type: elm.nodeName.toLowerCase(),
            style: '',
            align: '',
            valign: ''
          };
          global$1.each('left center right'.split(' '), function (name) {
            if (editor.formatter.matchNode(elm, 'align' + name)) {
              data.align = name;
            }
          });
          global$1.each('top middle bottom'.split(' '), function (name) {
            if (editor.formatter.matchNode(elm, 'valign' + name)) {
              data.valign = name;
            }
          });

          if (hasAdvancedCellTab(editor)) {
            global$1.extend(data, Helpers.extractAdvancedStyles(dom, elm));
          }

          return data;
        };

        var onSubmitCellForm = function onSubmitCellForm(editor, cells, evt) {
          var dom = editor.dom;
          var data;

          function setAttrib(elm, name, value) {
            if (cells.length === 1 || value) {
              dom.setAttrib(elm, name, value);
            }
          }

          function setStyle(elm, name, value) {
            if (cells.length === 1 || value) {
              dom.setStyle(elm, name, value);
            }
          }

          if (hasAdvancedCellTab(editor)) {
            Helpers.syncAdvancedStyleFields(editor, evt);
          }

          data = evt.control.rootControl.toJSON();
          editor.undoManager.transact(function () {
            global$1.each(cells, function (cellElm) {
              setAttrib(cellElm, 'scope', data.scope);

              if (cells.length === 1) {
                setAttrib(cellElm, 'style', data.style);
              } else {
                updateStyles(cellElm, data.style);
              }

              setAttrib(cellElm, 'class', data["class"]);
              setStyle(cellElm, 'width', addSizeSuffix(data.width));
              setStyle(cellElm, 'height', addSizeSuffix(data.height));

              if (data.type && cellElm.nodeName.toLowerCase() !== data.type) {
                cellElm = dom.rename(cellElm, data.type);
              }

              if (cells.length === 1) {
                Styles$1.unApplyAlign(editor, cellElm);
                Styles$1.unApplyVAlign(editor, cellElm);
              }

              if (data.align) {
                Styles$1.applyAlign(editor, cellElm, data.align);
              }

              if (data.valign) {
                Styles$1.applyVAlign(editor, cellElm, data.valign);
              }
            });
            editor.focus();
          });
        };

        var open = function open(editor) {
          var cellElm,
              data,
              classListCtrl,
              cells = [];
          cells = editor.dom.select('td[data-mce-selected],th[data-mce-selected]');
          cellElm = editor.dom.getParent(editor.selection.getStart(), 'td,th');

          if (!cells.length && cellElm) {
            cells.push(cellElm);
          }

          cellElm = cellElm || cells[0];

          if (!cellElm) {
            return;
          }

          if (cells.length > 1) {
            data = {
              width: '',
              height: '',
              scope: '',
              "class": '',
              align: '',
              valign: '',
              style: '',
              type: cellElm.nodeName.toLowerCase()
            };
          } else {
            data = extractDataFromElement(editor, cellElm);
          }

          if (getCellClassList(editor).length > 0) {
            classListCtrl = {
              name: 'class',
              type: 'listbox',
              label: 'Class',
              values: Helpers.buildListItems(getCellClassList(editor), function (item) {
                if (item.value) {
                  item.textStyle = function () {
                    return editor.formatter.getCssText({
                      block: 'td',
                      classes: [item.value]
                    });
                  };
                }
              })
            };
          }

          var generalCellForm = {
            type: 'form',
            layout: 'flex',
            direction: 'column',
            labelGapCalc: 'children',
            padding: 0,
            items: [{
              type: 'form',
              layout: 'grid',
              columns: 2,
              labelGapCalc: false,
              padding: 0,
              defaults: {
                type: 'textbox',
                maxWidth: 50
              },
              items: [{
                label: 'Width',
                name: 'width',
                onchange: curry(Helpers.updateStyleField, editor)
              }, {
                label: 'Height',
                name: 'height',
                onchange: curry(Helpers.updateStyleField, editor)
              }, {
                label: 'Cell type',
                name: 'type',
                type: 'listbox',
                text: 'None',
                minWidth: 90,
                maxWidth: null,
                values: [{
                  text: 'Cell',
                  value: 'td'
                }, {
                  text: 'Header cell',
                  value: 'th'
                }]
              }, {
                label: 'Scope',
                name: 'scope',
                type: 'listbox',
                text: 'None',
                minWidth: 90,
                maxWidth: null,
                values: [{
                  text: 'None',
                  value: ''
                }, {
                  text: 'Row',
                  value: 'row'
                }, {
                  text: 'Column',
                  value: 'col'
                }, {
                  text: 'Row group',
                  value: 'rowgroup'
                }, {
                  text: 'Column group',
                  value: 'colgroup'
                }]
              }, {
                label: 'H Align',
                name: 'align',
                type: 'listbox',
                text: 'None',
                minWidth: 90,
                maxWidth: null,
                values: [{
                  text: 'None',
                  value: ''
                }, {
                  text: 'Left',
                  value: 'left'
                }, {
                  text: 'Center',
                  value: 'center'
                }, {
                  text: 'Right',
                  value: 'right'
                }]
              }, {
                label: 'V Align',
                name: 'valign',
                type: 'listbox',
                text: 'None',
                minWidth: 90,
                maxWidth: null,
                values: [{
                  text: 'None',
                  value: ''
                }, {
                  text: 'Top',
                  value: 'top'
                }, {
                  text: 'Middle',
                  value: 'middle'
                }, {
                  text: 'Bottom',
                  value: 'bottom'
                }]
              }]
            }, classListCtrl]
          };

          if (hasAdvancedCellTab(editor)) {
            editor.windowManager.open({
              title: 'Cell properties',
              bodyType: 'tabpanel',
              data: data,
              body: [{
                title: 'General',
                type: 'form',
                items: generalCellForm
              }, Helpers.createStyleForm(editor)],
              onsubmit: curry(onSubmitCellForm, editor, cells)
            });
          } else {
            editor.windowManager.open({
              title: 'Cell properties',
              data: data,
              body: generalCellForm,
              onsubmit: curry(onSubmitCellForm, editor, cells)
            });
          }
        };

        var CellDialog = {
          open: open
        };

        var extractDataFromElement$1 = function extractDataFromElement$1(editor, elm) {
          var dom = editor.dom;
          var data = {
            height: dom.getStyle(elm, 'height') || dom.getAttrib(elm, 'height'),
            scope: dom.getAttrib(elm, 'scope'),
            "class": dom.getAttrib(elm, 'class'),
            align: '',
            style: '',
            type: elm.parentNode.nodeName.toLowerCase()
          };
          global$1.each('left center right'.split(' '), function (name) {
            if (editor.formatter.matchNode(elm, 'align' + name)) {
              data.align = name;
            }
          });

          if (hasAdvancedRowTab(editor)) {
            global$1.extend(data, Helpers.extractAdvancedStyles(dom, elm));
          }

          return data;
        };

        var switchRowType = function switchRowType(dom, rowElm, toType) {
          var tableElm = dom.getParent(rowElm, 'table');
          var oldParentElm = rowElm.parentNode;
          var parentElm = dom.select(toType, tableElm)[0];

          if (!parentElm) {
            parentElm = dom.create(toType);

            if (tableElm.firstChild) {
              if (tableElm.firstChild.nodeName === 'CAPTION') {
                dom.insertAfter(parentElm, tableElm.firstChild);
              } else {
                tableElm.insertBefore(parentElm, tableElm.firstChild);
              }
            } else {
              tableElm.appendChild(parentElm);
            }
          }

          parentElm.appendChild(rowElm);

          if (!oldParentElm.hasChildNodes()) {
            dom.remove(oldParentElm);
          }
        };

        function onSubmitRowForm(editor, rows, oldData, evt) {
          var dom = editor.dom;

          function setAttrib(elm, name, value) {
            if (rows.length === 1 || value) {
              dom.setAttrib(elm, name, value);
            }
          }

          function setStyle(elm, name, value) {
            if (rows.length === 1 || value) {
              dom.setStyle(elm, name, value);
            }
          }

          if (hasAdvancedRowTab(editor)) {
            Helpers.syncAdvancedStyleFields(editor, evt);
          }

          var data = evt.control.rootControl.toJSON();
          editor.undoManager.transact(function () {
            global$1.each(rows, function (rowElm) {
              setAttrib(rowElm, 'scope', data.scope);
              setAttrib(rowElm, 'style', data.style);
              setAttrib(rowElm, 'class', data["class"]);
              setStyle(rowElm, 'height', addSizeSuffix(data.height));

              if (data.type !== rowElm.parentNode.nodeName.toLowerCase()) {
                switchRowType(editor.dom, rowElm, data.type);
              }

              if (data.align !== oldData.align) {
                Styles$1.unApplyAlign(editor, rowElm);
                Styles$1.applyAlign(editor, rowElm, data.align);
              }
            });
            editor.focus();
          });
        }

        var open$1 = function open$1(editor) {
          var dom = editor.dom;
          var tableElm, cellElm, rowElm, classListCtrl, data;
          var rows = [];
          var generalRowForm;
          tableElm = dom.getParent(editor.selection.getStart(), 'table');
          cellElm = dom.getParent(editor.selection.getStart(), 'td,th');
          global$1.each(tableElm.rows, function (row) {
            global$1.each(row.cells, function (cell) {
              if (dom.getAttrib(cell, 'data-mce-selected') || cell === cellElm) {
                rows.push(row);
                return false;
              }
            });
          });
          rowElm = rows[0];

          if (!rowElm) {
            return;
          }

          if (rows.length > 1) {
            data = {
              height: '',
              scope: '',
              style: '',
              "class": '',
              align: '',
              type: rowElm.parentNode.nodeName.toLowerCase()
            };
          } else {
            data = extractDataFromElement$1(editor, rowElm);
          }

          if (getRowClassList(editor).length > 0) {
            classListCtrl = {
              name: 'class',
              type: 'listbox',
              label: 'Class',
              values: Helpers.buildListItems(getRowClassList(editor), function (item) {
                if (item.value) {
                  item.textStyle = function () {
                    return editor.formatter.getCssText({
                      block: 'tr',
                      classes: [item.value]
                    });
                  };
                }
              })
            };
          }

          generalRowForm = {
            type: 'form',
            columns: 2,
            padding: 0,
            defaults: {
              type: 'textbox'
            },
            items: [{
              type: 'listbox',
              name: 'type',
              label: 'Row type',
              text: 'Header',
              maxWidth: null,
              values: [{
                text: 'Header',
                value: 'thead'
              }, {
                text: 'Body',
                value: 'tbody'
              }, {
                text: 'Footer',
                value: 'tfoot'
              }]
            }, {
              type: 'listbox',
              name: 'align',
              label: 'Alignment',
              text: 'None',
              maxWidth: null,
              values: [{
                text: 'None',
                value: ''
              }, {
                text: 'Left',
                value: 'left'
              }, {
                text: 'Center',
                value: 'center'
              }, {
                text: 'Right',
                value: 'right'
              }]
            }, {
              label: 'Height',
              name: 'height'
            }, classListCtrl]
          };

          if (hasAdvancedRowTab(editor)) {
            editor.windowManager.open({
              title: 'Row properties',
              data: data,
              bodyType: 'tabpanel',
              body: [{
                title: 'General',
                type: 'form',
                items: generalRowForm
              }, Helpers.createStyleForm(editor)],
              onsubmit: curry(onSubmitRowForm, editor, rows, data)
            });
          } else {
            editor.windowManager.open({
              title: 'Row properties',
              data: data,
              body: generalRowForm,
              onsubmit: curry(onSubmitRowForm, editor, rows, data)
            });
          }
        };

        var RowDialog = {
          open: open$1
        };
        var global$2 = tinymce.util.Tools.resolve('tinymce.Env');
        var DefaultRenderOptions = {
          styles: {
            'border-collapse': 'collapse',
            'width': '100%'
          },
          attributes: {
            border: '1'
          },
          percentages: true
        };

        var makeTable = function makeTable() {
          return Element.fromTag('table');
        };

        var tableBody = function tableBody() {
          return Element.fromTag('tbody');
        };

        var tableRow = function tableRow() {
          return Element.fromTag('tr');
        };

        var tableHeaderCell = function tableHeaderCell() {
          return Element.fromTag('th');
        };

        var tableCell = function tableCell() {
          return Element.fromTag('td');
        };

        var render$1 = function render$1(rows, columns, rowHeaders, columnHeaders, renderOpts) {
          if (renderOpts === void 0) {
            renderOpts = DefaultRenderOptions;
          }

          var table = makeTable();
          setAll$1(table, renderOpts.styles);
          setAll(table, renderOpts.attributes);
          var tbody = tableBody();
          append(table, tbody);
          var trs = [];

          for (var i = 0; i < rows; i++) {
            var tr = tableRow();

            for (var j = 0; j < columns; j++) {
              var td = i < rowHeaders || j < columnHeaders ? tableHeaderCell() : tableCell();

              if (j < columnHeaders) {
                set(td, 'scope', 'row');
              }

              if (i < rowHeaders) {
                set(td, 'scope', 'col');
              }

              append(td, Element.fromTag('br'));

              if (renderOpts.percentages) {
                set$1(td, 'width', 100 / columns + '%');
              }

              append(tr, td);
            }

            trs.push(tr);
          }

          append$1(tbody, trs);
          return table;
        };

        var get$7 = function get$7(element) {
          return element.dom().innerHTML;
        };

        var getOuter$2 = function getOuter$2(element) {
          var container = Element.fromTag('div');
          var clone = Element.fromDom(element.dom().cloneNode(true));
          append(container, clone);
          return get$7(container);
        };

        var placeCaretInCell = function placeCaretInCell(editor, cell) {
          editor.selection.select(cell.dom(), true);
          editor.selection.collapse(true);
        };

        var selectFirstCellInTable = function selectFirstCellInTable(editor, tableElm) {
          descendant$1(tableElm, 'td,th').each(curry(placeCaretInCell, editor));
        };

        var fireEvents = function fireEvents(editor, table) {
          each(descendants$1(table, 'tr'), function (row) {
            fireNewRow(editor, row.dom());
            each(descendants$1(row, 'th,td'), function (cell) {
              fireNewCell(editor, cell.dom());
            });
          });
        };

        var isPercentage = function isPercentage(width) {
          return isString(width) && width.indexOf('%') !== -1;
        };

        var insert$1 = function insert$1(editor, columns, rows) {
          var defaultStyles = getDefaultStyles(editor);
          var options = {
            styles: defaultStyles,
            attributes: getDefaultAttributes(editor),
            percentages: isPercentage(defaultStyles.width) && !isPixelsForced(editor)
          };
          var table = render$1(rows, columns, 0, 0, options);
          set(table, 'data-mce-id', '__mce');
          var html = getOuter$2(table);
          editor.insertContent(html);
          return descendant$1(getBody$1(editor), 'table[data-mce-id="__mce"]').map(function (table) {
            if (isPixelsForced(editor)) {
              set$1(table, 'width', get$1(table, 'width'));
            }

            remove(table, 'data-mce-id');
            fireEvents(editor, table);
            selectFirstCellInTable(editor, table);
            return table.dom();
          }).getOr(null);
        };

        var InsertTable = {
          insert: insert$1
        };

        function styleTDTH(dom, elm, name, value) {
          if (elm.tagName === 'TD' || elm.tagName === 'TH') {
            dom.setStyle(elm, name, value);
          } else {
            if (elm.children) {
              for (var i = 0; i < elm.children.length; i++) {
                styleTDTH(dom, elm.children[i], name, value);
              }
            }
          }
        }

        var extractDataFromElement$2 = function extractDataFromElement$2(editor, tableElm) {
          var dom = editor.dom;
          var data = {
            width: dom.getStyle(tableElm, 'width') || dom.getAttrib(tableElm, 'width'),
            height: dom.getStyle(tableElm, 'height') || dom.getAttrib(tableElm, 'height'),
            cellspacing: dom.getStyle(tableElm, 'border-spacing') || dom.getAttrib(tableElm, 'cellspacing'),
            cellpadding: dom.getAttrib(tableElm, 'data-mce-cell-padding') || dom.getAttrib(tableElm, 'cellpadding') || Styles$1.getTDTHOverallStyle(editor.dom, tableElm, 'padding'),
            border: dom.getAttrib(tableElm, 'data-mce-border') || dom.getAttrib(tableElm, 'border') || Styles$1.getTDTHOverallStyle(editor.dom, tableElm, 'border'),
            borderColor: dom.getAttrib(tableElm, 'data-mce-border-color'),
            caption: !!dom.select('caption', tableElm)[0],
            "class": dom.getAttrib(tableElm, 'class')
          };
          global$1.each('left center right'.split(' '), function (name) {
            if (editor.formatter.matchNode(tableElm, 'align' + name)) {
              data.align = name;
            }
          });

          if (hasAdvancedTableTab(editor)) {
            global$1.extend(data, Helpers.extractAdvancedStyles(dom, tableElm));
          }

          return data;
        };

        var applyDataToElement = function applyDataToElement(editor, tableElm, data) {
          var dom = editor.dom;
          var attrs = {};
          var styles = {};
          attrs["class"] = data["class"];
          styles.height = addSizeSuffix(data.height);

          if (dom.getAttrib(tableElm, 'width') && !shouldStyleWithCss(editor)) {
            attrs.width = removePxSuffix(data.width);
          } else {
            styles.width = addSizeSuffix(data.width);
          }

          if (shouldStyleWithCss(editor)) {
            styles['border-width'] = addSizeSuffix(data.border);
            styles['border-spacing'] = addSizeSuffix(data.cellspacing);
            global$1.extend(attrs, {
              'data-mce-border-color': data.borderColor,
              'data-mce-cell-padding': data.cellpadding,
              'data-mce-border': data.border
            });
          } else {
            global$1.extend(attrs, {
              border: data.border,
              cellpadding: data.cellpadding,
              cellspacing: data.cellspacing
            });
          }

          if (shouldStyleWithCss(editor)) {
            if (tableElm.children) {
              for (var i = 0; i < tableElm.children.length; i++) {
                styleTDTH(dom, tableElm.children[i], {
                  'border-width': addSizeSuffix(data.border),
                  'border-color': data.borderColor,
                  'padding': addSizeSuffix(data.cellpadding)
                });
              }
            }
          }

          if (data.style) {
            global$1.extend(styles, dom.parseStyle(data.style));
          } else {
            styles = global$1.extend({}, dom.parseStyle(dom.getAttrib(tableElm, 'style')), styles);
          }

          attrs.style = dom.serializeStyle(styles);
          dom.setAttribs(tableElm, attrs);
        };

        var onSubmitTableForm = function onSubmitTableForm(editor, tableElm, evt) {
          var dom = editor.dom;
          var captionElm;
          var data;

          if (hasAdvancedTableTab(editor)) {
            Helpers.syncAdvancedStyleFields(editor, evt);
          }

          data = evt.control.rootControl.toJSON();

          if (data["class"] === false) {
            delete data["class"];
          }

          editor.undoManager.transact(function () {
            if (!tableElm) {
              tableElm = InsertTable.insert(editor, data.cols || 1, data.rows || 1);
            }

            applyDataToElement(editor, tableElm, data);
            captionElm = dom.select('caption', tableElm)[0];

            if (captionElm && !data.caption) {
              dom.remove(captionElm);
            }

            if (!captionElm && data.caption) {
              captionElm = dom.create('caption');
              captionElm.innerHTML = !global$2.ie ? '<br data-mce-bogus="1"/>' : '\xA0';
              tableElm.insertBefore(captionElm, tableElm.firstChild);
            }

            Styles$1.unApplyAlign(editor, tableElm);

            if (data.align) {
              Styles$1.applyAlign(editor, tableElm, data.align);
            }

            editor.focus();
            editor.addVisual();
          });
        };

        var open$2 = function open$2(editor, isProps) {
          var dom = editor.dom;
          var tableElm,
              colsCtrl,
              rowsCtrl,
              classListCtrl,
              data = {},
              generalTableForm;

          if (isProps === true) {
            tableElm = dom.getParent(editor.selection.getStart(), 'table');

            if (tableElm) {
              data = extractDataFromElement$2(editor, tableElm);
            }
          } else {
            colsCtrl = {
              label: 'Cols',
              name: 'cols'
            };
            rowsCtrl = {
              label: 'Rows',
              name: 'rows'
            };
          }

          if (getTableClassList(editor).length > 0) {
            if (data["class"]) {
              data["class"] = data["class"].replace(/\s*mce\-item\-table\s*/g, '');
            }

            classListCtrl = {
              name: 'class',
              type: 'listbox',
              label: 'Class',
              values: Helpers.buildListItems(getTableClassList(editor), function (item) {
                if (item.value) {
                  item.textStyle = function () {
                    return editor.formatter.getCssText({
                      block: 'table',
                      classes: [item.value]
                    });
                  };
                }
              })
            };
          }

          generalTableForm = {
            type: 'form',
            layout: 'flex',
            direction: 'column',
            labelGapCalc: 'children',
            padding: 0,
            items: [{
              type: 'form',
              labelGapCalc: false,
              padding: 0,
              layout: 'grid',
              columns: 2,
              defaults: {
                type: 'textbox',
                maxWidth: 50
              },
              items: hasAppearanceOptions(editor) ? [colsCtrl, rowsCtrl, {
                label: 'Width',
                name: 'width',
                onchange: curry(Helpers.updateStyleField, editor)
              }, {
                label: 'Height',
                name: 'height',
                onchange: curry(Helpers.updateStyleField, editor)
              }, {
                label: 'Cell spacing',
                name: 'cellspacing'
              }, {
                label: 'Cell padding',
                name: 'cellpadding'
              }, {
                label: 'Border',
                name: 'border'
              }, {
                label: 'Caption',
                name: 'caption',
                type: 'checkbox'
              }] : [colsCtrl, rowsCtrl, {
                label: 'Width',
                name: 'width',
                onchange: curry(Helpers.updateStyleField, editor)
              }, {
                label: 'Height',
                name: 'height',
                onchange: curry(Helpers.updateStyleField, editor)
              }]
            }, {
              label: 'Alignment',
              name: 'align',
              type: 'listbox',
              text: 'None',
              values: [{
                text: 'None',
                value: ''
              }, {
                text: 'Left',
                value: 'left'
              }, {
                text: 'Center',
                value: 'center'
              }, {
                text: 'Right',
                value: 'right'
              }]
            }, classListCtrl]
          };

          if (hasAdvancedTableTab(editor)) {
            editor.windowManager.open({
              title: 'Table properties',
              data: data,
              bodyType: 'tabpanel',
              body: [{
                title: 'General',
                type: 'form',
                items: generalTableForm
              }, Helpers.createStyleForm(editor)],
              onsubmit: curry(onSubmitTableForm, editor, tableElm)
            });
          } else {
            editor.windowManager.open({
              title: 'Table properties',
              data: data,
              body: generalTableForm,
              onsubmit: curry(onSubmitTableForm, editor, tableElm)
            });
          }
        };

        var TableDialog = {
          open: open$2
        };
        var each$3 = global$1.each;

        var registerCommands = function registerCommands(editor, actions, cellSelection, selections, clipboardRows) {
          var isRoot = getIsRoot(editor);

          var eraseTable = function eraseTable() {
            getSelectionStartCell().orThunk(getSelectionStartCaption).each(function (cellOrCaption) {
              var table = TableLookup.table(cellOrCaption, isRoot);
              table.filter(not(isRoot)).each(function (table) {
                var cursor = Element.fromText('');
                after(table, cursor);
                remove$2(table);
                var rng = editor.dom.createRng();
                rng.setStart(cursor.dom(), 0);
                rng.setEnd(cursor.dom(), 0);
                editor.selection.setRng(rng);
              });
            });
          };

          var getSelectionStartFromSelector = function getSelectionStartFromSelector(selector) {
            return function () {
              return Option.from(editor.dom.getParent(editor.selection.getStart(), selector)).map(Element.fromDom);
            };
          };

          var getSelectionStartCaption = getSelectionStartFromSelector('caption');
          var getSelectionStartCell = getSelectionStartFromSelector('th,td');

          var getTableFromCell = function getTableFromCell(cell) {
            return TableLookup.table(cell, isRoot);
          };

          var getSize = function getSize(table) {
            return {
              width: getPixelWidth$1(table.dom()),
              height: getPixelWidth$1(table.dom())
            };
          };

          var resizeChange = function resizeChange(editor, oldSize, table) {
            var newSize = getSize(table);

            if (oldSize.width !== newSize.width || oldSize.height !== newSize.height) {
              fireObjectResizeStart(editor, table.dom(), oldSize.width, oldSize.height);
              fireObjectResized(editor, table.dom(), newSize.width, newSize.height);
            }
          };

          var actOnSelection = function actOnSelection(execute) {
            getSelectionStartCell().each(function (cell) {
              getTableFromCell(cell).each(function (table) {
                var targets = TableTargets.forMenu(selections, table, cell);
                var beforeSize = getSize(table);
                execute(table, targets).each(function (rng) {
                  resizeChange(editor, beforeSize, table);
                  editor.selection.setRng(rng);
                  editor.focus();
                  cellSelection.clear(table);
                  removeDataStyle(table);
                });
              });
            });
          };

          var copyRowSelection = function copyRowSelection(execute) {
            return getSelectionStartCell().bind(function (cell) {
              return getTableFromCell(cell).bind(function (table) {
                var doc = Element.fromDom(editor.getDoc());
                var targets = TableTargets.forMenu(selections, table, cell);
                var generators = TableFill.cellOperations(noop, doc, Option.none());
                return CopyRows.copyRows(table, targets, generators);
              });
            });
          };

          var pasteOnSelection = function pasteOnSelection(execute) {
            clipboardRows.get().each(function (rows) {
              var clonedRows = map(rows, function (row) {
                return deep(row);
              });
              getSelectionStartCell().each(function (cell) {
                getTableFromCell(cell).each(function (table) {
                  var doc = Element.fromDom(editor.getDoc());
                  var generators = TableFill.paste(doc);
                  var targets = TableTargets.pasteRows(selections, table, cell, clonedRows, generators);
                  execute(table, targets).each(function (rng) {
                    editor.selection.setRng(rng);
                    editor.focus();
                    cellSelection.clear(table);
                  });
                });
              });
            });
          };

          each$3({
            mceTableSplitCells: function mceTableSplitCells() {
              actOnSelection(actions.unmergeCells);
            },
            mceTableMergeCells: function mceTableMergeCells() {
              actOnSelection(actions.mergeCells);
            },
            mceTableInsertRowBefore: function mceTableInsertRowBefore() {
              actOnSelection(actions.insertRowsBefore);
            },
            mceTableInsertRowAfter: function mceTableInsertRowAfter() {
              actOnSelection(actions.insertRowsAfter);
            },
            mceTableInsertColBefore: function mceTableInsertColBefore() {
              actOnSelection(actions.insertColumnsBefore);
            },
            mceTableInsertColAfter: function mceTableInsertColAfter() {
              actOnSelection(actions.insertColumnsAfter);
            },
            mceTableDeleteCol: function mceTableDeleteCol() {
              actOnSelection(actions.deleteColumn);
            },
            mceTableDeleteRow: function mceTableDeleteRow() {
              actOnSelection(actions.deleteRow);
            },
            mceTableCutRow: function mceTableCutRow(grid) {
              clipboardRows.set(copyRowSelection());
              actOnSelection(actions.deleteRow);
            },
            mceTableCopyRow: function mceTableCopyRow(grid) {
              clipboardRows.set(copyRowSelection());
            },
            mceTablePasteRowBefore: function mceTablePasteRowBefore(grid) {
              pasteOnSelection(actions.pasteRowsBefore);
            },
            mceTablePasteRowAfter: function mceTablePasteRowAfter(grid) {
              pasteOnSelection(actions.pasteRowsAfter);
            },
            mceTableDelete: eraseTable
          }, function (func, name) {
            editor.addCommand(name, func);
          });
          each$3({
            mceInsertTable: curry(TableDialog.open, editor),
            mceTableProps: curry(TableDialog.open, editor, true),
            mceTableRowProps: curry(RowDialog.open, editor),
            mceTableCellProps: curry(CellDialog.open, editor)
          }, function (func, name) {
            editor.addCommand(name, function (ui, val) {
              func(val);
            });
          });
        };

        var Commands = {
          registerCommands: registerCommands
        };

        var only = function only(element) {
          var parent = Option.from(element.dom().documentElement).map(Element.fromDom).getOr(element);
          return {
            parent: constant(parent),
            view: constant(element),
            origin: constant(Position(0, 0))
          };
        };

        var detached = function detached(editable, chrome) {
          var origin = curry(absolute, chrome);
          return {
            parent: constant(chrome),
            view: constant(editable),
            origin: origin
          };
        };

        var body$1 = function body$1(editable, chrome) {
          return {
            parent: constant(chrome),
            view: constant(editable),
            origin: constant(Position(0, 0))
          };
        };

        var ResizeWire = {
          only: only,
          detached: detached,
          body: body$1
        };

        var Event = function Event(fields) {
          var struct = Immutable.apply(null, fields);
          var handlers = [];

          var bind = function bind(handler) {
            if (handler === undefined) {
              throw new Error('Event bind error: undefined handler');
            }

            handlers.push(handler);
          };

          var unbind = function unbind(handler) {
            handlers = filter(handlers, function (h) {
              return h !== handler;
            });
          };

          var trigger = function trigger() {
            var args = [];

            for (var _i = 0; _i < arguments.length; _i++) {
              args[_i] = arguments[_i];
            }

            var event = struct.apply(null, args);
            each(handlers, function (handler) {
              handler(event);
            });
          };

          return {
            bind: bind,
            unbind: unbind,
            trigger: trigger
          };
        };

        var create$1 = function create$1(typeDefs) {
          var registry = map$1(typeDefs, function (event) {
            return {
              bind: event.bind,
              unbind: event.unbind
            };
          });
          var trigger = map$1(typeDefs, function (event) {
            return event.trigger;
          });
          return {
            registry: registry,
            trigger: trigger
          };
        };

        var Events = {
          create: create$1
        };

        var mkEvent = function mkEvent(target, x, y, stop, prevent, kill, raw) {
          return {
            target: constant(target),
            x: constant(x),
            y: constant(y),
            stop: stop,
            prevent: prevent,
            kill: kill,
            raw: constant(raw)
          };
        };

        var handle = function handle(filter, handler) {
          return function (rawEvent) {
            if (!filter(rawEvent)) {
              return;
            }

            var target = Element.fromDom(rawEvent.target);

            var stop = function stop() {
              rawEvent.stopPropagation();
            };

            var prevent = function prevent() {
              rawEvent.preventDefault();
            };

            var kill = compose(prevent, stop);
            var evt = mkEvent(target, rawEvent.clientX, rawEvent.clientY, stop, prevent, kill, rawEvent);
            handler(evt);
          };
        };

        var binder = function binder(element, event, filter, handler, useCapture) {
          var wrapped = handle(filter, handler);
          element.dom().addEventListener(event, wrapped, useCapture);
          return {
            unbind: curry(unbind, element, event, wrapped, useCapture)
          };
        };

        var bind$1 = function bind$1(element, event, filter, handler) {
          return binder(element, event, filter, handler, false);
        };

        var unbind = function unbind(element, event, handler, useCapture) {
          element.dom().removeEventListener(event, handler, useCapture);
        };

        var filter$1 = constant(true);

        var bind$2 = function bind$2(element, event, handler) {
          return bind$1(element, event, filter$1, handler);
        };

        var hasOwnProperty = Object.prototype.hasOwnProperty;

        var shallow$1 = function shallow$1(old, nu) {
          return nu;
        };

        var baseMerge = function baseMerge(merger) {
          return function () {
            var objects = new Array(arguments.length);

            for (var i = 0; i < objects.length; i++) {
              objects[i] = arguments[i];
            }

            if (objects.length === 0) throw new Error('Can\'t merge zero objects');
            var ret = {};

            for (var j = 0; j < objects.length; j++) {
              var curObject = objects[j];

              for (var key in curObject) {
                if (hasOwnProperty.call(curObject, key)) {
                  ret[key] = merger(ret[key], curObject[key]);
                }
              }
            }

            return ret;
          };
        };

        var merge$3 = baseMerge(shallow$1);
        var styles$1 = css('ephox-dragster');
        var Styles$2 = {
          resolve: styles$1.resolve
        };

        var Blocker = function Blocker(options) {
          var settings = merge$3({
            layerClass: Styles$2.resolve('blocker')
          }, options);
          var div = Element.fromTag('div');
          set(div, 'role', 'presentation');
          setAll$1(div, {
            position: 'fixed',
            left: '0px',
            top: '0px',
            width: '100%',
            height: '100%'
          });
          add$2(div, Styles$2.resolve('blocker'));
          add$2(div, settings.layerClass);

          var element = function element() {
            return div;
          };

          var destroy = function destroy() {
            remove$2(div);
          };

          return {
            element: element,
            destroy: destroy
          };
        };

        var DragMode = exactly(['compare', 'extract', 'mutate', 'sink']);
        var DragSink = exactly(['element', 'start', 'stop', 'destroy']);
        var DragApi = exactly(['forceDrop', 'drop', 'move', 'delayDrop']);

        var compare = function compare(old, nu) {
          return Position(nu.left() - old.left(), nu.top() - old.top());
        };

        var extract$1 = function extract$1(event) {
          return Option.some(Position(event.x(), event.y()));
        };

        var mutate = function mutate(mutation, info) {
          mutation.mutate(info.left(), info.top());
        };

        var sink = function sink(dragApi, settings) {
          var blocker = Blocker(settings);
          var mdown = bind$2(blocker.element(), 'mousedown', dragApi.forceDrop);
          var mup = bind$2(blocker.element(), 'mouseup', dragApi.drop);
          var mmove = bind$2(blocker.element(), 'mousemove', dragApi.move);
          var mout = bind$2(blocker.element(), 'mouseout', dragApi.delayDrop);

          var destroy = function destroy() {
            blocker.destroy();
            mup.unbind();
            mmove.unbind();
            mout.unbind();
            mdown.unbind();
          };

          var start = function start(parent) {
            append(parent, blocker.element());
          };

          var stop = function stop() {
            remove$2(blocker.element());
          };

          return DragSink({
            element: blocker.element,
            start: start,
            stop: stop,
            destroy: destroy
          });
        };

        var MouseDrag = DragMode({
          compare: compare,
          extract: extract$1,
          sink: sink,
          mutate: mutate
        });

        var last$2 = function last$2(fn, rate) {
          var timer = null;

          var cancel = function cancel() {
            if (timer !== null) {
              domGlobals.clearTimeout(timer);
              timer = null;
            }
          };

          var throttle = function throttle() {
            var args = [];

            for (var _i = 0; _i < arguments.length; _i++) {
              args[_i] = arguments[_i];
            }

            if (timer !== null) domGlobals.clearTimeout(timer);
            timer = domGlobals.setTimeout(function () {
              fn.apply(null, args);
              timer = null;
            }, rate);
          };

          return {
            cancel: cancel,
            throttle: throttle
          };
        };

        function InDrag() {
          var previous = Option.none();

          var reset = function reset() {
            previous = Option.none();
          };

          var update = function update(mode, nu) {
            var result = previous.map(function (old) {
              return mode.compare(old, nu);
            });
            previous = Option.some(nu);
            return result;
          };

          var onEvent = function onEvent(event, mode) {
            var dataOption = mode.extract(event);
            dataOption.each(function (data) {
              var offset = update(mode, data);
              offset.each(function (d) {
                events.trigger.move(d);
              });
            });
          };

          var events = Events.create({
            move: Event(['info'])
          });
          return {
            onEvent: onEvent,
            reset: reset,
            events: events.registry
          };
        }

        function NoDrag() {
          return {
            onEvent: noop,
            reset: noop
          };
        }

        function Movement() {
          var noDragState = NoDrag();
          var inDragState = InDrag();
          var dragState = noDragState;

          var on = function on() {
            dragState.reset();
            dragState = inDragState;
          };

          var off = function off() {
            dragState.reset();
            dragState = noDragState;
          };

          var onEvent = function onEvent(event, mode) {
            dragState.onEvent(event, mode);
          };

          var isOn = function isOn() {
            return dragState === inDragState;
          };

          return {
            on: on,
            off: off,
            isOn: isOn,
            onEvent: onEvent,
            events: inDragState.events
          };
        }

        var setup = function setup(mutation, mode, settings) {
          var active = false;
          var events = Events.create({
            start: Event([]),
            stop: Event([])
          });
          var movement = Movement();

          var drop = function drop() {
            sink.stop();

            if (movement.isOn()) {
              movement.off();
              events.trigger.stop();
            }
          };

          var throttledDrop = last$2(drop, 200);

          var go = function go(parent) {
            sink.start(parent);
            movement.on();
            events.trigger.start();
          };

          var mousemove = function mousemove(event) {
            throttledDrop.cancel();
            movement.onEvent(event, mode);
          };

          movement.events.move.bind(function (event) {
            mode.mutate(mutation, event.info());
          });

          var on = function on() {
            active = true;
          };

          var off = function off() {
            active = false;
          };

          var runIfActive = function runIfActive(f) {
            return function () {
              var args = [];

              for (var _i = 0; _i < arguments.length; _i++) {
                args[_i] = arguments[_i];
              }

              if (active) {
                f.apply(null, args);
              }
            };
          };

          var sink = mode.sink(DragApi({
            forceDrop: drop,
            drop: runIfActive(drop),
            move: runIfActive(mousemove),
            delayDrop: runIfActive(throttledDrop.throttle)
          }), settings);

          var destroy = function destroy() {
            sink.destroy();
          };

          return {
            element: sink.element,
            go: go,
            on: on,
            off: off,
            destroy: destroy,
            events: events.registry
          };
        };

        var Dragging = {
          setup: setup
        };

        var transform$1 = function transform$1(mutation, settings) {
          if (settings === void 0) {
            settings = {};
          }

          var mode = settings.mode !== undefined ? settings.mode : MouseDrag;
          return Dragging.setup(mutation, mode, settings);
        };

        var Dragger = {
          transform: transform$1
        };

        var Mutation = function Mutation() {
          var events = Events.create({
            drag: Event(['xDelta', 'yDelta'])
          });

          var mutate = function mutate(x, y) {
            events.trigger.drag(x, y);
          };

          return {
            mutate: mutate,
            events: events.registry
          };
        };

        var BarMutation = function BarMutation() {
          var events = Events.create({
            drag: Event(['xDelta', 'yDelta', 'target'])
          });
          var target = Option.none();
          var delegate = Mutation();
          delegate.events.drag.bind(function (event) {
            target.each(function (t) {
              events.trigger.drag(event.xDelta(), event.yDelta(), t);
            });
          });

          var assign = function assign(t) {
            target = Option.some(t);
          };

          var get = function get() {
            return target;
          };

          return {
            assign: assign,
            get: get,
            mutate: delegate.mutate,
            events: events.registry
          };
        };

        var isContentEditableTrue = function isContentEditableTrue(elm) {
          return get(elm, 'contenteditable') === 'true';
        };

        var findClosestContentEditable = function findClosestContentEditable(target, isRoot) {
          return closest$1(target, '[contenteditable]', isRoot);
        };

        var resizeBarDragging = Styles.resolve('resizer-bar-dragging');

        var BarManager = function BarManager(wire, direction, hdirection) {
          var mutation = BarMutation();
          var resizing = Dragger.transform(mutation, {});
          var hoverTable = Option.none();

          var getResizer = function getResizer(element, type) {
            return Option.from(get(element, type));
          };

          mutation.events.drag.bind(function (event) {
            getResizer(event.target(), 'data-row').each(function (_dataRow) {
              var currentRow = CellUtils.getInt(event.target(), 'top');
              set$1(event.target(), 'top', currentRow + event.yDelta() + 'px');
            });
            getResizer(event.target(), 'data-column').each(function (_dataCol) {
              var currentCol = CellUtils.getInt(event.target(), 'left');
              set$1(event.target(), 'left', currentCol + event.xDelta() + 'px');
            });
          });

          var getDelta = function getDelta(target, dir) {
            var newX = CellUtils.getInt(target, dir);
            var oldX = parseInt(get(target, 'data-initial-' + dir), 10);
            return newX - oldX;
          };

          resizing.events.stop.bind(function () {
            mutation.get().each(function (target) {
              hoverTable.each(function (table) {
                getResizer(target, 'data-row').each(function (row) {
                  var delta = getDelta(target, 'top');
                  remove(target, 'data-initial-top');
                  events.trigger.adjustHeight(table, delta, parseInt(row, 10));
                });
                getResizer(target, 'data-column').each(function (column) {
                  var delta = getDelta(target, 'left');
                  remove(target, 'data-initial-left');
                  events.trigger.adjustWidth(table, delta, parseInt(column, 10));
                });
                Bars.refresh(wire, table, hdirection, direction);
              });
            });
          });

          var handler = function handler(target, dir) {
            events.trigger.startAdjust();
            mutation.assign(target);
            set(target, 'data-initial-' + dir, parseInt(get$1(target, dir), 10));
            add$2(target, resizeBarDragging);
            set$1(target, 'opacity', '0.2');
            resizing.go(wire.parent());
          };

          var mousedown = bind$2(wire.parent(), 'mousedown', function (event) {
            if (Bars.isRowBar(event.target())) {
              handler(event.target(), 'top');
            }

            if (Bars.isColBar(event.target())) {
              handler(event.target(), 'left');
            }
          });

          var isRoot = function isRoot(e) {
            return eq(e, wire.view());
          };

          var findClosestEditableTable = function findClosestEditableTable(target) {
            return closest$1(target, 'table', isRoot).filter(function (table) {
              return findClosestContentEditable(table, isRoot).exists(isContentEditableTrue);
            });
          };

          var mouseover = bind$2(wire.view(), 'mouseover', function (event) {
            findClosestEditableTable(event.target()).fold(function () {
              if (inBody(event.target())) {
                Bars.destroy(wire);
              }
            }, function (table) {
              hoverTable = Option.some(table);
              Bars.refresh(wire, table, hdirection, direction);
            });
          });

          var destroy = function destroy() {
            mousedown.unbind();
            mouseover.unbind();
            resizing.destroy();
            Bars.destroy(wire);
          };

          var refresh = function refresh(tbl) {
            Bars.refresh(wire, tbl, hdirection, direction);
          };

          var events = Events.create({
            adjustHeight: Event(['table', 'delta', 'row']),
            adjustWidth: Event(['table', 'delta', 'column']),
            startAdjust: Event([])
          });
          return {
            destroy: destroy,
            refresh: refresh,
            on: resizing.on,
            off: resizing.off,
            hideBars: curry(Bars.hide, wire),
            showBars: curry(Bars.show, wire),
            events: events.registry
          };
        };

        function TableResize(wire, vdirection) {
          var hdirection = BarPositions.height;
          var manager = BarManager(wire, vdirection, hdirection);
          var events = Events.create({
            beforeResize: Event(['table']),
            afterResize: Event(['table']),
            startDrag: Event([])
          });
          manager.events.adjustHeight.bind(function (event) {
            events.trigger.beforeResize(event.table());
            var delta = hdirection.delta(event.delta(), event.table());
            Adjustments.adjustHeight(event.table(), delta, event.row(), hdirection);
            events.trigger.afterResize(event.table());
          });
          manager.events.startAdjust.bind(function (event) {
            events.trigger.startDrag();
          });
          manager.events.adjustWidth.bind(function (event) {
            events.trigger.beforeResize(event.table());
            var delta = vdirection.delta(event.delta(), event.table());
            Adjustments.adjustWidth(event.table(), delta, event.column(), vdirection);
            events.trigger.afterResize(event.table());
          });
          return {
            on: manager.on,
            off: manager.off,
            hideBars: manager.hideBars,
            showBars: manager.showBars,
            destroy: manager.destroy,
            events: events.registry
          };
        }

        var createContainer = function createContainer() {
          var container = Element.fromTag('div');
          setAll$1(container, {
            position: 'static',
            height: '0',
            width: '0',
            padding: '0',
            margin: '0',
            border: '0'
          });
          append(body(), container);
          return container;
        };

        var get$8 = function get$8(editor, container) {
          return editor.inline ? ResizeWire.body(getBody$1(editor), createContainer()) : ResizeWire.only(Element.fromDom(editor.getDoc()));
        };

        var remove$6 = function remove$6(editor, wire) {
          if (editor.inline) {
            remove$2(wire.parent());
          }
        };

        var TableWire = {
          get: get$8,
          remove: remove$6
        };

        var ResizeHandler = function ResizeHandler(editor) {
          var selectionRng = Option.none();
          var resize = Option.none();
          var wire = Option.none();
          var percentageBasedSizeRegex = /(\d+(\.\d+)?)%/;
          var startW, startRawW;

          var isTable = function isTable(elm) {
            return elm.nodeName === 'TABLE';
          };

          var getRawWidth = function getRawWidth(elm) {
            return editor.dom.getStyle(elm, 'width') || editor.dom.getAttrib(elm, 'width');
          };

          var lazyResize = function lazyResize() {
            return resize;
          };

          var lazyWire = function lazyWire() {
            return wire.getOr(ResizeWire.only(Element.fromDom(editor.getBody())));
          };

          var destroy = function destroy() {
            resize.each(function (sz) {
              sz.destroy();
            });
            wire.each(function (w) {
              TableWire.remove(editor, w);
            });
          };

          editor.on('init', function () {
            var direction = TableDirection(Direction.directionAt);
            var rawWire = TableWire.get(editor);
            wire = Option.some(rawWire);

            if (hasObjectResizing(editor) && hasTableResizeBars(editor)) {
              var sz = TableResize(rawWire, direction);
              sz.on();
              sz.events.startDrag.bind(function (event) {
                selectionRng = Option.some(editor.selection.getRng());
              });
              sz.events.beforeResize.bind(function (event) {
                var rawTable = event.table().dom();
                fireObjectResizeStart(editor, rawTable, getPixelWidth$1(rawTable), getPixelHeight(rawTable));
              });
              sz.events.afterResize.bind(function (event) {
                var table = event.table();
                var rawTable = table.dom();
                removeDataStyle(table);
                selectionRng.each(function (rng) {
                  editor.selection.setRng(rng);
                  editor.focus();
                });
                fireObjectResized(editor, rawTable, getPixelWidth$1(rawTable), getPixelHeight(rawTable));
                editor.undoManager.add();
              });
              resize = Option.some(sz);
            }
          });
          editor.on('ObjectResizeStart', function (e) {
            var targetElm = e.target;

            if (isTable(targetElm)) {
              startW = e.width;
              startRawW = getRawWidth(targetElm);
            }
          });
          editor.on('ObjectResized', function (e) {
            var targetElm = e.target;

            if (isTable(targetElm)) {
              var table = targetElm;

              if (percentageBasedSizeRegex.test(startRawW)) {
                var percentW = parseFloat(percentageBasedSizeRegex.exec(startRawW)[1]);
                var targetPercentW = e.width * percentW / startW;
                editor.dom.setStyle(table, 'width', targetPercentW + '%');
              } else {
                var newCellSizes_1 = [];
                global$1.each(table.rows, function (row) {
                  global$1.each(row.cells, function (cell) {
                    var width = editor.dom.getStyle(cell, 'width', true);
                    newCellSizes_1.push({
                      cell: cell,
                      width: width
                    });
                  });
                });
                global$1.each(newCellSizes_1, function (newCellSize) {
                  editor.dom.setStyle(newCellSize.cell, 'width', newCellSize.width);
                  editor.dom.setAttrib(newCellSize.cell, 'width', null);
                });
              }
            }
          });
          return {
            lazyResize: lazyResize,
            lazyWire: lazyWire,
            destroy: destroy
          };
        };

        var adt$1 = Adt.generate([{
          none: ['current']
        }, {
          first: ['current']
        }, {
          middle: ['current', 'target']
        }, {
          last: ['current']
        }]);

        var none$1 = function none$1(current) {
          if (current === void 0) {
            current = undefined;
          }

          return adt$1.none(current);
        };

        var CellLocation = _assign({}, adt$1, {
          none: none$1
        });

        var detect$4 = function detect$4(current, isRoot) {
          return TableLookup.table(current, isRoot).bind(function (table) {
            var all = TableLookup.cells(table);
            var index = findIndex(all, function (x) {
              return eq(current, x);
            });
            return index.map(function (ind) {
              return {
                index: constant(ind),
                all: constant(all)
              };
            });
          });
        };

        var next = function next(current, isRoot) {
          var detection = detect$4(current, isRoot);
          return detection.fold(function () {
            return CellLocation.none(current);
          }, function (info) {
            return info.index() + 1 < info.all().length ? CellLocation.middle(current, info.all()[info.index() + 1]) : CellLocation.last(current);
          });
        };

        var prev = function prev(current, isRoot) {
          var detection = detect$4(current, isRoot);
          return detection.fold(function () {
            return CellLocation.none();
          }, function (info) {
            return info.index() - 1 >= 0 ? CellLocation.middle(current, info.all()[info.index() - 1]) : CellLocation.first(current);
          });
        };

        var CellNavigation = {
          next: next,
          prev: prev
        };
        var create$2 = Immutable('start', 'soffset', 'finish', 'foffset');
        var SimRange = {
          create: create$2
        };
        var adt$2 = Adt.generate([{
          before: ['element']
        }, {
          on: ['element', 'offset']
        }, {
          after: ['element']
        }]);

        var cata$1 = function cata$1(subject, onBefore, onOn, onAfter) {
          return subject.fold(onBefore, onOn, onAfter);
        };

        var getStart = function getStart(situ) {
          return situ.fold(identity, identity, identity);
        };

        var before$2 = adt$2.before;
        var on = adt$2.on;
        var after$2 = adt$2.after;
        var Situ = {
          before: before$2,
          on: on,
          after: after$2,
          cata: cata$1,
          getStart: getStart
        };
        var adt$3 = Adt.generate([{
          domRange: ['rng']
        }, {
          relative: ['startSitu', 'finishSitu']
        }, {
          exact: ['start', 'soffset', 'finish', 'foffset']
        }]);

        var exactFromRange = function exactFromRange(simRange) {
          return adt$3.exact(simRange.start(), simRange.soffset(), simRange.finish(), simRange.foffset());
        };

        var getStart$1 = function getStart$1(selection) {
          return selection.match({
            domRange: function domRange(rng) {
              return Element.fromDom(rng.startContainer);
            },
            relative: function relative(startSitu, finishSitu) {
              return Situ.getStart(startSitu);
            },
            exact: function exact(start, soffset, finish, foffset) {
              return start;
            }
          });
        };

        var domRange = adt$3.domRange;
        var relative = adt$3.relative;
        var exact = adt$3.exact;

        var getWin = function getWin(selection) {
          var start = getStart$1(selection);
          return defaultView(start);
        };

        var range$1 = SimRange.create;
        var Selection = {
          domRange: domRange,
          relative: relative,
          exact: exact,
          exactFromRange: exactFromRange,
          getWin: getWin,
          range: range$1
        };

        var selectNodeContents = function selectNodeContents(win, element) {
          var rng = win.document.createRange();
          selectNodeContentsUsing(rng, element);
          return rng;
        };

        var selectNodeContentsUsing = function selectNodeContentsUsing(rng, element) {
          rng.selectNodeContents(element.dom());
        };

        var setStart = function setStart(rng, situ) {
          situ.fold(function (e) {
            rng.setStartBefore(e.dom());
          }, function (e, o) {
            rng.setStart(e.dom(), o);
          }, function (e) {
            rng.setStartAfter(e.dom());
          });
        };

        var setFinish = function setFinish(rng, situ) {
          situ.fold(function (e) {
            rng.setEndBefore(e.dom());
          }, function (e, o) {
            rng.setEnd(e.dom(), o);
          }, function (e) {
            rng.setEndAfter(e.dom());
          });
        };

        var relativeToNative = function relativeToNative(win, startSitu, finishSitu) {
          var range = win.document.createRange();
          setStart(range, startSitu);
          setFinish(range, finishSitu);
          return range;
        };

        var exactToNative = function exactToNative(win, start, soffset, finish, foffset) {
          var rng = win.document.createRange();
          rng.setStart(start.dom(), soffset);
          rng.setEnd(finish.dom(), foffset);
          return rng;
        };

        var toRect = function toRect(rect) {
          return {
            left: constant(rect.left),
            top: constant(rect.top),
            right: constant(rect.right),
            bottom: constant(rect.bottom),
            width: constant(rect.width),
            height: constant(rect.height)
          };
        };

        var getFirstRect = function getFirstRect(rng) {
          var rects = rng.getClientRects();
          var rect = rects.length > 0 ? rects[0] : rng.getBoundingClientRect();
          return rect.width > 0 || rect.height > 0 ? Option.some(rect).map(toRect) : Option.none();
        };

        var adt$4 = Adt.generate([{
          ltr: ['start', 'soffset', 'finish', 'foffset']
        }, {
          rtl: ['start', 'soffset', 'finish', 'foffset']
        }]);

        var fromRange = function fromRange(win, type, range) {
          return type(Element.fromDom(range.startContainer), range.startOffset, Element.fromDom(range.endContainer), range.endOffset);
        };

        var getRanges = function getRanges(win, selection) {
          return selection.match({
            domRange: function domRange(rng) {
              return {
                ltr: constant(rng),
                rtl: Option.none
              };
            },
            relative: function relative(startSitu, finishSitu) {
              return {
                ltr: cached(function () {
                  return relativeToNative(win, startSitu, finishSitu);
                }),
                rtl: cached(function () {
                  return Option.some(relativeToNative(win, finishSitu, startSitu));
                })
              };
            },
            exact: function exact(start, soffset, finish, foffset) {
              return {
                ltr: cached(function () {
                  return exactToNative(win, start, soffset, finish, foffset);
                }),
                rtl: cached(function () {
                  return Option.some(exactToNative(win, finish, foffset, start, soffset));
                })
              };
            }
          });
        };

        var doDiagnose = function doDiagnose(win, ranges) {
          var rng = ranges.ltr();

          if (rng.collapsed) {
            var reversed = ranges.rtl().filter(function (rev) {
              return rev.collapsed === false;
            });
            return reversed.map(function (rev) {
              return adt$4.rtl(Element.fromDom(rev.endContainer), rev.endOffset, Element.fromDom(rev.startContainer), rev.startOffset);
            }).getOrThunk(function () {
              return fromRange(win, adt$4.ltr, rng);
            });
          } else {
            return fromRange(win, adt$4.ltr, rng);
          }
        };

        var diagnose = function diagnose(win, selection) {
          var ranges = getRanges(win, selection);
          return doDiagnose(win, ranges);
        };

        var asLtrRange = function asLtrRange(win, selection) {
          var diagnosis = diagnose(win, selection);
          return diagnosis.match({
            ltr: function ltr(start, soffset, finish, foffset) {
              var rng = win.document.createRange();
              rng.setStart(start.dom(), soffset);
              rng.setEnd(finish.dom(), foffset);
              return rng;
            },
            rtl: function rtl(start, soffset, finish, foffset) {
              var rng = win.document.createRange();
              rng.setStart(finish.dom(), foffset);
              rng.setEnd(start.dom(), soffset);
              return rng;
            }
          });
        };

        var searchForPoint = function searchForPoint(rectForOffset, x, y, maxX, length) {
          if (length === 0) {
            return 0;
          } else if (x === maxX) {
            return length - 1;
          }

          var xDelta = maxX;

          for (var i = 1; i < length; i++) {
            var rect = rectForOffset(i);
            var curDeltaX = Math.abs(x - rect.left);

            if (y <= rect.bottom) {
              if (y < rect.top || curDeltaX > xDelta) {
                return i - 1;
              } else {
                xDelta = curDeltaX;
              }
            }
          }

          return 0;
        };

        var inRect = function inRect(rect, x, y) {
          return x >= rect.left && x <= rect.right && y >= rect.top && y <= rect.bottom;
        };

        var locateOffset = function locateOffset(doc, textnode, x, y, rect) {
          var rangeForOffset = function rangeForOffset(o) {
            var r = doc.dom().createRange();
            r.setStart(textnode.dom(), o);
            r.collapse(true);
            return r;
          };

          var rectForOffset = function rectForOffset(o) {
            var r = rangeForOffset(o);
            return r.getBoundingClientRect();
          };

          var length = get$2(textnode).length;
          var offset = searchForPoint(rectForOffset, x, y, rect.right, length);
          return rangeForOffset(offset);
        };

        var locate = function locate(doc, node, x, y) {
          var r = doc.dom().createRange();
          r.selectNode(node.dom());
          var rects = r.getClientRects();
          var foundRect = findMap(rects, function (rect) {
            return inRect(rect, x, y) ? Option.some(rect) : Option.none();
          });
          return foundRect.map(function (rect) {
            return locateOffset(doc, node, x, y, rect);
          });
        };

        var searchInChildren = function searchInChildren(doc, node, x, y) {
          var r = doc.dom().createRange();
          var nodes = children(node);
          return findMap(nodes, function (n) {
            r.selectNode(n.dom());
            return inRect(r.getBoundingClientRect(), x, y) ? locateNode(doc, n, x, y) : Option.none();
          });
        };

        var locateNode = function locateNode(doc, node, x, y) {
          var locator = isText(node) ? locate : searchInChildren;
          return locator(doc, node, x, y);
        };

        var locate$1 = function locate$1(doc, node, x, y) {
          var r = doc.dom().createRange();
          r.selectNode(node.dom());
          var rect = r.getBoundingClientRect();
          var boundedX = Math.max(rect.left, Math.min(rect.right, x));
          var boundedY = Math.max(rect.top, Math.min(rect.bottom, y));
          return locateNode(doc, node, boundedX, boundedY);
        };

        var COLLAPSE_TO_LEFT = true;
        var COLLAPSE_TO_RIGHT = false;

        var getCollapseDirection = function getCollapseDirection(rect, x) {
          return x - rect.left < rect.right - x ? COLLAPSE_TO_LEFT : COLLAPSE_TO_RIGHT;
        };

        var createCollapsedNode = function createCollapsedNode(doc, target, collapseDirection) {
          var r = doc.dom().createRange();
          r.selectNode(target.dom());
          r.collapse(collapseDirection);
          return r;
        };

        var locateInElement = function locateInElement(doc, node, x) {
          var cursorRange = doc.dom().createRange();
          cursorRange.selectNode(node.dom());
          var rect = cursorRange.getBoundingClientRect();
          var collapseDirection = getCollapseDirection(rect, x);
          var f = collapseDirection === COLLAPSE_TO_LEFT ? first : last$1;
          return f(node).map(function (target) {
            return createCollapsedNode(doc, target, collapseDirection);
          });
        };

        var locateInEmpty = function locateInEmpty(doc, node, x) {
          var rect = node.dom().getBoundingClientRect();
          var collapseDirection = getCollapseDirection(rect, x);
          return Option.some(createCollapsedNode(doc, node, collapseDirection));
        };

        var search = function search(doc, node, x) {
          var f = children(node).length === 0 ? locateInEmpty : locateInElement;
          return f(doc, node, x);
        };

        var caretPositionFromPoint = function caretPositionFromPoint(doc, x, y) {
          return Option.from(doc.dom().caretPositionFromPoint(x, y)).bind(function (pos) {
            if (pos.offsetNode === null) {
              return Option.none();
            }

            var r = doc.dom().createRange();
            r.setStart(pos.offsetNode, pos.offset);
            r.collapse();
            return Option.some(r);
          });
        };

        var caretRangeFromPoint = function caretRangeFromPoint(doc, x, y) {
          return Option.from(doc.dom().caretRangeFromPoint(x, y));
        };

        var searchTextNodes = function searchTextNodes(doc, node, x, y) {
          var r = doc.dom().createRange();
          r.selectNode(node.dom());
          var rect = r.getBoundingClientRect();
          var boundedX = Math.max(rect.left, Math.min(rect.right, x));
          var boundedY = Math.max(rect.top, Math.min(rect.bottom, y));
          return locate$1(doc, node, boundedX, boundedY);
        };

        var searchFromPoint = function searchFromPoint(doc, x, y) {
          return Element.fromPoint(doc, x, y).bind(function (elem) {
            var fallback = function fallback() {
              return search(doc, elem, x);
            };

            return children(elem).length === 0 ? fallback() : searchTextNodes(doc, elem, x, y).orThunk(fallback);
          });
        };

        var availableSearch = document.caretPositionFromPoint ? caretPositionFromPoint : document.caretRangeFromPoint ? caretRangeFromPoint : searchFromPoint;

        var fromPoint$1 = function fromPoint$1(win, x, y) {
          var doc = Element.fromDom(win.document);
          return availableSearch(doc, x, y).map(function (rng) {
            return SimRange.create(Element.fromDom(rng.startContainer), rng.startOffset, Element.fromDom(rng.endContainer), rng.endOffset);
          });
        };

        var beforeSpecial = function beforeSpecial(element, offset) {
          var name$1 = name(element);

          if ('input' === name$1) {
            return Situ.after(element);
          } else if (!contains(['br', 'img'], name$1)) {
            return Situ.on(element, offset);
          } else {
            return offset === 0 ? Situ.before(element) : Situ.after(element);
          }
        };

        var preprocessRelative = function preprocessRelative(startSitu, finishSitu) {
          var start = startSitu.fold(Situ.before, beforeSpecial, Situ.after);
          var finish = finishSitu.fold(Situ.before, beforeSpecial, Situ.after);
          return Selection.relative(start, finish);
        };

        var preprocessExact = function preprocessExact(start, soffset, finish, foffset) {
          var startSitu = beforeSpecial(start, soffset);
          var finishSitu = beforeSpecial(finish, foffset);
          return Selection.relative(startSitu, finishSitu);
        };

        var preprocess = function preprocess(selection) {
          return selection.match({
            domRange: function domRange(rng) {
              var start = Element.fromDom(rng.startContainer);
              var finish = Element.fromDom(rng.endContainer);
              return preprocessExact(start, rng.startOffset, finish, rng.endOffset);
            },
            relative: preprocessRelative,
            exact: preprocessExact
          });
        };

        var makeRange = function makeRange(start, soffset, finish, foffset) {
          var doc = owner(start);
          var rng = doc.dom().createRange();
          rng.setStart(start.dom(), soffset);
          rng.setEnd(finish.dom(), foffset);
          return rng;
        };

        var after$3 = function after$3(start, soffset, finish, foffset) {
          var r = makeRange(start, soffset, finish, foffset);
          var same = eq(start, finish) && soffset === foffset;
          return r.collapsed && !same;
        };

        var doSetNativeRange = function doSetNativeRange(win, rng) {
          Option.from(win.getSelection()).each(function (selection) {
            selection.removeAllRanges();
            selection.addRange(rng);
          });
        };

        var doSetRange = function doSetRange(win, start, soffset, finish, foffset) {
          var rng = exactToNative(win, start, soffset, finish, foffset);
          doSetNativeRange(win, rng);
        };

        var setLegacyRtlRange = function setLegacyRtlRange(win, selection, start, soffset, finish, foffset) {
          selection.collapse(start.dom(), soffset);
          selection.extend(finish.dom(), foffset);
        };

        var setRangeFromRelative = function setRangeFromRelative(win, relative) {
          return diagnose(win, relative).match({
            ltr: function ltr(start, soffset, finish, foffset) {
              doSetRange(win, start, soffset, finish, foffset);
            },
            rtl: function rtl(start, soffset, finish, foffset) {
              var selection = win.getSelection();

              if (selection.setBaseAndExtent) {
                selection.setBaseAndExtent(start.dom(), soffset, finish.dom(), foffset);
              } else if (selection.extend) {
                try {
                  setLegacyRtlRange(win, selection, start, soffset, finish, foffset);
                } catch (e) {
                  doSetRange(win, finish, foffset, start, soffset);
                }
              } else {
                doSetRange(win, finish, foffset, start, soffset);
              }
            }
          });
        };

        var setExact = function setExact(win, start, soffset, finish, foffset) {
          var relative = preprocessExact(start, soffset, finish, foffset);
          setRangeFromRelative(win, relative);
        };

        var setRelative = function setRelative(win, startSitu, finishSitu) {
          var relative = preprocessRelative(startSitu, finishSitu);
          setRangeFromRelative(win, relative);
        };

        var toNative = function toNative(selection) {
          var win = Selection.getWin(selection).dom();

          var getDomRange = function getDomRange(start, soffset, finish, foffset) {
            return exactToNative(win, start, soffset, finish, foffset);
          };

          var filtered = preprocess(selection);
          return diagnose(win, filtered).match({
            ltr: getDomRange,
            rtl: getDomRange
          });
        };

        var readRange = function readRange(selection) {
          if (selection.rangeCount > 0) {
            var firstRng = selection.getRangeAt(0);
            var lastRng = selection.getRangeAt(selection.rangeCount - 1);
            return Option.some(SimRange.create(Element.fromDom(firstRng.startContainer), firstRng.startOffset, Element.fromDom(lastRng.endContainer), lastRng.endOffset));
          } else {
            return Option.none();
          }
        };

        var doGetExact = function doGetExact(selection) {
          var anchor = Element.fromDom(selection.anchorNode);
          var focus = Element.fromDom(selection.focusNode);
          return after$3(anchor, selection.anchorOffset, focus, selection.focusOffset) ? Option.some(SimRange.create(anchor, selection.anchorOffset, focus, selection.focusOffset)) : readRange(selection);
        };

        var setToElement = function setToElement(win, element) {
          var rng = selectNodeContents(win, element);
          doSetNativeRange(win, rng);
        };

        var getExact = function getExact(win) {
          return Option.from(win.getSelection()).filter(function (sel) {
            return sel.rangeCount > 0;
          }).bind(doGetExact);
        };

        var get$9 = function get$9(win) {
          return getExact(win).map(function (range) {
            return Selection.exact(range.start(), range.soffset(), range.finish(), range.foffset());
          });
        };

        var getFirstRect$1 = function getFirstRect$1(win, selection) {
          var rng = asLtrRange(win, selection);
          return getFirstRect(rng);
        };

        var getAtPoint = function getAtPoint(win, x, y) {
          return fromPoint$1(win, x, y);
        };

        var clear = function clear(win) {
          var selection = win.getSelection();
          selection.removeAllRanges();
        };

        var global$3 = tinymce.util.Tools.resolve('tinymce.util.VK');

        var forward = function forward(editor, isRoot, cell, lazyWire) {
          return go(editor, isRoot, CellNavigation.next(cell), lazyWire);
        };

        var backward = function backward(editor, isRoot, cell, lazyWire) {
          return go(editor, isRoot, CellNavigation.prev(cell), lazyWire);
        };

        var getCellFirstCursorPosition = function getCellFirstCursorPosition(editor, cell) {
          var selection = Selection.exact(cell, 0, cell, 0);
          return toNative(selection);
        };

        var getNewRowCursorPosition = function getNewRowCursorPosition(editor, table) {
          var rows = descendants$1(table, 'tr');
          return last(rows).bind(function (last) {
            return descendant$1(last, 'td,th').map(function (first) {
              return getCellFirstCursorPosition(editor, first);
            });
          });
        };

        var go = function go(editor, isRoot, cell, actions, lazyWire) {
          return cell.fold(Option.none, Option.none, function (current, next) {
            return first(next).map(function (cell) {
              return getCellFirstCursorPosition(editor, cell);
            });
          }, function (current) {
            return TableLookup.table(current, isRoot).bind(function (table) {
              var targets = TableTargets.noMenu(current);
              editor.undoManager.transact(function () {
                actions.insertRowsAfter(table, targets);
              });
              return getNewRowCursorPosition(editor, table);
            });
          });
        };

        var rootElements = ['table', 'li', 'dl'];

        var handle$1 = function handle$1(event, editor, actions, lazyWire) {
          if (event.keyCode === global$3.TAB) {
            var body_1 = getBody$1(editor);

            var isRoot_1 = function isRoot_1(element) {
              var name$1 = name(element);
              return eq(element, body_1) || contains(rootElements, name$1);
            };

            var rng = editor.selection.getRng();

            if (rng.collapsed) {
              var start = Element.fromDom(rng.startContainer);
              TableLookup.cell(start, isRoot_1).each(function (cell) {
                event.preventDefault();
                var navigation = event.shiftKey ? backward : forward;
                var rng = navigation(editor, isRoot_1, cell, actions, lazyWire);
                rng.each(function (range) {
                  editor.selection.setRng(range);
                });
              });
            }
          }
        };

        var TabContext = {
          handle: handle$1
        };
        var create$3 = Immutable('selection', 'kill');
        var Response = {
          create: create$3
        };

        var create$4 = function create$4(start, soffset, finish, foffset) {
          return {
            start: constant(Situ.on(start, soffset)),
            finish: constant(Situ.on(finish, foffset))
          };
        };

        var Situs = {
          create: create$4
        };

        var convertToRange = function convertToRange(win, selection) {
          var rng = asLtrRange(win, selection);
          return SimRange.create(Element.fromDom(rng.startContainer), rng.startOffset, Element.fromDom(rng.endContainer), rng.endOffset);
        };

        var makeSitus = Situs.create;
        var Util = {
          convertToRange: convertToRange,
          makeSitus: makeSitus
        };

        var sync = function sync(container, isRoot, start, soffset, finish, foffset, selectRange) {
          if (!(eq(start, finish) && soffset === foffset)) {
            return closest$1(start, 'td,th', isRoot).bind(function (s) {
              return closest$1(finish, 'td,th', isRoot).bind(function (f) {
                return detect$5(container, isRoot, s, f, selectRange);
              });
            });
          } else {
            return Option.none();
          }
        };

        var detect$5 = function detect$5(container, isRoot, start, finish, selectRange) {
          if (!eq(start, finish)) {
            return CellSelection.identify(start, finish, isRoot).bind(function (cellSel) {
              var boxes = cellSel.boxes().getOr([]);

              if (boxes.length > 0) {
                selectRange(container, boxes, cellSel.start(), cellSel.finish());
                return Option.some(Response.create(Option.some(Util.makeSitus(start, 0, start, getEnd(start))), true));
              } else {
                return Option.none();
              }
            });
          } else {
            return Option.none();
          }
        };

        var update = function update(rows, columns, container, selected, annotations) {
          var updateSelection = function updateSelection(newSels) {
            annotations.clear(container);
            annotations.selectRange(container, newSels.boxes(), newSels.start(), newSels.finish());
            return newSels.boxes();
          };

          return CellSelection.shiftSelection(selected, rows, columns, annotations.firstSelectedSelector(), annotations.lastSelectedSelector()).map(updateSelection);
        };

        var KeySelection = {
          sync: sync,
          detect: detect$5,
          update: update
        };
        var traverse = Immutable('item', 'mode');

        var backtrack = function backtrack(universe, item, _direction, transition) {
          if (transition === void 0) {
            transition = sidestep;
          }

          return universe.property().parent(item).map(function (p) {
            return traverse(p, transition);
          });
        };

        var sidestep = function sidestep(universe, item, direction, transition) {
          if (transition === void 0) {
            transition = advance;
          }

          return direction.sibling(universe, item).map(function (p) {
            return traverse(p, transition);
          });
        };

        var advance = function advance(universe, item, direction, transition) {
          if (transition === void 0) {
            transition = advance;
          }

          var children = universe.property().children(item);
          var result = direction.first(children);
          return result.map(function (r) {
            return traverse(r, transition);
          });
        };

        var successors = [{
          current: backtrack,
          next: sidestep,
          fallback: Option.none()
        }, {
          current: sidestep,
          next: advance,
          fallback: Option.some(backtrack)
        }, {
          current: advance,
          next: advance,
          fallback: Option.some(sidestep)
        }];

        var go$1 = function go$1(universe, item, mode, direction, rules) {
          if (rules === void 0) {
            rules = successors;
          }

          var ruleOpt = find(rules, function (succ) {
            return succ.current === mode;
          });
          return ruleOpt.bind(function (rule) {
            return rule.current(universe, item, direction, rule.next).orThunk(function () {
              return rule.fallback.bind(function (fb) {
                return go$1(universe, item, fb, direction);
              });
            });
          });
        };

        var left = function left() {
          var sibling = function sibling(universe, item) {
            return universe.query().prevSibling(item);
          };

          var first = function first(children) {
            return children.length > 0 ? Option.some(children[children.length - 1]) : Option.none();
          };

          return {
            sibling: sibling,
            first: first
          };
        };

        var right = function right() {
          var sibling = function sibling(universe, item) {
            return universe.query().nextSibling(item);
          };

          var first = function first(children) {
            return children.length > 0 ? Option.some(children[0]) : Option.none();
          };

          return {
            sibling: sibling,
            first: first
          };
        };

        var Walkers = {
          left: left,
          right: right
        };

        var hone = function hone(universe, item, predicate, mode, direction, isRoot) {
          var next = go$1(universe, item, mode, direction);
          return next.bind(function (n) {
            if (isRoot(n.item())) return Option.none();else return predicate(n.item()) ? Option.some(n.item()) : hone(universe, n.item(), predicate, n.mode(), direction, isRoot);
          });
        };

        var left$1 = function left$1(universe, item, predicate, isRoot) {
          return hone(universe, item, predicate, sidestep, Walkers.left(), isRoot);
        };

        var right$1 = function right$1(universe, item, predicate, isRoot) {
          return hone(universe, item, predicate, sidestep, Walkers.right(), isRoot);
        };

        var isLeaf = function isLeaf(universe) {
          return function (element) {
            return universe.property().children(element).length === 0;
          };
        };

        var before$3 = function before$3(universe, item, isRoot) {
          return seekLeft(universe, item, isLeaf(universe), isRoot);
        };

        var after$4 = function after$4(universe, item, isRoot) {
          return seekRight(universe, item, isLeaf(universe), isRoot);
        };

        var seekLeft = left$1;
        var seekRight = right$1;
        var universe$2 = DomUniverse();

        var before$4 = function before$4(element, isRoot) {
          return before$3(universe$2, element, isRoot);
        };

        var after$5 = function after$5(element, isRoot) {
          return after$4(universe$2, element, isRoot);
        };

        var seekLeft$1 = function seekLeft$1(element, predicate, isRoot) {
          return seekLeft(universe$2, element, predicate, isRoot);
        };

        var seekRight$1 = function seekRight$1(element, predicate, isRoot) {
          return seekRight(universe$2, element, predicate, isRoot);
        };

        var ancestor$2 = function ancestor$2(scope, predicate, isRoot) {
          return ancestor(scope, predicate, isRoot).isSome();
        };

        var point = Immutable('element', 'offset');
        var delta = Immutable('element', 'deltaOffset');
        var range$2 = Immutable('element', 'start', 'finish');
        var points = Immutable('begin', 'end');
        var text = Immutable('element', 'text');
        var adt$5 = Adt.generate([{
          none: ['message']
        }, {
          success: []
        }, {
          failedUp: ['cell']
        }, {
          failedDown: ['cell']
        }]);

        var isOverlapping = function isOverlapping(bridge, before, after) {
          var beforeBounds = bridge.getRect(before);
          var afterBounds = bridge.getRect(after);
          return afterBounds.right > beforeBounds.left && afterBounds.left < beforeBounds.right;
        };

        var isRow = function isRow(elem) {
          return closest$1(elem, 'tr');
        };

        var verify = function verify(bridge, before, beforeOffset, after, afterOffset, failure, isRoot) {
          return closest$1(after, 'td,th', isRoot).bind(function (afterCell) {
            return closest$1(before, 'td,th', isRoot).map(function (beforeCell) {
              if (!eq(afterCell, beforeCell)) {
                return DomParent.sharedOne(isRow, [afterCell, beforeCell]).fold(function () {
                  return isOverlapping(bridge, beforeCell, afterCell) ? adt$5.success() : failure(beforeCell);
                }, function (_sharedRow) {
                  return failure(beforeCell);
                });
              } else {
                return eq(after, afterCell) && getEnd(afterCell) === afterOffset ? failure(beforeCell) : adt$5.none('in same cell');
              }
            });
          }).getOr(adt$5.none('default'));
        };

        var cata$2 = function cata$2(subject, onNone, onSuccess, onFailedUp, onFailedDown) {
          return subject.fold(onNone, onSuccess, onFailedUp, onFailedDown);
        };

        var BeforeAfter = _assign({}, adt$5, {
          verify: verify,
          cata: cata$2
        });

        var inAncestor = Immutable('ancestor', 'descendants', 'element', 'index');
        var inParent = Immutable('parent', 'children', 'element', 'index');

        var indexInParent = function indexInParent(element) {
          return parent(element).bind(function (parent) {
            var children$1 = children(parent);
            return indexOf(children$1, element).map(function (index) {
              return inParent(parent, children$1, element, index);
            });
          });
        };

        var indexOf = function indexOf(elements, element) {
          return findIndex(elements, curry(eq, element));
        };

        var isBr = function isBr(elem) {
          return name(elem) === 'br';
        };

        var gatherer = function gatherer(cand, gather, isRoot) {
          return gather(cand, isRoot).bind(function (target) {
            return isText(target) && get$2(target).trim().length === 0 ? gatherer(target, gather, isRoot) : Option.some(target);
          });
        };

        var handleBr = function handleBr(isRoot, element, direction) {
          return direction.traverse(element).orThunk(function () {
            return gatherer(element, direction.gather, isRoot);
          }).map(direction.relative);
        };

        var findBr = function findBr(element, offset) {
          return child(element, offset).filter(isBr).orThunk(function () {
            return child(element, offset - 1).filter(isBr);
          });
        };

        var handleParent = function handleParent(isRoot, element, offset, direction) {
          return findBr(element, offset).bind(function (br) {
            return direction.traverse(br).fold(function () {
              return gatherer(br, direction.gather, isRoot).map(direction.relative);
            }, function (adjacent) {
              return indexInParent(adjacent).map(function (info) {
                return Situ.on(info.parent(), info.index());
              });
            });
          });
        };

        var tryBr = function tryBr(isRoot, element, offset, direction) {
          var target = isBr(element) ? handleBr(isRoot, element, direction) : handleParent(isRoot, element, offset, direction);
          return target.map(function (tgt) {
            return {
              start: constant(tgt),
              finish: constant(tgt)
            };
          });
        };

        var process = function process(analysis) {
          return BeforeAfter.cata(analysis, function (message) {
            return Option.none();
          }, function () {
            return Option.none();
          }, function (cell) {
            return Option.some(point(cell, 0));
          }, function (cell) {
            return Option.some(point(cell, getEnd(cell)));
          });
        };

        var BrTags = {
          tryBr: tryBr,
          process: process
        };
        var nu$3 = MixedBag(['left', 'top', 'right', 'bottom'], []);

        var moveDown = function moveDown(caret, amount) {
          return nu$3({
            left: caret.left(),
            top: caret.top() + amount,
            right: caret.right(),
            bottom: caret.bottom() + amount
          });
        };

        var moveUp = function moveUp(caret, amount) {
          return nu$3({
            left: caret.left(),
            top: caret.top() - amount,
            right: caret.right(),
            bottom: caret.bottom() - amount
          });
        };

        var moveBottomTo = function moveBottomTo(caret, bottom) {
          var height = caret.bottom() - caret.top();
          return nu$3({
            left: caret.left(),
            top: bottom - height,
            right: caret.right(),
            bottom: bottom
          });
        };

        var moveTopTo = function moveTopTo(caret, top) {
          var height = caret.bottom() - caret.top();
          return nu$3({
            left: caret.left(),
            top: top,
            right: caret.right(),
            bottom: top + height
          });
        };

        var translate = function translate(caret, xDelta, yDelta) {
          return nu$3({
            left: caret.left() + xDelta,
            top: caret.top() + yDelta,
            right: caret.right() + xDelta,
            bottom: caret.bottom() + yDelta
          });
        };

        var getTop$1 = function getTop$1(caret) {
          return caret.top();
        };

        var getBottom = function getBottom(caret) {
          return caret.bottom();
        };

        var toString = function toString(caret) {
          return '(' + caret.left() + ', ' + caret.top() + ') -> (' + caret.right() + ', ' + caret.bottom() + ')';
        };

        var Carets = {
          nu: nu$3,
          moveUp: moveUp,
          moveDown: moveDown,
          moveBottomTo: moveBottomTo,
          moveTopTo: moveTopTo,
          getTop: getTop$1,
          getBottom: getBottom,
          translate: translate,
          toString: toString
        };

        var getPartialBox = function getPartialBox(bridge, element, offset) {
          if (offset >= 0 && offset < getEnd(element)) {
            return bridge.getRangedRect(element, offset, element, offset + 1);
          } else if (offset > 0) {
            return bridge.getRangedRect(element, offset - 1, element, offset);
          }

          return Option.none();
        };

        var toCaret = function toCaret(rect) {
          return Carets.nu({
            left: rect.left,
            top: rect.top,
            right: rect.right,
            bottom: rect.bottom
          });
        };

        var getElemBox = function getElemBox(bridge, element) {
          return Option.some(bridge.getRect(element));
        };

        var getBoxAt = function getBoxAt(bridge, element, offset) {
          if (isElement(element)) {
            return getElemBox(bridge, element).map(toCaret);
          } else if (isText(element)) {
            return getPartialBox(bridge, element, offset).map(toCaret);
          } else {
            return Option.none();
          }
        };

        var getEntireBox = function getEntireBox(bridge, element) {
          if (isElement(element)) {
            return getElemBox(bridge, element).map(toCaret);
          } else if (isText(element)) {
            return bridge.getRangedRect(element, 0, element, getEnd(element)).map(toCaret);
          } else {
            return Option.none();
          }
        };

        var Rectangles = {
          getBoxAt: getBoxAt,
          getEntireBox: getEntireBox
        };
        var JUMP_SIZE = 5;
        var NUM_RETRIES = 100;
        var adt$6 = Adt.generate([{
          none: []
        }, {
          retry: ['caret']
        }]);

        var isOutside = function isOutside(caret, box) {
          return caret.left() < box.left() || Math.abs(box.right() - caret.left()) < 1 || caret.left() > box.right();
        };

        var inOutsideBlock = function inOutsideBlock(bridge, element, caret) {
          return closest(element, DomStructure.isBlock).fold(constant(false), function (cell) {
            return Rectangles.getEntireBox(bridge, cell).exists(function (box) {
              return isOutside(caret, box);
            });
          });
        };

        var adjustDown = function adjustDown(bridge, element, guessBox, original, caret) {
          var lowerCaret = Carets.moveDown(caret, JUMP_SIZE);

          if (Math.abs(guessBox.bottom() - original.bottom()) < 1) {
            return adt$6.retry(lowerCaret);
          } else if (guessBox.top() > caret.bottom()) {
            return adt$6.retry(lowerCaret);
          } else if (guessBox.top() === caret.bottom()) {
            return adt$6.retry(Carets.moveDown(caret, 1));
          } else {
            return inOutsideBlock(bridge, element, caret) ? adt$6.retry(Carets.translate(lowerCaret, JUMP_SIZE, 0)) : adt$6.none();
          }
        };

        var adjustUp = function adjustUp(bridge, element, guessBox, original, caret) {
          var higherCaret = Carets.moveUp(caret, JUMP_SIZE);

          if (Math.abs(guessBox.top() - original.top()) < 1) {
            return adt$6.retry(higherCaret);
          } else if (guessBox.bottom() < caret.top()) {
            return adt$6.retry(higherCaret);
          } else if (guessBox.bottom() === caret.top()) {
            return adt$6.retry(Carets.moveUp(caret, 1));
          } else {
            return inOutsideBlock(bridge, element, caret) ? adt$6.retry(Carets.translate(higherCaret, JUMP_SIZE, 0)) : adt$6.none();
          }
        };

        var upMovement = {
          point: Carets.getTop,
          adjuster: adjustUp,
          move: Carets.moveUp,
          gather: before$4
        };
        var downMovement = {
          point: Carets.getBottom,
          adjuster: adjustDown,
          move: Carets.moveDown,
          gather: after$5
        };

        var isAtTable = function isAtTable(bridge, x, y) {
          return bridge.elementFromPoint(x, y).filter(function (elm) {
            return name(elm) === 'table';
          }).isSome();
        };

        var adjustForTable = function adjustForTable(bridge, movement, original, caret, numRetries) {
          return adjustTil(bridge, movement, original, movement.move(caret, JUMP_SIZE), numRetries);
        };

        var adjustTil = function adjustTil(bridge, movement, original, caret, numRetries) {
          if (numRetries === 0) {
            return Option.some(caret);
          }

          if (isAtTable(bridge, caret.left(), movement.point(caret))) {
            return adjustForTable(bridge, movement, original, caret, numRetries - 1);
          }

          return bridge.situsFromPoint(caret.left(), movement.point(caret)).bind(function (guess) {
            return guess.start().fold(Option.none, function (element) {
              return Rectangles.getEntireBox(bridge, element).bind(function (guessBox) {
                return movement.adjuster(bridge, element, guessBox, original, caret).fold(Option.none, function (newCaret) {
                  return adjustTil(bridge, movement, original, newCaret, numRetries - 1);
                });
              }).orThunk(function () {
                return Option.some(caret);
              });
            }, Option.none);
          });
        };

        var ieTryDown = function ieTryDown(bridge, caret) {
          return bridge.situsFromPoint(caret.left(), caret.bottom() + JUMP_SIZE);
        };

        var ieTryUp = function ieTryUp(bridge, caret) {
          return bridge.situsFromPoint(caret.left(), caret.top() - JUMP_SIZE);
        };

        var checkScroll = function checkScroll(movement, adjusted, bridge) {
          if (movement.point(adjusted) > bridge.getInnerHeight()) {
            return Option.some(movement.point(adjusted) - bridge.getInnerHeight());
          } else if (movement.point(adjusted) < 0) {
            return Option.some(-movement.point(adjusted));
          } else {
            return Option.none();
          }
        };

        var retry = function retry(movement, bridge, caret) {
          var moved = movement.move(caret, JUMP_SIZE);
          var adjusted = adjustTil(bridge, movement, caret, moved, NUM_RETRIES).getOr(moved);
          return checkScroll(movement, adjusted, bridge).fold(function () {
            return bridge.situsFromPoint(adjusted.left(), movement.point(adjusted));
          }, function (delta) {
            bridge.scrollBy(0, delta);
            return bridge.situsFromPoint(adjusted.left(), movement.point(adjusted) - delta);
          });
        };

        var Retries = {
          tryUp: curry(retry, upMovement),
          tryDown: curry(retry, downMovement),
          ieTryUp: ieTryUp,
          ieTryDown: ieTryDown,
          getJumpSize: constant(JUMP_SIZE)
        };
        var MAX_RETRIES = 20;
        var platform$1 = PlatformDetection$1.detect();

        var findSpot = function findSpot(bridge, isRoot, direction) {
          return bridge.getSelection().bind(function (sel) {
            return BrTags.tryBr(isRoot, sel.finish(), sel.foffset(), direction).fold(function () {
              return Option.some(point(sel.finish(), sel.foffset()));
            }, function (brNeighbour) {
              var range = bridge.fromSitus(brNeighbour);
              var analysis = BeforeAfter.verify(bridge, sel.finish(), sel.foffset(), range.finish(), range.foffset(), direction.failure, isRoot);
              return BrTags.process(analysis);
            });
          });
        };

        var scan = function scan(bridge, isRoot, element, offset, direction, numRetries) {
          if (numRetries === 0) {
            return Option.none();
          }

          return tryCursor(bridge, isRoot, element, offset, direction).bind(function (situs) {
            var range = bridge.fromSitus(situs);
            var analysis = BeforeAfter.verify(bridge, element, offset, range.finish(), range.foffset(), direction.failure, isRoot);
            return BeforeAfter.cata(analysis, function () {
              return Option.none();
            }, function () {
              return Option.some(situs);
            }, function (cell) {
              if (eq(element, cell) && offset === 0) {
                return tryAgain(bridge, element, offset, Carets.moveUp, direction);
              } else {
                return scan(bridge, isRoot, cell, 0, direction, numRetries - 1);
              }
            }, function (cell) {
              if (eq(element, cell) && offset === getEnd(cell)) {
                return tryAgain(bridge, element, offset, Carets.moveDown, direction);
              } else {
                return scan(bridge, isRoot, cell, getEnd(cell), direction, numRetries - 1);
              }
            });
          });
        };

        var tryAgain = function tryAgain(bridge, element, offset, move, direction) {
          return Rectangles.getBoxAt(bridge, element, offset).bind(function (box) {
            return tryAt(bridge, direction, move(box, Retries.getJumpSize()));
          });
        };

        var tryAt = function tryAt(bridge, direction, box) {
          if (platform$1.browser.isChrome() || platform$1.browser.isSafari() || platform$1.browser.isFirefox() || platform$1.browser.isEdge()) {
            return direction.otherRetry(bridge, box);
          } else if (platform$1.browser.isIE()) {
            return direction.ieRetry(bridge, box);
          } else {
            return Option.none();
          }
        };

        var tryCursor = function tryCursor(bridge, isRoot, element, offset, direction) {
          return Rectangles.getBoxAt(bridge, element, offset).bind(function (box) {
            return tryAt(bridge, direction, box);
          });
        };

        var handle$2 = function handle$2(bridge, isRoot, direction) {
          return findSpot(bridge, isRoot, direction).bind(function (spot) {
            return scan(bridge, isRoot, spot.element(), spot.offset(), direction, MAX_RETRIES).map(bridge.fromSitus);
          });
        };

        var TableKeys = {
          handle: handle$2
        };
        var detection = PlatformDetection$1.detect();

        var inSameTable = function inSameTable(elem, table) {
          return ancestor$2(elem, function (e) {
            return parent(e).exists(function (p) {
              return eq(p, table);
            });
          });
        };

        var simulate = function simulate(bridge, isRoot, direction, initial, anchor) {
          return closest$1(initial, 'td,th', isRoot).bind(function (start) {
            return closest$1(start, 'table', isRoot).bind(function (table) {
              if (!inSameTable(anchor, table)) {
                return Option.none();
              }

              return TableKeys.handle(bridge, isRoot, direction).bind(function (range) {
                return closest$1(range.finish(), 'td,th', isRoot).map(function (finish) {
                  return {
                    start: constant(start),
                    finish: constant(finish),
                    range: constant(range)
                  };
                });
              });
            });
          });
        };

        var navigate = function navigate(bridge, isRoot, direction, initial, anchor, precheck) {
          if (detection.browser.isIE()) {
            return Option.none();
          } else {
            return precheck(initial, isRoot).orThunk(function () {
              return simulate(bridge, isRoot, direction, initial, anchor).map(function (info) {
                var range = info.range();
                return Response.create(Option.some(Util.makeSitus(range.start(), range.soffset(), range.finish(), range.foffset())), true);
              });
            });
          }
        };

        var firstUpCheck = function firstUpCheck(initial, isRoot) {
          return closest$1(initial, 'tr', isRoot).bind(function (startRow) {
            return closest$1(startRow, 'table', isRoot).bind(function (table) {
              var rows = descendants$1(table, 'tr');

              if (eq(startRow, rows[0])) {
                return seekLeft$1(table, function (element) {
                  return last$1(element).isSome();
                }, isRoot).map(function (last) {
                  var lastOffset = getEnd(last);
                  return Response.create(Option.some(Util.makeSitus(last, lastOffset, last, lastOffset)), true);
                });
              } else {
                return Option.none();
              }
            });
          });
        };

        var lastDownCheck = function lastDownCheck(initial, isRoot) {
          return closest$1(initial, 'tr', isRoot).bind(function (startRow) {
            return closest$1(startRow, 'table', isRoot).bind(function (table) {
              var rows = descendants$1(table, 'tr');

              if (eq(startRow, rows[rows.length - 1])) {
                return seekRight$1(table, function (element) {
                  return first(element).isSome();
                }, isRoot).map(function (first) {
                  return Response.create(Option.some(Util.makeSitus(first, 0, first, 0)), true);
                });
              } else {
                return Option.none();
              }
            });
          });
        };

        var select = function select(bridge, container, isRoot, direction, initial, anchor, selectRange) {
          return simulate(bridge, isRoot, direction, initial, anchor).bind(function (info) {
            return KeySelection.detect(container, isRoot, info.start(), info.finish(), selectRange);
          });
        };

        var VerticalMovement = {
          navigate: navigate,
          select: select,
          firstUpCheck: firstUpCheck,
          lastDownCheck: lastDownCheck
        };

        var findCell = function findCell(target, isRoot) {
          return closest$1(target, 'td,th', isRoot);
        };

        function MouseSelection(bridge, container, isRoot, annotations) {
          var cursor = Option.none();

          var clearState = function clearState() {
            cursor = Option.none();
          };

          var mousedown = function mousedown(event) {
            annotations.clear(container);
            cursor = findCell(event.target(), isRoot);
          };

          var mouseover = function mouseover(event) {
            cursor.each(function (start) {
              annotations.clear(container);
              findCell(event.target(), isRoot).each(function (finish) {
                CellSelection.identify(start, finish, isRoot).each(function (cellSel) {
                  var boxes = cellSel.boxes().getOr([]);

                  if (boxes.length > 1 || boxes.length === 1 && !eq(start, finish)) {
                    annotations.selectRange(container, boxes, cellSel.start(), cellSel.finish());
                    bridge.selectContents(finish);
                  }
                });
              });
            });
          };

          var mouseup = function mouseup(_event) {
            cursor.each(clearState);
          };

          return {
            mousedown: mousedown,
            mouseover: mouseover,
            mouseup: mouseup
          };
        }

        var down = {
          traverse: nextSibling,
          gather: after$5,
          relative: Situ.before,
          otherRetry: Retries.tryDown,
          ieRetry: Retries.ieTryDown,
          failure: BeforeAfter.failedDown
        };
        var up = {
          traverse: prevSibling,
          gather: before$4,
          relative: Situ.before,
          otherRetry: Retries.tryUp,
          ieRetry: Retries.ieTryUp,
          failure: BeforeAfter.failedUp
        };
        var KeyDirection = {
          down: down,
          up: up
        };

        var isKey = function isKey(key) {
          return function (keycode) {
            return keycode === key;
          };
        };

        var isUp = isKey(38);
        var isDown = isKey(40);

        var isNavigation = function isNavigation(keycode) {
          return keycode >= 37 && keycode <= 40;
        };

        var SelectionKeys = {
          ltr: {
            isBackward: isKey(37),
            isForward: isKey(39)
          },
          rtl: {
            isBackward: isKey(39),
            isForward: isKey(37)
          },
          isUp: isUp,
          isDown: isDown,
          isNavigation: isNavigation
        };
        var isSafari = PlatformDetection$1.detect().browser.isSafari();

        var get$a = function get$a(_DOC) {
          var doc = _DOC !== undefined ? _DOC.dom() : domGlobals.document;
          var x = doc.body.scrollLeft || doc.documentElement.scrollLeft;
          var y = doc.body.scrollTop || doc.documentElement.scrollTop;
          return Position(x, y);
        };

        var by = function by(x, y, _DOC) {
          var doc = _DOC !== undefined ? _DOC.dom() : domGlobals.document;
          var win = doc.defaultView;
          win.scrollBy(x, y);
        };

        var WindowBridge = function WindowBridge(win) {
          var elementFromPoint = function elementFromPoint(x, y) {
            return Element.fromPoint(Element.fromDom(win.document), x, y);
          };

          var getRect = function getRect(element) {
            return element.dom().getBoundingClientRect();
          };

          var getRangedRect = function getRangedRect(start, soffset, finish, foffset) {
            var sel = Selection.exact(start, soffset, finish, foffset);
            return getFirstRect$1(win, sel).map(function (structRect) {
              return map$1(structRect, apply);
            });
          };

          var getSelection = function getSelection() {
            return get$9(win).map(function (exactAdt) {
              return Util.convertToRange(win, exactAdt);
            });
          };

          var fromSitus = function fromSitus(situs) {
            var relative = Selection.relative(situs.start(), situs.finish());
            return Util.convertToRange(win, relative);
          };

          var situsFromPoint = function situsFromPoint(x, y) {
            return getAtPoint(win, x, y).map(function (exact) {
              return Situs.create(exact.start(), exact.soffset(), exact.finish(), exact.foffset());
            });
          };

          var clearSelection = function clearSelection() {
            clear(win);
          };

          var selectContents = function selectContents(element) {
            setToElement(win, element);
          };

          var setSelection = function setSelection(sel) {
            setExact(win, sel.start(), sel.soffset(), sel.finish(), sel.foffset());
          };

          var setRelativeSelection = function setRelativeSelection(start, finish) {
            setRelative(win, start, finish);
          };

          var getInnerHeight = function getInnerHeight() {
            return win.innerHeight;
          };

          var getScrollY = function getScrollY() {
            var pos = get$a(Element.fromDom(win.document));
            return pos.top();
          };

          var scrollBy = function scrollBy(x, y) {
            by(x, y, Element.fromDom(win.document));
          };

          return {
            elementFromPoint: elementFromPoint,
            getRect: getRect,
            getRangedRect: getRangedRect,
            getSelection: getSelection,
            fromSitus: fromSitus,
            situsFromPoint: situsFromPoint,
            clearSelection: clearSelection,
            setSelection: setSelection,
            setRelativeSelection: setRelativeSelection,
            selectContents: selectContents,
            getInnerHeight: getInnerHeight,
            getScrollY: getScrollY,
            scrollBy: scrollBy
          };
        };

        var rc = Immutable('rows', 'cols');

        var mouse = function mouse(win, container, isRoot, annotations) {
          var bridge = WindowBridge(win);
          var handlers = MouseSelection(bridge, container, isRoot, annotations);
          return {
            mousedown: handlers.mousedown,
            mouseover: handlers.mouseover,
            mouseup: handlers.mouseup
          };
        };

        var keyboard = function keyboard(win, container, isRoot, annotations) {
          var bridge = WindowBridge(win);

          var clearToNavigate = function clearToNavigate() {
            annotations.clear(container);
            return Option.none();
          };

          var keydown = function keydown(event, start, soffset, finish, foffset, direction) {
            var realEvent = event.raw();
            var keycode = realEvent.which;
            var shiftKey = realEvent.shiftKey === true;
            var handler = CellSelection.retrieve(container, annotations.selectedSelector()).fold(function () {
              if (SelectionKeys.isDown(keycode) && shiftKey) {
                return curry(VerticalMovement.select, bridge, container, isRoot, KeyDirection.down, finish, start, annotations.selectRange);
              } else if (SelectionKeys.isUp(keycode) && shiftKey) {
                return curry(VerticalMovement.select, bridge, container, isRoot, KeyDirection.up, finish, start, annotations.selectRange);
              } else if (SelectionKeys.isDown(keycode)) {
                return curry(VerticalMovement.navigate, bridge, isRoot, KeyDirection.down, finish, start, VerticalMovement.lastDownCheck);
              } else if (SelectionKeys.isUp(keycode)) {
                return curry(VerticalMovement.navigate, bridge, isRoot, KeyDirection.up, finish, start, VerticalMovement.firstUpCheck);
              } else {
                return Option.none;
              }
            }, function (selected) {
              var update = function update(attempts) {
                return function () {
                  var navigation = findMap(attempts, function (delta) {
                    return KeySelection.update(delta.rows(), delta.cols(), container, selected, annotations);
                  });
                  return navigation.fold(function () {
                    return CellSelection.getEdges(container, annotations.firstSelectedSelector(), annotations.lastSelectedSelector()).map(function (edges) {
                      var relative = SelectionKeys.isDown(keycode) || direction.isForward(keycode) ? Situ.after : Situ.before;
                      bridge.setRelativeSelection(Situ.on(edges.first(), 0), relative(edges.table()));
                      annotations.clear(container);
                      return Response.create(Option.none(), true);
                    });
                  }, function (_) {
                    return Option.some(Response.create(Option.none(), true));
                  });
                };
              };

              if (SelectionKeys.isDown(keycode) && shiftKey) {
                return update([rc(+1, 0)]);
              } else if (SelectionKeys.isUp(keycode) && shiftKey) {
                return update([rc(-1, 0)]);
              } else if (direction.isBackward(keycode) && shiftKey) {
                return update([rc(0, -1), rc(-1, 0)]);
              } else if (direction.isForward(keycode) && shiftKey) {
                return update([rc(0, +1), rc(+1, 0)]);
              } else if (SelectionKeys.isNavigation(keycode) && shiftKey === false) {
                return clearToNavigate;
              } else {
                return Option.none;
              }
            });
            return handler();
          };

          var keyup = function keyup(event, start, soffset, finish, foffset) {
            return CellSelection.retrieve(container, annotations.selectedSelector()).fold(function () {
              var realEvent = event.raw();
              var keycode = realEvent.which;
              var shiftKey = realEvent.shiftKey === true;

              if (shiftKey === false) {
                return Option.none();
              }

              if (SelectionKeys.isNavigation(keycode)) {
                return KeySelection.sync(container, isRoot, start, soffset, finish, foffset, annotations.selectRange);
              } else {
                return Option.none();
              }
            }, Option.none);
          };

          return {
            keydown: keydown,
            keyup: keyup
          };
        };

        var InputHandlers = {
          mouse: mouse,
          keyboard: keyboard
        };

        var remove$7 = function remove$7(element, classes) {
          each(classes, function (x) {
            remove$5(element, x);
          });
        };

        var addClass = function addClass(clazz) {
          return function (element) {
            add$2(element, clazz);
          };
        };

        var removeClasses = function removeClasses(classes) {
          return function (element) {
            remove$7(element, classes);
          };
        };

        var byClass = function byClass(ephemera) {
          var addSelectionClass = addClass(ephemera.selected());
          var removeSelectionClasses = removeClasses([ephemera.selected(), ephemera.lastSelected(), ephemera.firstSelected()]);

          var clear = function clear(container) {
            var sels = descendants$1(container, ephemera.selectedSelector());
            each(sels, removeSelectionClasses);
          };

          var selectRange = function selectRange(container, cells, start, finish) {
            clear(container);
            each(cells, addSelectionClass);
            add$2(start, ephemera.firstSelected());
            add$2(finish, ephemera.lastSelected());
          };

          return {
            clear: clear,
            selectRange: selectRange,
            selectedSelector: ephemera.selectedSelector,
            firstSelectedSelector: ephemera.firstSelectedSelector,
            lastSelectedSelector: ephemera.lastSelectedSelector
          };
        };

        var byAttr = function byAttr(ephemera) {
          var removeSelectionAttributes = function removeSelectionAttributes(element) {
            remove(element, ephemera.selected());
            remove(element, ephemera.firstSelected());
            remove(element, ephemera.lastSelected());
          };

          var addSelectionAttribute = function addSelectionAttribute(element) {
            set(element, ephemera.selected(), '1');
          };

          var clear = function clear(container) {
            var sels = descendants$1(container, ephemera.selectedSelector());
            each(sels, removeSelectionAttributes);
          };

          var selectRange = function selectRange(container, cells, start, finish) {
            clear(container);
            each(cells, addSelectionAttribute);
            set(start, ephemera.firstSelected(), '1');
            set(finish, ephemera.lastSelected(), '1');
          };

          return {
            clear: clear,
            selectRange: selectRange,
            selectedSelector: ephemera.selectedSelector,
            firstSelectedSelector: ephemera.firstSelectedSelector,
            lastSelectedSelector: ephemera.lastSelectedSelector
          };
        };

        var SelectionAnnotation = {
          byClass: byClass,
          byAttr: byAttr
        };

        var hasInternalTarget = function hasInternalTarget(e) {
          return has$1(Element.fromDom(e.target), 'ephox-snooker-resizer-bar') === false;
        };

        function CellSelection$1(editor, lazyResize) {
          var handlerStruct = MixedBag(['mousedown', 'mouseover', 'mouseup', 'keyup', 'keydown'], []);
          var handlers = Option.none();
          var annotations = SelectionAnnotation.byAttr(Ephemera);
          editor.on('init', function (e) {
            var win = editor.getWin();
            var body = getBody$1(editor);
            var isRoot = getIsRoot(editor);

            var syncSelection = function syncSelection() {
              var sel = editor.selection;
              var start = Element.fromDom(sel.getStart());
              var end = Element.fromDom(sel.getEnd());
              var shared = DomParent.sharedOne(TableLookup.table, [start, end]);
              shared.fold(function () {
                annotations.clear(body);
              }, noop);
            };

            var mouseHandlers = InputHandlers.mouse(win, body, isRoot, annotations);
            var keyHandlers = InputHandlers.keyboard(win, body, isRoot, annotations);

            var hasShiftKey = function hasShiftKey(event) {
              return event.raw().shiftKey === true;
            };

            var handleResponse = function handleResponse(event, response) {
              if (!hasShiftKey(event)) {
                return;
              }

              if (response.kill()) {
                event.kill();
              }

              response.selection().each(function (ns) {
                var relative = Selection.relative(ns.start(), ns.finish());
                var rng = asLtrRange(win, relative);
                editor.selection.setRng(rng);
              });
            };

            var keyup = function keyup(event) {
              var wrappedEvent = wrapEvent(event);

              if (wrappedEvent.raw().shiftKey && SelectionKeys.isNavigation(wrappedEvent.raw().which)) {
                var rng = editor.selection.getRng();
                var start = Element.fromDom(rng.startContainer);
                var end = Element.fromDom(rng.endContainer);
                keyHandlers.keyup(wrappedEvent, start, rng.startOffset, end, rng.endOffset).each(function (response) {
                  handleResponse(wrappedEvent, response);
                });
              }
            };

            var keydown = function keydown(event) {
              var wrappedEvent = wrapEvent(event);
              lazyResize().each(function (resize) {
                resize.hideBars();
              });
              var rng = editor.selection.getRng();
              var startContainer = Element.fromDom(editor.selection.getStart());
              var start = Element.fromDom(rng.startContainer);
              var end = Element.fromDom(rng.endContainer);
              var direction = Direction.directionAt(startContainer).isRtl() ? SelectionKeys.rtl : SelectionKeys.ltr;
              keyHandlers.keydown(wrappedEvent, start, rng.startOffset, end, rng.endOffset, direction).each(function (response) {
                handleResponse(wrappedEvent, response);
              });
              lazyResize().each(function (resize) {
                resize.showBars();
              });
            };

            var isMouseEvent = function isMouseEvent(event) {
              return event.hasOwnProperty('x') && event.hasOwnProperty('y');
            };

            var wrapEvent = function wrapEvent(event) {
              var target = Element.fromDom(event.target);

              var stop = function stop() {
                event.stopPropagation();
              };

              var prevent = function prevent() {
                event.preventDefault();
              };

              var kill = compose(prevent, stop);
              return {
                target: constant(target),
                x: constant(isMouseEvent(event) ? event.x : null),
                y: constant(isMouseEvent(event) ? event.y : null),
                stop: stop,
                prevent: prevent,
                kill: kill,
                raw: constant(event)
              };
            };

            var isLeftMouse = function isLeftMouse(raw) {
              return raw.button === 0;
            };

            var isLeftButtonPressed = function isLeftButtonPressed(raw) {
              if (raw.buttons === undefined) {
                return true;
              }

              return (raw.buttons & 1) !== 0;
            };

            var mouseDown = function mouseDown(e) {
              if (isLeftMouse(e) && hasInternalTarget(e)) {
                mouseHandlers.mousedown(wrapEvent(e));
              }
            };

            var mouseOver = function mouseOver(e) {
              if (isLeftButtonPressed(e) && hasInternalTarget(e)) {
                mouseHandlers.mouseover(wrapEvent(e));
              }
            };

            var mouseUp = function mouseUp(e) {
              if (isLeftMouse(e) && hasInternalTarget(e)) {
                mouseHandlers.mouseup(wrapEvent(e));
              }
            };

            editor.on('mousedown', mouseDown);
            editor.on('mouseover', mouseOver);
            editor.on('mouseup', mouseUp);
            editor.on('keyup', keyup);
            editor.on('keydown', keydown);
            editor.on('nodechange', syncSelection);
            handlers = Option.some(handlerStruct({
              mousedown: mouseDown,
              mouseover: mouseOver,
              mouseup: mouseUp,
              keyup: keyup,
              keydown: keydown
            }));
          });

          var destroy = function destroy() {
            handlers.each(function (handlers) {});
          };

          return {
            clear: annotations.clear,
            destroy: destroy
          };
        }

        var Selections = function Selections(editor) {
          var get = function get() {
            var body = getBody$1(editor);
            return TableSelection.retrieve(body, Ephemera.selectedSelector()).fold(function () {
              if (editor.selection.getStart() === undefined) {
                return SelectionTypes.none();
              } else {
                return SelectionTypes.single(editor.selection);
              }
            }, function (cells) {
              return SelectionTypes.multiple(cells);
            });
          };

          return {
            get: get
          };
        };

        var each$4 = global$1.each;

        var addButtons = function addButtons(editor) {
          var menuItems = [];
          each$4('inserttable tableprops deletetable | cell row column'.split(' '), function (name) {
            if (name === '|') {
              menuItems.push({
                text: '-'
              });
            } else {
              menuItems.push(editor.menuItems[name]);
            }
          });
          editor.addButton('table', {
            type: 'menubutton',
            title: 'Table',
            menu: menuItems
          });

          function cmd(command) {
            return function () {
              editor.execCommand(command);
            };
          }

          editor.addButton('tableprops', {
            title: 'Table properties',
            onclick: cmd('mceTableProps'),
            icon: 'table'
          });
          editor.addButton('tabledelete', {
            title: 'Delete table',
            onclick: cmd('mceTableDelete')
          });
          editor.addButton('tablecellprops', {
            title: 'Cell properties',
            onclick: cmd('mceTableCellProps')
          });
          editor.addButton('tablemergecells', {
            title: 'Merge cells',
            onclick: cmd('mceTableMergeCells')
          });
          editor.addButton('tablesplitcells', {
            title: 'Split cell',
            onclick: cmd('mceTableSplitCells')
          });
          editor.addButton('tableinsertrowbefore', {
            title: 'Insert row before',
            onclick: cmd('mceTableInsertRowBefore')
          });
          editor.addButton('tableinsertrowafter', {
            title: 'Insert row after',
            onclick: cmd('mceTableInsertRowAfter')
          });
          editor.addButton('tabledeleterow', {
            title: 'Delete row',
            onclick: cmd('mceTableDeleteRow')
          });
          editor.addButton('tablerowprops', {
            title: 'Row properties',
            onclick: cmd('mceTableRowProps')
          });
          editor.addButton('tablecutrow', {
            title: 'Cut row',
            onclick: cmd('mceTableCutRow')
          });
          editor.addButton('tablecopyrow', {
            title: 'Copy row',
            onclick: cmd('mceTableCopyRow')
          });
          editor.addButton('tablepasterowbefore', {
            title: 'Paste row before',
            onclick: cmd('mceTablePasteRowBefore')
          });
          editor.addButton('tablepasterowafter', {
            title: 'Paste row after',
            onclick: cmd('mceTablePasteRowAfter')
          });
          editor.addButton('tableinsertcolbefore', {
            title: 'Insert column before',
            onclick: cmd('mceTableInsertColBefore')
          });
          editor.addButton('tableinsertcolafter', {
            title: 'Insert column after',
            onclick: cmd('mceTableInsertColAfter')
          });
          editor.addButton('tabledeletecol', {
            title: 'Delete column',
            onclick: cmd('mceTableDeleteCol')
          });
        };

        var addToolbars = function addToolbars(editor) {
          var isTable = function isTable(table) {
            var selectorMatched = editor.dom.is(table, 'table') && editor.getBody().contains(table);
            return selectorMatched;
          };

          var toolbar = getToolbar(editor);

          if (toolbar.length > 0) {
            editor.addContextToolbar(isTable, toolbar.join(' '));
          }
        };

        var Buttons = {
          addButtons: addButtons,
          addToolbars: addToolbars
        };

        var addMenuItems = function addMenuItems(editor, selections) {
          var targets = Option.none();
          var tableCtrls = [];
          var cellCtrls = [];
          var mergeCtrls = [];
          var unmergeCtrls = [];

          var noTargetDisable = function noTargetDisable(ctrl) {
            ctrl.disabled(true);
          };

          var ctrlEnable = function ctrlEnable(ctrl) {
            ctrl.disabled(false);
          };

          var pushTable = function pushTable() {
            var self = this;
            tableCtrls.push(self);
            targets.fold(function () {
              noTargetDisable(self);
            }, function (targets) {
              ctrlEnable(self);
            });
          };

          var pushCell = function pushCell() {
            var self = this;
            cellCtrls.push(self);
            targets.fold(function () {
              noTargetDisable(self);
            }, function (targets) {
              ctrlEnable(self);
            });
          };

          var pushMerge = function pushMerge() {
            var self = this;
            mergeCtrls.push(self);
            targets.fold(function () {
              noTargetDisable(self);
            }, function (targets) {
              self.disabled(targets.mergable().isNone());
            });
          };

          var pushUnmerge = function pushUnmerge() {
            var self = this;
            unmergeCtrls.push(self);
            targets.fold(function () {
              noTargetDisable(self);
            }, function (targets) {
              self.disabled(targets.unmergable().isNone());
            });
          };

          var setDisabledCtrls = function setDisabledCtrls() {
            targets.fold(function () {
              each(tableCtrls, noTargetDisable);
              each(cellCtrls, noTargetDisable);
              each(mergeCtrls, noTargetDisable);
              each(unmergeCtrls, noTargetDisable);
            }, function (targets) {
              each(tableCtrls, ctrlEnable);
              each(cellCtrls, ctrlEnable);
              each(mergeCtrls, function (mergeCtrl) {
                mergeCtrl.disabled(targets.mergable().isNone());
              });
              each(unmergeCtrls, function (unmergeCtrl) {
                unmergeCtrl.disabled(targets.unmergable().isNone());
              });
            });
          };

          editor.on('init', function () {
            editor.on('nodechange', function (e) {
              var cellOpt = Option.from(editor.dom.getParent(editor.selection.getStart(), 'th,td'));
              targets = cellOpt.bind(function (cellDom) {
                var cell = Element.fromDom(cellDom);
                var table = TableLookup.table(cell);
                return table.map(function (table) {
                  return TableTargets.forMenu(selections, table, cell);
                });
              });
              setDisabledCtrls();
            });
          });

          var generateTableGrid = function generateTableGrid() {
            var html = '';
            html = '<table role="grid" class="mce-grid mce-grid-border" aria-readonly="true">';

            for (var y = 0; y < 10; y++) {
              html += '<tr>';

              for (var x = 0; x < 10; x++) {
                html += '<td role="gridcell" tabindex="-1"><a id="mcegrid' + (y * 10 + x) + '" href="#" ' + 'data-mce-x="' + x + '" data-mce-y="' + y + '"></a></td>';
              }

              html += '</tr>';
            }

            html += '</table>';
            html += '<div class="mce-text-center" role="presentation">1 x 1</div>';
            return html;
          };

          var selectGrid = function selectGrid(editor, tx, ty, control) {
            var table = control.getEl().getElementsByTagName('table')[0];
            var x, y, focusCell, cell, active;
            var rtl = control.isRtl() || control.parent().rel === 'tl-tr';
            table.nextSibling.innerHTML = tx + 1 + ' x ' + (ty + 1);

            if (rtl) {
              tx = 9 - tx;
            }

            for (y = 0; y < 10; y++) {
              for (x = 0; x < 10; x++) {
                cell = table.rows[y].childNodes[x].firstChild;
                active = (rtl ? x >= tx : x <= tx) && y <= ty;
                editor.dom.toggleClass(cell, 'mce-active', active);

                if (active) {
                  focusCell = cell;
                }
              }
            }

            return focusCell.parentNode;
          };

          var insertTable = hasTableGrid(editor) === false ? {
            text: 'Table',
            icon: 'table',
            context: 'table',
            onclick: cmd('mceInsertTable')
          } : {
            text: 'Table',
            icon: 'table',
            context: 'table',
            ariaHideMenu: true,
            onclick: function onclick(e) {
              if (e.aria) {
                this.parent().hideAll();
                e.stopImmediatePropagation();
                editor.execCommand('mceInsertTable');
              }
            },
            onshow: function onshow() {
              selectGrid(editor, 0, 0, this.menu.items()[0]);
            },
            onhide: function onhide() {
              var elements = this.menu.items()[0].getEl().getElementsByTagName('a');
              editor.dom.removeClass(elements, 'mce-active');
              editor.dom.addClass(elements[0], 'mce-active');
            },
            menu: [{
              type: 'container',
              html: generateTableGrid(),
              onPostRender: function onPostRender() {
                this.lastX = this.lastY = 0;
              },
              onmousemove: function onmousemove(e) {
                var target = e.target;
                var x, y;

                if (target.tagName.toUpperCase() === 'A') {
                  x = parseInt(target.getAttribute('data-mce-x'), 10);
                  y = parseInt(target.getAttribute('data-mce-y'), 10);

                  if (this.isRtl() || this.parent().rel === 'tl-tr') {
                    x = 9 - x;
                  }

                  if (x !== this.lastX || y !== this.lastY) {
                    selectGrid(editor, x, y, e.control);
                    this.lastX = x;
                    this.lastY = y;
                  }
                }
              },
              onclick: function onclick(e) {
                var self = this;

                if (e.target.tagName.toUpperCase() === 'A') {
                  e.preventDefault();
                  e.stopPropagation();
                  self.parent().cancel();
                  editor.undoManager.transact(function () {
                    InsertTable.insert(editor, self.lastX + 1, self.lastY + 1);
                  });
                  editor.addVisual();
                }
              }
            }]
          };

          function cmd(command) {
            return function () {
              editor.execCommand(command);
            };
          }

          var tableProperties = {
            text: 'Table properties',
            context: 'table',
            onPostRender: pushTable,
            onclick: cmd('mceTableProps')
          };
          var deleteTable = {
            text: 'Delete table',
            context: 'table',
            onPostRender: pushTable,
            cmd: 'mceTableDelete'
          };
          var row = {
            text: 'Row',
            context: 'table',
            menu: [{
              text: 'Insert row before',
              onclick: cmd('mceTableInsertRowBefore'),
              onPostRender: pushCell
            }, {
              text: 'Insert row after',
              onclick: cmd('mceTableInsertRowAfter'),
              onPostRender: pushCell
            }, {
              text: 'Delete row',
              onclick: cmd('mceTableDeleteRow'),
              onPostRender: pushCell
            }, {
              text: 'Row properties',
              onclick: cmd('mceTableRowProps'),
              onPostRender: pushCell
            }, {
              text: '-'
            }, {
              text: 'Cut row',
              onclick: cmd('mceTableCutRow'),
              onPostRender: pushCell
            }, {
              text: 'Copy row',
              onclick: cmd('mceTableCopyRow'),
              onPostRender: pushCell
            }, {
              text: 'Paste row before',
              onclick: cmd('mceTablePasteRowBefore'),
              onPostRender: pushCell
            }, {
              text: 'Paste row after',
              onclick: cmd('mceTablePasteRowAfter'),
              onPostRender: pushCell
            }]
          };
          var column = {
            text: 'Column',
            context: 'table',
            menu: [{
              text: 'Insert column before',
              onclick: cmd('mceTableInsertColBefore'),
              onPostRender: pushCell
            }, {
              text: 'Insert column after',
              onclick: cmd('mceTableInsertColAfter'),
              onPostRender: pushCell
            }, {
              text: 'Delete column',
              onclick: cmd('mceTableDeleteCol'),
              onPostRender: pushCell
            }]
          };
          var cell = {
            separator: 'before',
            text: 'Cell',
            context: 'table',
            menu: [{
              text: 'Cell properties',
              onclick: cmd('mceTableCellProps'),
              onPostRender: pushCell
            }, {
              text: 'Merge cells',
              onclick: cmd('mceTableMergeCells'),
              onPostRender: pushMerge
            }, {
              text: 'Split cell',
              onclick: cmd('mceTableSplitCells'),
              onPostRender: pushUnmerge
            }]
          };
          editor.addMenuItem('inserttable', insertTable);
          editor.addMenuItem('tableprops', tableProperties);
          editor.addMenuItem('deletetable', deleteTable);
          editor.addMenuItem('row', row);
          editor.addMenuItem('column', column);
          editor.addMenuItem('cell', cell);
        };

        var MenuItems = {
          addMenuItems: addMenuItems
        };

        var _getClipboardRows = function getClipboardRows(clipboardRows) {
          return clipboardRows.get().fold(function () {
            return;
          }, function (rows) {
            return map(rows, function (row) {
              return row.dom();
            });
          });
        };

        var _setClipboardRows = function setClipboardRows(rows, clipboardRows) {
          var sugarRows = map(rows, Element.fromDom);
          clipboardRows.set(Option.from(sugarRows));
        };

        var getApi = function getApi(editor, clipboardRows) {
          return {
            insertTable: function insertTable(columns, rows) {
              return InsertTable.insert(editor, columns, rows);
            },
            setClipboardRows: function setClipboardRows(rows) {
              return _setClipboardRows(rows, clipboardRows);
            },
            getClipboardRows: function getClipboardRows() {
              return _getClipboardRows(clipboardRows);
            }
          };
        };

        function Plugin(editor) {
          var resizeHandler = ResizeHandler(editor);
          var cellSelection = CellSelection$1(editor, resizeHandler.lazyResize);
          var actions = TableActions(editor, resizeHandler.lazyWire);
          var selections = Selections(editor);
          var clipboardRows = Cell(Option.none());
          Commands.registerCommands(editor, actions, cellSelection, selections, clipboardRows);
          Clipboard.registerEvents(editor, selections, actions, cellSelection);
          MenuItems.addMenuItems(editor, selections);
          Buttons.addButtons(editor);
          Buttons.addToolbars(editor);
          editor.on('PreInit', function () {
            editor.serializer.addTempAttr(Ephemera.firstSelected());
            editor.serializer.addTempAttr(Ephemera.lastSelected());
          });

          if (hasTabNavigation(editor)) {
            editor.on('keydown', function (e) {
              TabContext.handle(e, editor, actions, resizeHandler.lazyWire);
            });
          }

          editor.on('remove', function () {
            resizeHandler.destroy();
            cellSelection.destroy();
          });
          return getApi(editor, clipboardRows);
        }

        global.add('table', Plugin);

        function Plugin$1() {}

        return Plugin$1;
      }(window);
    })();
    /***/

  },

  /***/
  "./node_modules/tinymce/themes/modern/theme.js":
  /*!*****************************************************!*\
    !*** ./node_modules/tinymce/themes/modern/theme.js ***!
    \*****************************************************/

  /*! no static exports found */

  /***/
  function node_modulesTinymceThemesModernThemeJs(module, exports) {
    (function () {
      var modern = function (domGlobals) {
        'use strict';

        var global = tinymce.util.Tools.resolve('tinymce.ThemeManager');
        var global$1 = tinymce.util.Tools.resolve('tinymce.EditorManager');
        var global$2 = tinymce.util.Tools.resolve('tinymce.util.Tools');

        var isBrandingEnabled = function isBrandingEnabled(editor) {
          return editor.getParam('branding', true, 'boolean');
        };

        var hasMenubar = function hasMenubar(editor) {
          return getMenubar(editor) !== false;
        };

        var getMenubar = function getMenubar(editor) {
          return editor.getParam('menubar');
        };

        var hasStatusbar = function hasStatusbar(editor) {
          return editor.getParam('statusbar', true, 'boolean');
        };

        var getToolbarSize = function getToolbarSize(editor) {
          return editor.getParam('toolbar_items_size');
        };

        var isReadOnly = function isReadOnly(editor) {
          return editor.getParam('readonly', false, 'boolean');
        };

        var getFixedToolbarContainer = function getFixedToolbarContainer(editor) {
          return editor.getParam('fixed_toolbar_container');
        };

        var getInlineToolbarPositionHandler = function getInlineToolbarPositionHandler(editor) {
          return editor.getParam('inline_toolbar_position_handler');
        };

        var getMenu = function getMenu(editor) {
          return editor.getParam('menu');
        };

        var getRemovedMenuItems = function getRemovedMenuItems(editor) {
          return editor.getParam('removed_menuitems', '');
        };

        var getMinWidth = function getMinWidth(editor) {
          return editor.getParam('min_width', 100, 'number');
        };

        var getMinHeight = function getMinHeight(editor) {
          return editor.getParam('min_height', 100, 'number');
        };

        var getMaxWidth = function getMaxWidth(editor) {
          return editor.getParam('max_width', 65535, 'number');
        };

        var getMaxHeight = function getMaxHeight(editor) {
          return editor.getParam('max_height', 65535, 'number');
        };

        var isSkinDisabled = function isSkinDisabled(editor) {
          return editor.settings.skin === false;
        };

        var isInline = function isInline(editor) {
          return editor.getParam('inline', false, 'boolean');
        };

        var getResize = function getResize(editor) {
          var resize = editor.getParam('resize', 'vertical');

          if (resize === false) {
            return 'none';
          } else if (resize === 'both') {
            return 'both';
          } else {
            return 'vertical';
          }
        };

        var getSkinUrl = function getSkinUrl(editor) {
          var settings = editor.settings;
          var skin = settings.skin;
          var skinUrl = settings.skin_url;

          if (skin !== false) {
            var skinName = skin ? skin : 'lightgray';

            if (skinUrl) {
              skinUrl = editor.documentBaseURI.toAbsolute(skinUrl);
            } else {
              skinUrl = global$1.baseURL + '/skins/' + skinName;
            }
          }

          return skinUrl;
        };

        var getIndexedToolbars = function getIndexedToolbars(settings, defaultToolbar) {
          var toolbars = [];

          for (var i = 1; i < 10; i++) {
            var toolbar = settings['toolbar' + i];

            if (!toolbar) {
              break;
            }

            toolbars.push(toolbar);
          }

          var mainToolbar = settings.toolbar ? [settings.toolbar] : [defaultToolbar];
          return toolbars.length > 0 ? toolbars : mainToolbar;
        };

        var getToolbars = function getToolbars(editor) {
          var toolbar = editor.getParam('toolbar');
          var defaultToolbar = 'undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image';

          if (toolbar === false) {
            return [];
          } else if (global$2.isArray(toolbar)) {
            return global$2.grep(toolbar, function (toolbar) {
              return toolbar.length > 0;
            });
          } else {
            return getIndexedToolbars(editor.settings, defaultToolbar);
          }
        };

        var global$3 = tinymce.util.Tools.resolve('tinymce.dom.DOMUtils');
        var global$4 = tinymce.util.Tools.resolve('tinymce.ui.Factory');
        var global$5 = tinymce.util.Tools.resolve('tinymce.util.I18n');

        var fireSkinLoaded = function fireSkinLoaded(editor) {
          return editor.fire('SkinLoaded');
        };

        var fireResizeEditor = function fireResizeEditor(editor) {
          return editor.fire('ResizeEditor');
        };

        var fireBeforeRenderUI = function fireBeforeRenderUI(editor) {
          return editor.fire('BeforeRenderUI');
        };

        var Events = {
          fireSkinLoaded: fireSkinLoaded,
          fireResizeEditor: fireResizeEditor,
          fireBeforeRenderUI: fireBeforeRenderUI
        };

        var focus = function focus(panel, type) {
          return function () {
            var item = panel.find(type)[0];

            if (item) {
              item.focus(true);
            }
          };
        };

        var addKeys = function addKeys(editor, panel) {
          editor.shortcuts.add('Alt+F9', '', focus(panel, 'menubar'));
          editor.shortcuts.add('Alt+F10,F10', '', focus(panel, 'toolbar'));
          editor.shortcuts.add('Alt+F11', '', focus(panel, 'elementpath'));
          panel.on('cancel', function () {
            editor.focus();
          });
        };

        var A11y = {
          addKeys: addKeys
        };
        var global$6 = tinymce.util.Tools.resolve('tinymce.geom.Rect');
        var global$7 = tinymce.util.Tools.resolve('tinymce.util.Delay');

        var noop = function noop() {};

        var constant = function constant(value) {
          return function () {
            return value;
          };
        };

        var never = constant(false);
        var always = constant(true);
        var never$1 = never;
        var always$1 = always;

        var none = function none() {
          return NONE;
        };

        var NONE = function () {
          var eq = function eq(o) {
            return o.isNone();
          };

          var call = function call(thunk) {
            return thunk();
          };

          var id = function id(n) {
            return n;
          };

          var noop = function noop() {};

          var nul = function nul() {
            return null;
          };

          var undef = function undef() {
            return undefined;
          };

          var me = {
            fold: function fold(n, s) {
              return n();
            },
            is: never$1,
            isSome: never$1,
            isNone: always$1,
            getOr: id,
            getOrThunk: call,
            getOrDie: function getOrDie(msg) {
              throw new Error(msg || 'error: getOrDie called on none.');
            },
            getOrNull: nul,
            getOrUndefined: undef,
            or: id,
            orThunk: call,
            map: none,
            ap: none,
            each: noop,
            bind: none,
            flatten: none,
            exists: never$1,
            forall: always$1,
            filter: none,
            equals: eq,
            equals_: eq,
            toArray: function toArray() {
              return [];
            },
            toString: constant('none()')
          };
          if (Object.freeze) Object.freeze(me);
          return me;
        }();

        var some = function some(a) {
          var constant_a = function constant_a() {
            return a;
          };

          var self = function self() {
            return me;
          };

          var map = function map(f) {
            return some(f(a));
          };

          var bind = function bind(f) {
            return f(a);
          };

          var me = {
            fold: function fold(n, s) {
              return s(a);
            },
            is: function is(v) {
              return a === v;
            },
            isSome: always$1,
            isNone: never$1,
            getOr: constant_a,
            getOrThunk: constant_a,
            getOrDie: constant_a,
            getOrNull: constant_a,
            getOrUndefined: constant_a,
            or: self,
            orThunk: self,
            map: map,
            ap: function ap(optfab) {
              return optfab.fold(none, function (fab) {
                return some(fab(a));
              });
            },
            each: function each(f) {
              f(a);
            },
            bind: bind,
            flatten: constant_a,
            exists: bind,
            forall: bind,
            filter: function filter(f) {
              return f(a) ? me : NONE;
            },
            equals: function equals(o) {
              return o.is(a);
            },
            equals_: function equals_(o, elementEq) {
              return o.fold(never$1, function (b) {
                return elementEq(a, b);
              });
            },
            toArray: function toArray() {
              return [a];
            },
            toString: function toString() {
              return 'some(' + a + ')';
            }
          };
          return me;
        };

        var from = function from(value) {
          return value === null || value === undefined ? NONE : some(value);
        };

        var Option = {
          some: some,
          none: none,
          from: from
        };

        var getUiContainerDelta = function getUiContainerDelta(ctrl) {
          var uiContainer = getUiContainer(ctrl);

          if (uiContainer && global$3.DOM.getStyle(uiContainer, 'position', true) !== 'static') {
            var containerPos = global$3.DOM.getPos(uiContainer);
            var dx = uiContainer.scrollLeft - containerPos.x;
            var dy = uiContainer.scrollTop - containerPos.y;
            return Option.some({
              x: dx,
              y: dy
            });
          } else {
            return Option.none();
          }
        };

        var setUiContainer = function setUiContainer(editor, ctrl) {
          var uiContainer = global$3.DOM.select(editor.settings.ui_container)[0];
          ctrl.getRoot().uiContainer = uiContainer;
        };

        var getUiContainer = function getUiContainer(ctrl) {
          return ctrl ? ctrl.getRoot().uiContainer : null;
        };

        var inheritUiContainer = function inheritUiContainer(fromCtrl, toCtrl) {
          return toCtrl.uiContainer = getUiContainer(fromCtrl);
        };

        var UiContainer = {
          getUiContainerDelta: getUiContainerDelta,
          setUiContainer: setUiContainer,
          getUiContainer: getUiContainer,
          inheritUiContainer: inheritUiContainer
        };

        var createToolbar = function createToolbar(editor, items, size) {
          var toolbarItems = [];
          var buttonGroup;

          if (!items) {
            return;
          }

          global$2.each(items.split(/[ ,]/), function (item) {
            var itemName;

            var bindSelectorChanged = function bindSelectorChanged() {
              var selection = editor.selection;

              if (item.settings.stateSelector) {
                selection.selectorChanged(item.settings.stateSelector, function (state) {
                  item.active(state);
                }, true);
              }

              if (item.settings.disabledStateSelector) {
                selection.selectorChanged(item.settings.disabledStateSelector, function (state) {
                  item.disabled(state);
                });
              }
            };

            if (item === '|') {
              buttonGroup = null;
            } else {
              if (!buttonGroup) {
                buttonGroup = {
                  type: 'buttongroup',
                  items: []
                };
                toolbarItems.push(buttonGroup);
              }

              if (editor.buttons[item]) {
                itemName = item;
                item = editor.buttons[itemName];

                if (typeof item === 'function') {
                  item = item();
                }

                item.type = item.type || 'button';
                item.size = size;
                item = global$4.create(item);
                buttonGroup.items.push(item);

                if (editor.initialized) {
                  bindSelectorChanged();
                } else {
                  editor.on('init', bindSelectorChanged);
                }
              }
            }
          });
          return {
            type: 'toolbar',
            layout: 'flow',
            items: toolbarItems
          };
        };

        var createToolbars = function createToolbars(editor, size) {
          var toolbars = [];

          var addToolbar = function addToolbar(items) {
            if (items) {
              toolbars.push(createToolbar(editor, items, size));
            }
          };

          global$2.each(getToolbars(editor), function (toolbar) {
            addToolbar(toolbar);
          });

          if (toolbars.length) {
            return {
              type: 'panel',
              layout: 'stack',
              classes: 'toolbar-grp',
              ariaRoot: true,
              ariaRemember: true,
              items: toolbars
            };
          }
        };

        var Toolbar = {
          createToolbar: createToolbar,
          createToolbars: createToolbars
        };
        var DOM = global$3.DOM;

        var toClientRect = function toClientRect(geomRect) {
          return {
            left: geomRect.x,
            top: geomRect.y,
            width: geomRect.w,
            height: geomRect.h,
            right: geomRect.x + geomRect.w,
            bottom: geomRect.y + geomRect.h
          };
        };

        var hideAllFloatingPanels = function hideAllFloatingPanels(editor) {
          global$2.each(editor.contextToolbars, function (toolbar) {
            if (toolbar.panel) {
              toolbar.panel.hide();
            }
          });
        };

        var movePanelTo = function movePanelTo(panel, pos) {
          panel.moveTo(pos.left, pos.top);
        };

        var togglePositionClass = function togglePositionClass(panel, relPos, predicate) {
          relPos = relPos ? relPos.substr(0, 2) : '';
          global$2.each({
            t: 'down',
            b: 'up'
          }, function (cls, pos) {
            panel.classes.toggle('arrow-' + cls, predicate(pos, relPos.substr(0, 1)));
          });
          global$2.each({
            l: 'left',
            r: 'right'
          }, function (cls, pos) {
            panel.classes.toggle('arrow-' + cls, predicate(pos, relPos.substr(1, 1)));
          });
        };

        var userConstrain = function userConstrain(handler, x, y, elementRect, contentAreaRect, panelRect) {
          panelRect = toClientRect({
            x: x,
            y: y,
            w: panelRect.w,
            h: panelRect.h
          });

          if (handler) {
            panelRect = handler({
              elementRect: toClientRect(elementRect),
              contentAreaRect: toClientRect(contentAreaRect),
              panelRect: panelRect
            });
          }

          return panelRect;
        };

        var addContextualToolbars = function addContextualToolbars(editor) {
          var scrollContainer;

          var getContextToolbars = function getContextToolbars() {
            return editor.contextToolbars || [];
          };

          var getElementRect = function getElementRect(elm) {
            var pos, targetRect, root;
            pos = DOM.getPos(editor.getContentAreaContainer());
            targetRect = editor.dom.getRect(elm);
            root = editor.dom.getRoot();

            if (root.nodeName === 'BODY') {
              targetRect.x -= root.ownerDocument.documentElement.scrollLeft || root.scrollLeft;
              targetRect.y -= root.ownerDocument.documentElement.scrollTop || root.scrollTop;
            }

            targetRect.x += pos.x;
            targetRect.y += pos.y;
            return targetRect;
          };

          var reposition = function reposition(match, shouldShow) {
            var relPos, panelRect, elementRect, contentAreaRect, panel, relRect, testPositions, smallElementWidthThreshold;
            var handler = getInlineToolbarPositionHandler(editor);

            if (editor.removed) {
              return;
            }

            if (!match || !match.toolbar.panel) {
              hideAllFloatingPanels(editor);
              return;
            }

            testPositions = ['bc-tc', 'tc-bc', 'tl-bl', 'bl-tl', 'tr-br', 'br-tr'];
            panel = match.toolbar.panel;

            if (shouldShow) {
              panel.show();
            }

            elementRect = getElementRect(match.element);
            panelRect = DOM.getRect(panel.getEl());
            contentAreaRect = DOM.getRect(editor.getContentAreaContainer() || editor.getBody());
            var delta = UiContainer.getUiContainerDelta(panel).getOr({
              x: 0,
              y: 0
            });
            elementRect.x += delta.x;
            elementRect.y += delta.y;
            panelRect.x += delta.x;
            panelRect.y += delta.y;
            contentAreaRect.x += delta.x;
            contentAreaRect.y += delta.y;
            smallElementWidthThreshold = 25;

            if (DOM.getStyle(match.element, 'display', true) !== 'inline') {
              var clientRect = match.element.getBoundingClientRect();
              elementRect.w = clientRect.width;
              elementRect.h = clientRect.height;
            }

            if (!editor.inline) {
              contentAreaRect.w = editor.getDoc().documentElement.offsetWidth;
            }

            if (editor.selection.controlSelection.isResizable(match.element) && elementRect.w < smallElementWidthThreshold) {
              elementRect = global$6.inflate(elementRect, 0, 8);
            }

            relPos = global$6.findBestRelativePosition(panelRect, elementRect, contentAreaRect, testPositions);
            elementRect = global$6.clamp(elementRect, contentAreaRect);

            if (relPos) {
              relRect = global$6.relativePosition(panelRect, elementRect, relPos);
              movePanelTo(panel, userConstrain(handler, relRect.x, relRect.y, elementRect, contentAreaRect, panelRect));
            } else {
              contentAreaRect.h += panelRect.h;
              elementRect = global$6.intersect(contentAreaRect, elementRect);

              if (elementRect) {
                relPos = global$6.findBestRelativePosition(panelRect, elementRect, contentAreaRect, ['bc-tc', 'bl-tl', 'br-tr']);

                if (relPos) {
                  relRect = global$6.relativePosition(panelRect, elementRect, relPos);
                  movePanelTo(panel, userConstrain(handler, relRect.x, relRect.y, elementRect, contentAreaRect, panelRect));
                } else {
                  movePanelTo(panel, userConstrain(handler, elementRect.x, elementRect.y, elementRect, contentAreaRect, panelRect));
                }
              } else {
                panel.hide();
              }
            }

            togglePositionClass(panel, relPos, function (pos1, pos2) {
              return pos1 === pos2;
            });
          };

          var repositionHandler = function repositionHandler(show) {
            return function () {
              var execute = function execute() {
                if (editor.selection) {
                  reposition(findFrontMostMatch(editor.selection.getNode()), show);
                }
              };

              global$7.requestAnimationFrame(execute);
            };
          };

          var bindScrollEvent = function bindScrollEvent(panel) {
            if (!scrollContainer) {
              var reposition_1 = repositionHandler(true);
              var uiContainer_1 = UiContainer.getUiContainer(panel);
              scrollContainer = editor.selection.getScrollContainer() || editor.getWin();
              DOM.bind(scrollContainer, 'scroll', reposition_1);
              DOM.bind(uiContainer_1, 'scroll', reposition_1);
              editor.on('remove', function () {
                DOM.unbind(scrollContainer, 'scroll', reposition_1);
                DOM.unbind(uiContainer_1, 'scroll', reposition_1);
              });
            }
          };

          var showContextToolbar = function showContextToolbar(match) {
            var panel;

            if (match.toolbar.panel) {
              match.toolbar.panel.show();
              reposition(match);
              return;
            }

            panel = global$4.create({
              type: 'floatpanel',
              role: 'dialog',
              classes: 'tinymce tinymce-inline arrow',
              ariaLabel: 'Inline toolbar',
              layout: 'flex',
              direction: 'column',
              align: 'stretch',
              autohide: false,
              autofix: true,
              fixed: true,
              border: 1,
              items: Toolbar.createToolbar(editor, match.toolbar.items),
              oncancel: function oncancel() {
                editor.focus();
              }
            });
            UiContainer.setUiContainer(editor, panel);
            bindScrollEvent(panel);
            match.toolbar.panel = panel;
            panel.renderTo().reflow();
            reposition(match);
          };

          var hideAllContextToolbars = function hideAllContextToolbars() {
            global$2.each(getContextToolbars(), function (toolbar) {
              if (toolbar.panel) {
                toolbar.panel.hide();
              }
            });
          };

          var findFrontMostMatch = function findFrontMostMatch(targetElm) {
            var i, y, parentsAndSelf;
            var toolbars = getContextToolbars();
            parentsAndSelf = editor.$(targetElm).parents().add(targetElm);

            for (i = parentsAndSelf.length - 1; i >= 0; i--) {
              for (y = toolbars.length - 1; y >= 0; y--) {
                if (toolbars[y].predicate(parentsAndSelf[i])) {
                  return {
                    toolbar: toolbars[y],
                    element: parentsAndSelf[i]
                  };
                }
              }
            }

            return null;
          };

          editor.on('click keyup setContent ObjectResized', function (e) {
            if (e.type === 'setcontent' && !e.selection) {
              return;
            }

            global$7.setEditorTimeout(editor, function () {
              var match;
              match = findFrontMostMatch(editor.selection.getNode());

              if (match) {
                hideAllContextToolbars();
                showContextToolbar(match);
              } else {
                hideAllContextToolbars();
              }
            });
          });
          editor.on('blur hide contextmenu', hideAllContextToolbars);
          editor.on('ObjectResizeStart', function () {
            var match = findFrontMostMatch(editor.selection.getNode());

            if (match && match.toolbar.panel) {
              match.toolbar.panel.hide();
            }
          });
          editor.on('ResizeEditor ResizeWindow', repositionHandler(true));
          editor.on('nodeChange', repositionHandler(false));
          editor.on('remove', function () {
            global$2.each(getContextToolbars(), function (toolbar) {
              if (toolbar.panel) {
                toolbar.panel.remove();
              }
            });
            editor.contextToolbars = {};
          });
          editor.shortcuts.add('ctrl+F9', '', function () {
            var match = findFrontMostMatch(editor.selection.getNode());

            if (match && match.toolbar.panel) {
              match.toolbar.panel.items()[0].focus();
            }
          });
        };

        var ContextToolbars = {
          addContextualToolbars: addContextualToolbars
        };

        var typeOf = function typeOf(x) {
          if (x === null) return 'null';
          var t = typeof x;
          if (t === 'object' && (Array.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'Array')) return 'array';
          if (t === 'object' && (String.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'String')) return 'string';
          return t;
        };

        var isType = function isType(type) {
          return function (value) {
            return typeOf(value) === type;
          };
        };

        var isFunction = isType('function');
        var isNumber = isType('number');
        var slice = Array.prototype.slice;

        var rawIndexOf = function () {
          var pIndexOf = Array.prototype.indexOf;

          var fastIndex = function fastIndex(xs, x) {
            return pIndexOf.call(xs, x);
          };

          var slowIndex = function slowIndex(xs, x) {
            return slowIndexOf(xs, x);
          };

          return pIndexOf === undefined ? slowIndex : fastIndex;
        }();

        var indexOf = function indexOf(xs, x) {
          var r = rawIndexOf(xs, x);
          return r === -1 ? Option.none() : Option.some(r);
        };

        var exists = function exists(xs, pred) {
          return findIndex(xs, pred).isSome();
        };

        var map = function map(xs, f) {
          var len = xs.length;
          var r = new Array(len);

          for (var i = 0; i < len; i++) {
            var x = xs[i];
            r[i] = f(x, i, xs);
          }

          return r;
        };

        var each = function each(xs, f) {
          for (var i = 0, len = xs.length; i < len; i++) {
            var x = xs[i];
            f(x, i, xs);
          }
        };

        var filter = function filter(xs, pred) {
          var r = [];

          for (var i = 0, len = xs.length; i < len; i++) {
            var x = xs[i];

            if (pred(x, i, xs)) {
              r.push(x);
            }
          }

          return r;
        };

        var foldl = function foldl(xs, f, acc) {
          each(xs, function (x) {
            acc = f(acc, x);
          });
          return acc;
        };

        var find = function find(xs, pred) {
          for (var i = 0, len = xs.length; i < len; i++) {
            var x = xs[i];

            if (pred(x, i, xs)) {
              return Option.some(x);
            }
          }

          return Option.none();
        };

        var findIndex = function findIndex(xs, pred) {
          for (var i = 0, len = xs.length; i < len; i++) {
            var x = xs[i];

            if (pred(x, i, xs)) {
              return Option.some(i);
            }
          }

          return Option.none();
        };

        var slowIndexOf = function slowIndexOf(xs, x) {
          for (var i = 0, len = xs.length; i < len; ++i) {
            if (xs[i] === x) {
              return i;
            }
          }

          return -1;
        };

        var push = Array.prototype.push;

        var flatten = function flatten(xs) {
          var r = [];

          for (var i = 0, len = xs.length; i < len; ++i) {
            if (!Array.prototype.isPrototypeOf(xs[i])) throw new Error('Arr.flatten item ' + i + ' was not an array, input: ' + xs);
            push.apply(r, xs[i]);
          }

          return r;
        };

        var from$1 = isFunction(Array.from) ? Array.from : function (x) {
          return slice.call(x);
        };
        var defaultMenus = {
          file: {
            title: 'File',
            items: 'newdocument restoredraft | preview | print'
          },
          edit: {
            title: 'Edit',
            items: 'undo redo | cut copy paste pastetext | selectall'
          },
          view: {
            title: 'View',
            items: 'code | visualaid visualchars visualblocks | spellchecker | preview fullscreen'
          },
          insert: {
            title: 'Insert',
            items: 'image link media template codesample inserttable | charmap hr | pagebreak nonbreaking anchor toc | insertdatetime'
          },
          format: {
            title: 'Format',
            items: 'bold italic underline strikethrough superscript subscript codeformat | blockformats align | removeformat'
          },
          tools: {
            title: 'Tools',
            items: 'spellchecker spellcheckerlanguage | a11ycheck code'
          },
          table: {
            title: 'Table'
          },
          help: {
            title: 'Help'
          }
        };

        var delimiterMenuNamePair = function delimiterMenuNamePair() {
          return {
            name: '|',
            item: {
              text: '|'
            }
          };
        };

        var createMenuNameItemPair = function createMenuNameItemPair(name, item) {
          var menuItem = item ? {
            name: name,
            item: item
          } : null;
          return name === '|' ? delimiterMenuNamePair() : menuItem;
        };

        var hasItemName = function hasItemName(namedMenuItems, name) {
          return findIndex(namedMenuItems, function (namedMenuItem) {
            return namedMenuItem.name === name;
          }).isSome();
        };

        var isSeparator = function isSeparator(namedMenuItem) {
          return namedMenuItem && namedMenuItem.item.text === '|';
        };

        var cleanupMenu = function cleanupMenu(namedMenuItems, removedMenuItems) {
          var menuItemsPass1 = filter(namedMenuItems, function (namedMenuItem) {
            return removedMenuItems.hasOwnProperty(namedMenuItem.name) === false;
          });
          var menuItemsPass2 = filter(menuItemsPass1, function (namedMenuItem, i, namedMenuItems) {
            return !isSeparator(namedMenuItem) || !isSeparator(namedMenuItems[i - 1]);
          });
          return filter(menuItemsPass2, function (namedMenuItem, i, namedMenuItems) {
            return !isSeparator(namedMenuItem) || i > 0 && i < namedMenuItems.length - 1;
          });
        };

        var createMenu = function createMenu(editorMenuItems, menus, removedMenuItems, context) {
          var menuButton, menu, namedMenuItems, isUserDefined;

          if (menus) {
            menu = menus[context];
            isUserDefined = true;
          } else {
            menu = defaultMenus[context];
          }

          if (menu) {
            menuButton = {
              text: menu.title
            };
            namedMenuItems = [];
            global$2.each((menu.items || '').split(/[ ,]/), function (name) {
              var namedMenuItem = createMenuNameItemPair(name, editorMenuItems[name]);

              if (namedMenuItem) {
                namedMenuItems.push(namedMenuItem);
              }
            });

            if (!isUserDefined) {
              global$2.each(editorMenuItems, function (item, name) {
                if (item.context === context && !hasItemName(namedMenuItems, name)) {
                  if (item.separator === 'before') {
                    namedMenuItems.push(delimiterMenuNamePair());
                  }

                  if (item.prependToContext) {
                    namedMenuItems.unshift(createMenuNameItemPair(name, item));
                  } else {
                    namedMenuItems.push(createMenuNameItemPair(name, item));
                  }

                  if (item.separator === 'after') {
                    namedMenuItems.push(delimiterMenuNamePair());
                  }
                }
              });
            }

            menuButton.menu = map(cleanupMenu(namedMenuItems, removedMenuItems), function (menuItem) {
              return menuItem.item;
            });

            if (!menuButton.menu.length) {
              return null;
            }
          }

          return menuButton;
        };

        var getDefaultMenubar = function getDefaultMenubar(editor) {
          var name;
          var defaultMenuBar = [];
          var menu = getMenu(editor);

          if (menu) {
            for (name in menu) {
              defaultMenuBar.push(name);
            }
          } else {
            for (name in defaultMenus) {
              defaultMenuBar.push(name);
            }
          }

          return defaultMenuBar;
        };

        var createMenuButtons = function createMenuButtons(editor) {
          var menuButtons = [];
          var defaultMenuBar = getDefaultMenubar(editor);
          var removedMenuItems = global$2.makeMap(getRemovedMenuItems(editor).split(/[ ,]/));
          var menubar = getMenubar(editor);
          var enabledMenuNames = typeof menubar === 'string' ? menubar.split(/[ ,]/) : defaultMenuBar;

          for (var i = 0; i < enabledMenuNames.length; i++) {
            var menuItems = enabledMenuNames[i];
            var menu = createMenu(editor.menuItems, getMenu(editor), removedMenuItems, menuItems);

            if (menu) {
              menuButtons.push(menu);
            }
          }

          return menuButtons;
        };

        var Menubar = {
          createMenuButtons: createMenuButtons
        };
        var DOM$1 = global$3.DOM;

        var getSize = function getSize(elm) {
          return {
            width: elm.clientWidth,
            height: elm.clientHeight
          };
        };

        var resizeTo = function resizeTo(editor, width, height) {
          var containerElm, iframeElm, containerSize, iframeSize;
          containerElm = editor.getContainer();
          iframeElm = editor.getContentAreaContainer().firstChild;
          containerSize = getSize(containerElm);
          iframeSize = getSize(iframeElm);

          if (width !== null) {
            width = Math.max(getMinWidth(editor), width);
            width = Math.min(getMaxWidth(editor), width);
            DOM$1.setStyle(containerElm, 'width', width + (containerSize.width - iframeSize.width));
            DOM$1.setStyle(iframeElm, 'width', width);
          }

          height = Math.max(getMinHeight(editor), height);
          height = Math.min(getMaxHeight(editor), height);
          DOM$1.setStyle(iframeElm, 'height', height);
          Events.fireResizeEditor(editor);
        };

        var resizeBy = function resizeBy(editor, dw, dh) {
          var elm = editor.getContentAreaContainer();
          resizeTo(editor, elm.clientWidth + dw, elm.clientHeight + dh);
        };

        var Resize = {
          resizeTo: resizeTo,
          resizeBy: resizeBy
        };
        var global$8 = tinymce.util.Tools.resolve('tinymce.Env');

        var api = function api(elm) {
          return {
            element: function element() {
              return elm;
            }
          };
        };

        var trigger = function trigger(sidebar, panel, callbackName) {
          var callback = sidebar.settings[callbackName];

          if (callback) {
            callback(api(panel.getEl('body')));
          }
        };

        var hidePanels = function hidePanels(name, container, sidebars) {
          global$2.each(sidebars, function (sidebar) {
            var panel = container.items().filter('#' + sidebar.name)[0];

            if (panel && panel.visible() && sidebar.name !== name) {
              trigger(sidebar, panel, 'onhide');
              panel.visible(false);
            }
          });
        };

        var deactivateButtons = function deactivateButtons(toolbar) {
          toolbar.items().each(function (ctrl) {
            ctrl.active(false);
          });
        };

        var findSidebar = function findSidebar(sidebars, name) {
          return global$2.grep(sidebars, function (sidebar) {
            return sidebar.name === name;
          })[0];
        };

        var showPanel = function showPanel(editor, name, sidebars) {
          return function (e) {
            var btnCtrl = e.control;
            var container = btnCtrl.parents().filter('panel')[0];
            var panel = container.find('#' + name)[0];
            var sidebar = findSidebar(sidebars, name);
            hidePanels(name, container, sidebars);
            deactivateButtons(btnCtrl.parent());

            if (panel && panel.visible()) {
              trigger(sidebar, panel, 'onhide');
              panel.hide();
              btnCtrl.active(false);
            } else {
              if (panel) {
                panel.show();
                trigger(sidebar, panel, 'onshow');
              } else {
                panel = global$4.create({
                  type: 'container',
                  name: name,
                  layout: 'stack',
                  classes: 'sidebar-panel',
                  html: ''
                });
                container.prepend(panel);
                trigger(sidebar, panel, 'onrender');
                trigger(sidebar, panel, 'onshow');
              }

              btnCtrl.active(true);
            }

            Events.fireResizeEditor(editor);
          };
        };

        var isModernBrowser = function isModernBrowser() {
          return !global$8.ie || global$8.ie >= 11;
        };

        var hasSidebar = function hasSidebar(editor) {
          return isModernBrowser() && editor.sidebars ? editor.sidebars.length > 0 : false;
        };

        var createSidebar = function createSidebar(editor) {
          var buttons = global$2.map(editor.sidebars, function (sidebar) {
            var settings = sidebar.settings;
            return {
              type: 'button',
              icon: settings.icon,
              image: settings.image,
              tooltip: settings.tooltip,
              onclick: showPanel(editor, sidebar.name, editor.sidebars)
            };
          });
          return {
            type: 'panel',
            name: 'sidebar',
            layout: 'stack',
            classes: 'sidebar',
            items: [{
              type: 'toolbar',
              layout: 'stack',
              classes: 'sidebar-toolbar',
              items: buttons
            }]
          };
        };

        var Sidebar = {
          hasSidebar: hasSidebar,
          createSidebar: createSidebar
        };

        var fireSkinLoaded$1 = function fireSkinLoaded$1(editor) {
          var done = function done() {
            editor._skinLoaded = true;
            Events.fireSkinLoaded(editor);
          };

          return function () {
            if (editor.initialized) {
              done();
            } else {
              editor.on('init', done);
            }
          };
        };

        var SkinLoaded = {
          fireSkinLoaded: fireSkinLoaded$1
        };
        var DOM$2 = global$3.DOM;

        var switchMode = function switchMode(panel) {
          return function (e) {
            panel.find('*').disabled(e.mode === 'readonly');
          };
        };

        var editArea = function editArea(border) {
          return {
            type: 'panel',
            name: 'iframe',
            layout: 'stack',
            classes: 'edit-area',
            border: border,
            html: ''
          };
        };

        var editAreaContainer = function editAreaContainer(editor) {
          return {
            type: 'panel',
            layout: 'stack',
            classes: 'edit-aria-container',
            border: '1 0 0 0',
            items: [editArea('0'), Sidebar.createSidebar(editor)]
          };
        };

        var render = function render(editor, theme, args) {
          var panel, resizeHandleCtrl, startSize;

          if (isSkinDisabled(editor) === false && args.skinUiCss) {
            DOM$2.styleSheetLoader.load(args.skinUiCss, SkinLoaded.fireSkinLoaded(editor));
          } else {
            SkinLoaded.fireSkinLoaded(editor)();
          }

          panel = theme.panel = global$4.create({
            type: 'panel',
            role: 'application',
            classes: 'tinymce',
            style: 'visibility: hidden',
            layout: 'stack',
            border: 1,
            items: [{
              type: 'container',
              classes: 'top-part',
              items: [hasMenubar(editor) === false ? null : {
                type: 'menubar',
                border: '0 0 1 0',
                items: Menubar.createMenuButtons(editor)
              }, Toolbar.createToolbars(editor, getToolbarSize(editor))]
            }, Sidebar.hasSidebar(editor) ? editAreaContainer(editor) : editArea('1 0 0 0')]
          });
          UiContainer.setUiContainer(editor, panel);

          if (getResize(editor) !== 'none') {
            resizeHandleCtrl = {
              type: 'resizehandle',
              direction: getResize(editor),
              onResizeStart: function onResizeStart() {
                var elm = editor.getContentAreaContainer().firstChild;
                startSize = {
                  width: elm.clientWidth,
                  height: elm.clientHeight
                };
              },
              onResize: function onResize(e) {
                if (getResize(editor) === 'both') {
                  Resize.resizeTo(editor, startSize.width + e.deltaX, startSize.height + e.deltaY);
                } else {
                  Resize.resizeTo(editor, null, startSize.height + e.deltaY);
                }
              }
            };
          }

          if (hasStatusbar(editor)) {
            var linkHtml = '<a href="https://www.tiny.cloud/?utm_campaign=editor_referral&amp;utm_medium=poweredby&amp;utm_source=tinymce" rel="noopener" target="_blank" role="presentation" tabindex="-1">Tiny</a>';
            var html = global$5.translate(['Powered by {0}', linkHtml]);
            var brandingLabel = isBrandingEnabled(editor) ? {
              type: 'label',
              classes: 'branding',
              html: ' ' + html
            } : null;
            panel.add({
              type: 'panel',
              name: 'statusbar',
              classes: 'statusbar',
              layout: 'flow',
              border: '1 0 0 0',
              ariaRoot: true,
              items: [{
                type: 'elementpath',
                editor: editor
              }, resizeHandleCtrl, brandingLabel]
            });
          }

          Events.fireBeforeRenderUI(editor);
          editor.on('SwitchMode', switchMode(panel));
          panel.renderBefore(args.targetNode).reflow();

          if (isReadOnly(editor)) {
            editor.setMode('readonly');
          }

          if (args.width) {
            DOM$2.setStyle(panel.getEl(), 'width', args.width);
          }

          editor.on('remove', function () {
            panel.remove();
            panel = null;
          });
          A11y.addKeys(editor, panel);
          ContextToolbars.addContextualToolbars(editor);
          return {
            iframeContainer: panel.find('#iframe')[0].getEl(),
            editorContainer: panel.getEl()
          };
        };

        var Iframe = {
          render: render
        };
        var global$9 = tinymce.util.Tools.resolve('tinymce.dom.DomQuery');
        var count = 0;
        var funcs = {
          id: function id() {
            return 'mceu_' + count++;
          },
          create: function create(name, attrs, children) {
            var elm = domGlobals.document.createElement(name);
            global$3.DOM.setAttribs(elm, attrs);

            if (typeof children === 'string') {
              elm.innerHTML = children;
            } else {
              global$2.each(children, function (child) {
                if (child.nodeType) {
                  elm.appendChild(child);
                }
              });
            }

            return elm;
          },
          createFragment: function createFragment(html) {
            return global$3.DOM.createFragment(html);
          },
          getWindowSize: function getWindowSize() {
            return global$3.DOM.getViewPort();
          },
          getSize: function getSize(elm) {
            var width, height;

            if (elm.getBoundingClientRect) {
              var rect = elm.getBoundingClientRect();
              width = Math.max(rect.width || rect.right - rect.left, elm.offsetWidth);
              height = Math.max(rect.height || rect.bottom - rect.bottom, elm.offsetHeight);
            } else {
              width = elm.offsetWidth;
              height = elm.offsetHeight;
            }

            return {
              width: width,
              height: height
            };
          },
          getPos: function getPos(elm, root) {
            return global$3.DOM.getPos(elm, root || funcs.getContainer());
          },
          getContainer: function getContainer() {
            return global$8.container ? global$8.container : domGlobals.document.body;
          },
          getViewPort: function getViewPort(win) {
            return global$3.DOM.getViewPort(win);
          },
          get: function get(id) {
            return domGlobals.document.getElementById(id);
          },
          addClass: function addClass(elm, cls) {
            return global$3.DOM.addClass(elm, cls);
          },
          removeClass: function removeClass(elm, cls) {
            return global$3.DOM.removeClass(elm, cls);
          },
          hasClass: function hasClass(elm, cls) {
            return global$3.DOM.hasClass(elm, cls);
          },
          toggleClass: function toggleClass(elm, cls, state) {
            return global$3.DOM.toggleClass(elm, cls, state);
          },
          css: function css(elm, name, value) {
            return global$3.DOM.setStyle(elm, name, value);
          },
          getRuntimeStyle: function getRuntimeStyle(elm, name) {
            return global$3.DOM.getStyle(elm, name, true);
          },
          on: function on(target, name, callback, scope) {
            return global$3.DOM.bind(target, name, callback, scope);
          },
          off: function off(target, name, callback) {
            return global$3.DOM.unbind(target, name, callback);
          },
          fire: function fire(target, name, args) {
            return global$3.DOM.fire(target, name, args);
          },
          innerHtml: function innerHtml(elm, html) {
            global$3.DOM.setHTML(elm, html);
          }
        };

        var isStatic = function isStatic(elm) {
          return funcs.getRuntimeStyle(elm, 'position') === 'static';
        };

        var isFixed = function isFixed(ctrl) {
          return ctrl.state.get('fixed');
        };

        function calculateRelativePosition(ctrl, targetElm, rel) {
          var ctrlElm, pos, x, y, selfW, selfH, targetW, targetH, viewport, size;
          viewport = getWindowViewPort();
          pos = funcs.getPos(targetElm, UiContainer.getUiContainer(ctrl));
          x = pos.x;
          y = pos.y;

          if (isFixed(ctrl) && isStatic(domGlobals.document.body)) {
            x -= viewport.x;
            y -= viewport.y;
          }

          ctrlElm = ctrl.getEl();
          size = funcs.getSize(ctrlElm);
          selfW = size.width;
          selfH = size.height;
          size = funcs.getSize(targetElm);
          targetW = size.width;
          targetH = size.height;
          rel = (rel || '').split('');

          if (rel[0] === 'b') {
            y += targetH;
          }

          if (rel[1] === 'r') {
            x += targetW;
          }

          if (rel[0] === 'c') {
            y += Math.round(targetH / 2);
          }

          if (rel[1] === 'c') {
            x += Math.round(targetW / 2);
          }

          if (rel[3] === 'b') {
            y -= selfH;
          }

          if (rel[4] === 'r') {
            x -= selfW;
          }

          if (rel[3] === 'c') {
            y -= Math.round(selfH / 2);
          }

          if (rel[4] === 'c') {
            x -= Math.round(selfW / 2);
          }

          return {
            x: x,
            y: y,
            w: selfW,
            h: selfH
          };
        }

        var getUiContainerViewPort = function getUiContainerViewPort(customUiContainer) {
          return {
            x: 0,
            y: 0,
            w: customUiContainer.scrollWidth - 1,
            h: customUiContainer.scrollHeight - 1
          };
        };

        var getWindowViewPort = function getWindowViewPort() {
          var win = domGlobals.window;
          var x = Math.max(win.pageXOffset, domGlobals.document.body.scrollLeft, domGlobals.document.documentElement.scrollLeft);
          var y = Math.max(win.pageYOffset, domGlobals.document.body.scrollTop, domGlobals.document.documentElement.scrollTop);
          var w = win.innerWidth || domGlobals.document.documentElement.clientWidth;
          var h = win.innerHeight || domGlobals.document.documentElement.clientHeight;
          return {
            x: x,
            y: y,
            w: w,
            h: h
          };
        };

        var getViewPortRect = function getViewPortRect(ctrl) {
          var customUiContainer = UiContainer.getUiContainer(ctrl);
          return customUiContainer && !isFixed(ctrl) ? getUiContainerViewPort(customUiContainer) : getWindowViewPort();
        };

        var Movable = {
          testMoveRel: function testMoveRel(elm, rels) {
            var viewPortRect = getViewPortRect(this);

            for (var i = 0; i < rels.length; i++) {
              var pos = calculateRelativePosition(this, elm, rels[i]);

              if (isFixed(this)) {
                if (pos.x > 0 && pos.x + pos.w < viewPortRect.w && pos.y > 0 && pos.y + pos.h < viewPortRect.h) {
                  return rels[i];
                }
              } else {
                if (pos.x > viewPortRect.x && pos.x + pos.w < viewPortRect.w + viewPortRect.x && pos.y > viewPortRect.y && pos.y + pos.h < viewPortRect.h + viewPortRect.y) {
                  return rels[i];
                }
              }
            }

            return rels[0];
          },
          moveRel: function moveRel(elm, rel) {
            if (typeof rel !== 'string') {
              rel = this.testMoveRel(elm, rel);
            }

            var pos = calculateRelativePosition(this, elm, rel);
            return this.moveTo(pos.x, pos.y);
          },
          moveBy: function moveBy(dx, dy) {
            var self = this,
                rect = self.layoutRect();
            self.moveTo(rect.x + dx, rect.y + dy);
            return self;
          },
          moveTo: function moveTo(x, y) {
            var self = this;

            function constrain(value, max, size) {
              if (value < 0) {
                return 0;
              }

              if (value + size > max) {
                value = max - size;
                return value < 0 ? 0 : value;
              }

              return value;
            }

            if (self.settings.constrainToViewport) {
              var viewPortRect = getViewPortRect(this);
              var layoutRect = self.layoutRect();
              x = constrain(x, viewPortRect.w + viewPortRect.x, layoutRect.w);
              y = constrain(y, viewPortRect.h + viewPortRect.y, layoutRect.h);
            }

            var uiContainer = UiContainer.getUiContainer(self);

            if (uiContainer && isStatic(uiContainer) && !isFixed(self)) {
              x -= uiContainer.scrollLeft;
              y -= uiContainer.scrollTop;
            }

            if (uiContainer) {
              x += 1;
              y += 1;
            }

            if (self.state.get('rendered')) {
              self.layoutRect({
                x: x,
                y: y
              }).repaint();
            } else {
              self.settings.x = x;
              self.settings.y = y;
            }

            self.fire('move', {
              x: x,
              y: y
            });
            return self;
          }
        };
        var global$a = tinymce.util.Tools.resolve('tinymce.util.Class');
        var global$b = tinymce.util.Tools.resolve('tinymce.util.EventDispatcher');
        var BoxUtils = {
          parseBox: function parseBox(value) {
            var len;
            var radix = 10;

            if (!value) {
              return;
            }

            if (typeof value === 'number') {
              value = value || 0;
              return {
                top: value,
                left: value,
                bottom: value,
                right: value
              };
            }

            value = value.split(' ');
            len = value.length;

            if (len === 1) {
              value[1] = value[2] = value[3] = value[0];
            } else if (len === 2) {
              value[2] = value[0];
              value[3] = value[1];
            } else if (len === 3) {
              value[3] = value[1];
            }

            return {
              top: parseInt(value[0], radix) || 0,
              right: parseInt(value[1], radix) || 0,
              bottom: parseInt(value[2], radix) || 0,
              left: parseInt(value[3], radix) || 0
            };
          },
          measureBox: function measureBox(elm, prefix) {
            function getStyle(name) {
              var defaultView = elm.ownerDocument.defaultView;

              if (defaultView) {
                var computedStyle = defaultView.getComputedStyle(elm, null);

                if (computedStyle) {
                  name = name.replace(/[A-Z]/g, function (a) {
                    return '-' + a;
                  });
                  return computedStyle.getPropertyValue(name);
                } else {
                  return null;
                }
              }

              return elm.currentStyle[name];
            }

            function getSide(name) {
              var val = parseFloat(getStyle(name));
              return isNaN(val) ? 0 : val;
            }

            return {
              top: getSide(prefix + 'TopWidth'),
              right: getSide(prefix + 'RightWidth'),
              bottom: getSide(prefix + 'BottomWidth'),
              left: getSide(prefix + 'LeftWidth')
            };
          }
        };

        function noop$1() {}

        function ClassList(onchange) {
          this.cls = [];
          this.cls._map = {};
          this.onchange = onchange || noop$1;
          this.prefix = '';
        }

        global$2.extend(ClassList.prototype, {
          add: function add(cls) {
            if (cls && !this.contains(cls)) {
              this.cls._map[cls] = true;
              this.cls.push(cls);

              this._change();
            }

            return this;
          },
          remove: function remove(cls) {
            if (this.contains(cls)) {
              var i = void 0;

              for (i = 0; i < this.cls.length; i++) {
                if (this.cls[i] === cls) {
                  break;
                }
              }

              this.cls.splice(i, 1);
              delete this.cls._map[cls];

              this._change();
            }

            return this;
          },
          toggle: function toggle(cls, state) {
            var curState = this.contains(cls);

            if (curState !== state) {
              if (curState) {
                this.remove(cls);
              } else {
                this.add(cls);
              }

              this._change();
            }

            return this;
          },
          contains: function contains(cls) {
            return !!this.cls._map[cls];
          },
          _change: function _change() {
            delete this.clsValue;
            this.onchange.call(this);
          }
        });

        ClassList.prototype.toString = function () {
          var value;

          if (this.clsValue) {
            return this.clsValue;
          }

          value = '';

          for (var i = 0; i < this.cls.length; i++) {
            if (i > 0) {
              value += ' ';
            }

            value += this.prefix + this.cls[i];
          }

          return value;
        };

        function unique(array) {
          var uniqueItems = [];
          var i = array.length,
              item;

          while (i--) {
            item = array[i];

            if (!item.__checked) {
              uniqueItems.push(item);
              item.__checked = 1;
            }
          }

          i = uniqueItems.length;

          while (i--) {
            delete uniqueItems[i].__checked;
          }

          return uniqueItems;
        }

        var expression = /^([\w\\*]+)?(?:#([\w\-\\]+))?(?:\.([\w\\\.]+))?(?:\[\@?([\w\\]+)([\^\$\*!~]?=)([\w\\]+)\])?(?:\:(.+))?/i;
        var chunker = /((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g;
        var whiteSpace = /^\s*|\s*$/g;
        var Collection;
        var Selector = global$a.extend({
          init: function init(selector) {
            var match = this.match;

            function compileNameFilter(name) {
              if (name) {
                name = name.toLowerCase();
                return function (item) {
                  return name === '*' || item.type === name;
                };
              }
            }

            function compileIdFilter(id) {
              if (id) {
                return function (item) {
                  return item._name === id;
                };
              }
            }

            function compileClassesFilter(classes) {
              if (classes) {
                classes = classes.split('.');
                return function (item) {
                  var i = classes.length;

                  while (i--) {
                    if (!item.classes.contains(classes[i])) {
                      return false;
                    }
                  }

                  return true;
                };
              }
            }

            function compileAttrFilter(name, cmp, check) {
              if (name) {
                return function (item) {
                  var value = item[name] ? item[name]() : '';
                  return !cmp ? !!check : cmp === '=' ? value === check : cmp === '*=' ? value.indexOf(check) >= 0 : cmp === '~=' ? (' ' + value + ' ').indexOf(' ' + check + ' ') >= 0 : cmp === '!=' ? value !== check : cmp === '^=' ? value.indexOf(check) === 0 : cmp === '$=' ? value.substr(value.length - check.length) === check : false;
                };
              }
            }

            function compilePsuedoFilter(name) {
              var notSelectors;

              if (name) {
                name = /(?:not\((.+)\))|(.+)/i.exec(name);

                if (!name[1]) {
                  name = name[2];
                  return function (item, index, length) {
                    return name === 'first' ? index === 0 : name === 'last' ? index === length - 1 : name === 'even' ? index % 2 === 0 : name === 'odd' ? index % 2 === 1 : item[name] ? item[name]() : false;
                  };
                }

                notSelectors = parseChunks(name[1], []);
                return function (item) {
                  return !match(item, notSelectors);
                };
              }
            }

            function compile(selector, filters, direct) {
              var parts;

              function add(filter) {
                if (filter) {
                  filters.push(filter);
                }
              }

              parts = expression.exec(selector.replace(whiteSpace, ''));
              add(compileNameFilter(parts[1]));
              add(compileIdFilter(parts[2]));
              add(compileClassesFilter(parts[3]));
              add(compileAttrFilter(parts[4], parts[5], parts[6]));
              add(compilePsuedoFilter(parts[7]));
              filters.pseudo = !!parts[7];
              filters.direct = direct;
              return filters;
            }

            function parseChunks(selector, selectors) {
              var parts = [];
              var extra, matches, i;

              do {
                chunker.exec('');
                matches = chunker.exec(selector);

                if (matches) {
                  selector = matches[3];
                  parts.push(matches[1]);

                  if (matches[2]) {
                    extra = matches[3];
                    break;
                  }
                }
              } while (matches);

              if (extra) {
                parseChunks(extra, selectors);
              }

              selector = [];

              for (i = 0; i < parts.length; i++) {
                if (parts[i] !== '>') {
                  selector.push(compile(parts[i], [], parts[i - 1] === '>'));
                }
              }

              selectors.push(selector);
              return selectors;
            }

            this._selectors = parseChunks(selector, []);
          },
          match: function match(control, selectors) {
            var i, l, si, sl, selector, fi, fl, filters, index, length, siblings, count, item;
            selectors = selectors || this._selectors;

            for (i = 0, l = selectors.length; i < l; i++) {
              selector = selectors[i];
              sl = selector.length;
              item = control;
              count = 0;

              for (si = sl - 1; si >= 0; si--) {
                filters = selector[si];

                while (item) {
                  if (filters.pseudo) {
                    siblings = item.parent().items();
                    index = length = siblings.length;

                    while (index--) {
                      if (siblings[index] === item) {
                        break;
                      }
                    }
                  }

                  for (fi = 0, fl = filters.length; fi < fl; fi++) {
                    if (!filters[fi](item, index, length)) {
                      fi = fl + 1;
                      break;
                    }
                  }

                  if (fi === fl) {
                    count++;
                    break;
                  } else {
                    if (si === sl - 1) {
                      break;
                    }
                  }

                  item = item.parent();
                }
              }

              if (count === sl) {
                return true;
              }
            }

            return false;
          },
          find: function find(container) {
            var matches = [],
                i,
                l;
            var selectors = this._selectors;

            function collect(items, selector, index) {
              var i, l, fi, fl, item;
              var filters = selector[index];

              for (i = 0, l = items.length; i < l; i++) {
                item = items[i];

                for (fi = 0, fl = filters.length; fi < fl; fi++) {
                  if (!filters[fi](item, i, l)) {
                    fi = fl + 1;
                    break;
                  }
                }

                if (fi === fl) {
                  if (index === selector.length - 1) {
                    matches.push(item);
                  } else {
                    if (item.items) {
                      collect(item.items(), selector, index + 1);
                    }
                  }
                } else if (filters.direct) {
                  return;
                }

                if (item.items) {
                  collect(item.items(), selector, index);
                }
              }
            }

            if (container.items) {
              for (i = 0, l = selectors.length; i < l; i++) {
                collect(container.items(), selectors[i], 0);
              }

              if (l > 1) {
                matches = unique(matches);
              }
            }

            if (!Collection) {
              Collection = Selector.Collection;
            }

            return new Collection(matches);
          }
        });
        var Collection$1, proto;
        var push$1 = Array.prototype.push,
            slice$1 = Array.prototype.slice;
        proto = {
          length: 0,
          init: function init(items) {
            if (items) {
              this.add(items);
            }
          },
          add: function add(items) {
            var self = this;

            if (!global$2.isArray(items)) {
              if (items instanceof Collection$1) {
                self.add(items.toArray());
              } else {
                push$1.call(self, items);
              }
            } else {
              push$1.apply(self, items);
            }

            return self;
          },
          set: function set(items) {
            var self = this;
            var len = self.length;
            var i;
            self.length = 0;
            self.add(items);

            for (i = self.length; i < len; i++) {
              delete self[i];
            }

            return self;
          },
          filter: function filter(selector) {
            var self = this;
            var i, l;
            var matches = [];
            var item, match;

            if (typeof selector === 'string') {
              selector = new Selector(selector);

              match = function match(item) {
                return selector.match(item);
              };
            } else {
              match = selector;
            }

            for (i = 0, l = self.length; i < l; i++) {
              item = self[i];

              if (match(item)) {
                matches.push(item);
              }
            }

            return new Collection$1(matches);
          },
          slice: function slice() {
            return new Collection$1(slice$1.apply(this, arguments));
          },
          eq: function eq(index) {
            return index === -1 ? this.slice(index) : this.slice(index, +index + 1);
          },
          each: function each(callback) {
            global$2.each(this, callback);
            return this;
          },
          toArray: function toArray() {
            return global$2.toArray(this);
          },
          indexOf: function indexOf(ctrl) {
            var self = this;
            var i = self.length;

            while (i--) {
              if (self[i] === ctrl) {
                break;
              }
            }

            return i;
          },
          reverse: function reverse() {
            return new Collection$1(global$2.toArray(this).reverse());
          },
          hasClass: function hasClass(cls) {
            return this[0] ? this[0].classes.contains(cls) : false;
          },
          prop: function prop(name, value) {
            var self = this;
            var item;

            if (value !== undefined) {
              self.each(function (item) {
                if (item[name]) {
                  item[name](value);
                }
              });
              return self;
            }

            item = self[0];

            if (item && item[name]) {
              return item[name]();
            }
          },
          exec: function exec(name) {
            var self = this,
                args = global$2.toArray(arguments).slice(1);
            self.each(function (item) {
              if (item[name]) {
                item[name].apply(item, args);
              }
            });
            return self;
          },
          remove: function remove() {
            var i = this.length;

            while (i--) {
              this[i].remove();
            }

            return this;
          },
          addClass: function addClass(cls) {
            return this.each(function (item) {
              item.classes.add(cls);
            });
          },
          removeClass: function removeClass(cls) {
            return this.each(function (item) {
              item.classes.remove(cls);
            });
          }
        };
        global$2.each('fire on off show hide append prepend before after reflow'.split(' '), function (name) {
          proto[name] = function () {
            var args = global$2.toArray(arguments);
            this.each(function (ctrl) {
              if (name in ctrl) {
                ctrl[name].apply(ctrl, args);
              }
            });
            return this;
          };
        });
        global$2.each('text name disabled active selected checked visible parent value data'.split(' '), function (name) {
          proto[name] = function (value) {
            return this.prop(name, value);
          };
        });
        Collection$1 = global$a.extend(proto);
        Selector.Collection = Collection$1;
        var Collection$2 = Collection$1;

        var Binding = function Binding(settings) {
          this.create = settings.create;
        };

        Binding.create = function (model, name) {
          return new Binding({
            create: function create(otherModel, otherName) {
              var bindings;

              var fromSelfToOther = function fromSelfToOther(e) {
                otherModel.set(otherName, e.value);
              };

              var fromOtherToSelf = function fromOtherToSelf(e) {
                model.set(name, e.value);
              };

              otherModel.on('change:' + otherName, fromOtherToSelf);
              model.on('change:' + name, fromSelfToOther);
              bindings = otherModel._bindings;

              if (!bindings) {
                bindings = otherModel._bindings = [];
                otherModel.on('destroy', function () {
                  var i = bindings.length;

                  while (i--) {
                    bindings[i]();
                  }
                });
              }

              bindings.push(function () {
                model.off('change:' + name, fromSelfToOther);
              });
              return model.get(name);
            }
          });
        };

        var global$c = tinymce.util.Tools.resolve('tinymce.util.Observable');

        function isNode(node) {
          return node.nodeType > 0;
        }

        function isEqual(a, b) {
          var k, checked;

          if (a === b) {
            return true;
          }

          if (a === null || b === null) {
            return a === b;
          }

          if (typeof a !== 'object' || typeof b !== 'object') {
            return a === b;
          }

          if (global$2.isArray(b)) {
            if (a.length !== b.length) {
              return false;
            }

            k = a.length;

            while (k--) {
              if (!isEqual(a[k], b[k])) {
                return false;
              }
            }
          }

          if (isNode(a) || isNode(b)) {
            return a === b;
          }

          checked = {};

          for (k in b) {
            if (!isEqual(a[k], b[k])) {
              return false;
            }

            checked[k] = true;
          }

          for (k in a) {
            if (!checked[k] && !isEqual(a[k], b[k])) {
              return false;
            }
          }

          return true;
        }

        var ObservableObject = global$a.extend({
          Mixins: [global$c],
          init: function init(data) {
            var name, value;
            data = data || {};

            for (name in data) {
              value = data[name];

              if (value instanceof Binding) {
                data[name] = value.create(this, name);
              }
            }

            this.data = data;
          },
          set: function set(name, value) {
            var key, args;
            var oldValue = this.data[name];

            if (value instanceof Binding) {
              value = value.create(this, name);
            }

            if (typeof name === 'object') {
              for (key in name) {
                this.set(key, name[key]);
              }

              return this;
            }

            if (!isEqual(oldValue, value)) {
              this.data[name] = value;
              args = {
                target: this,
                name: name,
                value: value,
                oldValue: oldValue
              };
              this.fire('change:' + name, args);
              this.fire('change', args);
            }

            return this;
          },
          get: function get(name) {
            return this.data[name];
          },
          has: function has(name) {
            return name in this.data;
          },
          bind: function bind(name) {
            return Binding.create(this, name);
          },
          destroy: function destroy() {
            this.fire('destroy');
          }
        });
        var dirtyCtrls = {},
            animationFrameRequested;
        var ReflowQueue = {
          add: function add(ctrl) {
            var parent = ctrl.parent();

            if (parent) {
              if (!parent._layout || parent._layout.isNative()) {
                return;
              }

              if (!dirtyCtrls[parent._id]) {
                dirtyCtrls[parent._id] = parent;
              }

              if (!animationFrameRequested) {
                animationFrameRequested = true;
                global$7.requestAnimationFrame(function () {
                  var id, ctrl;
                  animationFrameRequested = false;

                  for (id in dirtyCtrls) {
                    ctrl = dirtyCtrls[id];

                    if (ctrl.state.get('rendered')) {
                      ctrl.reflow();
                    }
                  }

                  dirtyCtrls = {};
                }, domGlobals.document.body);
              }
            }
          },
          remove: function remove(ctrl) {
            if (dirtyCtrls[ctrl._id]) {
              delete dirtyCtrls[ctrl._id];
            }
          }
        };
        var hasMouseWheelEventSupport = ('onmousewheel' in domGlobals.document);
        var hasWheelEventSupport = false;
        var classPrefix = 'mce-';
        var Control,
            idCounter = 0;
        var proto$1 = {
          Statics: {
            classPrefix: classPrefix
          },
          isRtl: function isRtl() {
            return Control.rtl;
          },
          classPrefix: classPrefix,
          init: function init(settings) {
            var self = this;
            var classes, defaultClasses;

            function applyClasses(classes) {
              var i;
              classes = classes.split(' ');

              for (i = 0; i < classes.length; i++) {
                self.classes.add(classes[i]);
              }
            }

            self.settings = settings = global$2.extend({}, self.Defaults, settings);
            self._id = settings.id || 'mceu_' + idCounter++;
            self._aria = {
              role: settings.role
            };
            self._elmCache = {};
            self.$ = global$9;
            self.state = new ObservableObject({
              visible: true,
              active: false,
              disabled: false,
              value: ''
            });
            self.data = new ObservableObject(settings.data);
            self.classes = new ClassList(function () {
              if (self.state.get('rendered')) {
                self.getEl().className = this.toString();
              }
            });
            self.classes.prefix = self.classPrefix;
            classes = settings.classes;

            if (classes) {
              if (self.Defaults) {
                defaultClasses = self.Defaults.classes;

                if (defaultClasses && classes !== defaultClasses) {
                  applyClasses(defaultClasses);
                }
              }

              applyClasses(classes);
            }

            global$2.each('title text name visible disabled active value'.split(' '), function (name) {
              if (name in settings) {
                self[name](settings[name]);
              }
            });
            self.on('click', function () {
              if (self.disabled()) {
                return false;
              }
            });
            self.settings = settings;
            self.borderBox = BoxUtils.parseBox(settings.border);
            self.paddingBox = BoxUtils.parseBox(settings.padding);
            self.marginBox = BoxUtils.parseBox(settings.margin);

            if (settings.hidden) {
              self.hide();
            }
          },
          Properties: 'parent,name',
          getContainerElm: function getContainerElm() {
            var uiContainer = UiContainer.getUiContainer(this);
            return uiContainer ? uiContainer : funcs.getContainer();
          },
          getParentCtrl: function getParentCtrl(elm) {
            var ctrl;
            var lookup = this.getRoot().controlIdLookup;

            while (elm && lookup) {
              ctrl = lookup[elm.id];

              if (ctrl) {
                break;
              }

              elm = elm.parentNode;
            }

            return ctrl;
          },
          initLayoutRect: function initLayoutRect() {
            var self = this;
            var settings = self.settings;
            var borderBox, layoutRect;
            var elm = self.getEl();
            var width, height, minWidth, minHeight, autoResize;
            var startMinWidth, startMinHeight, initialSize;
            borderBox = self.borderBox = self.borderBox || BoxUtils.measureBox(elm, 'border');
            self.paddingBox = self.paddingBox || BoxUtils.measureBox(elm, 'padding');
            self.marginBox = self.marginBox || BoxUtils.measureBox(elm, 'margin');
            initialSize = funcs.getSize(elm);
            startMinWidth = settings.minWidth;
            startMinHeight = settings.minHeight;
            minWidth = startMinWidth || initialSize.width;
            minHeight = startMinHeight || initialSize.height;
            width = settings.width;
            height = settings.height;
            autoResize = settings.autoResize;
            autoResize = typeof autoResize !== 'undefined' ? autoResize : !width && !height;
            width = width || minWidth;
            height = height || minHeight;
            var deltaW = borderBox.left + borderBox.right;
            var deltaH = borderBox.top + borderBox.bottom;
            var maxW = settings.maxWidth || 65535;
            var maxH = settings.maxHeight || 65535;
            self._layoutRect = layoutRect = {
              x: settings.x || 0,
              y: settings.y || 0,
              w: width,
              h: height,
              deltaW: deltaW,
              deltaH: deltaH,
              contentW: width - deltaW,
              contentH: height - deltaH,
              innerW: width - deltaW,
              innerH: height - deltaH,
              startMinWidth: startMinWidth || 0,
              startMinHeight: startMinHeight || 0,
              minW: Math.min(minWidth, maxW),
              minH: Math.min(minHeight, maxH),
              maxW: maxW,
              maxH: maxH,
              autoResize: autoResize,
              scrollW: 0
            };
            self._lastLayoutRect = {};
            return layoutRect;
          },
          layoutRect: function layoutRect(newRect) {
            var self = this;
            var curRect = self._layoutRect,
                lastLayoutRect,
                size,
                deltaWidth,
                deltaHeight,
                repaintControls;

            if (!curRect) {
              curRect = self.initLayoutRect();
            }

            if (newRect) {
              deltaWidth = curRect.deltaW;
              deltaHeight = curRect.deltaH;

              if (newRect.x !== undefined) {
                curRect.x = newRect.x;
              }

              if (newRect.y !== undefined) {
                curRect.y = newRect.y;
              }

              if (newRect.minW !== undefined) {
                curRect.minW = newRect.minW;
              }

              if (newRect.minH !== undefined) {
                curRect.minH = newRect.minH;
              }

              size = newRect.w;

              if (size !== undefined) {
                size = size < curRect.minW ? curRect.minW : size;
                size = size > curRect.maxW ? curRect.maxW : size;
                curRect.w = size;
                curRect.innerW = size - deltaWidth;
              }

              size = newRect.h;

              if (size !== undefined) {
                size = size < curRect.minH ? curRect.minH : size;
                size = size > curRect.maxH ? curRect.maxH : size;
                curRect.h = size;
                curRect.innerH = size - deltaHeight;
              }

              size = newRect.innerW;

              if (size !== undefined) {
                size = size < curRect.minW - deltaWidth ? curRect.minW - deltaWidth : size;
                size = size > curRect.maxW - deltaWidth ? curRect.maxW - deltaWidth : size;
                curRect.innerW = size;
                curRect.w = size + deltaWidth;
              }

              size = newRect.innerH;

              if (size !== undefined) {
                size = size < curRect.minH - deltaHeight ? curRect.minH - deltaHeight : size;
                size = size > curRect.maxH - deltaHeight ? curRect.maxH - deltaHeight : size;
                curRect.innerH = size;
                curRect.h = size + deltaHeight;
              }

              if (newRect.contentW !== undefined) {
                curRect.contentW = newRect.contentW;
              }

              if (newRect.contentH !== undefined) {
                curRect.contentH = newRect.contentH;
              }

              lastLayoutRect = self._lastLayoutRect;

              if (lastLayoutRect.x !== curRect.x || lastLayoutRect.y !== curRect.y || lastLayoutRect.w !== curRect.w || lastLayoutRect.h !== curRect.h) {
                repaintControls = Control.repaintControls;

                if (repaintControls) {
                  if (repaintControls.map && !repaintControls.map[self._id]) {
                    repaintControls.push(self);
                    repaintControls.map[self._id] = true;
                  }
                }

                lastLayoutRect.x = curRect.x;
                lastLayoutRect.y = curRect.y;
                lastLayoutRect.w = curRect.w;
                lastLayoutRect.h = curRect.h;
              }

              return self;
            }

            return curRect;
          },
          repaint: function repaint() {
            var self = this;
            var style, bodyStyle, bodyElm, rect, borderBox;
            var borderW, borderH, lastRepaintRect, round, value;
            round = !domGlobals.document.createRange ? Math.round : function (value) {
              return value;
            };
            style = self.getEl().style;
            rect = self._layoutRect;
            lastRepaintRect = self._lastRepaintRect || {};
            borderBox = self.borderBox;
            borderW = borderBox.left + borderBox.right;
            borderH = borderBox.top + borderBox.bottom;

            if (rect.x !== lastRepaintRect.x) {
              style.left = round(rect.x) + 'px';
              lastRepaintRect.x = rect.x;
            }

            if (rect.y !== lastRepaintRect.y) {
              style.top = round(rect.y) + 'px';
              lastRepaintRect.y = rect.y;
            }

            if (rect.w !== lastRepaintRect.w) {
              value = round(rect.w - borderW);
              style.width = (value >= 0 ? value : 0) + 'px';
              lastRepaintRect.w = rect.w;
            }

            if (rect.h !== lastRepaintRect.h) {
              value = round(rect.h - borderH);
              style.height = (value >= 0 ? value : 0) + 'px';
              lastRepaintRect.h = rect.h;
            }

            if (self._hasBody && rect.innerW !== lastRepaintRect.innerW) {
              value = round(rect.innerW);
              bodyElm = self.getEl('body');

              if (bodyElm) {
                bodyStyle = bodyElm.style;
                bodyStyle.width = (value >= 0 ? value : 0) + 'px';
              }

              lastRepaintRect.innerW = rect.innerW;
            }

            if (self._hasBody && rect.innerH !== lastRepaintRect.innerH) {
              value = round(rect.innerH);
              bodyElm = bodyElm || self.getEl('body');

              if (bodyElm) {
                bodyStyle = bodyStyle || bodyElm.style;
                bodyStyle.height = (value >= 0 ? value : 0) + 'px';
              }

              lastRepaintRect.innerH = rect.innerH;
            }

            self._lastRepaintRect = lastRepaintRect;
            self.fire('repaint', {}, false);
          },
          updateLayoutRect: function updateLayoutRect() {
            var self = this;
            self.parent()._lastRect = null;
            funcs.css(self.getEl(), {
              width: '',
              height: ''
            });
            self._layoutRect = self._lastRepaintRect = self._lastLayoutRect = null;
            self.initLayoutRect();
          },
          on: function on(name, callback) {
            var self = this;

            function resolveCallbackName(name) {
              var callback, scope;

              if (typeof name !== 'string') {
                return name;
              }

              return function (e) {
                if (!callback) {
                  self.parentsAndSelf().each(function (ctrl) {
                    var callbacks = ctrl.settings.callbacks;

                    if (callbacks && (callback = callbacks[name])) {
                      scope = ctrl;
                      return false;
                    }
                  });
                }

                if (!callback) {
                  e.action = name;
                  this.fire('execute', e);
                  return;
                }

                return callback.call(scope, e);
              };
            }

            getEventDispatcher(self).on(name, resolveCallbackName(callback));
            return self;
          },
          off: function off(name, callback) {
            getEventDispatcher(this).off(name, callback);
            return this;
          },
          fire: function fire(name, args, bubble) {
            var self = this;
            args = args || {};

            if (!args.control) {
              args.control = self;
            }

            args = getEventDispatcher(self).fire(name, args);

            if (bubble !== false && self.parent) {
              var parent = self.parent();

              while (parent && !args.isPropagationStopped()) {
                parent.fire(name, args, false);
                parent = parent.parent();
              }
            }

            return args;
          },
          hasEventListeners: function hasEventListeners(name) {
            return getEventDispatcher(this).has(name);
          },
          parents: function parents(selector) {
            var self = this;
            var ctrl,
                parents = new Collection$2();

            for (ctrl = self.parent(); ctrl; ctrl = ctrl.parent()) {
              parents.add(ctrl);
            }

            if (selector) {
              parents = parents.filter(selector);
            }

            return parents;
          },
          parentsAndSelf: function parentsAndSelf(selector) {
            return new Collection$2(this).add(this.parents(selector));
          },
          next: function next() {
            var parentControls = this.parent().items();
            return parentControls[parentControls.indexOf(this) + 1];
          },
          prev: function prev() {
            var parentControls = this.parent().items();
            return parentControls[parentControls.indexOf(this) - 1];
          },
          innerHtml: function innerHtml(html) {
            this.$el.html(html);
            return this;
          },
          getEl: function getEl(suffix) {
            var id = suffix ? this._id + '-' + suffix : this._id;

            if (!this._elmCache[id]) {
              this._elmCache[id] = global$9('#' + id)[0];
            }

            return this._elmCache[id];
          },
          show: function show() {
            return this.visible(true);
          },
          hide: function hide() {
            return this.visible(false);
          },
          focus: function focus() {
            try {
              this.getEl().focus();
            } catch (ex) {}

            return this;
          },
          blur: function blur() {
            this.getEl().blur();
            return this;
          },
          aria: function aria(name, value) {
            var self = this,
                elm = self.getEl(self.ariaTarget);

            if (typeof value === 'undefined') {
              return self._aria[name];
            }

            self._aria[name] = value;

            if (self.state.get('rendered')) {
              elm.setAttribute(name === 'role' ? name : 'aria-' + name, value);
            }

            return self;
          },
          encode: function encode(text, translate) {
            if (translate !== false) {
              text = this.translate(text);
            }

            return (text || '').replace(/[&<>"]/g, function (match) {
              return '&#' + match.charCodeAt(0) + ';';
            });
          },
          translate: function translate(text) {
            return Control.translate ? Control.translate(text) : text;
          },
          before: function before(items) {
            var self = this,
                parent = self.parent();

            if (parent) {
              parent.insert(items, parent.items().indexOf(self), true);
            }

            return self;
          },
          after: function after(items) {
            var self = this,
                parent = self.parent();

            if (parent) {
              parent.insert(items, parent.items().indexOf(self));
            }

            return self;
          },
          remove: function remove() {
            var self = this;
            var elm = self.getEl();
            var parent = self.parent();
            var newItems, i;

            if (self.items) {
              var controls = self.items().toArray();
              i = controls.length;

              while (i--) {
                controls[i].remove();
              }
            }

            if (parent && parent.items) {
              newItems = [];
              parent.items().each(function (item) {
                if (item !== self) {
                  newItems.push(item);
                }
              });
              parent.items().set(newItems);
              parent._lastRect = null;
            }

            if (self._eventsRoot && self._eventsRoot === self) {
              global$9(elm).off();
            }

            var lookup = self.getRoot().controlIdLookup;

            if (lookup) {
              delete lookup[self._id];
            }

            if (elm && elm.parentNode) {
              elm.parentNode.removeChild(elm);
            }

            self.state.set('rendered', false);
            self.state.destroy();
            self.fire('remove');
            return self;
          },
          renderBefore: function renderBefore(elm) {
            global$9(elm).before(this.renderHtml());
            this.postRender();
            return this;
          },
          renderTo: function renderTo(elm) {
            global$9(elm || this.getContainerElm()).append(this.renderHtml());
            this.postRender();
            return this;
          },
          preRender: function preRender() {},
          render: function render() {},
          renderHtml: function renderHtml() {
            return '<div id="' + this._id + '" class="' + this.classes + '"></div>';
          },
          postRender: function postRender() {
            var self = this;
            var settings = self.settings;
            var elm, box, parent, name, parentEventsRoot;
            self.$el = global$9(self.getEl());
            self.state.set('rendered', true);

            for (name in settings) {
              if (name.indexOf('on') === 0) {
                self.on(name.substr(2), settings[name]);
              }
            }

            if (self._eventsRoot) {
              for (parent = self.parent(); !parentEventsRoot && parent; parent = parent.parent()) {
                parentEventsRoot = parent._eventsRoot;
              }

              if (parentEventsRoot) {
                for (name in parentEventsRoot._nativeEvents) {
                  self._nativeEvents[name] = true;
                }
              }
            }

            bindPendingEvents(self);

            if (settings.style) {
              elm = self.getEl();

              if (elm) {
                elm.setAttribute('style', settings.style);
                elm.style.cssText = settings.style;
              }
            }

            if (self.settings.border) {
              box = self.borderBox;
              self.$el.css({
                'border-top-width': box.top,
                'border-right-width': box.right,
                'border-bottom-width': box.bottom,
                'border-left-width': box.left
              });
            }

            var root = self.getRoot();

            if (!root.controlIdLookup) {
              root.controlIdLookup = {};
            }

            root.controlIdLookup[self._id] = self;

            for (var key in self._aria) {
              self.aria(key, self._aria[key]);
            }

            if (self.state.get('visible') === false) {
              self.getEl().style.display = 'none';
            }

            self.bindStates();
            self.state.on('change:visible', function (e) {
              var state = e.value;
              var parentCtrl;

              if (self.state.get('rendered')) {
                self.getEl().style.display = state === false ? 'none' : '';
                self.getEl().getBoundingClientRect();
              }

              parentCtrl = self.parent();

              if (parentCtrl) {
                parentCtrl._lastRect = null;
              }

              self.fire(state ? 'show' : 'hide');
              ReflowQueue.add(self);
            });
            self.fire('postrender', {}, false);
          },
          bindStates: function bindStates() {},
          scrollIntoView: function scrollIntoView(align) {
            function getOffset(elm, rootElm) {
              var x,
                  y,
                  parent = elm;
              x = y = 0;

              while (parent && parent !== rootElm && parent.nodeType) {
                x += parent.offsetLeft || 0;
                y += parent.offsetTop || 0;
                parent = parent.offsetParent;
              }

              return {
                x: x,
                y: y
              };
            }

            var elm = this.getEl(),
                parentElm = elm.parentNode;
            var x, y, width, height, parentWidth, parentHeight;
            var pos = getOffset(elm, parentElm);
            x = pos.x;
            y = pos.y;
            width = elm.offsetWidth;
            height = elm.offsetHeight;
            parentWidth = parentElm.clientWidth;
            parentHeight = parentElm.clientHeight;

            if (align === 'end') {
              x -= parentWidth - width;
              y -= parentHeight - height;
            } else if (align === 'center') {
              x -= parentWidth / 2 - width / 2;
              y -= parentHeight / 2 - height / 2;
            }

            parentElm.scrollLeft = x;
            parentElm.scrollTop = y;
            return this;
          },
          getRoot: function getRoot() {
            var ctrl = this,
                rootControl;
            var parents = [];

            while (ctrl) {
              if (ctrl.rootControl) {
                rootControl = ctrl.rootControl;
                break;
              }

              parents.push(ctrl);
              rootControl = ctrl;
              ctrl = ctrl.parent();
            }

            if (!rootControl) {
              rootControl = this;
            }

            var i = parents.length;

            while (i--) {
              parents[i].rootControl = rootControl;
            }

            return rootControl;
          },
          reflow: function reflow() {
            ReflowQueue.remove(this);
            var parent = this.parent();

            if (parent && parent._layout && !parent._layout.isNative()) {
              parent.reflow();
            }

            return this;
          }
        };
        global$2.each('text title visible disabled active value'.split(' '), function (name) {
          proto$1[name] = function (value) {
            if (arguments.length === 0) {
              return this.state.get(name);
            }

            if (typeof value !== 'undefined') {
              this.state.set(name, value);
            }

            return this;
          };
        });
        Control = global$a.extend(proto$1);

        function getEventDispatcher(obj) {
          if (!obj._eventDispatcher) {
            obj._eventDispatcher = new global$b({
              scope: obj,
              toggleEvent: function toggleEvent(name, state) {
                if (state && global$b.isNative(name)) {
                  if (!obj._nativeEvents) {
                    obj._nativeEvents = {};
                  }

                  obj._nativeEvents[name] = true;

                  if (obj.state.get('rendered')) {
                    bindPendingEvents(obj);
                  }
                }
              }
            });
          }

          return obj._eventDispatcher;
        }

        function bindPendingEvents(eventCtrl) {
          var i, l, parents, eventRootCtrl, nativeEvents, name;

          function delegate(e) {
            var control = eventCtrl.getParentCtrl(e.target);

            if (control) {
              control.fire(e.type, e);
            }
          }

          function mouseLeaveHandler() {
            var ctrl = eventRootCtrl._lastHoverCtrl;

            if (ctrl) {
              ctrl.fire('mouseleave', {
                target: ctrl.getEl()
              });
              ctrl.parents().each(function (ctrl) {
                ctrl.fire('mouseleave', {
                  target: ctrl.getEl()
                });
              });
              eventRootCtrl._lastHoverCtrl = null;
            }
          }

          function mouseEnterHandler(e) {
            var ctrl = eventCtrl.getParentCtrl(e.target),
                lastCtrl = eventRootCtrl._lastHoverCtrl,
                idx = 0,
                i,
                parents,
                lastParents;

            if (ctrl !== lastCtrl) {
              eventRootCtrl._lastHoverCtrl = ctrl;
              parents = ctrl.parents().toArray().reverse();
              parents.push(ctrl);

              if (lastCtrl) {
                lastParents = lastCtrl.parents().toArray().reverse();
                lastParents.push(lastCtrl);

                for (idx = 0; idx < lastParents.length; idx++) {
                  if (parents[idx] !== lastParents[idx]) {
                    break;
                  }
                }

                for (i = lastParents.length - 1; i >= idx; i--) {
                  lastCtrl = lastParents[i];
                  lastCtrl.fire('mouseleave', {
                    target: lastCtrl.getEl()
                  });
                }
              }

              for (i = idx; i < parents.length; i++) {
                ctrl = parents[i];
                ctrl.fire('mouseenter', {
                  target: ctrl.getEl()
                });
              }
            }
          }

          function fixWheelEvent(e) {
            e.preventDefault();

            if (e.type === 'mousewheel') {
              e.deltaY = -1 / 40 * e.wheelDelta;

              if (e.wheelDeltaX) {
                e.deltaX = -1 / 40 * e.wheelDeltaX;
              }
            } else {
              e.deltaX = 0;
              e.deltaY = e.detail;
            }

            e = eventCtrl.fire('wheel', e);
          }

          nativeEvents = eventCtrl._nativeEvents;

          if (nativeEvents) {
            parents = eventCtrl.parents().toArray();
            parents.unshift(eventCtrl);

            for (i = 0, l = parents.length; !eventRootCtrl && i < l; i++) {
              eventRootCtrl = parents[i]._eventsRoot;
            }

            if (!eventRootCtrl) {
              eventRootCtrl = parents[parents.length - 1] || eventCtrl;
            }

            eventCtrl._eventsRoot = eventRootCtrl;

            for (l = i, i = 0; i < l; i++) {
              parents[i]._eventsRoot = eventRootCtrl;
            }

            var eventRootDelegates = eventRootCtrl._delegates;

            if (!eventRootDelegates) {
              eventRootDelegates = eventRootCtrl._delegates = {};
            }

            for (name in nativeEvents) {
              if (!nativeEvents) {
                return false;
              }

              if (name === 'wheel' && !hasWheelEventSupport) {
                if (hasMouseWheelEventSupport) {
                  global$9(eventCtrl.getEl()).on('mousewheel', fixWheelEvent);
                } else {
                  global$9(eventCtrl.getEl()).on('DOMMouseScroll', fixWheelEvent);
                }

                continue;
              }

              if (name === 'mouseenter' || name === 'mouseleave') {
                if (!eventRootCtrl._hasMouseEnter) {
                  global$9(eventRootCtrl.getEl()).on('mouseleave', mouseLeaveHandler).on('mouseover', mouseEnterHandler);
                  eventRootCtrl._hasMouseEnter = 1;
                }
              } else if (!eventRootDelegates[name]) {
                global$9(eventRootCtrl.getEl()).on(name, delegate);
                eventRootDelegates[name] = true;
              }

              nativeEvents[name] = false;
            }
          }
        }

        var Control$1 = Control;

        var hasTabstopData = function hasTabstopData(elm) {
          return elm.getAttribute('data-mce-tabstop') ? true : false;
        };

        function KeyboardNavigation(settings) {
          var root = settings.root;
          var focusedElement, focusedControl;

          function isElement(node) {
            return node && node.nodeType === 1;
          }

          try {
            focusedElement = domGlobals.document.activeElement;
          } catch (ex) {
            focusedElement = domGlobals.document.body;
          }

          focusedControl = root.getParentCtrl(focusedElement);

          function getRole(elm) {
            elm = elm || focusedElement;

            if (isElement(elm)) {
              return elm.getAttribute('role');
            }

            return null;
          }

          function getParentRole(elm) {
            var role,
                parent = elm || focusedElement;

            while (parent = parent.parentNode) {
              if (role = getRole(parent)) {
                return role;
              }
            }
          }

          function getAriaProp(name) {
            var elm = focusedElement;

            if (isElement(elm)) {
              return elm.getAttribute('aria-' + name);
            }
          }

          function isTextInputElement(elm) {
            var tagName = elm.tagName.toUpperCase();
            return tagName === 'INPUT' || tagName === 'TEXTAREA' || tagName === 'SELECT';
          }

          function canFocus(elm) {
            if (isTextInputElement(elm) && !elm.hidden) {
              return true;
            }

            if (hasTabstopData(elm)) {
              return true;
            }

            if (/^(button|menuitem|checkbox|tab|menuitemcheckbox|option|gridcell|slider)$/.test(getRole(elm))) {
              return true;
            }

            return false;
          }

          function getFocusElements(elm) {
            var elements = [];

            function collect(elm) {
              if (elm.nodeType !== 1 || elm.style.display === 'none' || elm.disabled) {
                return;
              }

              if (canFocus(elm)) {
                elements.push(elm);
              }

              for (var i = 0; i < elm.childNodes.length; i++) {
                collect(elm.childNodes[i]);
              }
            }

            collect(elm || root.getEl());
            return elements;
          }

          function getNavigationRoot(targetControl) {
            var navigationRoot, controls;
            targetControl = targetControl || focusedControl;
            controls = targetControl.parents().toArray();
            controls.unshift(targetControl);

            for (var i = 0; i < controls.length; i++) {
              navigationRoot = controls[i];

              if (navigationRoot.settings.ariaRoot) {
                break;
              }
            }

            return navigationRoot;
          }

          function focusFirst(targetControl) {
            var navigationRoot = getNavigationRoot(targetControl);
            var focusElements = getFocusElements(navigationRoot.getEl());

            if (navigationRoot.settings.ariaRemember && 'lastAriaIndex' in navigationRoot) {
              moveFocusToIndex(navigationRoot.lastAriaIndex, focusElements);
            } else {
              moveFocusToIndex(0, focusElements);
            }
          }

          function moveFocusToIndex(idx, elements) {
            if (idx < 0) {
              idx = elements.length - 1;
            } else if (idx >= elements.length) {
              idx = 0;
            }

            if (elements[idx]) {
              elements[idx].focus();
            }

            return idx;
          }

          function moveFocus(dir, elements) {
            var idx = -1;
            var navigationRoot = getNavigationRoot();
            elements = elements || getFocusElements(navigationRoot.getEl());

            for (var i = 0; i < elements.length; i++) {
              if (elements[i] === focusedElement) {
                idx = i;
              }
            }

            idx += dir;
            navigationRoot.lastAriaIndex = moveFocusToIndex(idx, elements);
          }

          function left() {
            var parentRole = getParentRole();

            if (parentRole === 'tablist') {
              moveFocus(-1, getFocusElements(focusedElement.parentNode));
            } else if (focusedControl.parent().submenu) {
              cancel();
            } else {
              moveFocus(-1);
            }
          }

          function right() {
            var role = getRole(),
                parentRole = getParentRole();

            if (parentRole === 'tablist') {
              moveFocus(1, getFocusElements(focusedElement.parentNode));
            } else if (role === 'menuitem' && parentRole === 'menu' && getAriaProp('haspopup')) {
              enter();
            } else {
              moveFocus(1);
            }
          }

          function up() {
            moveFocus(-1);
          }

          function down() {
            var role = getRole(),
                parentRole = getParentRole();

            if (role === 'menuitem' && parentRole === 'menubar') {
              enter();
            } else if (role === 'button' && getAriaProp('haspopup')) {
              enter({
                key: 'down'
              });
            } else {
              moveFocus(1);
            }
          }

          function tab(e) {
            var parentRole = getParentRole();

            if (parentRole === 'tablist') {
              var elm = getFocusElements(focusedControl.getEl('body'))[0];

              if (elm) {
                elm.focus();
              }
            } else {
              moveFocus(e.shiftKey ? -1 : 1);
            }
          }

          function cancel() {
            focusedControl.fire('cancel');
          }

          function enter(aria) {
            aria = aria || {};
            focusedControl.fire('click', {
              target: focusedElement,
              aria: aria
            });
          }

          root.on('keydown', function (e) {
            function handleNonTabOrEscEvent(e, handler) {
              if (isTextInputElement(focusedElement) || hasTabstopData(focusedElement)) {
                return;
              }

              if (getRole(focusedElement) === 'slider') {
                return;
              }

              if (handler(e) !== false) {
                e.preventDefault();
              }
            }

            if (e.isDefaultPrevented()) {
              return;
            }

            switch (e.keyCode) {
              case 37:
                handleNonTabOrEscEvent(e, left);
                break;

              case 39:
                handleNonTabOrEscEvent(e, right);
                break;

              case 38:
                handleNonTabOrEscEvent(e, up);
                break;

              case 40:
                handleNonTabOrEscEvent(e, down);
                break;

              case 27:
                cancel();
                break;

              case 14:
              case 13:
              case 32:
                handleNonTabOrEscEvent(e, enter);
                break;

              case 9:
                tab(e);
                e.preventDefault();
                break;
            }
          });
          root.on('focusin', function (e) {
            focusedElement = e.target;
            focusedControl = e.control;
          });
          return {
            focusFirst: focusFirst
          };
        }

        var selectorCache = {};
        var Container = Control$1.extend({
          init: function init(settings) {
            var self = this;

            self._super(settings);

            settings = self.settings;

            if (settings.fixed) {
              self.state.set('fixed', true);
            }

            self._items = new Collection$2();

            if (self.isRtl()) {
              self.classes.add('rtl');
            }

            self.bodyClasses = new ClassList(function () {
              if (self.state.get('rendered')) {
                self.getEl('body').className = this.toString();
              }
            });
            self.bodyClasses.prefix = self.classPrefix;
            self.classes.add('container');
            self.bodyClasses.add('container-body');

            if (settings.containerCls) {
              self.classes.add(settings.containerCls);
            }

            self._layout = global$4.create((settings.layout || '') + 'layout');

            if (self.settings.items) {
              self.add(self.settings.items);
            } else {
              self.add(self.render());
            }

            self._hasBody = true;
          },
          items: function items() {
            return this._items;
          },
          find: function find(selector) {
            selector = selectorCache[selector] = selectorCache[selector] || new Selector(selector);
            return selector.find(this);
          },
          add: function add(items) {
            var self = this;
            self.items().add(self.create(items)).parent(self);
            return self;
          },
          focus: function focus(keyboard) {
            var self = this;
            var focusCtrl, keyboardNav, items;

            if (keyboard) {
              keyboardNav = self.keyboardNav || self.parents().eq(-1)[0].keyboardNav;

              if (keyboardNav) {
                keyboardNav.focusFirst(self);
                return;
              }
            }

            items = self.find('*');

            if (self.statusbar) {
              items.add(self.statusbar.items());
            }

            items.each(function (ctrl) {
              if (ctrl.settings.autofocus) {
                focusCtrl = null;
                return false;
              }

              if (ctrl.canFocus) {
                focusCtrl = focusCtrl || ctrl;
              }
            });

            if (focusCtrl) {
              focusCtrl.focus();
            }

            return self;
          },
          replace: function replace(oldItem, newItem) {
            var ctrlElm;
            var items = this.items();
            var i = items.length;

            while (i--) {
              if (items[i] === oldItem) {
                items[i] = newItem;
                break;
              }
            }

            if (i >= 0) {
              ctrlElm = newItem.getEl();

              if (ctrlElm) {
                ctrlElm.parentNode.removeChild(ctrlElm);
              }

              ctrlElm = oldItem.getEl();

              if (ctrlElm) {
                ctrlElm.parentNode.removeChild(ctrlElm);
              }
            }

            newItem.parent(this);
          },
          create: function create(items) {
            var self = this;
            var settings;
            var ctrlItems = [];

            if (!global$2.isArray(items)) {
              items = [items];
            }

            global$2.each(items, function (item) {
              if (item) {
                if (!(item instanceof Control$1)) {
                  if (typeof item === 'string') {
                    item = {
                      type: item
                    };
                  }

                  settings = global$2.extend({}, self.settings.defaults, item);
                  item.type = settings.type = settings.type || item.type || self.settings.defaultType || (settings.defaults ? settings.defaults.type : null);
                  item = global$4.create(settings);
                }

                ctrlItems.push(item);
              }
            });
            return ctrlItems;
          },
          renderNew: function renderNew() {
            var self = this;
            self.items().each(function (ctrl, index) {
              var containerElm;
              ctrl.parent(self);

              if (!ctrl.state.get('rendered')) {
                containerElm = self.getEl('body');

                if (containerElm.hasChildNodes() && index <= containerElm.childNodes.length - 1) {
                  global$9(containerElm.childNodes[index]).before(ctrl.renderHtml());
                } else {
                  global$9(containerElm).append(ctrl.renderHtml());
                }

                ctrl.postRender();
                ReflowQueue.add(ctrl);
              }
            });

            self._layout.applyClasses(self.items().filter(':visible'));

            self._lastRect = null;
            return self;
          },
          append: function append(items) {
            return this.add(items).renderNew();
          },
          prepend: function prepend(items) {
            var self = this;
            self.items().set(self.create(items).concat(self.items().toArray()));
            return self.renderNew();
          },
          insert: function insert(items, index, before) {
            var self = this;
            var curItems, beforeItems, afterItems;
            items = self.create(items);
            curItems = self.items();

            if (!before && index < curItems.length - 1) {
              index += 1;
            }

            if (index >= 0 && index < curItems.length) {
              beforeItems = curItems.slice(0, index).toArray();
              afterItems = curItems.slice(index).toArray();
              curItems.set(beforeItems.concat(items, afterItems));
            }

            return self.renderNew();
          },
          fromJSON: function fromJSON(data) {
            var self = this;

            for (var name in data) {
              self.find('#' + name).value(data[name]);
            }

            return self;
          },
          toJSON: function toJSON() {
            var self = this,
                data = {};
            self.find('*').each(function (ctrl) {
              var name = ctrl.name(),
                  value = ctrl.value();

              if (name && typeof value !== 'undefined') {
                data[name] = value;
              }
            });
            return data;
          },
          renderHtml: function renderHtml() {
            var self = this,
                layout = self._layout,
                role = this.settings.role;
            self.preRender();
            layout.preRender(self);
            return '<div id="' + self._id + '" class="' + self.classes + '"' + (role ? ' role="' + this.settings.role + '"' : '') + '>' + '<div id="' + self._id + '-body" class="' + self.bodyClasses + '">' + (self.settings.html || '') + layout.renderHtml(self) + '</div>' + '</div>';
          },
          postRender: function postRender() {
            var self = this;
            var box;
            self.items().exec('postRender');

            self._super();

            self._layout.postRender(self);

            self.state.set('rendered', true);

            if (self.settings.style) {
              self.$el.css(self.settings.style);
            }

            if (self.settings.border) {
              box = self.borderBox;
              self.$el.css({
                'border-top-width': box.top,
                'border-right-width': box.right,
                'border-bottom-width': box.bottom,
                'border-left-width': box.left
              });
            }

            if (!self.parent()) {
              self.keyboardNav = KeyboardNavigation({
                root: self
              });
            }

            return self;
          },
          initLayoutRect: function initLayoutRect() {
            var self = this,
                layoutRect = self._super();

            self._layout.recalc(self);

            return layoutRect;
          },
          recalc: function recalc() {
            var self = this;
            var rect = self._layoutRect;
            var lastRect = self._lastRect;

            if (!lastRect || lastRect.w !== rect.w || lastRect.h !== rect.h) {
              self._layout.recalc(self);

              rect = self.layoutRect();
              self._lastRect = {
                x: rect.x,
                y: rect.y,
                w: rect.w,
                h: rect.h
              };
              return true;
            }
          },
          reflow: function reflow() {
            var i;
            ReflowQueue.remove(this);

            if (this.visible()) {
              Control$1.repaintControls = [];
              Control$1.repaintControls.map = {};
              this.recalc();
              i = Control$1.repaintControls.length;

              while (i--) {
                Control$1.repaintControls[i].repaint();
              }

              if (this.settings.layout !== 'flow' && this.settings.layout !== 'stack') {
                this.repaint();
              }

              Control$1.repaintControls = [];
            }

            return this;
          }
        });

        function getDocumentSize(doc) {
          var documentElement, body, scrollWidth, clientWidth;
          var offsetWidth, scrollHeight, clientHeight, offsetHeight;
          var max = Math.max;
          documentElement = doc.documentElement;
          body = doc.body;
          scrollWidth = max(documentElement.scrollWidth, body.scrollWidth);
          clientWidth = max(documentElement.clientWidth, body.clientWidth);
          offsetWidth = max(documentElement.offsetWidth, body.offsetWidth);
          scrollHeight = max(documentElement.scrollHeight, body.scrollHeight);
          clientHeight = max(documentElement.clientHeight, body.clientHeight);
          offsetHeight = max(documentElement.offsetHeight, body.offsetHeight);
          return {
            width: scrollWidth < offsetWidth ? clientWidth : scrollWidth,
            height: scrollHeight < offsetHeight ? clientHeight : scrollHeight
          };
        }

        function updateWithTouchData(e) {
          var keys, i;

          if (e.changedTouches) {
            keys = 'screenX screenY pageX pageY clientX clientY'.split(' ');

            for (i = 0; i < keys.length; i++) {
              e[keys[i]] = e.changedTouches[0][keys[i]];
            }
          }
        }

        function DragHelper(id, settings) {
          var $eventOverlay;
          var doc = settings.document || domGlobals.document;
          var downButton;

          var start, _stop, drag, startX, startY;

          settings = settings || {};
          var handleElement = doc.getElementById(settings.handle || id);

          start = function start(e) {
            var docSize = getDocumentSize(doc);
            var handleElm, cursor;
            updateWithTouchData(e);
            e.preventDefault();
            downButton = e.button;
            handleElm = handleElement;
            startX = e.screenX;
            startY = e.screenY;

            if (domGlobals.window.getComputedStyle) {
              cursor = domGlobals.window.getComputedStyle(handleElm, null).getPropertyValue('cursor');
            } else {
              cursor = handleElm.runtimeStyle.cursor;
            }

            $eventOverlay = global$9('<div></div>').css({
              position: 'absolute',
              top: 0,
              left: 0,
              width: docSize.width,
              height: docSize.height,
              zIndex: 2147483647,
              opacity: 0.0001,
              cursor: cursor
            }).appendTo(doc.body);
            global$9(doc).on('mousemove touchmove', drag).on('mouseup touchend', _stop);
            settings.start(e);
          };

          drag = function drag(e) {
            updateWithTouchData(e);

            if (e.button !== downButton) {
              return _stop(e);
            }

            e.deltaX = e.screenX - startX;
            e.deltaY = e.screenY - startY;
            e.preventDefault();
            settings.drag(e);
          };

          _stop = function stop(e) {
            updateWithTouchData(e);
            global$9(doc).off('mousemove touchmove', drag).off('mouseup touchend', _stop);
            $eventOverlay.remove();

            if (settings.stop) {
              settings.stop(e);
            }
          };

          this.destroy = function () {
            global$9(handleElement).off();
          };

          global$9(handleElement).on('mousedown touchstart', start);
        }

        var Scrollable = {
          init: function init() {
            var self = this;
            self.on('repaint', self.renderScroll);
          },
          renderScroll: function renderScroll() {
            var self = this,
                margin = 2;

            function repaintScroll() {
              var hasScrollH, hasScrollV, bodyElm;

              function repaintAxis(axisName, posName, sizeName, contentSizeName, hasScroll, ax) {
                var containerElm, scrollBarElm, scrollThumbElm;
                var containerSize, scrollSize, ratio, rect;
                var posNameLower, sizeNameLower;
                scrollBarElm = self.getEl('scroll' + axisName);

                if (scrollBarElm) {
                  posNameLower = posName.toLowerCase();
                  sizeNameLower = sizeName.toLowerCase();
                  global$9(self.getEl('absend')).css(posNameLower, self.layoutRect()[contentSizeName] - 1);

                  if (!hasScroll) {
                    global$9(scrollBarElm).css('display', 'none');
                    return;
                  }

                  global$9(scrollBarElm).css('display', 'block');
                  containerElm = self.getEl('body');
                  scrollThumbElm = self.getEl('scroll' + axisName + 't');
                  containerSize = containerElm['client' + sizeName] - margin * 2;
                  containerSize -= hasScrollH && hasScrollV ? scrollBarElm['client' + ax] : 0;
                  scrollSize = containerElm['scroll' + sizeName];
                  ratio = containerSize / scrollSize;
                  rect = {};
                  rect[posNameLower] = containerElm['offset' + posName] + margin;
                  rect[sizeNameLower] = containerSize;
                  global$9(scrollBarElm).css(rect);
                  rect = {};
                  rect[posNameLower] = containerElm['scroll' + posName] * ratio;
                  rect[sizeNameLower] = containerSize * ratio;
                  global$9(scrollThumbElm).css(rect);
                }
              }

              bodyElm = self.getEl('body');
              hasScrollH = bodyElm.scrollWidth > bodyElm.clientWidth;
              hasScrollV = bodyElm.scrollHeight > bodyElm.clientHeight;
              repaintAxis('h', 'Left', 'Width', 'contentW', hasScrollH, 'Height');
              repaintAxis('v', 'Top', 'Height', 'contentH', hasScrollV, 'Width');
            }

            function addScroll() {
              function addScrollAxis(axisName, posName, sizeName, deltaPosName, ax) {
                var scrollStart;
                var axisId = self._id + '-scroll' + axisName,
                    prefix = self.classPrefix;
                global$9(self.getEl()).append('<div id="' + axisId + '" class="' + prefix + 'scrollbar ' + prefix + 'scrollbar-' + axisName + '">' + '<div id="' + axisId + 't" class="' + prefix + 'scrollbar-thumb"></div>' + '</div>');
                self.draghelper = new DragHelper(axisId + 't', {
                  start: function start() {
                    scrollStart = self.getEl('body')['scroll' + posName];
                    global$9('#' + axisId).addClass(prefix + 'active');
                  },
                  drag: function drag(e) {
                    var ratio, hasScrollH, hasScrollV, containerSize;
                    var layoutRect = self.layoutRect();
                    hasScrollH = layoutRect.contentW > layoutRect.innerW;
                    hasScrollV = layoutRect.contentH > layoutRect.innerH;
                    containerSize = self.getEl('body')['client' + sizeName] - margin * 2;
                    containerSize -= hasScrollH && hasScrollV ? self.getEl('scroll' + axisName)['client' + ax] : 0;
                    ratio = containerSize / self.getEl('body')['scroll' + sizeName];
                    self.getEl('body')['scroll' + posName] = scrollStart + e['delta' + deltaPosName] / ratio;
                  },
                  stop: function stop() {
                    global$9('#' + axisId).removeClass(prefix + 'active');
                  }
                });
              }

              self.classes.add('scroll');
              addScrollAxis('v', 'Top', 'Height', 'Y', 'Width');
              addScrollAxis('h', 'Left', 'Width', 'X', 'Height');
            }

            if (self.settings.autoScroll) {
              if (!self._hasScroll) {
                self._hasScroll = true;
                addScroll();
                self.on('wheel', function (e) {
                  var bodyEl = self.getEl('body');
                  bodyEl.scrollLeft += (e.deltaX || 0) * 10;
                  bodyEl.scrollTop += e.deltaY * 10;
                  repaintScroll();
                });
                global$9(self.getEl('body')).on('scroll', repaintScroll);
              }

              repaintScroll();
            }
          }
        };
        var Panel = Container.extend({
          Defaults: {
            layout: 'fit',
            containerCls: 'panel'
          },
          Mixins: [Scrollable],
          renderHtml: function renderHtml() {
            var self = this;
            var layout = self._layout;
            var innerHtml = self.settings.html;
            self.preRender();
            layout.preRender(self);

            if (typeof innerHtml === 'undefined') {
              innerHtml = '<div id="' + self._id + '-body" class="' + self.bodyClasses + '">' + layout.renderHtml(self) + '</div>';
            } else {
              if (typeof innerHtml === 'function') {
                innerHtml = innerHtml.call(self);
              }

              self._hasBody = false;
            }

            return '<div id="' + self._id + '" class="' + self.classes + '" hidefocus="1" tabindex="-1" role="group">' + (self._preBodyHtml || '') + innerHtml + '</div>';
          }
        });
        var Resizable = {
          resizeToContent: function resizeToContent() {
            this._layoutRect.autoResize = true;
            this._lastRect = null;
            this.reflow();
          },
          resizeTo: function resizeTo(w, h) {
            if (w <= 1 || h <= 1) {
              var rect = funcs.getWindowSize();
              w = w <= 1 ? w * rect.w : w;
              h = h <= 1 ? h * rect.h : h;
            }

            this._layoutRect.autoResize = false;
            return this.layoutRect({
              minW: w,
              minH: h,
              w: w,
              h: h
            }).reflow();
          },
          resizeBy: function resizeBy(dw, dh) {
            var self = this,
                rect = self.layoutRect();
            return self.resizeTo(rect.w + dw, rect.h + dh);
          }
        };
        var documentClickHandler, documentScrollHandler, windowResizeHandler;
        var visiblePanels = [];
        var zOrder = [];
        var hasModal;

        function isChildOf(ctrl, parent) {
          while (ctrl) {
            if (ctrl === parent) {
              return true;
            }

            ctrl = ctrl.parent();
          }
        }

        function skipOrHidePanels(e) {
          var i = visiblePanels.length;

          while (i--) {
            var panel = visiblePanels[i],
                clickCtrl = panel.getParentCtrl(e.target);

            if (panel.settings.autohide) {
              if (clickCtrl) {
                if (isChildOf(clickCtrl, panel) || panel.parent() === clickCtrl) {
                  continue;
                }
              }

              e = panel.fire('autohide', {
                target: e.target
              });

              if (!e.isDefaultPrevented()) {
                panel.hide();
              }
            }
          }
        }

        function bindDocumentClickHandler() {
          if (!documentClickHandler) {
            documentClickHandler = function documentClickHandler(e) {
              if (e.button === 2) {
                return;
              }

              skipOrHidePanels(e);
            };

            global$9(domGlobals.document).on('click touchstart', documentClickHandler);
          }
        }

        function bindDocumentScrollHandler() {
          if (!documentScrollHandler) {
            documentScrollHandler = function documentScrollHandler() {
              var i;
              i = visiblePanels.length;

              while (i--) {
                repositionPanel(visiblePanels[i]);
              }
            };

            global$9(domGlobals.window).on('scroll', documentScrollHandler);
          }
        }

        function bindWindowResizeHandler() {
          if (!windowResizeHandler) {
            var docElm_1 = domGlobals.document.documentElement;
            var clientWidth_1 = docElm_1.clientWidth,
                clientHeight_1 = docElm_1.clientHeight;

            windowResizeHandler = function windowResizeHandler() {
              if (!domGlobals.document.all || clientWidth_1 !== docElm_1.clientWidth || clientHeight_1 !== docElm_1.clientHeight) {
                clientWidth_1 = docElm_1.clientWidth;
                clientHeight_1 = docElm_1.clientHeight;
                FloatPanel.hideAll();
              }
            };

            global$9(domGlobals.window).on('resize', windowResizeHandler);
          }
        }

        function repositionPanel(panel) {
          var scrollY = funcs.getViewPort().y;

          function toggleFixedChildPanels(fixed, deltaY) {
            var parent;

            for (var i = 0; i < visiblePanels.length; i++) {
              if (visiblePanels[i] !== panel) {
                parent = visiblePanels[i].parent();

                while (parent && (parent = parent.parent())) {
                  if (parent === panel) {
                    visiblePanels[i].fixed(fixed).moveBy(0, deltaY).repaint();
                  }
                }
              }
            }
          }

          if (panel.settings.autofix) {
            if (!panel.state.get('fixed')) {
              panel._autoFixY = panel.layoutRect().y;

              if (panel._autoFixY < scrollY) {
                panel.fixed(true).layoutRect({
                  y: 0
                }).repaint();
                toggleFixedChildPanels(true, scrollY - panel._autoFixY);
              }
            } else {
              if (panel._autoFixY > scrollY) {
                panel.fixed(false).layoutRect({
                  y: panel._autoFixY
                }).repaint();
                toggleFixedChildPanels(false, panel._autoFixY - scrollY);
              }
            }
          }
        }

        function addRemove(add, ctrl) {
          var i,
              zIndex = FloatPanel.zIndex || 65535,
              topModal;

          if (add) {
            zOrder.push(ctrl);
          } else {
            i = zOrder.length;

            while (i--) {
              if (zOrder[i] === ctrl) {
                zOrder.splice(i, 1);
              }
            }
          }

          if (zOrder.length) {
            for (i = 0; i < zOrder.length; i++) {
              if (zOrder[i].modal) {
                zIndex++;
                topModal = zOrder[i];
              }

              zOrder[i].getEl().style.zIndex = zIndex;
              zOrder[i].zIndex = zIndex;
              zIndex++;
            }
          }

          var modalBlockEl = global$9('#' + ctrl.classPrefix + 'modal-block', ctrl.getContainerElm())[0];

          if (topModal) {
            global$9(modalBlockEl).css('z-index', topModal.zIndex - 1);
          } else if (modalBlockEl) {
            modalBlockEl.parentNode.removeChild(modalBlockEl);
            hasModal = false;
          }

          FloatPanel.currentZIndex = zIndex;
        }

        var FloatPanel = Panel.extend({
          Mixins: [Movable, Resizable],
          init: function init(settings) {
            var self = this;

            self._super(settings);

            self._eventsRoot = self;
            self.classes.add('floatpanel');

            if (settings.autohide) {
              bindDocumentClickHandler();
              bindWindowResizeHandler();
              visiblePanels.push(self);
            }

            if (settings.autofix) {
              bindDocumentScrollHandler();
              self.on('move', function () {
                repositionPanel(this);
              });
            }

            self.on('postrender show', function (e) {
              if (e.control === self) {
                var $modalBlockEl_1;
                var prefix_1 = self.classPrefix;

                if (self.modal && !hasModal) {
                  $modalBlockEl_1 = global$9('#' + prefix_1 + 'modal-block', self.getContainerElm());

                  if (!$modalBlockEl_1[0]) {
                    $modalBlockEl_1 = global$9('<div id="' + prefix_1 + 'modal-block" class="' + prefix_1 + 'reset ' + prefix_1 + 'fade"></div>').appendTo(self.getContainerElm());
                  }

                  global$7.setTimeout(function () {
                    $modalBlockEl_1.addClass(prefix_1 + 'in');
                    global$9(self.getEl()).addClass(prefix_1 + 'in');
                  });
                  hasModal = true;
                }

                addRemove(true, self);
              }
            });
            self.on('show', function () {
              self.parents().each(function (ctrl) {
                if (ctrl.state.get('fixed')) {
                  self.fixed(true);
                  return false;
                }
              });
            });

            if (settings.popover) {
              self._preBodyHtml = '<div class="' + self.classPrefix + 'arrow"></div>';
              self.classes.add('popover').add('bottom').add(self.isRtl() ? 'end' : 'start');
            }

            self.aria('label', settings.ariaLabel);
            self.aria('labelledby', self._id);
            self.aria('describedby', self.describedBy || self._id + '-none');
          },
          fixed: function fixed(state) {
            var self = this;

            if (self.state.get('fixed') !== state) {
              if (self.state.get('rendered')) {
                var viewport = funcs.getViewPort();

                if (state) {
                  self.layoutRect().y -= viewport.y;
                } else {
                  self.layoutRect().y += viewport.y;
                }
              }

              self.classes.toggle('fixed', state);
              self.state.set('fixed', state);
            }

            return self;
          },
          show: function show() {
            var self = this;
            var i;

            var state = self._super();

            i = visiblePanels.length;

            while (i--) {
              if (visiblePanels[i] === self) {
                break;
              }
            }

            if (i === -1) {
              visiblePanels.push(self);
            }

            return state;
          },
          hide: function hide() {
            removeVisiblePanel(this);
            addRemove(false, this);
            return this._super();
          },
          hideAll: function hideAll() {
            FloatPanel.hideAll();
          },
          close: function close() {
            var self = this;

            if (!self.fire('close').isDefaultPrevented()) {
              self.remove();
              addRemove(false, self);
            }

            return self;
          },
          remove: function remove() {
            removeVisiblePanel(this);

            this._super();
          },
          postRender: function postRender() {
            var self = this;

            if (self.settings.bodyRole) {
              this.getEl('body').setAttribute('role', self.settings.bodyRole);
            }

            return self._super();
          }
        });

        FloatPanel.hideAll = function () {
          var i = visiblePanels.length;

          while (i--) {
            var panel = visiblePanels[i];

            if (panel && panel.settings.autohide) {
              panel.hide();
              visiblePanels.splice(i, 1);
            }
          }
        };

        function removeVisiblePanel(panel) {
          var i;
          i = visiblePanels.length;

          while (i--) {
            if (visiblePanels[i] === panel) {
              visiblePanels.splice(i, 1);
            }
          }

          i = zOrder.length;

          while (i--) {
            if (zOrder[i] === panel) {
              zOrder.splice(i, 1);
            }
          }
        }

        var isFixed$1 = function isFixed$1(inlineToolbarContainer, editor) {
          return !!(inlineToolbarContainer && !editor.settings.ui_container);
        };

        var render$1 = function render$1(editor, theme, args) {
          var panel, inlineToolbarContainer;
          var DOM = global$3.DOM;
          var fixedToolbarContainer = getFixedToolbarContainer(editor);

          if (fixedToolbarContainer) {
            inlineToolbarContainer = DOM.select(fixedToolbarContainer)[0];
          }

          var reposition = function reposition() {
            if (panel && panel.moveRel && panel.visible() && !panel._fixed) {
              var scrollContainer = editor.selection.getScrollContainer(),
                  body = editor.getBody();
              var deltaX = 0,
                  deltaY = 0;

              if (scrollContainer) {
                var bodyPos = DOM.getPos(body),
                    scrollContainerPos = DOM.getPos(scrollContainer);
                deltaX = Math.max(0, scrollContainerPos.x - bodyPos.x);
                deltaY = Math.max(0, scrollContainerPos.y - bodyPos.y);
              }

              panel.fixed(false).moveRel(body, editor.rtl ? ['tr-br', 'br-tr'] : ['tl-bl', 'bl-tl', 'tr-br']).moveBy(deltaX, deltaY);
            }
          };

          var show = function show() {
            if (panel) {
              panel.show();
              reposition();
              DOM.addClass(editor.getBody(), 'mce-edit-focus');
            }
          };

          var hide = function hide() {
            if (panel) {
              panel.hide();
              FloatPanel.hideAll();
              DOM.removeClass(editor.getBody(), 'mce-edit-focus');
            }
          };

          var render = function render() {
            if (panel) {
              if (!panel.visible()) {
                show();
              }

              return;
            }

            panel = theme.panel = global$4.create({
              type: inlineToolbarContainer ? 'panel' : 'floatpanel',
              role: 'application',
              classes: 'tinymce tinymce-inline',
              layout: 'flex',
              direction: 'column',
              align: 'stretch',
              autohide: false,
              autofix: true,
              fixed: isFixed$1(inlineToolbarContainer, editor),
              border: 1,
              items: [hasMenubar(editor) === false ? null : {
                type: 'menubar',
                border: '0 0 1 0',
                items: Menubar.createMenuButtons(editor)
              }, Toolbar.createToolbars(editor, getToolbarSize(editor))]
            });
            UiContainer.setUiContainer(editor, panel);
            Events.fireBeforeRenderUI(editor);

            if (inlineToolbarContainer) {
              panel.renderTo(inlineToolbarContainer).reflow();
            } else {
              panel.renderTo().reflow();
            }

            A11y.addKeys(editor, panel);
            show();
            ContextToolbars.addContextualToolbars(editor);
            editor.on('nodeChange', reposition);
            editor.on('ResizeWindow', reposition);
            editor.on('activate', show);
            editor.on('deactivate', hide);
            editor.nodeChanged();
          };

          editor.settings.content_editable = true;
          editor.on('focus', function () {
            if (isSkinDisabled(editor) === false && args.skinUiCss) {
              DOM.styleSheetLoader.load(args.skinUiCss, render, render);
            } else {
              render();
            }
          });
          editor.on('blur hide', hide);
          editor.on('remove', function () {
            if (panel) {
              panel.remove();
              panel = null;
            }
          });

          if (isSkinDisabled(editor) === false && args.skinUiCss) {
            DOM.styleSheetLoader.load(args.skinUiCss, SkinLoaded.fireSkinLoaded(editor));
          } else {
            SkinLoaded.fireSkinLoaded(editor)();
          }

          return {};
        };

        var Inline = {
          render: render$1
        };

        function Throbber(elm, inline) {
          var self = this;
          var state;
          var classPrefix = Control$1.classPrefix;
          var timer;

          self.show = function (time, callback) {
            function render() {
              if (state) {
                global$9(elm).append('<div class="' + classPrefix + 'throbber' + (inline ? ' ' + classPrefix + 'throbber-inline' : '') + '"></div>');

                if (callback) {
                  callback();
                }
              }
            }

            self.hide();
            state = true;

            if (time) {
              timer = global$7.setTimeout(render, time);
            } else {
              render();
            }

            return self;
          };

          self.hide = function () {
            var child = elm.lastChild;
            global$7.clearTimeout(timer);

            if (child && child.className.indexOf('throbber') !== -1) {
              child.parentNode.removeChild(child);
            }

            state = false;
            return self;
          };
        }

        var setup = function setup(editor, theme) {
          var throbber;
          editor.on('ProgressState', function (e) {
            throbber = throbber || new Throbber(theme.panel.getEl('body'));

            if (e.state) {
              throbber.show(e.time);
            } else {
              throbber.hide();
            }
          });
        };

        var ProgressState = {
          setup: setup
        };

        var renderUI = function renderUI(editor, theme, args) {
          var skinUrl = getSkinUrl(editor);

          if (skinUrl) {
            args.skinUiCss = skinUrl + '/skin.min.css';
            editor.contentCSS.push(skinUrl + '/content' + (editor.inline ? '.inline' : '') + '.min.css');
          }

          ProgressState.setup(editor, theme);
          return isInline(editor) ? Inline.render(editor, theme, args) : Iframe.render(editor, theme, args);
        };

        var Render = {
          renderUI: renderUI
        };
        var Tooltip = Control$1.extend({
          Mixins: [Movable],
          Defaults: {
            classes: 'widget tooltip tooltip-n'
          },
          renderHtml: function renderHtml() {
            var self = this,
                prefix = self.classPrefix;
            return '<div id="' + self._id + '" class="' + self.classes + '" role="presentation">' + '<div class="' + prefix + 'tooltip-arrow"></div>' + '<div class="' + prefix + 'tooltip-inner">' + self.encode(self.state.get('text')) + '</div>' + '</div>';
          },
          bindStates: function bindStates() {
            var self = this;
            self.state.on('change:text', function (e) {
              self.getEl().lastChild.innerHTML = self.encode(e.value);
            });
            return self._super();
          },
          repaint: function repaint() {
            var self = this;
            var style, rect;
            style = self.getEl().style;
            rect = self._layoutRect;
            style.left = rect.x + 'px';
            style.top = rect.y + 'px';
            style.zIndex = 65535 + 65535;
          }
        });
        var Widget = Control$1.extend({
          init: function init(settings) {
            var self = this;

            self._super(settings);

            settings = self.settings;
            self.canFocus = true;

            if (settings.tooltip && Widget.tooltips !== false) {
              self.on('mouseenter', function (e) {
                var tooltip = self.tooltip().moveTo(-65535);

                if (e.control === self) {
                  var rel = tooltip.text(settings.tooltip).show().testMoveRel(self.getEl(), ['bc-tc', 'bc-tl', 'bc-tr']);
                  tooltip.classes.toggle('tooltip-n', rel === 'bc-tc');
                  tooltip.classes.toggle('tooltip-nw', rel === 'bc-tl');
                  tooltip.classes.toggle('tooltip-ne', rel === 'bc-tr');
                  tooltip.moveRel(self.getEl(), rel);
                } else {
                  tooltip.hide();
                }
              });
              self.on('mouseleave mousedown click', function () {
                self.tooltip().remove();
                self._tooltip = null;
              });
            }

            self.aria('label', settings.ariaLabel || settings.tooltip);
          },
          tooltip: function tooltip() {
            if (!this._tooltip) {
              this._tooltip = new Tooltip({
                type: 'tooltip'
              });
              UiContainer.inheritUiContainer(this, this._tooltip);

              this._tooltip.renderTo();
            }

            return this._tooltip;
          },
          postRender: function postRender() {
            var self = this,
                settings = self.settings;

            self._super();

            if (!self.parent() && (settings.width || settings.height)) {
              self.initLayoutRect();
              self.repaint();
            }

            if (settings.autofocus) {
              self.focus();
            }
          },
          bindStates: function bindStates() {
            var self = this;

            function disable(state) {
              self.aria('disabled', state);
              self.classes.toggle('disabled', state);
            }

            function active(state) {
              self.aria('pressed', state);
              self.classes.toggle('active', state);
            }

            self.state.on('change:disabled', function (e) {
              disable(e.value);
            });
            self.state.on('change:active', function (e) {
              active(e.value);
            });

            if (self.state.get('disabled')) {
              disable(true);
            }

            if (self.state.get('active')) {
              active(true);
            }

            return self._super();
          },
          remove: function remove() {
            this._super();

            if (this._tooltip) {
              this._tooltip.remove();

              this._tooltip = null;
            }
          }
        });
        var Progress = Widget.extend({
          Defaults: {
            value: 0
          },
          init: function init(settings) {
            var self = this;

            self._super(settings);

            self.classes.add('progress');

            if (!self.settings.filter) {
              self.settings.filter = function (value) {
                return Math.round(value);
              };
            }
          },
          renderHtml: function renderHtml() {
            var self = this,
                id = self._id,
                prefix = this.classPrefix;
            return '<div id="' + id + '" class="' + self.classes + '">' + '<div class="' + prefix + 'bar-container">' + '<div class="' + prefix + 'bar"></div>' + '</div>' + '<div class="' + prefix + 'text">0%</div>' + '</div>';
          },
          postRender: function postRender() {
            var self = this;

            self._super();

            self.value(self.settings.value);
            return self;
          },
          bindStates: function bindStates() {
            var self = this;

            function setValue(value) {
              value = self.settings.filter(value);
              self.getEl().lastChild.innerHTML = value + '%';
              self.getEl().firstChild.firstChild.style.width = value + '%';
            }

            self.state.on('change:value', function (e) {
              setValue(e.value);
            });
            setValue(self.state.get('value'));
            return self._super();
          }
        });

        var updateLiveRegion = function updateLiveRegion(ctx, text) {
          ctx.getEl().lastChild.textContent = text + (ctx.progressBar ? ' ' + ctx.progressBar.value() + '%' : '');
        };

        var Notification = Control$1.extend({
          Mixins: [Movable],
          Defaults: {
            classes: 'widget notification'
          },
          init: function init(settings) {
            var self = this;

            self._super(settings);

            self.maxWidth = settings.maxWidth;

            if (settings.text) {
              self.text(settings.text);
            }

            if (settings.icon) {
              self.icon = settings.icon;
            }

            if (settings.color) {
              self.color = settings.color;
            }

            if (settings.type) {
              self.classes.add('notification-' + settings.type);
            }

            if (settings.timeout && (settings.timeout < 0 || settings.timeout > 0) && !settings.closeButton) {
              self.closeButton = false;
            } else {
              self.classes.add('has-close');
              self.closeButton = true;
            }

            if (settings.progressBar) {
              self.progressBar = new Progress();
            }

            self.on('click', function (e) {
              if (e.target.className.indexOf(self.classPrefix + 'close') !== -1) {
                self.close();
              }
            });
          },
          renderHtml: function renderHtml() {
            var self = this;
            var prefix = self.classPrefix;
            var icon = '',
                closeButton = '',
                progressBar = '',
                notificationStyle = '';

            if (self.icon) {
              icon = '<i class="' + prefix + 'ico' + ' ' + prefix + 'i-' + self.icon + '"></i>';
            }

            notificationStyle = ' style="max-width: ' + self.maxWidth + 'px;' + (self.color ? 'background-color: ' + self.color + ';"' : '"');

            if (self.closeButton) {
              closeButton = '<button type="button" class="' + prefix + 'close" aria-hidden="true">\xD7</button>';
            }

            if (self.progressBar) {
              progressBar = self.progressBar.renderHtml();
            }

            return '<div id="' + self._id + '" class="' + self.classes + '"' + notificationStyle + ' role="presentation">' + icon + '<div class="' + prefix + 'notification-inner">' + self.state.get('text') + '</div>' + progressBar + closeButton + '<div style="clip: rect(1px, 1px, 1px, 1px);height: 1px;overflow: hidden;position: absolute;width: 1px;"' + ' aria-live="assertive" aria-relevant="additions" aria-atomic="true"></div>' + '</div>';
          },
          postRender: function postRender() {
            var self = this;
            global$7.setTimeout(function () {
              self.$el.addClass(self.classPrefix + 'in');
              updateLiveRegion(self, self.state.get('text'));
            }, 100);
            return self._super();
          },
          bindStates: function bindStates() {
            var self = this;
            self.state.on('change:text', function (e) {
              self.getEl().firstChild.innerHTML = e.value;
              updateLiveRegion(self, e.value);
            });

            if (self.progressBar) {
              self.progressBar.bindStates();
              self.progressBar.state.on('change:value', function (e) {
                updateLiveRegion(self, self.state.get('text'));
              });
            }

            return self._super();
          },
          close: function close() {
            var self = this;

            if (!self.fire('close').isDefaultPrevented()) {
              self.remove();
            }

            return self;
          },
          repaint: function repaint() {
            var self = this;
            var style, rect;
            style = self.getEl().style;
            rect = self._layoutRect;
            style.left = rect.x + 'px';
            style.top = rect.y + 'px';
            style.zIndex = 65535 - 1;
          }
        });

        function NotificationManagerImpl(editor) {
          var getEditorContainer = function getEditorContainer(editor) {
            return editor.inline ? editor.getElement() : editor.getContentAreaContainer();
          };

          var getContainerWidth = function getContainerWidth() {
            var container = getEditorContainer(editor);
            return funcs.getSize(container).width;
          };

          var prePositionNotifications = function prePositionNotifications(notifications) {
            each(notifications, function (notification) {
              notification.moveTo(0, 0);
            });
          };

          var positionNotifications = function positionNotifications(notifications) {
            if (notifications.length > 0) {
              var firstItem = notifications.slice(0, 1)[0];
              var container = getEditorContainer(editor);
              firstItem.moveRel(container, 'tc-tc');
              each(notifications, function (notification, index) {
                if (index > 0) {
                  notification.moveRel(notifications[index - 1].getEl(), 'bc-tc');
                }
              });
            }
          };

          var reposition = function reposition(notifications) {
            prePositionNotifications(notifications);
            positionNotifications(notifications);
          };

          var open = function open(args, closeCallback) {
            var extendedArgs = global$2.extend(args, {
              maxWidth: getContainerWidth()
            });
            var notif = new Notification(extendedArgs);
            notif.args = extendedArgs;

            if (extendedArgs.timeout > 0) {
              notif.timer = setTimeout(function () {
                notif.close();
                closeCallback();
              }, extendedArgs.timeout);
            }

            notif.on('close', function () {
              closeCallback();
            });
            notif.renderTo();
            return notif;
          };

          var close = function close(notification) {
            notification.close();
          };

          var getArgs = function getArgs(notification) {
            return notification.args;
          };

          return {
            open: open,
            close: close,
            reposition: reposition,
            getArgs: getArgs
          };
        }

        var windows = [];
        var oldMetaValue = '';

        function toggleFullScreenState(state) {
          var noScaleMetaValue = 'width=device-width,initial-scale=1.0,user-scalable=0,minimum-scale=1.0,maximum-scale=1.0';
          var viewport = global$9('meta[name=viewport]')[0],
              contentValue;

          if (global$8.overrideViewPort === false) {
            return;
          }

          if (!viewport) {
            viewport = domGlobals.document.createElement('meta');
            viewport.setAttribute('name', 'viewport');
            domGlobals.document.getElementsByTagName('head')[0].appendChild(viewport);
          }

          contentValue = viewport.getAttribute('content');

          if (contentValue && typeof oldMetaValue !== 'undefined') {
            oldMetaValue = contentValue;
          }

          viewport.setAttribute('content', state ? noScaleMetaValue : oldMetaValue);
        }

        function toggleBodyFullScreenClasses(classPrefix, state) {
          if (checkFullscreenWindows() && state === false) {
            global$9([domGlobals.document.documentElement, domGlobals.document.body]).removeClass(classPrefix + 'fullscreen');
          }
        }

        function checkFullscreenWindows() {
          for (var i = 0; i < windows.length; i++) {
            if (windows[i]._fullscreen) {
              return true;
            }
          }

          return false;
        }

        function handleWindowResize() {
          if (!global$8.desktop) {
            var lastSize_1 = {
              w: domGlobals.window.innerWidth,
              h: domGlobals.window.innerHeight
            };
            global$7.setInterval(function () {
              var w = domGlobals.window.innerWidth,
                  h = domGlobals.window.innerHeight;

              if (lastSize_1.w !== w || lastSize_1.h !== h) {
                lastSize_1 = {
                  w: w,
                  h: h
                };
                global$9(domGlobals.window).trigger('resize');
              }
            }, 100);
          }

          function reposition() {
            var i;
            var rect = funcs.getWindowSize();
            var layoutRect;

            for (i = 0; i < windows.length; i++) {
              layoutRect = windows[i].layoutRect();
              windows[i].moveTo(windows[i].settings.x || Math.max(0, rect.w / 2 - layoutRect.w / 2), windows[i].settings.y || Math.max(0, rect.h / 2 - layoutRect.h / 2));
            }
          }

          global$9(domGlobals.window).on('resize', reposition);
        }

        var Window = FloatPanel.extend({
          modal: true,
          Defaults: {
            border: 1,
            layout: 'flex',
            containerCls: 'panel',
            role: 'dialog',
            callbacks: {
              submit: function submit() {
                this.fire('submit', {
                  data: this.toJSON()
                });
              },
              close: function close() {
                this.close();
              }
            }
          },
          init: function init(settings) {
            var self = this;

            self._super(settings);

            if (self.isRtl()) {
              self.classes.add('rtl');
            }

            self.classes.add('window');
            self.bodyClasses.add('window-body');
            self.state.set('fixed', true);

            if (settings.buttons) {
              self.statusbar = new Panel({
                layout: 'flex',
                border: '1 0 0 0',
                spacing: 3,
                padding: 10,
                align: 'center',
                pack: self.isRtl() ? 'start' : 'end',
                defaults: {
                  type: 'button'
                },
                items: settings.buttons
              });
              self.statusbar.classes.add('foot');
              self.statusbar.parent(self);
            }

            self.on('click', function (e) {
              var closeClass = self.classPrefix + 'close';

              if (funcs.hasClass(e.target, closeClass) || funcs.hasClass(e.target.parentNode, closeClass)) {
                self.close();
              }
            });
            self.on('cancel', function () {
              self.close();
            });
            self.on('move', function (e) {
              if (e.control === self) {
                FloatPanel.hideAll();
              }
            });
            self.aria('describedby', self.describedBy || self._id + '-none');
            self.aria('label', settings.title);
            self._fullscreen = false;
          },
          recalc: function recalc() {
            var self = this;
            var statusbar = self.statusbar;
            var layoutRect, width, x, needsRecalc;

            if (self._fullscreen) {
              self.layoutRect(funcs.getWindowSize());
              self.layoutRect().contentH = self.layoutRect().innerH;
            }

            self._super();

            layoutRect = self.layoutRect();

            if (self.settings.title && !self._fullscreen) {
              width = layoutRect.headerW;

              if (width > layoutRect.w) {
                x = layoutRect.x - Math.max(0, width / 2);
                self.layoutRect({
                  w: width,
                  x: x
                });
                needsRecalc = true;
              }
            }

            if (statusbar) {
              statusbar.layoutRect({
                w: self.layoutRect().innerW
              }).recalc();
              width = statusbar.layoutRect().minW + layoutRect.deltaW;

              if (width > layoutRect.w) {
                x = layoutRect.x - Math.max(0, width - layoutRect.w);
                self.layoutRect({
                  w: width,
                  x: x
                });
                needsRecalc = true;
              }
            }

            if (needsRecalc) {
              self.recalc();
            }
          },
          initLayoutRect: function initLayoutRect() {
            var self = this;

            var layoutRect = self._super();

            var deltaH = 0,
                headEl;

            if (self.settings.title && !self._fullscreen) {
              headEl = self.getEl('head');
              var size = funcs.getSize(headEl);
              layoutRect.headerW = size.width;
              layoutRect.headerH = size.height;
              deltaH += layoutRect.headerH;
            }

            if (self.statusbar) {
              deltaH += self.statusbar.layoutRect().h;
            }

            layoutRect.deltaH += deltaH;
            layoutRect.minH += deltaH;
            layoutRect.h += deltaH;
            var rect = funcs.getWindowSize();
            layoutRect.x = self.settings.x || Math.max(0, rect.w / 2 - layoutRect.w / 2);
            layoutRect.y = self.settings.y || Math.max(0, rect.h / 2 - layoutRect.h / 2);
            return layoutRect;
          },
          renderHtml: function renderHtml() {
            var self = this,
                layout = self._layout,
                id = self._id,
                prefix = self.classPrefix;
            var settings = self.settings;
            var headerHtml = '',
                footerHtml = '',
                html = settings.html;
            self.preRender();
            layout.preRender(self);

            if (settings.title) {
              headerHtml = '<div id="' + id + '-head" class="' + prefix + 'window-head">' + '<div id="' + id + '-title" class="' + prefix + 'title">' + self.encode(settings.title) + '</div>' + '<div id="' + id + '-dragh" class="' + prefix + 'dragh"></div>' + '<button type="button" class="' + prefix + 'close" aria-hidden="true">' + '<i class="mce-ico mce-i-remove"></i>' + '</button>' + '</div>';
            }

            if (settings.url) {
              html = '<iframe src="' + settings.url + '" tabindex="-1"></iframe>';
            }

            if (typeof html === 'undefined') {
              html = layout.renderHtml(self);
            }

            if (self.statusbar) {
              footerHtml = self.statusbar.renderHtml();
            }

            return '<div id="' + id + '" class="' + self.classes + '" hidefocus="1">' + '<div class="' + self.classPrefix + 'reset" role="application">' + headerHtml + '<div id="' + id + '-body" class="' + self.bodyClasses + '">' + html + '</div>' + footerHtml + '</div>' + '</div>';
          },
          fullscreen: function fullscreen(state) {
            var self = this;
            var documentElement = domGlobals.document.documentElement;
            var slowRendering;
            var prefix = self.classPrefix;
            var layoutRect;

            if (state !== self._fullscreen) {
              global$9(domGlobals.window).on('resize', function () {
                var time;

                if (self._fullscreen) {
                  if (!slowRendering) {
                    time = new Date().getTime();
                    var rect = funcs.getWindowSize();
                    self.moveTo(0, 0).resizeTo(rect.w, rect.h);

                    if (new Date().getTime() - time > 50) {
                      slowRendering = true;
                    }
                  } else {
                    if (!self._timer) {
                      self._timer = global$7.setTimeout(function () {
                        var rect = funcs.getWindowSize();
                        self.moveTo(0, 0).resizeTo(rect.w, rect.h);
                        self._timer = 0;
                      }, 50);
                    }
                  }
                }
              });
              layoutRect = self.layoutRect();
              self._fullscreen = state;

              if (!state) {
                self.borderBox = BoxUtils.parseBox(self.settings.border);
                self.getEl('head').style.display = '';
                layoutRect.deltaH += layoutRect.headerH;
                global$9([documentElement, domGlobals.document.body]).removeClass(prefix + 'fullscreen');
                self.classes.remove('fullscreen');
                self.moveTo(self._initial.x, self._initial.y).resizeTo(self._initial.w, self._initial.h);
              } else {
                self._initial = {
                  x: layoutRect.x,
                  y: layoutRect.y,
                  w: layoutRect.w,
                  h: layoutRect.h
                };
                self.borderBox = BoxUtils.parseBox('0');
                self.getEl('head').style.display = 'none';
                layoutRect.deltaH -= layoutRect.headerH + 2;
                global$9([documentElement, domGlobals.document.body]).addClass(prefix + 'fullscreen');
                self.classes.add('fullscreen');
                var rect = funcs.getWindowSize();
                self.moveTo(0, 0).resizeTo(rect.w, rect.h);
              }
            }

            return self.reflow();
          },
          postRender: function postRender() {
            var self = this;
            var startPos;
            setTimeout(function () {
              self.classes.add('in');
              self.fire('open');
            }, 0);

            self._super();

            if (self.statusbar) {
              self.statusbar.postRender();
            }

            self.focus();
            this.dragHelper = new DragHelper(self._id + '-dragh', {
              start: function start() {
                startPos = {
                  x: self.layoutRect().x,
                  y: self.layoutRect().y
                };
              },
              drag: function drag(e) {
                self.moveTo(startPos.x + e.deltaX, startPos.y + e.deltaY);
              }
            });
            self.on('submit', function (e) {
              if (!e.isDefaultPrevented()) {
                self.close();
              }
            });
            windows.push(self);
            toggleFullScreenState(true);
          },
          submit: function submit() {
            return this.fire('submit', {
              data: this.toJSON()
            });
          },
          remove: function remove() {
            var self = this;
            var i;
            self.dragHelper.destroy();

            self._super();

            if (self.statusbar) {
              this.statusbar.remove();
            }

            toggleBodyFullScreenClasses(self.classPrefix, false);
            i = windows.length;

            while (i--) {
              if (windows[i] === self) {
                windows.splice(i, 1);
              }
            }

            toggleFullScreenState(windows.length > 0);
          },
          getContentWindow: function getContentWindow() {
            var ifr = this.getEl().getElementsByTagName('iframe')[0];
            return ifr ? ifr.contentWindow : null;
          }
        });
        handleWindowResize();
        var MessageBox = Window.extend({
          init: function init(settings) {
            settings = {
              border: 1,
              padding: 20,
              layout: 'flex',
              pack: 'center',
              align: 'center',
              containerCls: 'panel',
              autoScroll: true,
              buttons: {
                type: 'button',
                text: 'Ok',
                action: 'ok'
              },
              items: {
                type: 'label',
                multiline: true,
                maxWidth: 500,
                maxHeight: 200
              }
            };

            this._super(settings);
          },
          Statics: {
            OK: 1,
            OK_CANCEL: 2,
            YES_NO: 3,
            YES_NO_CANCEL: 4,
            msgBox: function msgBox(settings) {
              var buttons;

              var callback = settings.callback || function () {};

              function createButton(text, status, primary) {
                return {
                  type: 'button',
                  text: text,
                  subtype: primary ? 'primary' : '',
                  onClick: function onClick(e) {
                    e.control.parents()[1].close();
                    callback(status);
                  }
                };
              }

              switch (settings.buttons) {
                case MessageBox.OK_CANCEL:
                  buttons = [createButton('Ok', true, true), createButton('Cancel', false)];
                  break;

                case MessageBox.YES_NO:
                case MessageBox.YES_NO_CANCEL:
                  buttons = [createButton('Yes', 1, true), createButton('No', 0)];

                  if (settings.buttons === MessageBox.YES_NO_CANCEL) {
                    buttons.push(createButton('Cancel', -1));
                  }

                  break;

                default:
                  buttons = [createButton('Ok', true, true)];
                  break;
              }

              return new Window({
                padding: 20,
                x: settings.x,
                y: settings.y,
                minWidth: 300,
                minHeight: 100,
                layout: 'flex',
                pack: 'center',
                align: 'center',
                buttons: buttons,
                title: settings.title,
                role: 'alertdialog',
                items: {
                  type: 'label',
                  multiline: true,
                  maxWidth: 500,
                  maxHeight: 200,
                  text: settings.text
                },
                onPostRender: function onPostRender() {
                  this.aria('describedby', this.items()[0]._id);
                },
                onClose: settings.onClose,
                onCancel: function onCancel() {
                  callback(false);
                }
              }).renderTo(domGlobals.document.body).reflow();
            },
            alert: function alert(settings, callback) {
              if (typeof settings === 'string') {
                settings = {
                  text: settings
                };
              }

              settings.callback = callback;
              return MessageBox.msgBox(settings);
            },
            confirm: function confirm(settings, callback) {
              if (typeof settings === 'string') {
                settings = {
                  text: settings
                };
              }

              settings.callback = callback;
              settings.buttons = MessageBox.OK_CANCEL;
              return MessageBox.msgBox(settings);
            }
          }
        });

        function WindowManagerImpl(editor) {
          var open = function open(args, params, closeCallback) {
            var win;
            args.title = args.title || ' ';
            args.url = args.url || args.file;

            if (args.url) {
              args.width = parseInt(args.width || 320, 10);
              args.height = parseInt(args.height || 240, 10);
            }

            if (args.body) {
              args.items = {
                defaults: args.defaults,
                type: args.bodyType || 'form',
                items: args.body,
                data: args.data,
                callbacks: args.commands
              };
            }

            if (!args.url && !args.buttons) {
              args.buttons = [{
                text: 'Ok',
                subtype: 'primary',
                onclick: function onclick() {
                  win.find('form')[0].submit();
                }
              }, {
                text: 'Cancel',
                onclick: function onclick() {
                  win.close();
                }
              }];
            }

            win = new Window(args);
            win.on('close', function () {
              closeCallback(win);
            });

            if (args.data) {
              win.on('postRender', function () {
                this.find('*').each(function (ctrl) {
                  var name = ctrl.name();

                  if (name in args.data) {
                    ctrl.value(args.data[name]);
                  }
                });
              });
            }

            win.features = args || {};
            win.params = params || {};
            win = win.renderTo(domGlobals.document.body).reflow();
            return win;
          };

          var alert = function alert(message, choiceCallback, closeCallback) {
            var win;
            win = MessageBox.alert(message, function () {
              choiceCallback();
            });
            win.on('close', function () {
              closeCallback(win);
            });
            return win;
          };

          var confirm = function confirm(message, choiceCallback, closeCallback) {
            var win;
            win = MessageBox.confirm(message, function (state) {
              choiceCallback(state);
            });
            win.on('close', function () {
              closeCallback(win);
            });
            return win;
          };

          var close = function close(window) {
            window.close();
          };

          var getParams = function getParams(window) {
            return window.params;
          };

          var setParams = function setParams(window, params) {
            window.params = params;
          };

          return {
            open: open,
            alert: alert,
            confirm: confirm,
            close: close,
            getParams: getParams,
            setParams: setParams
          };
        }

        var get = function get(editor) {
          var renderUI = function renderUI(args) {
            return Render.renderUI(editor, this, args);
          };

          var resizeTo = function resizeTo(w, h) {
            return Resize.resizeTo(editor, w, h);
          };

          var resizeBy = function resizeBy(dw, dh) {
            return Resize.resizeBy(editor, dw, dh);
          };

          var getNotificationManagerImpl = function getNotificationManagerImpl() {
            return NotificationManagerImpl(editor);
          };

          var getWindowManagerImpl = function getWindowManagerImpl() {
            return WindowManagerImpl();
          };

          return {
            renderUI: renderUI,
            resizeTo: resizeTo,
            resizeBy: resizeBy,
            getNotificationManagerImpl: getNotificationManagerImpl,
            getWindowManagerImpl: getWindowManagerImpl
          };
        };

        var ThemeApi = {
          get: get
        };
        var Layout = global$a.extend({
          Defaults: {
            firstControlClass: 'first',
            lastControlClass: 'last'
          },
          init: function init(settings) {
            this.settings = global$2.extend({}, this.Defaults, settings);
          },
          preRender: function preRender(container) {
            container.bodyClasses.add(this.settings.containerClass);
          },
          applyClasses: function applyClasses(items) {
            var self = this;
            var settings = self.settings;
            var firstClass, lastClass, firstItem, lastItem;
            firstClass = settings.firstControlClass;
            lastClass = settings.lastControlClass;
            items.each(function (item) {
              item.classes.remove(firstClass).remove(lastClass).add(settings.controlClass);

              if (item.visible()) {
                if (!firstItem) {
                  firstItem = item;
                }

                lastItem = item;
              }
            });

            if (firstItem) {
              firstItem.classes.add(firstClass);
            }

            if (lastItem) {
              lastItem.classes.add(lastClass);
            }
          },
          renderHtml: function renderHtml(container) {
            var self = this;
            var html = '';
            self.applyClasses(container.items());
            container.items().each(function (item) {
              html += item.renderHtml();
            });
            return html;
          },
          recalc: function recalc() {},
          postRender: function postRender() {},
          isNative: function isNative() {
            return false;
          }
        });
        var AbsoluteLayout = Layout.extend({
          Defaults: {
            containerClass: 'abs-layout',
            controlClass: 'abs-layout-item'
          },
          recalc: function recalc(container) {
            container.items().filter(':visible').each(function (ctrl) {
              var settings = ctrl.settings;
              ctrl.layoutRect({
                x: settings.x,
                y: settings.y,
                w: settings.w,
                h: settings.h
              });

              if (ctrl.recalc) {
                ctrl.recalc();
              }
            });
          },
          renderHtml: function renderHtml(container) {
            return '<div id="' + container._id + '-absend" class="' + container.classPrefix + 'abs-end"></div>' + this._super(container);
          }
        });
        var Button = Widget.extend({
          Defaults: {
            classes: 'widget btn',
            role: 'button'
          },
          init: function init(settings) {
            var self = this;
            var size;

            self._super(settings);

            settings = self.settings;
            size = self.settings.size;
            self.on('click mousedown', function (e) {
              e.preventDefault();
            });
            self.on('touchstart', function (e) {
              self.fire('click', e);
              e.preventDefault();
            });

            if (settings.subtype) {
              self.classes.add(settings.subtype);
            }

            if (size) {
              self.classes.add('btn-' + size);
            }

            if (settings.icon) {
              self.icon(settings.icon);
            }
          },
          icon: function icon(_icon) {
            if (!arguments.length) {
              return this.state.get('icon');
            }

            this.state.set('icon', _icon);
            return this;
          },
          repaint: function repaint() {
            var btnElm = this.getEl().firstChild;
            var btnStyle;

            if (btnElm) {
              btnStyle = btnElm.style;
              btnStyle.width = btnStyle.height = '100%';
            }

            this._super();
          },
          renderHtml: function renderHtml() {
            var self = this,
                id = self._id,
                prefix = self.classPrefix;
            var icon = self.state.get('icon'),
                image;
            var text = self.state.get('text');
            var textHtml = '';
            var ariaPressed;
            var settings = self.settings;
            image = settings.image;

            if (image) {
              icon = 'none';

              if (typeof image !== 'string') {
                image = domGlobals.window.getSelection ? image[0] : image[1];
              }

              image = ' style="background-image: url(\'' + image + '\')"';
            } else {
              image = '';
            }

            if (text) {
              self.classes.add('btn-has-text');
              textHtml = '<span class="' + prefix + 'txt">' + self.encode(text) + '</span>';
            }

            icon = icon ? prefix + 'ico ' + prefix + 'i-' + icon : '';
            ariaPressed = typeof settings.active === 'boolean' ? ' aria-pressed="' + settings.active + '"' : '';
            return '<div id="' + id + '" class="' + self.classes + '" tabindex="-1"' + ariaPressed + '>' + '<button id="' + id + '-button" role="presentation" type="button" tabindex="-1">' + (icon ? '<i class="' + icon + '"' + image + '></i>' : '') + textHtml + '</button>' + '</div>';
          },
          bindStates: function bindStates() {
            var self = this,
                $ = self.$,
                textCls = self.classPrefix + 'txt';

            function setButtonText(text) {
              var $span = $('span.' + textCls, self.getEl());

              if (text) {
                if (!$span[0]) {
                  $('button:first', self.getEl()).append('<span class="' + textCls + '"></span>');
                  $span = $('span.' + textCls, self.getEl());
                }

                $span.html(self.encode(text));
              } else {
                $span.remove();
              }

              self.classes.toggle('btn-has-text', !!text);
            }

            self.state.on('change:text', function (e) {
              setButtonText(e.value);
            });
            self.state.on('change:icon', function (e) {
              var icon = e.value;
              var prefix = self.classPrefix;
              self.settings.icon = icon;
              icon = icon ? prefix + 'ico ' + prefix + 'i-' + self.settings.icon : '';
              var btnElm = self.getEl().firstChild;
              var iconElm = btnElm.getElementsByTagName('i')[0];

              if (icon) {
                if (!iconElm || iconElm !== btnElm.firstChild) {
                  iconElm = domGlobals.document.createElement('i');
                  btnElm.insertBefore(iconElm, btnElm.firstChild);
                }

                iconElm.className = icon;
              } else if (iconElm) {
                btnElm.removeChild(iconElm);
              }

              setButtonText(self.state.get('text'));
            });
            return self._super();
          }
        });
        var BrowseButton = Button.extend({
          init: function init(settings) {
            var self = this;
            settings = global$2.extend({
              text: 'Browse...',
              multiple: false,
              accept: null
            }, settings);

            self._super(settings);

            self.classes.add('browsebutton');

            if (settings.multiple) {
              self.classes.add('multiple');
            }
          },
          postRender: function postRender() {
            var self = this;
            var input = funcs.create('input', {
              type: 'file',
              id: self._id + '-browse',
              accept: self.settings.accept
            });

            self._super();

            global$9(input).on('change', function (e) {
              var files = e.target.files;

              self.value = function () {
                if (!files.length) {
                  return null;
                } else if (self.settings.multiple) {
                  return files;
                } else {
                  return files[0];
                }
              };

              e.preventDefault();

              if (files.length) {
                self.fire('change', e);
              }
            });
            global$9(input).on('click', function (e) {
              e.stopPropagation();
            });
            global$9(self.getEl('button')).on('click touchstart', function (e) {
              e.stopPropagation();
              input.click();
            });
            self.getEl().appendChild(input);
          },
          remove: function remove() {
            global$9(this.getEl('button')).off();
            global$9(this.getEl('input')).off();

            this._super();
          }
        });
        var ButtonGroup = Container.extend({
          Defaults: {
            defaultType: 'button',
            role: 'group'
          },
          renderHtml: function renderHtml() {
            var self = this,
                layout = self._layout;
            self.classes.add('btn-group');
            self.preRender();
            layout.preRender(self);
            return '<div id="' + self._id + '" class="' + self.classes + '">' + '<div id="' + self._id + '-body">' + (self.settings.html || '') + layout.renderHtml(self) + '</div>' + '</div>';
          }
        });
        var Checkbox = Widget.extend({
          Defaults: {
            classes: 'checkbox',
            role: 'checkbox',
            checked: false
          },
          init: function init(settings) {
            var self = this;

            self._super(settings);

            self.on('click mousedown', function (e) {
              e.preventDefault();
            });
            self.on('click', function (e) {
              e.preventDefault();

              if (!self.disabled()) {
                self.checked(!self.checked());
              }
            });
            self.checked(self.settings.checked);
          },
          checked: function checked(state) {
            if (!arguments.length) {
              return this.state.get('checked');
            }

            this.state.set('checked', state);
            return this;
          },
          value: function value(state) {
            if (!arguments.length) {
              return this.checked();
            }

            return this.checked(state);
          },
          renderHtml: function renderHtml() {
            var self = this,
                id = self._id,
                prefix = self.classPrefix;
            return '<div id="' + id + '" class="' + self.classes + '" unselectable="on" aria-labelledby="' + id + '-al" tabindex="-1">' + '<i class="' + prefix + 'ico ' + prefix + 'i-checkbox"></i>' + '<span id="' + id + '-al" class="' + prefix + 'label">' + self.encode(self.state.get('text')) + '</span>' + '</div>';
          },
          bindStates: function bindStates() {
            var self = this;

            function checked(state) {
              self.classes.toggle('checked', state);
              self.aria('checked', state);
            }

            self.state.on('change:text', function (e) {
              self.getEl('al').firstChild.data = self.translate(e.value);
            });
            self.state.on('change:checked change:value', function (e) {
              self.fire('change');
              checked(e.value);
            });
            self.state.on('change:icon', function (e) {
              var icon = e.value;
              var prefix = self.classPrefix;

              if (typeof icon === 'undefined') {
                return self.settings.icon;
              }

              self.settings.icon = icon;
              icon = icon ? prefix + 'ico ' + prefix + 'i-' + self.settings.icon : '';
              var btnElm = self.getEl().firstChild;
              var iconElm = btnElm.getElementsByTagName('i')[0];

              if (icon) {
                if (!iconElm || iconElm !== btnElm.firstChild) {
                  iconElm = domGlobals.document.createElement('i');
                  btnElm.insertBefore(iconElm, btnElm.firstChild);
                }

                iconElm.className = icon;
              } else if (iconElm) {
                btnElm.removeChild(iconElm);
              }
            });

            if (self.state.get('checked')) {
              checked(true);
            }

            return self._super();
          }
        });
        var global$d = tinymce.util.Tools.resolve('tinymce.util.VK');
        var ComboBox = Widget.extend({
          init: function init(settings) {
            var self = this;

            self._super(settings);

            settings = self.settings;
            self.classes.add('combobox');
            self.subinput = true;
            self.ariaTarget = 'inp';
            settings.menu = settings.menu || settings.values;

            if (settings.menu) {
              settings.icon = 'caret';
            }

            self.on('click', function (e) {
              var elm = e.target;
              var root = self.getEl();

              if (!global$9.contains(root, elm) && elm !== root) {
                return;
              }

              while (elm && elm !== root) {
                if (elm.id && elm.id.indexOf('-open') !== -1) {
                  self.fire('action');

                  if (settings.menu) {
                    self.showMenu();

                    if (e.aria) {
                      self.menu.items()[0].focus();
                    }
                  }
                }

                elm = elm.parentNode;
              }
            });
            self.on('keydown', function (e) {
              var rootControl;

              if (e.keyCode === 13 && e.target.nodeName === 'INPUT') {
                e.preventDefault();
                self.parents().reverse().each(function (ctrl) {
                  if (ctrl.toJSON) {
                    rootControl = ctrl;
                    return false;
                  }
                });
                self.fire('submit', {
                  data: rootControl.toJSON()
                });
              }
            });
            self.on('keyup', function (e) {
              if (e.target.nodeName === 'INPUT') {
                var oldValue = self.state.get('value');
                var newValue = e.target.value;

                if (newValue !== oldValue) {
                  self.state.set('value', newValue);
                  self.fire('autocomplete', e);
                }
              }
            });
            self.on('mouseover', function (e) {
              var tooltip = self.tooltip().moveTo(-65535);

              if (self.statusLevel() && e.target.className.indexOf(self.classPrefix + 'status') !== -1) {
                var statusMessage = self.statusMessage() || 'Ok';
                var rel = tooltip.text(statusMessage).show().testMoveRel(e.target, ['bc-tc', 'bc-tl', 'bc-tr']);
                tooltip.classes.toggle('tooltip-n', rel === 'bc-tc');
                tooltip.classes.toggle('tooltip-nw', rel === 'bc-tl');
                tooltip.classes.toggle('tooltip-ne', rel === 'bc-tr');
                tooltip.moveRel(e.target, rel);
              }
            });
          },
          statusLevel: function statusLevel(value) {
            if (arguments.length > 0) {
              this.state.set('statusLevel', value);
            }

            return this.state.get('statusLevel');
          },
          statusMessage: function statusMessage(value) {
            if (arguments.length > 0) {
              this.state.set('statusMessage', value);
            }

            return this.state.get('statusMessage');
          },
          showMenu: function showMenu() {
            var self = this;
            var settings = self.settings;
            var menu;

            if (!self.menu) {
              menu = settings.menu || [];

              if (menu.length) {
                menu = {
                  type: 'menu',
                  items: menu
                };
              } else {
                menu.type = menu.type || 'menu';
              }

              self.menu = global$4.create(menu).parent(self).renderTo(self.getContainerElm());
              self.fire('createmenu');
              self.menu.reflow();
              self.menu.on('cancel', function (e) {
                if (e.control === self.menu) {
                  self.focus();
                }
              });
              self.menu.on('show hide', function (e) {
                e.control.items().each(function (ctrl) {
                  ctrl.active(ctrl.value() === self.value());
                });
              }).fire('show');
              self.menu.on('select', function (e) {
                self.value(e.control.value());
              });
              self.on('focusin', function (e) {
                if (e.target.tagName.toUpperCase() === 'INPUT') {
                  self.menu.hide();
                }
              });
              self.aria('expanded', true);
            }

            self.menu.show();
            self.menu.layoutRect({
              w: self.layoutRect().w
            });
            self.menu.moveRel(self.getEl(), self.isRtl() ? ['br-tr', 'tr-br'] : ['bl-tl', 'tl-bl']);
          },
          focus: function focus() {
            this.getEl('inp').focus();
          },
          repaint: function repaint() {
            var self = this,
                elm = self.getEl(),
                openElm = self.getEl('open'),
                rect = self.layoutRect();
            var width,
                lineHeight,
                innerPadding = 0;
            var inputElm = elm.firstChild;

            if (self.statusLevel() && self.statusLevel() !== 'none') {
              innerPadding = parseInt(funcs.getRuntimeStyle(inputElm, 'padding-right'), 10) - parseInt(funcs.getRuntimeStyle(inputElm, 'padding-left'), 10);
            }

            if (openElm) {
              width = rect.w - funcs.getSize(openElm).width - 10;
            } else {
              width = rect.w - 10;
            }

            var doc = domGlobals.document;

            if (doc.all && (!doc.documentMode || doc.documentMode <= 8)) {
              lineHeight = self.layoutRect().h - 2 + 'px';
            }

            global$9(inputElm).css({
              width: width - innerPadding,
              lineHeight: lineHeight
            });

            self._super();

            return self;
          },
          postRender: function postRender() {
            var self = this;
            global$9(this.getEl('inp')).on('change', function (e) {
              self.state.set('value', e.target.value);
              self.fire('change', e);
            });
            return self._super();
          },
          renderHtml: function renderHtml() {
            var self = this,
                id = self._id,
                settings = self.settings,
                prefix = self.classPrefix;
            var value = self.state.get('value') || '';
            var icon,
                text,
                openBtnHtml = '',
                extraAttrs = '',
                statusHtml = '';

            if ('spellcheck' in settings) {
              extraAttrs += ' spellcheck="' + settings.spellcheck + '"';
            }

            if (settings.maxLength) {
              extraAttrs += ' maxlength="' + settings.maxLength + '"';
            }

            if (settings.size) {
              extraAttrs += ' size="' + settings.size + '"';
            }

            if (settings.subtype) {
              extraAttrs += ' type="' + settings.subtype + '"';
            }

            statusHtml = '<i id="' + id + '-status" class="mce-status mce-ico" style="display: none"></i>';

            if (self.disabled()) {
              extraAttrs += ' disabled="disabled"';
            }

            icon = settings.icon;

            if (icon && icon !== 'caret') {
              icon = prefix + 'ico ' + prefix + 'i-' + settings.icon;
            }

            text = self.state.get('text');

            if (icon || text) {
              openBtnHtml = '<div id="' + id + '-open" class="' + prefix + 'btn ' + prefix + 'open" tabIndex="-1" role="button">' + '<button id="' + id + '-action" type="button" hidefocus="1" tabindex="-1">' + (icon !== 'caret' ? '<i class="' + icon + '"></i>' : '<i class="' + prefix + 'caret"></i>') + (text ? (icon ? ' ' : '') + text : '') + '</button>' + '</div>';
              self.classes.add('has-open');
            }

            return '<div id="' + id + '" class="' + self.classes + '">' + '<input id="' + id + '-inp" class="' + prefix + 'textbox" value="' + self.encode(value, false) + '" hidefocus="1"' + extraAttrs + ' placeholder="' + self.encode(settings.placeholder) + '" />' + statusHtml + openBtnHtml + '</div>';
          },
          value: function value(_value) {
            if (arguments.length) {
              this.state.set('value', _value);
              return this;
            }

            if (this.state.get('rendered')) {
              this.state.set('value', this.getEl('inp').value);
            }

            return this.state.get('value');
          },
          showAutoComplete: function showAutoComplete(items, term) {
            var self = this;

            if (items.length === 0) {
              self.hideMenu();
              return;
            }

            var insert = function insert(value, title) {
              return function () {
                self.fire('selectitem', {
                  title: title,
                  value: value
                });
              };
            };

            if (self.menu) {
              self.menu.items().remove();
            } else {
              self.menu = global$4.create({
                type: 'menu',
                classes: 'combobox-menu',
                layout: 'flow'
              }).parent(self).renderTo();
            }

            global$2.each(items, function (item) {
              self.menu.add({
                text: item.title,
                url: item.previewUrl,
                match: term,
                classes: 'menu-item-ellipsis',
                onclick: insert(item.value, item.title)
              });
            });
            self.menu.renderNew();
            self.hideMenu();
            self.menu.on('cancel', function (e) {
              if (e.control.parent() === self.menu) {
                e.stopPropagation();
                self.focus();
                self.hideMenu();
              }
            });
            self.menu.on('select', function () {
              self.focus();
            });
            var maxW = self.layoutRect().w;
            self.menu.layoutRect({
              w: maxW,
              minW: 0,
              maxW: maxW
            });
            self.menu.repaint();
            self.menu.reflow();
            self.menu.show();
            self.menu.moveRel(self.getEl(), self.isRtl() ? ['br-tr', 'tr-br'] : ['bl-tl', 'tl-bl']);
          },
          hideMenu: function hideMenu() {
            if (this.menu) {
              this.menu.hide();
            }
          },
          bindStates: function bindStates() {
            var self = this;
            self.state.on('change:value', function (e) {
              if (self.getEl('inp').value !== e.value) {
                self.getEl('inp').value = e.value;
              }
            });
            self.state.on('change:disabled', function (e) {
              self.getEl('inp').disabled = e.value;
            });
            self.state.on('change:statusLevel', function (e) {
              var statusIconElm = self.getEl('status');
              var prefix = self.classPrefix,
                  value = e.value;
              funcs.css(statusIconElm, 'display', value === 'none' ? 'none' : '');
              funcs.toggleClass(statusIconElm, prefix + 'i-checkmark', value === 'ok');
              funcs.toggleClass(statusIconElm, prefix + 'i-warning', value === 'warn');
              funcs.toggleClass(statusIconElm, prefix + 'i-error', value === 'error');
              self.classes.toggle('has-status', value !== 'none');
              self.repaint();
            });
            funcs.on(self.getEl('status'), 'mouseleave', function () {
              self.tooltip().hide();
            });
            self.on('cancel', function (e) {
              if (self.menu && self.menu.visible()) {
                e.stopPropagation();
                self.hideMenu();
              }
            });

            var focusIdx = function focusIdx(idx, menu) {
              if (menu && menu.items().length > 0) {
                menu.items().eq(idx)[0].focus();
              }
            };

            self.on('keydown', function (e) {
              var keyCode = e.keyCode;

              if (e.target.nodeName === 'INPUT') {
                if (keyCode === global$d.DOWN) {
                  e.preventDefault();
                  self.fire('autocomplete');
                  focusIdx(0, self.menu);
                } else if (keyCode === global$d.UP) {
                  e.preventDefault();
                  focusIdx(-1, self.menu);
                }
              }
            });
            return self._super();
          },
          remove: function remove() {
            global$9(this.getEl('inp')).off();

            if (this.menu) {
              this.menu.remove();
            }

            this._super();
          }
        });
        var ColorBox = ComboBox.extend({
          init: function init(settings) {
            var self = this;
            settings.spellcheck = false;

            if (settings.onaction) {
              settings.icon = 'none';
            }

            self._super(settings);

            self.classes.add('colorbox');
            self.on('change keyup postrender', function () {
              self.repaintColor(self.value());
            });
          },
          repaintColor: function repaintColor(value) {
            var openElm = this.getEl('open');
            var elm = openElm ? openElm.getElementsByTagName('i')[0] : null;

            if (elm) {
              try {
                elm.style.background = value;
              } catch (ex) {}
            }
          },
          bindStates: function bindStates() {
            var self = this;
            self.state.on('change:value', function (e) {
              if (self.state.get('rendered')) {
                self.repaintColor(e.value);
              }
            });
            return self._super();
          }
        });
        var PanelButton = Button.extend({
          showPanel: function showPanel() {
            var self = this,
                settings = self.settings;
            self.classes.add('opened');

            if (!self.panel) {
              var panelSettings = settings.panel;

              if (panelSettings.type) {
                panelSettings = {
                  layout: 'grid',
                  items: panelSettings
                };
              }

              panelSettings.role = panelSettings.role || 'dialog';
              panelSettings.popover = true;
              panelSettings.autohide = true;
              panelSettings.ariaRoot = true;
              self.panel = new FloatPanel(panelSettings).on('hide', function () {
                self.classes.remove('opened');
              }).on('cancel', function (e) {
                e.stopPropagation();
                self.focus();
                self.hidePanel();
              }).parent(self).renderTo(self.getContainerElm());
              self.panel.fire('show');
              self.panel.reflow();
            } else {
              self.panel.show();
            }

            var rtlRels = ['bc-tc', 'bc-tl', 'bc-tr'];
            var ltrRels = ['bc-tc', 'bc-tr', 'bc-tl', 'tc-bc', 'tc-br', 'tc-bl'];
            var rel = self.panel.testMoveRel(self.getEl(), settings.popoverAlign || (self.isRtl() ? rtlRels : ltrRels));
            self.panel.classes.toggle('start', rel.substr(-1) === 'l');
            self.panel.classes.toggle('end', rel.substr(-1) === 'r');
            var isTop = rel.substr(0, 1) === 't';
            self.panel.classes.toggle('bottom', !isTop);
            self.panel.classes.toggle('top', isTop);
            self.panel.moveRel(self.getEl(), rel);
          },
          hidePanel: function hidePanel() {
            var self = this;

            if (self.panel) {
              self.panel.hide();
            }
          },
          postRender: function postRender() {
            var self = this;
            self.aria('haspopup', true);
            self.on('click', function (e) {
              if (e.control === self) {
                if (self.panel && self.panel.visible()) {
                  self.hidePanel();
                } else {
                  self.showPanel();
                  self.panel.focus(!!e.aria);
                }
              }
            });
            return self._super();
          },
          remove: function remove() {
            if (this.panel) {
              this.panel.remove();
              this.panel = null;
            }

            return this._super();
          }
        });
        var DOM$3 = global$3.DOM;
        var ColorButton = PanelButton.extend({
          init: function init(settings) {
            this._super(settings);

            this.classes.add('splitbtn');
            this.classes.add('colorbutton');
          },
          color: function color(_color) {
            if (_color) {
              this._color = _color;
              this.getEl('preview').style.backgroundColor = _color;
              return this;
            }

            return this._color;
          },
          resetColor: function resetColor() {
            this._color = null;
            this.getEl('preview').style.backgroundColor = null;
            return this;
          },
          renderHtml: function renderHtml() {
            var self = this,
                id = self._id,
                prefix = self.classPrefix,
                text = self.state.get('text');
            var icon = self.settings.icon ? prefix + 'ico ' + prefix + 'i-' + self.settings.icon : '';
            var image = self.settings.image ? ' style="background-image: url(\'' + self.settings.image + '\')"' : '';
            var textHtml = '';

            if (text) {
              self.classes.add('btn-has-text');
              textHtml = '<span class="' + prefix + 'txt">' + self.encode(text) + '</span>';
            }

            return '<div id="' + id + '" class="' + self.classes + '" role="button" tabindex="-1" aria-haspopup="true">' + '<button role="presentation" hidefocus="1" type="button" tabindex="-1">' + (icon ? '<i class="' + icon + '"' + image + '></i>' : '') + '<span id="' + id + '-preview" class="' + prefix + 'preview"></span>' + textHtml + '</button>' + '<button type="button" class="' + prefix + 'open" hidefocus="1" tabindex="-1">' + ' <i class="' + prefix + 'caret"></i>' + '</button>' + '</div>';
          },
          postRender: function postRender() {
            var self = this,
                onClickHandler = self.settings.onclick;
            self.on('click', function (e) {
              if (e.aria && e.aria.key === 'down') {
                return;
              }

              if (e.control === self && !DOM$3.getParent(e.target, '.' + self.classPrefix + 'open')) {
                e.stopImmediatePropagation();
                onClickHandler.call(self, e);
              }
            });
            delete self.settings.onclick;
            return self._super();
          }
        });
        var global$e = tinymce.util.Tools.resolve('tinymce.util.Color');
        var ColorPicker = Widget.extend({
          Defaults: {
            classes: 'widget colorpicker'
          },
          init: function init(settings) {
            this._super(settings);
          },
          postRender: function postRender() {
            var self = this;
            var color = self.color();
            var hsv, hueRootElm, huePointElm, svRootElm, svPointElm;
            hueRootElm = self.getEl('h');
            huePointElm = self.getEl('hp');
            svRootElm = self.getEl('sv');
            svPointElm = self.getEl('svp');

            function getPos(elm, event) {
              var pos = funcs.getPos(elm);
              var x, y;
              x = event.pageX - pos.x;
              y = event.pageY - pos.y;
              x = Math.max(0, Math.min(x / elm.clientWidth, 1));
              y = Math.max(0, Math.min(y / elm.clientHeight, 1));
              return {
                x: x,
                y: y
              };
            }

            function updateColor(hsv, hueUpdate) {
              var hue = (360 - hsv.h) / 360;
              funcs.css(huePointElm, {
                top: hue * 100 + '%'
              });

              if (!hueUpdate) {
                funcs.css(svPointElm, {
                  left: hsv.s + '%',
                  top: 100 - hsv.v + '%'
                });
              }

              svRootElm.style.background = global$e({
                s: 100,
                v: 100,
                h: hsv.h
              }).toHex();
              self.color().parse({
                s: hsv.s,
                v: hsv.v,
                h: hsv.h
              });
            }

            function updateSaturationAndValue(e) {
              var pos;
              pos = getPos(svRootElm, e);
              hsv.s = pos.x * 100;
              hsv.v = (1 - pos.y) * 100;
              updateColor(hsv);
              self.fire('change');
            }

            function updateHue(e) {
              var pos;
              pos = getPos(hueRootElm, e);
              hsv = color.toHsv();
              hsv.h = (1 - pos.y) * 360;
              updateColor(hsv, true);
              self.fire('change');
            }

            self._repaint = function () {
              hsv = color.toHsv();
              updateColor(hsv);
            };

            self._super();

            self._svdraghelper = new DragHelper(self._id + '-sv', {
              start: updateSaturationAndValue,
              drag: updateSaturationAndValue
            });
            self._hdraghelper = new DragHelper(self._id + '-h', {
              start: updateHue,
              drag: updateHue
            });

            self._repaint();
          },
          rgb: function rgb() {
            return this.color().toRgb();
          },
          value: function value(_value2) {
            var self = this;

            if (arguments.length) {
              self.color().parse(_value2);

              if (self._rendered) {
                self._repaint();
              }
            } else {
              return self.color().toHex();
            }
          },
          color: function color() {
            if (!this._color) {
              this._color = global$e();
            }

            return this._color;
          },
          renderHtml: function renderHtml() {
            var self = this;
            var id = self._id;
            var prefix = self.classPrefix;
            var hueHtml;
            var stops = '#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000';

            function getOldIeFallbackHtml() {
              var i,
                  l,
                  html = '',
                  gradientPrefix,
                  stopsList;
              gradientPrefix = 'filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr=';
              stopsList = stops.split(',');

              for (i = 0, l = stopsList.length - 1; i < l; i++) {
                html += '<div class="' + prefix + 'colorpicker-h-chunk" style="' + 'height:' + 100 / l + '%;' + gradientPrefix + stopsList[i] + ',endColorstr=' + stopsList[i + 1] + ');' + '-ms-' + gradientPrefix + stopsList[i] + ',endColorstr=' + stopsList[i + 1] + ')' + '"></div>';
              }

              return html;
            }

            var gradientCssText = 'background: -ms-linear-gradient(top,' + stops + ');' + 'background: linear-gradient(to bottom,' + stops + ');';
            hueHtml = '<div id="' + id + '-h" class="' + prefix + 'colorpicker-h" style="' + gradientCssText + '">' + getOldIeFallbackHtml() + '<div id="' + id + '-hp" class="' + prefix + 'colorpicker-h-marker"></div>' + '</div>';
            return '<div id="' + id + '" class="' + self.classes + '">' + '<div id="' + id + '-sv" class="' + prefix + 'colorpicker-sv">' + '<div class="' + prefix + 'colorpicker-overlay1">' + '<div class="' + prefix + 'colorpicker-overlay2">' + '<div id="' + id + '-svp" class="' + prefix + 'colorpicker-selector1">' + '<div class="' + prefix + 'colorpicker-selector2"></div>' + '</div>' + '</div>' + '</div>' + '</div>' + hueHtml + '</div>';
          }
        });
        var DropZone = Widget.extend({
          init: function init(settings) {
            var self = this;
            settings = global$2.extend({
              height: 100,
              text: 'Drop an image here',
              multiple: false,
              accept: null
            }, settings);

            self._super(settings);

            self.classes.add('dropzone');

            if (settings.multiple) {
              self.classes.add('multiple');
            }
          },
          renderHtml: function renderHtml() {
            var self = this;
            var attrs, elm;
            var cfg = self.settings;
            attrs = {
              id: self._id,
              hidefocus: '1'
            };
            elm = funcs.create('div', attrs, '<span>' + this.translate(cfg.text) + '</span>');

            if (cfg.height) {
              funcs.css(elm, 'height', cfg.height + 'px');
            }

            if (cfg.width) {
              funcs.css(elm, 'width', cfg.width + 'px');
            }

            elm.className = self.classes;
            return elm.outerHTML;
          },
          postRender: function postRender() {
            var self = this;

            var toggleDragClass = function toggleDragClass(e) {
              e.preventDefault();
              self.classes.toggle('dragenter');
              self.getEl().className = self.classes;
            };

            var filter = function filter(files) {
              var accept = self.settings.accept;

              if (typeof accept !== 'string') {
                return files;
              }

              var re = new RegExp('(' + accept.split(/\s*,\s*/).join('|') + ')$', 'i');
              return global$2.grep(files, function (file) {
                return re.test(file.name);
              });
            };

            self._super();

            self.$el.on('dragover', function (e) {
              e.preventDefault();
            });
            self.$el.on('dragenter', toggleDragClass);
            self.$el.on('dragleave', toggleDragClass);
            self.$el.on('drop', function (e) {
              e.preventDefault();

              if (self.state.get('disabled')) {
                return;
              }

              var files = filter(e.dataTransfer.files);

              self.value = function () {
                if (!files.length) {
                  return null;
                } else if (self.settings.multiple) {
                  return files;
                } else {
                  return files[0];
                }
              };

              if (files.length) {
                self.fire('change', e);
              }
            });
          },
          remove: function remove() {
            this.$el.off();

            this._super();
          }
        });
        var Path = Widget.extend({
          init: function init(settings) {
            var self = this;

            if (!settings.delimiter) {
              settings.delimiter = '\xBB';
            }

            self._super(settings);

            self.classes.add('path');
            self.canFocus = true;
            self.on('click', function (e) {
              var index;
              var target = e.target;

              if (index = target.getAttribute('data-index')) {
                self.fire('select', {
                  value: self.row()[index],
                  index: index
                });
              }
            });
            self.row(self.settings.row);
          },
          focus: function focus() {
            var self = this;
            self.getEl().firstChild.focus();
            return self;
          },
          row: function row(_row2) {
            if (!arguments.length) {
              return this.state.get('row');
            }

            this.state.set('row', _row2);
            return this;
          },
          renderHtml: function renderHtml() {
            var self = this;
            return '<div id="' + self._id + '" class="' + self.classes + '">' + self._getDataPathHtml(self.state.get('row')) + '</div>';
          },
          bindStates: function bindStates() {
            var self = this;
            self.state.on('change:row', function (e) {
              self.innerHtml(self._getDataPathHtml(e.value));
            });
            return self._super();
          },
          _getDataPathHtml: function _getDataPathHtml(data) {
            var self = this;
            var parts = data || [];
            var i,
                l,
                html = '';
            var prefix = self.classPrefix;

            for (i = 0, l = parts.length; i < l; i++) {
              html += (i > 0 ? '<div class="' + prefix + 'divider" aria-hidden="true"> ' + self.settings.delimiter + ' </div>' : '') + '<div role="button" class="' + prefix + 'path-item' + (i === l - 1 ? ' ' + prefix + 'last' : '') + '" data-index="' + i + '" tabindex="-1" id="' + self._id + '-' + i + '" aria-level="' + (i + 1) + '">' + parts[i].name + '</div>';
            }

            if (!html) {
              html = '<div class="' + prefix + 'path-item">\xA0</div>';
            }

            return html;
          }
        });
        var ElementPath = Path.extend({
          postRender: function postRender() {
            var self = this,
                editor = self.settings.editor;

            function isHidden(elm) {
              if (elm.nodeType === 1) {
                if (elm.nodeName === 'BR' || !!elm.getAttribute('data-mce-bogus')) {
                  return true;
                }

                if (elm.getAttribute('data-mce-type') === 'bookmark') {
                  return true;
                }
              }

              return false;
            }

            if (editor.settings.elementpath !== false) {
              self.on('select', function (e) {
                editor.focus();
                editor.selection.select(this.row()[e.index].element);
                editor.nodeChanged();
              });
              editor.on('nodeChange', function (e) {
                var outParents = [];
                var parents = e.parents;
                var i = parents.length;

                while (i--) {
                  if (parents[i].nodeType === 1 && !isHidden(parents[i])) {
                    var args = editor.fire('ResolveName', {
                      name: parents[i].nodeName.toLowerCase(),
                      target: parents[i]
                    });

                    if (!args.isDefaultPrevented()) {
                      outParents.push({
                        name: args.name,
                        element: parents[i]
                      });
                    }

                    if (args.isPropagationStopped()) {
                      break;
                    }
                  }
                }

                self.row(outParents);
              });
            }

            return self._super();
          }
        });
        var FormItem = Container.extend({
          Defaults: {
            layout: 'flex',
            align: 'center',
            defaults: {
              flex: 1
            }
          },
          renderHtml: function renderHtml() {
            var self = this,
                layout = self._layout,
                prefix = self.classPrefix;
            self.classes.add('formitem');
            layout.preRender(self);
            return '<div id="' + self._id + '" class="' + self.classes + '" hidefocus="1" tabindex="-1">' + (self.settings.title ? '<div id="' + self._id + '-title" class="' + prefix + 'title">' + self.settings.title + '</div>' : '') + '<div id="' + self._id + '-body" class="' + self.bodyClasses + '">' + (self.settings.html || '') + layout.renderHtml(self) + '</div>' + '</div>';
          }
        });
        var Form = Container.extend({
          Defaults: {
            containerCls: 'form',
            layout: 'flex',
            direction: 'column',
            align: 'stretch',
            flex: 1,
            padding: 15,
            labelGap: 30,
            spacing: 10,
            callbacks: {
              submit: function submit() {
                this.submit();
              }
            }
          },
          preRender: function preRender() {
            var self = this,
                items = self.items();

            if (!self.settings.formItemDefaults) {
              self.settings.formItemDefaults = {
                layout: 'flex',
                autoResize: 'overflow',
                defaults: {
                  flex: 1
                }
              };
            }

            items.each(function (ctrl) {
              var formItem;
              var label = ctrl.settings.label;

              if (label) {
                formItem = new FormItem(global$2.extend({
                  items: {
                    type: 'label',
                    id: ctrl._id + '-l',
                    text: label,
                    flex: 0,
                    forId: ctrl._id,
                    disabled: ctrl.disabled()
                  }
                }, self.settings.formItemDefaults));
                formItem.type = 'formitem';
                ctrl.aria('labelledby', ctrl._id + '-l');

                if (typeof ctrl.settings.flex === 'undefined') {
                  ctrl.settings.flex = 1;
                }

                self.replace(ctrl, formItem);
                formItem.add(ctrl);
              }
            });
          },
          submit: function submit() {
            return this.fire('submit', {
              data: this.toJSON()
            });
          },
          postRender: function postRender() {
            var self = this;

            self._super();

            self.fromJSON(self.settings.data);
          },
          bindStates: function bindStates() {
            var self = this;

            self._super();

            function recalcLabels() {
              var maxLabelWidth = 0;
              var labels = [];
              var i, labelGap, items;

              if (self.settings.labelGapCalc === false) {
                return;
              }

              if (self.settings.labelGapCalc === 'children') {
                items = self.find('formitem');
              } else {
                items = self.items();
              }

              items.filter('formitem').each(function (item) {
                var labelCtrl = item.items()[0],
                    labelWidth = labelCtrl.getEl().clientWidth;
                maxLabelWidth = labelWidth > maxLabelWidth ? labelWidth : maxLabelWidth;
                labels.push(labelCtrl);
              });
              labelGap = self.settings.labelGap || 0;
              i = labels.length;

              while (i--) {
                labels[i].settings.minWidth = maxLabelWidth + labelGap;
              }
            }

            self.on('show', recalcLabels);
            recalcLabels();
          }
        });
        var FieldSet = Form.extend({
          Defaults: {
            containerCls: 'fieldset',
            layout: 'flex',
            direction: 'column',
            align: 'stretch',
            flex: 1,
            padding: '25 15 5 15',
            labelGap: 30,
            spacing: 10,
            border: 1
          },
          renderHtml: function renderHtml() {
            var self = this,
                layout = self._layout,
                prefix = self.classPrefix;
            self.preRender();
            layout.preRender(self);
            return '<fieldset id="' + self._id + '" class="' + self.classes + '" hidefocus="1" tabindex="-1">' + (self.settings.title ? '<legend id="' + self._id + '-title" class="' + prefix + 'fieldset-title">' + self.settings.title + '</legend>' : '') + '<div id="' + self._id + '-body" class="' + self.bodyClasses + '">' + (self.settings.html || '') + layout.renderHtml(self) + '</div>' + '</fieldset>';
          }
        });
        var unique$1 = 0;

        var generate = function generate(prefix) {
          var date = new Date();
          var time = date.getTime();
          var random = Math.floor(Math.random() * 1000000000);
          unique$1++;
          return prefix + '_' + random + unique$1 + String(time);
        };

        var fromHtml = function fromHtml(html, scope) {
          var doc = scope || domGlobals.document;
          var div = doc.createElement('div');
          div.innerHTML = html;

          if (!div.hasChildNodes() || div.childNodes.length > 1) {
            domGlobals.console.error('HTML does not have a single root node', html);
            throw new Error('HTML must have a single root node');
          }

          return fromDom(div.childNodes[0]);
        };

        var fromTag = function fromTag(tag, scope) {
          var doc = scope || domGlobals.document;
          var node = doc.createElement(tag);
          return fromDom(node);
        };

        var fromText = function fromText(text, scope) {
          var doc = scope || domGlobals.document;
          var node = doc.createTextNode(text);
          return fromDom(node);
        };

        var fromDom = function fromDom(node) {
          if (node === null || node === undefined) {
            throw new Error('Node cannot be null or undefined');
          }

          return {
            dom: constant(node)
          };
        };

        var fromPoint = function fromPoint(docElm, x, y) {
          var doc = docElm.dom();
          return Option.from(doc.elementFromPoint(x, y)).map(fromDom);
        };

        var Element = {
          fromHtml: fromHtml,
          fromTag: fromTag,
          fromText: fromText,
          fromDom: fromDom,
          fromPoint: fromPoint
        };

        var cached = function cached(f) {
          var called = false;
          var r;
          return function () {
            var args = [];

            for (var _i = 0; _i < arguments.length; _i++) {
              args[_i] = arguments[_i];
            }

            if (!called) {
              called = true;
              r = f.apply(null, args);
            }

            return r;
          };
        };

        var ATTRIBUTE = domGlobals.Node.ATTRIBUTE_NODE;
        var CDATA_SECTION = domGlobals.Node.CDATA_SECTION_NODE;
        var COMMENT = domGlobals.Node.COMMENT_NODE;
        var DOCUMENT = domGlobals.Node.DOCUMENT_NODE;
        var DOCUMENT_TYPE = domGlobals.Node.DOCUMENT_TYPE_NODE;
        var DOCUMENT_FRAGMENT = domGlobals.Node.DOCUMENT_FRAGMENT_NODE;
        var ELEMENT = domGlobals.Node.ELEMENT_NODE;
        var TEXT = domGlobals.Node.TEXT_NODE;
        var PROCESSING_INSTRUCTION = domGlobals.Node.PROCESSING_INSTRUCTION_NODE;
        var ENTITY_REFERENCE = domGlobals.Node.ENTITY_REFERENCE_NODE;
        var ENTITY = domGlobals.Node.ENTITY_NODE;
        var NOTATION = domGlobals.Node.NOTATION_NODE;

        var Immutable = function Immutable() {
          var fields = [];

          for (var _i = 0; _i < arguments.length; _i++) {
            fields[_i] = arguments[_i];
          }

          return function () {
            var values = [];

            for (var _i = 0; _i < arguments.length; _i++) {
              values[_i] = arguments[_i];
            }

            if (fields.length !== values.length) {
              throw new Error('Wrong number of arguments to struct. Expected "[' + fields.length + ']", got ' + values.length + ' arguments');
            }

            var struct = {};
            each(fields, function (name, i) {
              struct[name] = constant(values[i]);
            });
            return struct;
          };
        };

        var Global = typeof domGlobals.window !== 'undefined' ? domGlobals.window : Function('return this;')();

        var path = function path(parts, scope) {
          var o = scope !== undefined && scope !== null ? scope : Global;

          for (var i = 0; i < parts.length && o !== undefined && o !== null; ++i) {
            o = o[parts[i]];
          }

          return o;
        };

        var resolve = function resolve(p, scope) {
          var parts = p.split('.');
          return path(parts, scope);
        };

        var unsafe = function unsafe(name, scope) {
          return resolve(name, scope);
        };

        var getOrDie = function getOrDie(name, scope) {
          var actual = unsafe(name, scope);
          if (actual === undefined || actual === null) throw name + ' not available on this browser';
          return actual;
        };

        var Global$1 = {
          getOrDie: getOrDie
        };

        var node = function node() {
          var f = Global$1.getOrDie('Node');
          return f;
        };

        var compareDocumentPosition = function compareDocumentPosition(a, b, match) {
          return (a.compareDocumentPosition(b) & match) !== 0;
        };

        var documentPositionPreceding = function documentPositionPreceding(a, b) {
          return compareDocumentPosition(a, b, node().DOCUMENT_POSITION_PRECEDING);
        };

        var documentPositionContainedBy = function documentPositionContainedBy(a, b) {
          return compareDocumentPosition(a, b, node().DOCUMENT_POSITION_CONTAINED_BY);
        };

        var Node = {
          documentPositionPreceding: documentPositionPreceding,
          documentPositionContainedBy: documentPositionContainedBy
        };

        var firstMatch = function firstMatch(regexes, s) {
          for (var i = 0; i < regexes.length; i++) {
            var x = regexes[i];
            if (x.test(s)) return x;
          }

          return undefined;
        };

        var find$1 = function find$1(regexes, agent) {
          var r = firstMatch(regexes, agent);
          if (!r) return {
            major: 0,
            minor: 0
          };

          var group = function group(i) {
            return Number(agent.replace(r, '$' + i));
          };

          return nu(group(1), group(2));
        };

        var detect = function detect(versionRegexes, agent) {
          var cleanedAgent = String(agent).toLowerCase();
          if (versionRegexes.length === 0) return unknown();
          return find$1(versionRegexes, cleanedAgent);
        };

        var unknown = function unknown() {
          return nu(0, 0);
        };

        var nu = function nu(major, minor) {
          return {
            major: major,
            minor: minor
          };
        };

        var Version = {
          nu: nu,
          detect: detect,
          unknown: unknown
        };
        var edge = 'Edge';
        var chrome = 'Chrome';
        var ie = 'IE';
        var opera = 'Opera';
        var firefox = 'Firefox';
        var safari = 'Safari';

        var isBrowser = function isBrowser(name, current) {
          return function () {
            return current === name;
          };
        };

        var unknown$1 = function unknown$1() {
          return nu$1({
            current: undefined,
            version: Version.unknown()
          });
        };

        var nu$1 = function nu$1(info) {
          var current = info.current;
          var version = info.version;
          return {
            current: current,
            version: version,
            isEdge: isBrowser(edge, current),
            isChrome: isBrowser(chrome, current),
            isIE: isBrowser(ie, current),
            isOpera: isBrowser(opera, current),
            isFirefox: isBrowser(firefox, current),
            isSafari: isBrowser(safari, current)
          };
        };

        var Browser = {
          unknown: unknown$1,
          nu: nu$1,
          edge: constant(edge),
          chrome: constant(chrome),
          ie: constant(ie),
          opera: constant(opera),
          firefox: constant(firefox),
          safari: constant(safari)
        };
        var windows$1 = 'Windows';
        var ios = 'iOS';
        var android = 'Android';
        var linux = 'Linux';
        var osx = 'OSX';
        var solaris = 'Solaris';
        var freebsd = 'FreeBSD';

        var isOS = function isOS(name, current) {
          return function () {
            return current === name;
          };
        };

        var unknown$2 = function unknown$2() {
          return nu$2({
            current: undefined,
            version: Version.unknown()
          });
        };

        var nu$2 = function nu$2(info) {
          var current = info.current;
          var version = info.version;
          return {
            current: current,
            version: version,
            isWindows: isOS(windows$1, current),
            isiOS: isOS(ios, current),
            isAndroid: isOS(android, current),
            isOSX: isOS(osx, current),
            isLinux: isOS(linux, current),
            isSolaris: isOS(solaris, current),
            isFreeBSD: isOS(freebsd, current)
          };
        };

        var OperatingSystem = {
          unknown: unknown$2,
          nu: nu$2,
          windows: constant(windows$1),
          ios: constant(ios),
          android: constant(android),
          linux: constant(linux),
          osx: constant(osx),
          solaris: constant(solaris),
          freebsd: constant(freebsd)
        };

        var DeviceType = function DeviceType(os, browser, userAgent) {
          var isiPad = os.isiOS() && /ipad/i.test(userAgent) === true;
          var isiPhone = os.isiOS() && !isiPad;
          var isAndroid3 = os.isAndroid() && os.version.major === 3;
          var isAndroid4 = os.isAndroid() && os.version.major === 4;
          var isTablet = isiPad || isAndroid3 || isAndroid4 && /mobile/i.test(userAgent) === true;
          var isTouch = os.isiOS() || os.isAndroid();
          var isPhone = isTouch && !isTablet;
          var iOSwebview = browser.isSafari() && os.isiOS() && /safari/i.test(userAgent) === false;
          return {
            isiPad: constant(isiPad),
            isiPhone: constant(isiPhone),
            isTablet: constant(isTablet),
            isPhone: constant(isPhone),
            isTouch: constant(isTouch),
            isAndroid: os.isAndroid,
            isiOS: os.isiOS,
            isWebView: constant(iOSwebview)
          };
        };

        var detect$1 = function detect$1(candidates, userAgent) {
          var agent = String(userAgent).toLowerCase();
          return find(candidates, function (candidate) {
            return candidate.search(agent);
          });
        };

        var detectBrowser = function detectBrowser(browsers, userAgent) {
          return detect$1(browsers, userAgent).map(function (browser) {
            var version = Version.detect(browser.versionRegexes, userAgent);
            return {
              current: browser.name,
              version: version
            };
          });
        };

        var detectOs = function detectOs(oses, userAgent) {
          return detect$1(oses, userAgent).map(function (os) {
            var version = Version.detect(os.versionRegexes, userAgent);
            return {
              current: os.name,
              version: version
            };
          });
        };

        var UaString = {
          detectBrowser: detectBrowser,
          detectOs: detectOs
        };

        var contains = function contains(str, substr) {
          return str.indexOf(substr) !== -1;
        };

        var normalVersionRegex = /.*?version\/\ ?([0-9]+)\.([0-9]+).*/;

        var checkContains = function checkContains(target) {
          return function (uastring) {
            return contains(uastring, target);
          };
        };

        var browsers = [{
          name: 'Edge',
          versionRegexes: [/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],
          search: function search(uastring) {
            var monstrosity = contains(uastring, 'edge/') && contains(uastring, 'chrome') && contains(uastring, 'safari') && contains(uastring, 'applewebkit');
            return monstrosity;
          }
        }, {
          name: 'Chrome',
          versionRegexes: [/.*?chrome\/([0-9]+)\.([0-9]+).*/, normalVersionRegex],
          search: function search(uastring) {
            return contains(uastring, 'chrome') && !contains(uastring, 'chromeframe');
          }
        }, {
          name: 'IE',
          versionRegexes: [/.*?msie\ ?([0-9]+)\.([0-9]+).*/, /.*?rv:([0-9]+)\.([0-9]+).*/],
          search: function search(uastring) {
            return contains(uastring, 'msie') || contains(uastring, 'trident');
          }
        }, {
          name: 'Opera',
          versionRegexes: [normalVersionRegex, /.*?opera\/([0-9]+)\.([0-9]+).*/],
          search: checkContains('opera')
        }, {
          name: 'Firefox',
          versionRegexes: [/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],
          search: checkContains('firefox')
        }, {
          name: 'Safari',
          versionRegexes: [normalVersionRegex, /.*?cpu os ([0-9]+)_([0-9]+).*/],
          search: function search(uastring) {
            return (contains(uastring, 'safari') || contains(uastring, 'mobile/')) && contains(uastring, 'applewebkit');
          }
        }];
        var oses = [{
          name: 'Windows',
          search: checkContains('win'),
          versionRegexes: [/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]
        }, {
          name: 'iOS',
          search: function search(uastring) {
            return contains(uastring, 'iphone') || contains(uastring, 'ipad');
          },
          versionRegexes: [/.*?version\/\ ?([0-9]+)\.([0-9]+).*/, /.*cpu os ([0-9]+)_([0-9]+).*/, /.*cpu iphone os ([0-9]+)_([0-9]+).*/]
        }, {
          name: 'Android',
          search: checkContains('android'),
          versionRegexes: [/.*?android\ ?([0-9]+)\.([0-9]+).*/]
        }, {
          name: 'OSX',
          search: checkContains('os x'),
          versionRegexes: [/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]
        }, {
          name: 'Linux',
          search: checkContains('linux'),
          versionRegexes: []
        }, {
          name: 'Solaris',
          search: checkContains('sunos'),
          versionRegexes: []
        }, {
          name: 'FreeBSD',
          search: checkContains('freebsd'),
          versionRegexes: []
        }];
        var PlatformInfo = {
          browsers: constant(browsers),
          oses: constant(oses)
        };

        var detect$2 = function detect$2(userAgent) {
          var browsers = PlatformInfo.browsers();
          var oses = PlatformInfo.oses();
          var browser = UaString.detectBrowser(browsers, userAgent).fold(Browser.unknown, Browser.nu);
          var os = UaString.detectOs(oses, userAgent).fold(OperatingSystem.unknown, OperatingSystem.nu);
          var deviceType = DeviceType(os, browser, userAgent);
          return {
            browser: browser,
            os: os,
            deviceType: deviceType
          };
        };

        var PlatformDetection = {
          detect: detect$2
        };
        var detect$3 = cached(function () {
          var userAgent = domGlobals.navigator.userAgent;
          return PlatformDetection.detect(userAgent);
        });
        var PlatformDetection$1 = {
          detect: detect$3
        };
        var ELEMENT$1 = ELEMENT;
        var DOCUMENT$1 = DOCUMENT;

        var bypassSelector = function bypassSelector(dom) {
          return dom.nodeType !== ELEMENT$1 && dom.nodeType !== DOCUMENT$1 || dom.childElementCount === 0;
        };

        var all = function all(selector, scope) {
          var base = scope === undefined ? domGlobals.document : scope.dom();
          return bypassSelector(base) ? [] : map(base.querySelectorAll(selector), Element.fromDom);
        };

        var one = function one(selector, scope) {
          var base = scope === undefined ? domGlobals.document : scope.dom();
          return bypassSelector(base) ? Option.none() : Option.from(base.querySelector(selector)).map(Element.fromDom);
        };

        var regularContains = function regularContains(e1, e2) {
          var d1 = e1.dom();
          var d2 = e2.dom();
          return d1 === d2 ? false : d1.contains(d2);
        };

        var ieContains = function ieContains(e1, e2) {
          return Node.documentPositionContainedBy(e1.dom(), e2.dom());
        };

        var browser = PlatformDetection$1.detect().browser;
        var contains$1 = browser.isIE() ? ieContains : regularContains;
        var spot = Immutable('element', 'offset');

        var descendants = function descendants(scope, selector) {
          return all(selector, scope);
        };

        var trim = global$2.trim;

        var hasContentEditableState = function hasContentEditableState(value) {
          return function (node) {
            if (node && node.nodeType === 1) {
              if (node.contentEditable === value) {
                return true;
              }

              if (node.getAttribute('data-mce-contenteditable') === value) {
                return true;
              }
            }

            return false;
          };
        };

        var isContentEditableTrue = hasContentEditableState('true');
        var isContentEditableFalse = hasContentEditableState('false');

        var create = function create(type, title, url, level, attach) {
          return {
            type: type,
            title: title,
            url: url,
            level: level,
            attach: attach
          };
        };

        var isChildOfContentEditableTrue = function isChildOfContentEditableTrue(node) {
          while (node = node.parentNode) {
            var value = node.contentEditable;

            if (value && value !== 'inherit') {
              return isContentEditableTrue(node);
            }
          }

          return false;
        };

        var select = function select(selector, root) {
          return map(descendants(Element.fromDom(root), selector), function (element) {
            return element.dom();
          });
        };

        var getElementText = function getElementText(elm) {
          return elm.innerText || elm.textContent;
        };

        var getOrGenerateId = function getOrGenerateId(elm) {
          return elm.id ? elm.id : generate('h');
        };

        var isAnchor = function isAnchor(elm) {
          return elm && elm.nodeName === 'A' && (elm.id || elm.name);
        };

        var isValidAnchor = function isValidAnchor(elm) {
          return isAnchor(elm) && isEditable(elm);
        };

        var isHeader = function isHeader(elm) {
          return elm && /^(H[1-6])$/.test(elm.nodeName);
        };

        var isEditable = function isEditable(elm) {
          return isChildOfContentEditableTrue(elm) && !isContentEditableFalse(elm);
        };

        var isValidHeader = function isValidHeader(elm) {
          return isHeader(elm) && isEditable(elm);
        };

        var getLevel = function getLevel(elm) {
          return isHeader(elm) ? parseInt(elm.nodeName.substr(1), 10) : 0;
        };

        var headerTarget = function headerTarget(elm) {
          var headerId = getOrGenerateId(elm);

          var attach = function attach() {
            elm.id = headerId;
          };

          return create('header', getElementText(elm), '#' + headerId, getLevel(elm), attach);
        };

        var anchorTarget = function anchorTarget(elm) {
          var anchorId = elm.id || elm.name;
          var anchorText = getElementText(elm);
          return create('anchor', anchorText ? anchorText : '#' + anchorId, '#' + anchorId, 0, noop);
        };

        var getHeaderTargets = function getHeaderTargets(elms) {
          return map(filter(elms, isValidHeader), headerTarget);
        };

        var getAnchorTargets = function getAnchorTargets(elms) {
          return map(filter(elms, isValidAnchor), anchorTarget);
        };

        var getTargetElements = function getTargetElements(elm) {
          var elms = select('h1,h2,h3,h4,h5,h6,a:not([href])', elm);
          return elms;
        };

        var hasTitle = function hasTitle(target) {
          return trim(target.title).length > 0;
        };

        var find$2 = function find$2(elm) {
          var elms = getTargetElements(elm);
          return filter(getHeaderTargets(elms).concat(getAnchorTargets(elms)), hasTitle);
        };

        var LinkTargets = {
          find: find$2
        };

        var getActiveEditor = function getActiveEditor() {
          return window.tinymce ? window.tinymce.activeEditor : global$1.activeEditor;
        };

        var history = {};
        var HISTORY_LENGTH = 5;

        var clearHistory = function clearHistory() {
          history = {};
        };

        var toMenuItem = function toMenuItem(target) {
          return {
            title: target.title,
            value: {
              title: {
                raw: target.title
              },
              url: target.url,
              attach: target.attach
            }
          };
        };

        var toMenuItems = function toMenuItems(targets) {
          return global$2.map(targets, toMenuItem);
        };

        var staticMenuItem = function staticMenuItem(title, url) {
          return {
            title: title,
            value: {
              title: title,
              url: url,
              attach: noop
            }
          };
        };

        var isUniqueUrl = function isUniqueUrl(url, targets) {
          var foundTarget = exists(targets, function (target) {
            return target.url === url;
          });
          return !foundTarget;
        };

        var getSetting = function getSetting(editorSettings, name, defaultValue) {
          var value = name in editorSettings ? editorSettings[name] : defaultValue;
          return value === false ? null : value;
        };

        var createMenuItems = function createMenuItems(term, targets, fileType, editorSettings) {
          var separator = {
            title: '-'
          };

          var fromHistoryMenuItems = function fromHistoryMenuItems(history) {
            var historyItems = history.hasOwnProperty(fileType) ? history[fileType] : [];
            var uniqueHistory = filter(historyItems, function (url) {
              return isUniqueUrl(url, targets);
            });
            return global$2.map(uniqueHistory, function (url) {
              return {
                title: url,
                value: {
                  title: url,
                  url: url,
                  attach: noop
                }
              };
            });
          };

          var fromMenuItems = function fromMenuItems(type) {
            var filteredTargets = filter(targets, function (target) {
              return target.type === type;
            });
            return toMenuItems(filteredTargets);
          };

          var anchorMenuItems = function anchorMenuItems() {
            var anchorMenuItems = fromMenuItems('anchor');
            var topAnchor = getSetting(editorSettings, 'anchor_top', '#top');
            var bottomAchor = getSetting(editorSettings, 'anchor_bottom', '#bottom');

            if (topAnchor !== null) {
              anchorMenuItems.unshift(staticMenuItem('<top>', topAnchor));
            }

            if (bottomAchor !== null) {
              anchorMenuItems.push(staticMenuItem('<bottom>', bottomAchor));
            }

            return anchorMenuItems;
          };

          var join = function join(items) {
            return foldl(items, function (a, b) {
              var bothEmpty = a.length === 0 || b.length === 0;
              return bothEmpty ? a.concat(b) : a.concat(separator, b);
            }, []);
          };

          if (editorSettings.typeahead_urls === false) {
            return [];
          }

          return fileType === 'file' ? join([filterByQuery(term, fromHistoryMenuItems(history)), filterByQuery(term, fromMenuItems('header')), filterByQuery(term, anchorMenuItems())]) : filterByQuery(term, fromHistoryMenuItems(history));
        };

        var addToHistory = function addToHistory(url, fileType) {
          var items = history[fileType];

          if (!/^https?/.test(url)) {
            return;
          }

          if (items) {
            if (indexOf(items, url).isNone()) {
              history[fileType] = items.slice(0, HISTORY_LENGTH).concat(url);
            }
          } else {
            history[fileType] = [url];
          }
        };

        var filterByQuery = function filterByQuery(term, menuItems) {
          var lowerCaseTerm = term.toLowerCase();
          var result = global$2.grep(menuItems, function (item) {
            return item.title.toLowerCase().indexOf(lowerCaseTerm) !== -1;
          });
          return result.length === 1 && result[0].title === term ? [] : result;
        };

        var getTitle = function getTitle(linkDetails) {
          var title = linkDetails.title;
          return title.raw ? title.raw : title;
        };

        var setupAutoCompleteHandler = function setupAutoCompleteHandler(ctrl, editorSettings, bodyElm, fileType) {
          var autocomplete = function autocomplete(term) {
            var linkTargets = LinkTargets.find(bodyElm);
            var menuItems = createMenuItems(term, linkTargets, fileType, editorSettings);
            ctrl.showAutoComplete(menuItems, term);
          };

          ctrl.on('autocomplete', function () {
            autocomplete(ctrl.value());
          });
          ctrl.on('selectitem', function (e) {
            var linkDetails = e.value;
            ctrl.value(linkDetails.url);
            var title = getTitle(linkDetails);

            if (fileType === 'image') {
              ctrl.fire('change', {
                meta: {
                  alt: title,
                  attach: linkDetails.attach
                }
              });
            } else {
              ctrl.fire('change', {
                meta: {
                  text: title,
                  attach: linkDetails.attach
                }
              });
            }

            ctrl.focus();
          });
          ctrl.on('click', function (e) {
            if (ctrl.value().length === 0 && e.target.nodeName === 'INPUT') {
              autocomplete('');
            }
          });
          ctrl.on('PostRender', function () {
            ctrl.getRoot().on('submit', function (e) {
              if (!e.isDefaultPrevented()) {
                addToHistory(ctrl.value(), fileType);
              }
            });
          });
        };

        var statusToUiState = function statusToUiState(result) {
          var status = result.status,
              message = result.message;

          if (status === 'valid') {
            return {
              status: 'ok',
              message: message
            };
          } else if (status === 'unknown') {
            return {
              status: 'warn',
              message: message
            };
          } else if (status === 'invalid') {
            return {
              status: 'warn',
              message: message
            };
          } else {
            return {
              status: 'none',
              message: ''
            };
          }
        };

        var setupLinkValidatorHandler = function setupLinkValidatorHandler(ctrl, editorSettings, fileType) {
          var validatorHandler = editorSettings.filepicker_validator_handler;

          if (validatorHandler) {
            var validateUrl_1 = function validateUrl_1(url) {
              if (url.length === 0) {
                ctrl.statusLevel('none');
                return;
              }

              validatorHandler({
                url: url,
                type: fileType
              }, function (result) {
                var uiState = statusToUiState(result);
                ctrl.statusMessage(uiState.message);
                ctrl.statusLevel(uiState.status);
              });
            };

            ctrl.state.on('change:value', function (e) {
              validateUrl_1(e.value);
            });
          }
        };

        var FilePicker = ComboBox.extend({
          Statics: {
            clearHistory: clearHistory
          },
          init: function init(settings) {
            var self = this,
                editor = getActiveEditor(),
                editorSettings = editor.settings;
            var actionCallback, fileBrowserCallback, fileBrowserCallbackTypes;
            var fileType = settings.filetype;
            settings.spellcheck = false;
            fileBrowserCallbackTypes = editorSettings.file_picker_types || editorSettings.file_browser_callback_types;

            if (fileBrowserCallbackTypes) {
              fileBrowserCallbackTypes = global$2.makeMap(fileBrowserCallbackTypes, /[, ]/);
            }

            if (!fileBrowserCallbackTypes || fileBrowserCallbackTypes[fileType]) {
              fileBrowserCallback = editorSettings.file_picker_callback;

              if (fileBrowserCallback && (!fileBrowserCallbackTypes || fileBrowserCallbackTypes[fileType])) {
                actionCallback = function actionCallback() {
                  var meta = self.fire('beforecall').meta;
                  meta = global$2.extend({
                    filetype: fileType
                  }, meta);
                  fileBrowserCallback.call(editor, function (value, meta) {
                    self.value(value).fire('change', {
                      meta: meta
                    });
                  }, self.value(), meta);
                };
              } else {
                fileBrowserCallback = editorSettings.file_browser_callback;

                if (fileBrowserCallback && (!fileBrowserCallbackTypes || fileBrowserCallbackTypes[fileType])) {
                  actionCallback = function actionCallback() {
                    fileBrowserCallback(self.getEl('inp').id, self.value(), fileType, window);
                  };
                }
              }
            }

            if (actionCallback) {
              settings.icon = 'browse';
              settings.onaction = actionCallback;
            }

            self._super(settings);

            self.classes.add('filepicker');
            setupAutoCompleteHandler(self, editorSettings, editor.getBody(), fileType);
            setupLinkValidatorHandler(self, editorSettings, fileType);
          }
        });
        var FitLayout = AbsoluteLayout.extend({
          recalc: function recalc(container) {
            var contLayoutRect = container.layoutRect(),
                paddingBox = container.paddingBox;
            container.items().filter(':visible').each(function (ctrl) {
              ctrl.layoutRect({
                x: paddingBox.left,
                y: paddingBox.top,
                w: contLayoutRect.innerW - paddingBox.right - paddingBox.left,
                h: contLayoutRect.innerH - paddingBox.top - paddingBox.bottom
              });

              if (ctrl.recalc) {
                ctrl.recalc();
              }
            });
          }
        });
        var FlexLayout = AbsoluteLayout.extend({
          recalc: function recalc(container) {
            var i, l, items, contLayoutRect, contPaddingBox, contSettings, align, pack, spacing, totalFlex, availableSpace, direction;
            var ctrl, ctrlLayoutRect, ctrlSettings, flex;
            var maxSizeItems = [];
            var size, maxSize, ratio, rect, pos, maxAlignEndPos;
            var sizeName, minSizeName, posName, maxSizeName, beforeName, innerSizeName, deltaSizeName, contentSizeName;
            var alignAxisName, alignInnerSizeName, alignSizeName, alignMinSizeName, alignBeforeName, alignAfterName;
            var alignDeltaSizeName, alignContentSizeName;
            var max = Math.max,
                min = Math.min;
            items = container.items().filter(':visible');
            contLayoutRect = container.layoutRect();
            contPaddingBox = container.paddingBox;
            contSettings = container.settings;
            direction = container.isRtl() ? contSettings.direction || 'row-reversed' : contSettings.direction;
            align = contSettings.align;
            pack = container.isRtl() ? contSettings.pack || 'end' : contSettings.pack;
            spacing = contSettings.spacing || 0;

            if (direction === 'row-reversed' || direction === 'column-reverse') {
              items = items.set(items.toArray().reverse());
              direction = direction.split('-')[0];
            }

            if (direction === 'column') {
              posName = 'y';
              sizeName = 'h';
              minSizeName = 'minH';
              maxSizeName = 'maxH';
              innerSizeName = 'innerH';
              beforeName = 'top';
              deltaSizeName = 'deltaH';
              contentSizeName = 'contentH';
              alignBeforeName = 'left';
              alignSizeName = 'w';
              alignAxisName = 'x';
              alignInnerSizeName = 'innerW';
              alignMinSizeName = 'minW';
              alignAfterName = 'right';
              alignDeltaSizeName = 'deltaW';
              alignContentSizeName = 'contentW';
            } else {
              posName = 'x';
              sizeName = 'w';
              minSizeName = 'minW';
              maxSizeName = 'maxW';
              innerSizeName = 'innerW';
              beforeName = 'left';
              deltaSizeName = 'deltaW';
              contentSizeName = 'contentW';
              alignBeforeName = 'top';
              alignSizeName = 'h';
              alignAxisName = 'y';
              alignInnerSizeName = 'innerH';
              alignMinSizeName = 'minH';
              alignAfterName = 'bottom';
              alignDeltaSizeName = 'deltaH';
              alignContentSizeName = 'contentH';
            }

            availableSpace = contLayoutRect[innerSizeName] - contPaddingBox[beforeName] - contPaddingBox[beforeName];
            maxAlignEndPos = totalFlex = 0;

            for (i = 0, l = items.length; i < l; i++) {
              ctrl = items[i];
              ctrlLayoutRect = ctrl.layoutRect();
              ctrlSettings = ctrl.settings;
              flex = ctrlSettings.flex;
              availableSpace -= i < l - 1 ? spacing : 0;

              if (flex > 0) {
                totalFlex += flex;

                if (ctrlLayoutRect[maxSizeName]) {
                  maxSizeItems.push(ctrl);
                }

                ctrlLayoutRect.flex = flex;
              }

              availableSpace -= ctrlLayoutRect[minSizeName];
              size = contPaddingBox[alignBeforeName] + ctrlLayoutRect[alignMinSizeName] + contPaddingBox[alignAfterName];

              if (size > maxAlignEndPos) {
                maxAlignEndPos = size;
              }
            }

            rect = {};

            if (availableSpace < 0) {
              rect[minSizeName] = contLayoutRect[minSizeName] - availableSpace + contLayoutRect[deltaSizeName];
            } else {
              rect[minSizeName] = contLayoutRect[innerSizeName] - availableSpace + contLayoutRect[deltaSizeName];
            }

            rect[alignMinSizeName] = maxAlignEndPos + contLayoutRect[alignDeltaSizeName];
            rect[contentSizeName] = contLayoutRect[innerSizeName] - availableSpace;
            rect[alignContentSizeName] = maxAlignEndPos;
            rect.minW = min(rect.minW, contLayoutRect.maxW);
            rect.minH = min(rect.minH, contLayoutRect.maxH);
            rect.minW = max(rect.minW, contLayoutRect.startMinWidth);
            rect.minH = max(rect.minH, contLayoutRect.startMinHeight);

            if (contLayoutRect.autoResize && (rect.minW !== contLayoutRect.minW || rect.minH !== contLayoutRect.minH)) {
              rect.w = rect.minW;
              rect.h = rect.minH;
              container.layoutRect(rect);
              this.recalc(container);

              if (container._lastRect === null) {
                var parentCtrl = container.parent();

                if (parentCtrl) {
                  parentCtrl._lastRect = null;
                  parentCtrl.recalc();
                }
              }

              return;
            }

            ratio = availableSpace / totalFlex;

            for (i = 0, l = maxSizeItems.length; i < l; i++) {
              ctrl = maxSizeItems[i];
              ctrlLayoutRect = ctrl.layoutRect();
              maxSize = ctrlLayoutRect[maxSizeName];
              size = ctrlLayoutRect[minSizeName] + ctrlLayoutRect.flex * ratio;

              if (size > maxSize) {
                availableSpace -= ctrlLayoutRect[maxSizeName] - ctrlLayoutRect[minSizeName];
                totalFlex -= ctrlLayoutRect.flex;
                ctrlLayoutRect.flex = 0;
                ctrlLayoutRect.maxFlexSize = maxSize;
              } else {
                ctrlLayoutRect.maxFlexSize = 0;
              }
            }

            ratio = availableSpace / totalFlex;
            pos = contPaddingBox[beforeName];
            rect = {};

            if (totalFlex === 0) {
              if (pack === 'end') {
                pos = availableSpace + contPaddingBox[beforeName];
              } else if (pack === 'center') {
                pos = Math.round(contLayoutRect[innerSizeName] / 2 - (contLayoutRect[innerSizeName] - availableSpace) / 2) + contPaddingBox[beforeName];

                if (pos < 0) {
                  pos = contPaddingBox[beforeName];
                }
              } else if (pack === 'justify') {
                pos = contPaddingBox[beforeName];
                spacing = Math.floor(availableSpace / (items.length - 1));
              }
            }

            rect[alignAxisName] = contPaddingBox[alignBeforeName];

            for (i = 0, l = items.length; i < l; i++) {
              ctrl = items[i];
              ctrlLayoutRect = ctrl.layoutRect();
              size = ctrlLayoutRect.maxFlexSize || ctrlLayoutRect[minSizeName];

              if (align === 'center') {
                rect[alignAxisName] = Math.round(contLayoutRect[alignInnerSizeName] / 2 - ctrlLayoutRect[alignSizeName] / 2);
              } else if (align === 'stretch') {
                rect[alignSizeName] = max(ctrlLayoutRect[alignMinSizeName] || 0, contLayoutRect[alignInnerSizeName] - contPaddingBox[alignBeforeName] - contPaddingBox[alignAfterName]);
                rect[alignAxisName] = contPaddingBox[alignBeforeName];
              } else if (align === 'end') {
                rect[alignAxisName] = contLayoutRect[alignInnerSizeName] - ctrlLayoutRect[alignSizeName] - contPaddingBox.top;
              }

              if (ctrlLayoutRect.flex > 0) {
                size += ctrlLayoutRect.flex * ratio;
              }

              rect[sizeName] = size;
              rect[posName] = pos;
              ctrl.layoutRect(rect);

              if (ctrl.recalc) {
                ctrl.recalc();
              }

              pos += size + spacing;
            }
          }
        });
        var FlowLayout = Layout.extend({
          Defaults: {
            containerClass: 'flow-layout',
            controlClass: 'flow-layout-item',
            endClass: 'break'
          },
          recalc: function recalc(container) {
            container.items().filter(':visible').each(function (ctrl) {
              if (ctrl.recalc) {
                ctrl.recalc();
              }
            });
          },
          isNative: function isNative() {
            return true;
          }
        });

        var descendant = function descendant(scope, selector) {
          return one(selector, scope);
        };

        var toggleFormat = function toggleFormat(editor, fmt) {
          return function () {
            editor.execCommand('mceToggleFormat', false, fmt);
          };
        };

        var addFormatChangedListener = function addFormatChangedListener(editor, name, changed) {
          var handler = function handler(state) {
            changed(state, name);
          };

          if (editor.formatter) {
            editor.formatter.formatChanged(name, handler);
          } else {
            editor.on('init', function () {
              editor.formatter.formatChanged(name, handler);
            });
          }
        };

        var postRenderFormatToggle = function postRenderFormatToggle(editor, name) {
          return function (e) {
            addFormatChangedListener(editor, name, function (state) {
              e.control.active(state);
            });
          };
        };

        var register = function register(editor) {
          var alignFormats = ['alignleft', 'aligncenter', 'alignright', 'alignjustify'];
          var defaultAlign = 'alignleft';
          var alignMenuItems = [{
            text: 'Left',
            icon: 'alignleft',
            onclick: toggleFormat(editor, 'alignleft')
          }, {
            text: 'Center',
            icon: 'aligncenter',
            onclick: toggleFormat(editor, 'aligncenter')
          }, {
            text: 'Right',
            icon: 'alignright',
            onclick: toggleFormat(editor, 'alignright')
          }, {
            text: 'Justify',
            icon: 'alignjustify',
            onclick: toggleFormat(editor, 'alignjustify')
          }];
          editor.addMenuItem('align', {
            text: 'Align',
            menu: alignMenuItems
          });
          editor.addButton('align', {
            type: 'menubutton',
            icon: defaultAlign,
            menu: alignMenuItems,
            onShowMenu: function onShowMenu(e) {
              var menu = e.control.menu;
              global$2.each(alignFormats, function (formatName, idx) {
                menu.items().eq(idx).each(function (item) {
                  return item.active(editor.formatter.match(formatName));
                });
              });
            },
            onPostRender: function onPostRender(e) {
              var ctrl = e.control;
              global$2.each(alignFormats, function (formatName, idx) {
                addFormatChangedListener(editor, formatName, function (state) {
                  ctrl.icon(defaultAlign);

                  if (state) {
                    ctrl.icon(formatName);
                  }
                });
              });
            }
          });
          global$2.each({
            alignleft: ['Align left', 'JustifyLeft'],
            aligncenter: ['Align center', 'JustifyCenter'],
            alignright: ['Align right', 'JustifyRight'],
            alignjustify: ['Justify', 'JustifyFull'],
            alignnone: ['No alignment', 'JustifyNone']
          }, function (item, name) {
            editor.addButton(name, {
              active: false,
              tooltip: item[0],
              cmd: item[1],
              onPostRender: postRenderFormatToggle(editor, name)
            });
          });
        };

        var Align = {
          register: register
        };

        var getFirstFont = function getFirstFont(fontFamily) {
          return fontFamily ? fontFamily.split(',')[0] : '';
        };

        var findMatchingValue = function findMatchingValue(items, fontFamily) {
          var font = fontFamily ? fontFamily.toLowerCase() : '';
          var value;
          global$2.each(items, function (item) {
            if (item.value.toLowerCase() === font) {
              value = item.value;
            }
          });
          global$2.each(items, function (item) {
            if (!value && getFirstFont(item.value).toLowerCase() === getFirstFont(font).toLowerCase()) {
              value = item.value;
            }
          });
          return value;
        };

        var createFontNameListBoxChangeHandler = function createFontNameListBoxChangeHandler(editor, items) {
          return function () {
            var self = this;
            self.state.set('value', null);
            editor.on('init nodeChange', function (e) {
              var fontFamily = editor.queryCommandValue('FontName');
              var match = findMatchingValue(items, fontFamily);
              self.value(match ? match : null);

              if (!match && fontFamily) {
                self.text(getFirstFont(fontFamily));
              }
            });
          };
        };

        var createFormats = function createFormats(formats) {
          formats = formats.replace(/;$/, '').split(';');
          var i = formats.length;

          while (i--) {
            formats[i] = formats[i].split('=');
          }

          return formats;
        };

        var getFontItems = function getFontItems(editor) {
          var defaultFontsFormats = 'Andale Mono=andale mono,monospace;' + 'Arial=arial,helvetica,sans-serif;' + 'Arial Black=arial black,sans-serif;' + 'Book Antiqua=book antiqua,palatino,serif;' + 'Comic Sans MS=comic sans ms,sans-serif;' + 'Courier New=courier new,courier,monospace;' + 'Georgia=georgia,palatino,serif;' + 'Helvetica=helvetica,arial,sans-serif;' + 'Impact=impact,sans-serif;' + 'Symbol=symbol;' + 'Tahoma=tahoma,arial,helvetica,sans-serif;' + 'Terminal=terminal,monaco,monospace;' + 'Times New Roman=times new roman,times,serif;' + 'Trebuchet MS=trebuchet ms,geneva,sans-serif;' + 'Verdana=verdana,geneva,sans-serif;' + 'Webdings=webdings;' + 'Wingdings=wingdings,zapf dingbats';
          var fonts = createFormats(editor.settings.font_formats || defaultFontsFormats);
          return global$2.map(fonts, function (font) {
            return {
              text: {
                raw: font[0]
              },
              value: font[1],
              textStyle: font[1].indexOf('dings') === -1 ? 'font-family:' + font[1] : ''
            };
          });
        };

        var registerButtons = function registerButtons(editor) {
          editor.addButton('fontselect', function () {
            var items = getFontItems(editor);
            return {
              type: 'listbox',
              text: 'Font Family',
              tooltip: 'Font Family',
              values: items,
              fixedWidth: true,
              onPostRender: createFontNameListBoxChangeHandler(editor, items),
              onselect: function onselect(e) {
                if (e.control.settings.value) {
                  editor.execCommand('FontName', false, e.control.settings.value);
                }
              }
            };
          });
        };

        var register$1 = function register$1(editor) {
          registerButtons(editor);
        };

        var FontSelect = {
          register: register$1
        };

        var round = function round(number, precision) {
          var factor = Math.pow(10, precision);
          return Math.round(number * factor) / factor;
        };

        var toPt = function toPt(fontSize, precision) {
          if (/[0-9.]+px$/.test(fontSize)) {
            return round(parseInt(fontSize, 10) * 72 / 96, precision || 0) + 'pt';
          }

          return fontSize;
        };

        var findMatchingValue$1 = function findMatchingValue$1(items, pt, px) {
          var value;
          global$2.each(items, function (item) {
            if (item.value === px) {
              value = px;
            } else if (item.value === pt) {
              value = pt;
            }
          });
          return value;
        };

        var createFontSizeListBoxChangeHandler = function createFontSizeListBoxChangeHandler(editor, items) {
          return function () {
            var self = this;
            editor.on('init nodeChange', function (e) {
              var px, pt, precision, match;
              px = editor.queryCommandValue('FontSize');

              if (px) {
                for (precision = 3; !match && precision >= 0; precision--) {
                  pt = toPt(px, precision);
                  match = findMatchingValue$1(items, pt, px);
                }
              }

              self.value(match ? match : null);

              if (!match) {
                self.text(pt);
              }
            });
          };
        };

        var getFontSizeItems = function getFontSizeItems(editor) {
          var defaultFontsizeFormats = '8pt 10pt 12pt 14pt 18pt 24pt 36pt';
          var fontsizeFormats = editor.settings.fontsize_formats || defaultFontsizeFormats;
          return global$2.map(fontsizeFormats.split(' '), function (item) {
            var text = item,
                value = item;
            var values = item.split('=');

            if (values.length > 1) {
              text = values[0];
              value = values[1];
            }

            return {
              text: text,
              value: value
            };
          });
        };

        var registerButtons$1 = function registerButtons$1(editor) {
          editor.addButton('fontsizeselect', function () {
            var items = getFontSizeItems(editor);
            return {
              type: 'listbox',
              text: 'Font Sizes',
              tooltip: 'Font Sizes',
              values: items,
              fixedWidth: true,
              onPostRender: createFontSizeListBoxChangeHandler(editor, items),
              onclick: function onclick(e) {
                if (e.control.settings.value) {
                  editor.execCommand('FontSize', false, e.control.settings.value);
                }
              }
            };
          });
        };

        var register$2 = function register$2(editor) {
          registerButtons$1(editor);
        };

        var FontSizeSelect = {
          register: register$2
        };

        var hideMenuObjects = function hideMenuObjects(editor, menu) {
          var count = menu.length;
          global$2.each(menu, function (item) {
            if (item.menu) {
              item.hidden = hideMenuObjects(editor, item.menu) === 0;
            }

            var formatName = item.format;

            if (formatName) {
              item.hidden = !editor.formatter.canApply(formatName);
            }

            if (item.hidden) {
              count--;
            }
          });
          return count;
        };

        var hideFormatMenuItems = function hideFormatMenuItems(editor, menu) {
          var count = menu.items().length;
          menu.items().each(function (item) {
            if (item.menu) {
              item.visible(hideFormatMenuItems(editor, item.menu) > 0);
            }

            if (!item.menu && item.settings.menu) {
              item.visible(hideMenuObjects(editor, item.settings.menu) > 0);
            }

            var formatName = item.settings.format;

            if (formatName) {
              item.visible(editor.formatter.canApply(formatName));
            }

            if (!item.visible()) {
              count--;
            }
          });
          return count;
        };

        var createFormatMenu = function createFormatMenu(editor) {
          var count = 0;
          var newFormats = [];
          var defaultStyleFormats = [{
            title: 'Headings',
            items: [{
              title: 'Heading 1',
              format: 'h1'
            }, {
              title: 'Heading 2',
              format: 'h2'
            }, {
              title: 'Heading 3',
              format: 'h3'
            }, {
              title: 'Heading 4',
              format: 'h4'
            }, {
              title: 'Heading 5',
              format: 'h5'
            }, {
              title: 'Heading 6',
              format: 'h6'
            }]
          }, {
            title: 'Inline',
            items: [{
              title: 'Bold',
              icon: 'bold',
              format: 'bold'
            }, {
              title: 'Italic',
              icon: 'italic',
              format: 'italic'
            }, {
              title: 'Underline',
              icon: 'underline',
              format: 'underline'
            }, {
              title: 'Strikethrough',
              icon: 'strikethrough',
              format: 'strikethrough'
            }, {
              title: 'Superscript',
              icon: 'superscript',
              format: 'superscript'
            }, {
              title: 'Subscript',
              icon: 'subscript',
              format: 'subscript'
            }, {
              title: 'Code',
              icon: 'code',
              format: 'code'
            }]
          }, {
            title: 'Blocks',
            items: [{
              title: 'Paragraph',
              format: 'p'
            }, {
              title: 'Blockquote',
              format: 'blockquote'
            }, {
              title: 'Div',
              format: 'div'
            }, {
              title: 'Pre',
              format: 'pre'
            }]
          }, {
            title: 'Alignment',
            items: [{
              title: 'Left',
              icon: 'alignleft',
              format: 'alignleft'
            }, {
              title: 'Center',
              icon: 'aligncenter',
              format: 'aligncenter'
            }, {
              title: 'Right',
              icon: 'alignright',
              format: 'alignright'
            }, {
              title: 'Justify',
              icon: 'alignjustify',
              format: 'alignjustify'
            }]
          }];

          var createMenu = function createMenu(formats) {
            var menu = [];

            if (!formats) {
              return;
            }

            global$2.each(formats, function (format) {
              var menuItem = {
                text: format.title,
                icon: format.icon
              };

              if (format.items) {
                menuItem.menu = createMenu(format.items);
              } else {
                var formatName = format.format || 'custom' + count++;

                if (!format.format) {
                  format.name = formatName;
                  newFormats.push(format);
                }

                menuItem.format = formatName;
                menuItem.cmd = format.cmd;
              }

              menu.push(menuItem);
            });
            return menu;
          };

          var createStylesMenu = function createStylesMenu() {
            var menu;

            if (editor.settings.style_formats_merge) {
              if (editor.settings.style_formats) {
                menu = createMenu(defaultStyleFormats.concat(editor.settings.style_formats));
              } else {
                menu = createMenu(defaultStyleFormats);
              }
            } else {
              menu = createMenu(editor.settings.style_formats || defaultStyleFormats);
            }

            return menu;
          };

          editor.on('init', function () {
            global$2.each(newFormats, function (format) {
              editor.formatter.register(format.name, format);
            });
          });
          return {
            type: 'menu',
            items: createStylesMenu(),
            onPostRender: function onPostRender(e) {
              editor.fire('renderFormatsMenu', {
                control: e.control
              });
            },
            itemDefaults: {
              preview: true,
              textStyle: function textStyle() {
                if (this.settings.format) {
                  return editor.formatter.getCssText(this.settings.format);
                }
              },
              onPostRender: function onPostRender() {
                var self = this;
                self.parent().on('show', function () {
                  var formatName, command;
                  formatName = self.settings.format;

                  if (formatName) {
                    self.disabled(!editor.formatter.canApply(formatName));
                    self.active(editor.formatter.match(formatName));
                  }

                  command = self.settings.cmd;

                  if (command) {
                    self.active(editor.queryCommandState(command));
                  }
                });
              },
              onclick: function onclick() {
                if (this.settings.format) {
                  toggleFormat(editor, this.settings.format)();
                }

                if (this.settings.cmd) {
                  editor.execCommand(this.settings.cmd);
                }
              }
            }
          };
        };

        var registerMenuItems = function registerMenuItems(editor, formatMenu) {
          editor.addMenuItem('formats', {
            text: 'Formats',
            menu: formatMenu
          });
        };

        var registerButtons$2 = function registerButtons$2(editor, formatMenu) {
          editor.addButton('styleselect', {
            type: 'menubutton',
            text: 'Formats',
            menu: formatMenu,
            onShowMenu: function onShowMenu() {
              if (editor.settings.style_formats_autohide) {
                hideFormatMenuItems(editor, this.menu);
              }
            }
          });
        };

        var register$3 = function register$3(editor) {
          var formatMenu = createFormatMenu(editor);
          registerMenuItems(editor, formatMenu);
          registerButtons$2(editor, formatMenu);
        };

        var Formats = {
          register: register$3
        };
        var defaultBlocks = 'Paragraph=p;' + 'Heading 1=h1;' + 'Heading 2=h2;' + 'Heading 3=h3;' + 'Heading 4=h4;' + 'Heading 5=h5;' + 'Heading 6=h6;' + 'Preformatted=pre';

        var createFormats$1 = function createFormats$1(formats) {
          formats = formats.replace(/;$/, '').split(';');
          var i = formats.length;

          while (i--) {
            formats[i] = formats[i].split('=');
          }

          return formats;
        };

        var createListBoxChangeHandler = function createListBoxChangeHandler(editor, items, formatName) {
          return function () {
            var self = this;
            editor.on('nodeChange', function (e) {
              var formatter = editor.formatter;
              var value = null;
              global$2.each(e.parents, function (node) {
                global$2.each(items, function (item) {
                  if (formatName) {
                    if (formatter.matchNode(node, formatName, {
                      value: item.value
                    })) {
                      value = item.value;
                    }
                  } else {
                    if (formatter.matchNode(node, item.value)) {
                      value = item.value;
                    }
                  }

                  if (value) {
                    return false;
                  }
                });

                if (value) {
                  return false;
                }
              });
              self.value(value);
            });
          };
        };

        var lazyFormatSelectBoxItems = function lazyFormatSelectBoxItems(editor, blocks) {
          return function () {
            var items = [];
            global$2.each(blocks, function (block) {
              items.push({
                text: block[0],
                value: block[1],
                textStyle: function textStyle() {
                  return editor.formatter.getCssText(block[1]);
                }
              });
            });
            return {
              type: 'listbox',
              text: blocks[0][0],
              values: items,
              fixedWidth: true,
              onselect: function onselect(e) {
                if (e.control) {
                  var fmt = e.control.value();
                  toggleFormat(editor, fmt)();
                }
              },
              onPostRender: createListBoxChangeHandler(editor, items)
            };
          };
        };

        var buildMenuItems = function buildMenuItems(editor, blocks) {
          return global$2.map(blocks, function (block) {
            return {
              text: block[0],
              onclick: toggleFormat(editor, block[1]),
              textStyle: function textStyle() {
                return editor.formatter.getCssText(block[1]);
              }
            };
          });
        };

        var register$4 = function register$4(editor) {
          var blocks = createFormats$1(editor.settings.block_formats || defaultBlocks);
          editor.addMenuItem('blockformats', {
            text: 'Blocks',
            menu: buildMenuItems(editor, blocks)
          });
          editor.addButton('formatselect', lazyFormatSelectBoxItems(editor, blocks));
        };

        var FormatSelect = {
          register: register$4
        };

        var createCustomMenuItems = function createCustomMenuItems(editor, names) {
          var items, nameList;

          if (typeof names === 'string') {
            nameList = names.split(' ');
          } else if (global$2.isArray(names)) {
            return flatten(global$2.map(names, function (names) {
              return createCustomMenuItems(editor, names);
            }));
          }

          items = global$2.grep(nameList, function (name) {
            return name === '|' || name in editor.menuItems;
          });
          return global$2.map(items, function (name) {
            return name === '|' ? {
              text: '-'
            } : editor.menuItems[name];
          });
        };

        var isSeparator$1 = function isSeparator$1(menuItem) {
          return menuItem && menuItem.text === '-';
        };

        var trimMenuItems = function trimMenuItems(menuItems) {
          var menuItems2 = filter(menuItems, function (menuItem, i, menuItems) {
            return !isSeparator$1(menuItem) || !isSeparator$1(menuItems[i - 1]);
          });
          return filter(menuItems2, function (menuItem, i, menuItems) {
            return !isSeparator$1(menuItem) || i > 0 && i < menuItems.length - 1;
          });
        };

        var createContextMenuItems = function createContextMenuItems(editor, context) {
          var outputMenuItems = [{
            text: '-'
          }];
          var menuItems = global$2.grep(editor.menuItems, function (menuItem) {
            return menuItem.context === context;
          });
          global$2.each(menuItems, function (menuItem) {
            if (menuItem.separator === 'before') {
              outputMenuItems.push({
                text: '|'
              });
            }

            if (menuItem.prependToContext) {
              outputMenuItems.unshift(menuItem);
            } else {
              outputMenuItems.push(menuItem);
            }

            if (menuItem.separator === 'after') {
              outputMenuItems.push({
                text: '|'
              });
            }
          });
          return outputMenuItems;
        };

        var createInsertMenu = function createInsertMenu(editor) {
          var insertButtonItems = editor.settings.insert_button_items;

          if (insertButtonItems) {
            return trimMenuItems(createCustomMenuItems(editor, insertButtonItems));
          } else {
            return trimMenuItems(createContextMenuItems(editor, 'insert'));
          }
        };

        var registerButtons$3 = function registerButtons$3(editor) {
          editor.addButton('insert', {
            type: 'menubutton',
            icon: 'insert',
            menu: [],
            oncreatemenu: function oncreatemenu() {
              this.menu.add(createInsertMenu(editor));
              this.menu.renderNew();
            }
          });
        };

        var register$5 = function register$5(editor) {
          registerButtons$3(editor);
        };

        var InsertButton = {
          register: register$5
        };

        var registerFormatButtons = function registerFormatButtons(editor) {
          global$2.each({
            bold: 'Bold',
            italic: 'Italic',
            underline: 'Underline',
            strikethrough: 'Strikethrough',
            subscript: 'Subscript',
            superscript: 'Superscript'
          }, function (text, name) {
            editor.addButton(name, {
              active: false,
              tooltip: text,
              onPostRender: postRenderFormatToggle(editor, name),
              onclick: toggleFormat(editor, name)
            });
          });
        };

        var registerCommandButtons = function registerCommandButtons(editor) {
          global$2.each({
            outdent: ['Decrease indent', 'Outdent'],
            indent: ['Increase indent', 'Indent'],
            cut: ['Cut', 'Cut'],
            copy: ['Copy', 'Copy'],
            paste: ['Paste', 'Paste'],
            help: ['Help', 'mceHelp'],
            selectall: ['Select all', 'SelectAll'],
            visualaid: ['Visual aids', 'mceToggleVisualAid'],
            newdocument: ['New document', 'mceNewDocument'],
            removeformat: ['Clear formatting', 'RemoveFormat'],
            remove: ['Remove', 'Delete']
          }, function (item, name) {
            editor.addButton(name, {
              tooltip: item[0],
              cmd: item[1]
            });
          });
        };

        var registerCommandToggleButtons = function registerCommandToggleButtons(editor) {
          global$2.each({
            blockquote: ['Blockquote', 'mceBlockQuote'],
            subscript: ['Subscript', 'Subscript'],
            superscript: ['Superscript', 'Superscript']
          }, function (item, name) {
            editor.addButton(name, {
              active: false,
              tooltip: item[0],
              cmd: item[1],
              onPostRender: postRenderFormatToggle(editor, name)
            });
          });
        };

        var registerButtons$4 = function registerButtons$4(editor) {
          registerFormatButtons(editor);
          registerCommandButtons(editor);
          registerCommandToggleButtons(editor);
        };

        var registerMenuItems$1 = function registerMenuItems$1(editor) {
          global$2.each({
            bold: ['Bold', 'Bold', 'Meta+B'],
            italic: ['Italic', 'Italic', 'Meta+I'],
            underline: ['Underline', 'Underline', 'Meta+U'],
            strikethrough: ['Strikethrough', 'Strikethrough'],
            subscript: ['Subscript', 'Subscript'],
            superscript: ['Superscript', 'Superscript'],
            removeformat: ['Clear formatting', 'RemoveFormat'],
            newdocument: ['New document', 'mceNewDocument'],
            cut: ['Cut', 'Cut', 'Meta+X'],
            copy: ['Copy', 'Copy', 'Meta+C'],
            paste: ['Paste', 'Paste', 'Meta+V'],
            selectall: ['Select all', 'SelectAll', 'Meta+A']
          }, function (item, name) {
            editor.addMenuItem(name, {
              text: item[0],
              icon: name,
              shortcut: item[2],
              cmd: item[1]
            });
          });
          editor.addMenuItem('codeformat', {
            text: 'Code',
            icon: 'code',
            onclick: toggleFormat(editor, 'code')
          });
        };

        var register$6 = function register$6(editor) {
          registerButtons$4(editor);
          registerMenuItems$1(editor);
        };

        var SimpleControls = {
          register: register$6
        };

        var toggleUndoRedoState = function toggleUndoRedoState(editor, type) {
          return function () {
            var self = this;

            var checkState = function checkState() {
              var typeFn = type === 'redo' ? 'hasRedo' : 'hasUndo';
              return editor.undoManager ? editor.undoManager[typeFn]() : false;
            };

            self.disabled(!checkState());
            editor.on('Undo Redo AddUndo TypingUndo ClearUndos SwitchMode', function () {
              self.disabled(editor.readonly || !checkState());
            });
          };
        };

        var registerMenuItems$2 = function registerMenuItems$2(editor) {
          editor.addMenuItem('undo', {
            text: 'Undo',
            icon: 'undo',
            shortcut: 'Meta+Z',
            onPostRender: toggleUndoRedoState(editor, 'undo'),
            cmd: 'undo'
          });
          editor.addMenuItem('redo', {
            text: 'Redo',
            icon: 'redo',
            shortcut: 'Meta+Y',
            onPostRender: toggleUndoRedoState(editor, 'redo'),
            cmd: 'redo'
          });
        };

        var registerButtons$5 = function registerButtons$5(editor) {
          editor.addButton('undo', {
            tooltip: 'Undo',
            onPostRender: toggleUndoRedoState(editor, 'undo'),
            cmd: 'undo'
          });
          editor.addButton('redo', {
            tooltip: 'Redo',
            onPostRender: toggleUndoRedoState(editor, 'redo'),
            cmd: 'redo'
          });
        };

        var register$7 = function register$7(editor) {
          registerMenuItems$2(editor);
          registerButtons$5(editor);
        };

        var UndoRedo = {
          register: register$7
        };

        var toggleVisualAidState = function toggleVisualAidState(editor) {
          return function () {
            var self = this;
            editor.on('VisualAid', function (e) {
              self.active(e.hasVisual);
            });
            self.active(editor.hasVisual);
          };
        };

        var registerMenuItems$3 = function registerMenuItems$3(editor) {
          editor.addMenuItem('visualaid', {
            text: 'Visual aids',
            selectable: true,
            onPostRender: toggleVisualAidState(editor),
            cmd: 'mceToggleVisualAid'
          });
        };

        var register$8 = function register$8(editor) {
          registerMenuItems$3(editor);
        };

        var VisualAid = {
          register: register$8
        };

        var setupEnvironment = function setupEnvironment() {
          Widget.tooltips = !global$8.iOS;

          Control$1.translate = function (text) {
            return global$1.translate(text);
          };
        };

        var setupUiContainer = function setupUiContainer(editor) {
          if (editor.settings.ui_container) {
            global$8.container = descendant(Element.fromDom(domGlobals.document.body), editor.settings.ui_container).fold(constant(null), function (elm) {
              return elm.dom();
            });
          }
        };

        var setupRtlMode = function setupRtlMode(editor) {
          if (editor.rtl) {
            Control$1.rtl = true;
          }
        };

        var setupHideFloatPanels = function setupHideFloatPanels(editor) {
          editor.on('mousedown progressstate', function () {
            FloatPanel.hideAll();
          });
        };

        var setup$1 = function setup$1(editor) {
          setupRtlMode(editor);
          setupHideFloatPanels(editor);
          setupUiContainer(editor);
          setupEnvironment();
          FormatSelect.register(editor);
          Align.register(editor);
          SimpleControls.register(editor);
          UndoRedo.register(editor);
          FontSizeSelect.register(editor);
          FontSelect.register(editor);
          Formats.register(editor);
          VisualAid.register(editor);
          InsertButton.register(editor);
        };

        var FormatControls = {
          setup: setup$1
        };
        var GridLayout = AbsoluteLayout.extend({
          recalc: function recalc(container) {
            var settings, rows, cols, items, contLayoutRect, width, height, rect, ctrlLayoutRect, ctrl, x, y, posX, posY, ctrlSettings, contPaddingBox, align, spacingH, spacingV, alignH, alignV, maxX, maxY;
            var colWidths = [];
            var rowHeights = [];
            var ctrlMinWidth, ctrlMinHeight, availableWidth, availableHeight, reverseRows, idx;
            settings = container.settings;
            items = container.items().filter(':visible');
            contLayoutRect = container.layoutRect();
            cols = settings.columns || Math.ceil(Math.sqrt(items.length));
            rows = Math.ceil(items.length / cols);
            spacingH = settings.spacingH || settings.spacing || 0;
            spacingV = settings.spacingV || settings.spacing || 0;
            alignH = settings.alignH || settings.align;
            alignV = settings.alignV || settings.align;
            contPaddingBox = container.paddingBox;
            reverseRows = 'reverseRows' in settings ? settings.reverseRows : container.isRtl();

            if (alignH && typeof alignH === 'string') {
              alignH = [alignH];
            }

            if (alignV && typeof alignV === 'string') {
              alignV = [alignV];
            }

            for (x = 0; x < cols; x++) {
              colWidths.push(0);
            }

            for (y = 0; y < rows; y++) {
              rowHeights.push(0);
            }

            for (y = 0; y < rows; y++) {
              for (x = 0; x < cols; x++) {
                ctrl = items[y * cols + x];

                if (!ctrl) {
                  break;
                }

                ctrlLayoutRect = ctrl.layoutRect();
                ctrlMinWidth = ctrlLayoutRect.minW;
                ctrlMinHeight = ctrlLayoutRect.minH;
                colWidths[x] = ctrlMinWidth > colWidths[x] ? ctrlMinWidth : colWidths[x];
                rowHeights[y] = ctrlMinHeight > rowHeights[y] ? ctrlMinHeight : rowHeights[y];
              }
            }

            availableWidth = contLayoutRect.innerW - contPaddingBox.left - contPaddingBox.right;

            for (maxX = 0, x = 0; x < cols; x++) {
              maxX += colWidths[x] + (x > 0 ? spacingH : 0);
              availableWidth -= (x > 0 ? spacingH : 0) + colWidths[x];
            }

            availableHeight = contLayoutRect.innerH - contPaddingBox.top - contPaddingBox.bottom;

            for (maxY = 0, y = 0; y < rows; y++) {
              maxY += rowHeights[y] + (y > 0 ? spacingV : 0);
              availableHeight -= (y > 0 ? spacingV : 0) + rowHeights[y];
            }

            maxX += contPaddingBox.left + contPaddingBox.right;
            maxY += contPaddingBox.top + contPaddingBox.bottom;
            rect = {};
            rect.minW = maxX + (contLayoutRect.w - contLayoutRect.innerW);
            rect.minH = maxY + (contLayoutRect.h - contLayoutRect.innerH);
            rect.contentW = rect.minW - contLayoutRect.deltaW;
            rect.contentH = rect.minH - contLayoutRect.deltaH;
            rect.minW = Math.min(rect.minW, contLayoutRect.maxW);
            rect.minH = Math.min(rect.minH, contLayoutRect.maxH);
            rect.minW = Math.max(rect.minW, contLayoutRect.startMinWidth);
            rect.minH = Math.max(rect.minH, contLayoutRect.startMinHeight);

            if (contLayoutRect.autoResize && (rect.minW !== contLayoutRect.minW || rect.minH !== contLayoutRect.minH)) {
              rect.w = rect.minW;
              rect.h = rect.minH;
              container.layoutRect(rect);
              this.recalc(container);

              if (container._lastRect === null) {
                var parentCtrl = container.parent();

                if (parentCtrl) {
                  parentCtrl._lastRect = null;
                  parentCtrl.recalc();
                }
              }

              return;
            }

            if (contLayoutRect.autoResize) {
              rect = container.layoutRect(rect);
              rect.contentW = rect.minW - contLayoutRect.deltaW;
              rect.contentH = rect.minH - contLayoutRect.deltaH;
            }

            var flexV;

            if (settings.packV === 'start') {
              flexV = 0;
            } else {
              flexV = availableHeight > 0 ? Math.floor(availableHeight / rows) : 0;
            }

            var totalFlex = 0;
            var flexWidths = settings.flexWidths;

            if (flexWidths) {
              for (x = 0; x < flexWidths.length; x++) {
                totalFlex += flexWidths[x];
              }
            } else {
              totalFlex = cols;
            }

            var ratio = availableWidth / totalFlex;

            for (x = 0; x < cols; x++) {
              colWidths[x] += flexWidths ? flexWidths[x] * ratio : ratio;
            }

            posY = contPaddingBox.top;

            for (y = 0; y < rows; y++) {
              posX = contPaddingBox.left;
              height = rowHeights[y] + flexV;

              for (x = 0; x < cols; x++) {
                if (reverseRows) {
                  idx = y * cols + cols - 1 - x;
                } else {
                  idx = y * cols + x;
                }

                ctrl = items[idx];

                if (!ctrl) {
                  break;
                }

                ctrlSettings = ctrl.settings;
                ctrlLayoutRect = ctrl.layoutRect();
                width = Math.max(colWidths[x], ctrlLayoutRect.startMinWidth);
                ctrlLayoutRect.x = posX;
                ctrlLayoutRect.y = posY;
                align = ctrlSettings.alignH || (alignH ? alignH[x] || alignH[0] : null);

                if (align === 'center') {
                  ctrlLayoutRect.x = posX + width / 2 - ctrlLayoutRect.w / 2;
                } else if (align === 'right') {
                  ctrlLayoutRect.x = posX + width - ctrlLayoutRect.w;
                } else if (align === 'stretch') {
                  ctrlLayoutRect.w = width;
                }

                align = ctrlSettings.alignV || (alignV ? alignV[x] || alignV[0] : null);

                if (align === 'center') {
                  ctrlLayoutRect.y = posY + height / 2 - ctrlLayoutRect.h / 2;
                } else if (align === 'bottom') {
                  ctrlLayoutRect.y = posY + height - ctrlLayoutRect.h;
                } else if (align === 'stretch') {
                  ctrlLayoutRect.h = height;
                }

                ctrl.layoutRect(ctrlLayoutRect);
                posX += width + spacingH;

                if (ctrl.recalc) {
                  ctrl.recalc();
                }
              }

              posY += height + spacingV;
            }
          }
        });
        var Iframe$1 = Widget.extend({
          renderHtml: function renderHtml() {
            var self = this;
            self.classes.add('iframe');
            self.canFocus = false;
            return '<iframe id="' + self._id + '" class="' + self.classes + '" tabindex="-1" src="' + (self.settings.url || 'javascript:\'\'') + '" frameborder="0"></iframe>';
          },
          src: function src(_src) {
            this.getEl().src = _src;
          },
          html: function html(_html, callback) {
            var self = this,
                body = this.getEl().contentWindow.document.body;

            if (!body) {
              global$7.setTimeout(function () {
                self.html(_html);
              });
            } else {
              body.innerHTML = _html;

              if (callback) {
                callback();
              }
            }

            return this;
          }
        });
        var InfoBox = Widget.extend({
          init: function init(settings) {
            var self = this;

            self._super(settings);

            self.classes.add('widget').add('infobox');
            self.canFocus = false;
          },
          severity: function severity(level) {
            this.classes.remove('error');
            this.classes.remove('warning');
            this.classes.remove('success');
            this.classes.add(level);
          },
          help: function help(state) {
            this.state.set('help', state);
          },
          renderHtml: function renderHtml() {
            var self = this,
                prefix = self.classPrefix;
            return '<div id="' + self._id + '" class="' + self.classes + '">' + '<div id="' + self._id + '-body">' + self.encode(self.state.get('text')) + '<button role="button" tabindex="-1">' + '<i class="' + prefix + 'ico ' + prefix + 'i-help"></i>' + '</button>' + '</div>' + '</div>';
          },
          bindStates: function bindStates() {
            var self = this;
            self.state.on('change:text', function (e) {
              self.getEl('body').firstChild.data = self.encode(e.value);

              if (self.state.get('rendered')) {
                self.updateLayoutRect();
              }
            });
            self.state.on('change:help', function (e) {
              self.classes.toggle('has-help', e.value);

              if (self.state.get('rendered')) {
                self.updateLayoutRect();
              }
            });
            return self._super();
          }
        });
        var Label = Widget.extend({
          init: function init(settings) {
            var self = this;

            self._super(settings);

            self.classes.add('widget').add('label');
            self.canFocus = false;

            if (settings.multiline) {
              self.classes.add('autoscroll');
            }

            if (settings.strong) {
              self.classes.add('strong');
            }
          },
          initLayoutRect: function initLayoutRect() {
            var self = this,
                layoutRect = self._super();

            if (self.settings.multiline) {
              var size = funcs.getSize(self.getEl());

              if (size.width > layoutRect.maxW) {
                layoutRect.minW = layoutRect.maxW;
                self.classes.add('multiline');
              }

              self.getEl().style.width = layoutRect.minW + 'px';
              layoutRect.startMinH = layoutRect.h = layoutRect.minH = Math.min(layoutRect.maxH, funcs.getSize(self.getEl()).height);
            }

            return layoutRect;
          },
          repaint: function repaint() {
            var self = this;

            if (!self.settings.multiline) {
              self.getEl().style.lineHeight = self.layoutRect().h + 'px';
            }

            return self._super();
          },
          severity: function severity(level) {
            this.classes.remove('error');
            this.classes.remove('warning');
            this.classes.remove('success');
            this.classes.add(level);
          },
          renderHtml: function renderHtml() {
            var self = this;
            var targetCtrl,
                forName,
                forId = self.settings.forId;
            var text = self.settings.html ? self.settings.html : self.encode(self.state.get('text'));

            if (!forId && (forName = self.settings.forName)) {
              targetCtrl = self.getRoot().find('#' + forName)[0];

              if (targetCtrl) {
                forId = targetCtrl._id;
              }
            }

            if (forId) {
              return '<label id="' + self._id + '" class="' + self.classes + '"' + (forId ? ' for="' + forId + '"' : '') + '>' + text + '</label>';
            }

            return '<span id="' + self._id + '" class="' + self.classes + '">' + text + '</span>';
          },
          bindStates: function bindStates() {
            var self = this;
            self.state.on('change:text', function (e) {
              self.innerHtml(self.encode(e.value));

              if (self.state.get('rendered')) {
                self.updateLayoutRect();
              }
            });
            return self._super();
          }
        });
        var Toolbar$1 = Container.extend({
          Defaults: {
            role: 'toolbar',
            layout: 'flow'
          },
          init: function init(settings) {
            var self = this;

            self._super(settings);

            self.classes.add('toolbar');
          },
          postRender: function postRender() {
            var self = this;
            self.items().each(function (ctrl) {
              ctrl.classes.add('toolbar-item');
            });
            return self._super();
          }
        });
        var MenuBar = Toolbar$1.extend({
          Defaults: {
            role: 'menubar',
            containerCls: 'menubar',
            ariaRoot: true,
            defaults: {
              type: 'menubutton'
            }
          }
        });

        function isChildOf$1(node, parent) {
          while (node) {
            if (parent === node) {
              return true;
            }

            node = node.parentNode;
          }

          return false;
        }

        var MenuButton = Button.extend({
          init: function init(settings) {
            var self = this;
            self._renderOpen = true;

            self._super(settings);

            settings = self.settings;
            self.classes.add('menubtn');

            if (settings.fixedWidth) {
              self.classes.add('fixed-width');
            }

            self.aria('haspopup', true);
            self.state.set('menu', settings.menu || self.render());
          },
          showMenu: function showMenu(toggle) {
            var self = this;
            var menu;

            if (self.menu && self.menu.visible() && toggle !== false) {
              return self.hideMenu();
            }

            if (!self.menu) {
              menu = self.state.get('menu') || [];
              self.classes.add('opened');

              if (menu.length) {
                menu = {
                  type: 'menu',
                  animate: true,
                  items: menu
                };
              } else {
                menu.type = menu.type || 'menu';
                menu.animate = true;
              }

              if (!menu.renderTo) {
                self.menu = global$4.create(menu).parent(self).renderTo();
              } else {
                self.menu = menu.parent(self).show().renderTo();
              }

              self.fire('createmenu');
              self.menu.reflow();
              self.menu.on('cancel', function (e) {
                if (e.control.parent() === self.menu) {
                  e.stopPropagation();
                  self.focus();
                  self.hideMenu();
                }
              });
              self.menu.on('select', function () {
                self.focus();
              });
              self.menu.on('show hide', function (e) {
                if (e.type === 'hide' && e.control.parent() === self) {
                  self.classes.remove('opened-under');
                }

                if (e.control === self.menu) {
                  self.activeMenu(e.type === 'show');
                  self.classes.toggle('opened', e.type === 'show');
                }

                self.aria('expanded', e.type === 'show');
              }).fire('show');
            }

            self.menu.show();
            self.menu.layoutRect({
              w: self.layoutRect().w
            });
            self.menu.repaint();
            self.menu.moveRel(self.getEl(), self.isRtl() ? ['br-tr', 'tr-br'] : ['bl-tl', 'tl-bl']);
            var menuLayoutRect = self.menu.layoutRect();
            var selfBottom = self.$el.offset().top + self.layoutRect().h;

            if (selfBottom > menuLayoutRect.y && selfBottom < menuLayoutRect.y + menuLayoutRect.h) {
              self.classes.add('opened-under');
            }

            self.fire('showmenu');
          },
          hideMenu: function hideMenu() {
            var self = this;

            if (self.menu) {
              self.menu.items().each(function (item) {
                if (item.hideMenu) {
                  item.hideMenu();
                }
              });
              self.menu.hide();
            }
          },
          activeMenu: function activeMenu(state) {
            this.classes.toggle('active', state);
          },
          renderHtml: function renderHtml() {
            var self = this,
                id = self._id,
                prefix = self.classPrefix;
            var icon = self.settings.icon,
                image;
            var text = self.state.get('text');
            var textHtml = '';
            image = self.settings.image;

            if (image) {
              icon = 'none';

              if (typeof image !== 'string') {
                image = domGlobals.window.getSelection ? image[0] : image[1];
              }

              image = ' style="background-image: url(\'' + image + '\')"';
            } else {
              image = '';
            }

            if (text) {
              self.classes.add('btn-has-text');
              textHtml = '<span class="' + prefix + 'txt">' + self.encode(text) + '</span>';
            }

            icon = self.settings.icon ? prefix + 'ico ' + prefix + 'i-' + icon : '';
            self.aria('role', self.parent() instanceof MenuBar ? 'menuitem' : 'button');
            return '<div id="' + id + '" class="' + self.classes + '" tabindex="-1" aria-labelledby="' + id + '">' + '<button id="' + id + '-open" role="presentation" type="button" tabindex="-1">' + (icon ? '<i class="' + icon + '"' + image + '></i>' : '') + textHtml + ' <i class="' + prefix + 'caret"></i>' + '</button>' + '</div>';
          },
          postRender: function postRender() {
            var self = this;
            self.on('click', function (e) {
              if (e.control === self && isChildOf$1(e.target, self.getEl())) {
                self.focus();
                self.showMenu(!e.aria);

                if (e.aria) {
                  self.menu.items().filter(':visible')[0].focus();
                }
              }
            });
            self.on('mouseenter', function (e) {
              var overCtrl = e.control;
              var parent = self.parent();
              var hasVisibleSiblingMenu;

              if (overCtrl && parent && overCtrl instanceof MenuButton && overCtrl.parent() === parent) {
                parent.items().filter('MenuButton').each(function (ctrl) {
                  if (ctrl.hideMenu && ctrl !== overCtrl) {
                    if (ctrl.menu && ctrl.menu.visible()) {
                      hasVisibleSiblingMenu = true;
                    }

                    ctrl.hideMenu();
                  }
                });

                if (hasVisibleSiblingMenu) {
                  overCtrl.focus();
                  overCtrl.showMenu();
                }
              }
            });
            return self._super();
          },
          bindStates: function bindStates() {
            var self = this;
            self.state.on('change:menu', function () {
              if (self.menu) {
                self.menu.remove();
              }

              self.menu = null;
            });
            return self._super();
          },
          remove: function remove() {
            this._super();

            if (this.menu) {
              this.menu.remove();
            }
          }
        });
        var Menu = FloatPanel.extend({
          Defaults: {
            defaultType: 'menuitem',
            border: 1,
            layout: 'stack',
            role: 'application',
            bodyRole: 'menu',
            ariaRoot: true
          },
          init: function init(settings) {
            var self = this;
            settings.autohide = true;
            settings.constrainToViewport = true;

            if (typeof settings.items === 'function') {
              settings.itemsFactory = settings.items;
              settings.items = [];
            }

            if (settings.itemDefaults) {
              var items = settings.items;
              var i = items.length;

              while (i--) {
                items[i] = global$2.extend({}, settings.itemDefaults, items[i]);
              }
            }

            self._super(settings);

            self.classes.add('menu');

            if (settings.animate && global$8.ie !== 11) {
              self.classes.add('animate');
            }
          },
          repaint: function repaint() {
            this.classes.toggle('menu-align', true);

            this._super();

            this.getEl().style.height = '';
            this.getEl('body').style.height = '';
            return this;
          },
          cancel: function cancel() {
            var self = this;
            self.hideAll();
            self.fire('select');
          },
          load: function load() {
            var self = this;
            var time, factory;

            function hideThrobber() {
              if (self.throbber) {
                self.throbber.hide();
                self.throbber = null;
              }
            }

            factory = self.settings.itemsFactory;

            if (!factory) {
              return;
            }

            if (!self.throbber) {
              self.throbber = new Throbber(self.getEl('body'), true);

              if (self.items().length === 0) {
                self.throbber.show();
                self.fire('loading');
              } else {
                self.throbber.show(100, function () {
                  self.items().remove();
                  self.fire('loading');
                });
              }

              self.on('hide close', hideThrobber);
            }

            self.requestTime = time = new Date().getTime();
            self.settings.itemsFactory(function (items) {
              if (items.length === 0) {
                self.hide();
                return;
              }

              if (self.requestTime !== time) {
                return;
              }

              self.getEl().style.width = '';
              self.getEl('body').style.width = '';
              hideThrobber();
              self.items().remove();
              self.getEl('body').innerHTML = '';
              self.add(items);
              self.renderNew();
              self.fire('loaded');
            });
          },
          hideAll: function hideAll() {
            var self = this;
            this.find('menuitem').exec('hideMenu');
            return self._super();
          },
          preRender: function preRender() {
            var self = this;
            self.items().each(function (ctrl) {
              var settings = ctrl.settings;

              if (settings.icon || settings.image || settings.selectable) {
                self._hasIcons = true;
                return false;
              }
            });

            if (self.settings.itemsFactory) {
              self.on('postrender', function () {
                if (self.settings.itemsFactory) {
                  self.load();
                }
              });
            }

            self.on('show hide', function (e) {
              if (e.control === self) {
                if (e.type === 'show') {
                  global$7.setTimeout(function () {
                    self.classes.add('in');
                  }, 0);
                } else {
                  self.classes.remove('in');
                }
              }
            });
            return self._super();
          }
        });
        var ListBox = MenuButton.extend({
          init: function init(settings) {
            var self = this;
            var values, selected, selectedText, lastItemCtrl;

            function setSelected(menuValues) {
              for (var i = 0; i < menuValues.length; i++) {
                selected = menuValues[i].selected || settings.value === menuValues[i].value;

                if (selected) {
                  selectedText = selectedText || menuValues[i].text;
                  self.state.set('value', menuValues[i].value);
                  return true;
                }

                if (menuValues[i].menu) {
                  if (setSelected(menuValues[i].menu)) {
                    return true;
                  }
                }
              }
            }

            self._super(settings);

            settings = self.settings;
            self._values = values = settings.values;

            if (values) {
              if (typeof settings.value !== 'undefined') {
                setSelected(values);
              }

              if (!selected && values.length > 0) {
                selectedText = values[0].text;
                self.state.set('value', values[0].value);
              }

              self.state.set('menu', values);
            }

            self.state.set('text', settings.text || selectedText);
            self.classes.add('listbox');
            self.on('select', function (e) {
              var ctrl = e.control;

              if (lastItemCtrl) {
                e.lastControl = lastItemCtrl;
              }

              if (settings.multiple) {
                ctrl.active(!ctrl.active());
              } else {
                self.value(e.control.value());
              }

              lastItemCtrl = ctrl;
            });
          },
          value: function value(_value3) {
            if (arguments.length === 0) {
              return this.state.get('value');
            }

            if (typeof _value3 === 'undefined') {
              return this;
            }

            function valueExists(values) {
              return exists(values, function (a) {
                return a.menu ? valueExists(a.menu) : a.value === _value3;
              });
            }

            if (this.settings.values) {
              if (valueExists(this.settings.values)) {
                this.state.set('value', _value3);
              } else if (_value3 === null) {
                this.state.set('value', null);
              }
            } else {
              this.state.set('value', _value3);
            }

            return this;
          },
          bindStates: function bindStates() {
            var self = this;

            function activateMenuItemsByValue(menu, value) {
              if (menu instanceof Menu) {
                menu.items().each(function (ctrl) {
                  if (!ctrl.hasMenus()) {
                    ctrl.active(ctrl.value() === value);
                  }
                });
              }
            }

            function getSelectedItem(menuValues, value) {
              var selectedItem;

              if (!menuValues) {
                return;
              }

              for (var i = 0; i < menuValues.length; i++) {
                if (menuValues[i].value === value) {
                  return menuValues[i];
                }

                if (menuValues[i].menu) {
                  selectedItem = getSelectedItem(menuValues[i].menu, value);

                  if (selectedItem) {
                    return selectedItem;
                  }
                }
              }
            }

            self.on('show', function (e) {
              activateMenuItemsByValue(e.control, self.value());
            });
            self.state.on('change:value', function (e) {
              var selectedItem = getSelectedItem(self.state.get('menu'), e.value);

              if (selectedItem) {
                self.text(selectedItem.text);
              } else {
                self.text(self.settings.text);
              }
            });
            return self._super();
          }
        });

        var toggleTextStyle = function toggleTextStyle(ctrl, state) {
          var textStyle = ctrl._textStyle;

          if (textStyle) {
            var textElm = ctrl.getEl('text');
            textElm.setAttribute('style', textStyle);

            if (state) {
              textElm.style.color = '';
              textElm.style.backgroundColor = '';
            }
          }
        };

        var MenuItem = Widget.extend({
          Defaults: {
            border: 0,
            role: 'menuitem'
          },
          init: function init(settings) {
            var self = this;
            var text;

            self._super(settings);

            settings = self.settings;
            self.classes.add('menu-item');

            if (settings.menu) {
              self.classes.add('menu-item-expand');
            }

            if (settings.preview) {
              self.classes.add('menu-item-preview');
            }

            text = self.state.get('text');

            if (text === '-' || text === '|') {
              self.classes.add('menu-item-sep');
              self.aria('role', 'separator');
              self.state.set('text', '-');
            }

            if (settings.selectable) {
              self.aria('role', 'menuitemcheckbox');
              self.classes.add('menu-item-checkbox');
              settings.icon = 'selected';
            }

            if (!settings.preview && !settings.selectable) {
              self.classes.add('menu-item-normal');
            }

            self.on('mousedown', function (e) {
              e.preventDefault();
            });

            if (settings.menu && !settings.ariaHideMenu) {
              self.aria('haspopup', true);
            }
          },
          hasMenus: function hasMenus() {
            return !!this.settings.menu;
          },
          showMenu: function showMenu() {
            var self = this;
            var settings = self.settings;
            var menu;
            var parent = self.parent();
            parent.items().each(function (ctrl) {
              if (ctrl !== self) {
                ctrl.hideMenu();
              }
            });

            if (settings.menu) {
              menu = self.menu;

              if (!menu) {
                menu = settings.menu;

                if (menu.length) {
                  menu = {
                    type: 'menu',
                    items: menu
                  };
                } else {
                  menu.type = menu.type || 'menu';
                }

                if (parent.settings.itemDefaults) {
                  menu.itemDefaults = parent.settings.itemDefaults;
                }

                menu = self.menu = global$4.create(menu).parent(self).renderTo();
                menu.reflow();
                menu.on('cancel', function (e) {
                  e.stopPropagation();
                  self.focus();
                  menu.hide();
                });
                menu.on('show hide', function (e) {
                  if (e.control.items) {
                    e.control.items().each(function (ctrl) {
                      ctrl.active(ctrl.settings.selected);
                    });
                  }
                }).fire('show');
                menu.on('hide', function (e) {
                  if (e.control === menu) {
                    self.classes.remove('selected');
                  }
                });
                menu.submenu = true;
              } else {
                menu.show();
              }

              menu._parentMenu = parent;
              menu.classes.add('menu-sub');
              var rel = menu.testMoveRel(self.getEl(), self.isRtl() ? ['tl-tr', 'bl-br', 'tr-tl', 'br-bl'] : ['tr-tl', 'br-bl', 'tl-tr', 'bl-br']);
              menu.moveRel(self.getEl(), rel);
              menu.rel = rel;
              rel = 'menu-sub-' + rel;
              menu.classes.remove(menu._lastRel).add(rel);
              menu._lastRel = rel;
              self.classes.add('selected');
              self.aria('expanded', true);
            }
          },
          hideMenu: function hideMenu() {
            var self = this;

            if (self.menu) {
              self.menu.items().each(function (item) {
                if (item.hideMenu) {
                  item.hideMenu();
                }
              });
              self.menu.hide();
              self.aria('expanded', false);
            }

            return self;
          },
          renderHtml: function renderHtml() {
            var self = this;
            var id = self._id;
            var settings = self.settings;
            var prefix = self.classPrefix;
            var text = self.state.get('text');
            var icon = self.settings.icon,
                image = '',
                shortcut = settings.shortcut;
            var url = self.encode(settings.url),
                iconHtml = '';

            function convertShortcut(shortcut) {
              var i,
                  value,
                  replace = {};

              if (global$8.mac) {
                replace = {
                  alt: '&#x2325;',
                  ctrl: '&#x2318;',
                  shift: '&#x21E7;',
                  meta: '&#x2318;'
                };
              } else {
                replace = {
                  meta: 'Ctrl'
                };
              }

              shortcut = shortcut.split('+');

              for (i = 0; i < shortcut.length; i++) {
                value = replace[shortcut[i].toLowerCase()];

                if (value) {
                  shortcut[i] = value;
                }
              }

              return shortcut.join('+');
            }

            function escapeRegExp(str) {
              return str.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
            }

            function markMatches(text) {
              var match = settings.match || '';
              return match ? text.replace(new RegExp(escapeRegExp(match), 'gi'), function (match) {
                return '!mce~match[' + match + ']mce~match!';
              }) : text;
            }

            function boldMatches(text) {
              return text.replace(new RegExp(escapeRegExp('!mce~match['), 'g'), '<b>').replace(new RegExp(escapeRegExp(']mce~match!'), 'g'), '</b>');
            }

            if (icon) {
              self.parent().classes.add('menu-has-icons');
            }

            if (settings.image) {
              image = ' style="background-image: url(\'' + settings.image + '\')"';
            }

            if (shortcut) {
              shortcut = convertShortcut(shortcut);
            }

            icon = prefix + 'ico ' + prefix + 'i-' + (self.settings.icon || 'none');
            iconHtml = text !== '-' ? '<i class="' + icon + '"' + image + '></i>\xA0' : '';
            text = boldMatches(self.encode(markMatches(text)));
            url = boldMatches(self.encode(markMatches(url)));
            return '<div id="' + id + '" class="' + self.classes + '" tabindex="-1">' + iconHtml + (text !== '-' ? '<span id="' + id + '-text" class="' + prefix + 'text">' + text + '</span>' : '') + (shortcut ? '<div id="' + id + '-shortcut" class="' + prefix + 'menu-shortcut">' + shortcut + '</div>' : '') + (settings.menu ? '<div class="' + prefix + 'caret"></div>' : '') + (url ? '<div class="' + prefix + 'menu-item-link">' + url + '</div>' : '') + '</div>';
          },
          postRender: function postRender() {
            var self = this,
                settings = self.settings;
            var textStyle = settings.textStyle;

            if (typeof textStyle === 'function') {
              textStyle = textStyle.call(this);
            }

            if (textStyle) {
              var textElm = self.getEl('text');

              if (textElm) {
                textElm.setAttribute('style', textStyle);
                self._textStyle = textStyle;
              }
            }

            self.on('mouseenter click', function (e) {
              if (e.control === self) {
                if (!settings.menu && e.type === 'click') {
                  self.fire('select');
                  global$7.requestAnimationFrame(function () {
                    self.parent().hideAll();
                  });
                } else {
                  self.showMenu();

                  if (e.aria) {
                    self.menu.focus(true);
                  }
                }
              }
            });

            self._super();

            return self;
          },
          hover: function hover() {
            var self = this;
            self.parent().items().each(function (ctrl) {
              ctrl.classes.remove('selected');
            });
            self.classes.toggle('selected', true);
            return self;
          },
          active: function active(state) {
            toggleTextStyle(this, state);

            if (typeof state !== 'undefined') {
              this.aria('checked', state);
            }

            return this._super(state);
          },
          remove: function remove() {
            this._super();

            if (this.menu) {
              this.menu.remove();
            }
          }
        });
        var Radio = Checkbox.extend({
          Defaults: {
            classes: 'radio',
            role: 'radio'
          }
        });
        var ResizeHandle = Widget.extend({
          renderHtml: function renderHtml() {
            var self = this,
                prefix = self.classPrefix;
            self.classes.add('resizehandle');

            if (self.settings.direction === 'both') {
              self.classes.add('resizehandle-both');
            }

            self.canFocus = false;
            return '<div id="' + self._id + '" class="' + self.classes + '">' + '<i class="' + prefix + 'ico ' + prefix + 'i-resize"></i>' + '</div>';
          },
          postRender: function postRender() {
            var self = this;

            self._super();

            self.resizeDragHelper = new DragHelper(this._id, {
              start: function start() {
                self.fire('ResizeStart');
              },
              drag: function drag(e) {
                if (self.settings.direction !== 'both') {
                  e.deltaX = 0;
                }

                self.fire('Resize', e);
              },
              stop: function stop() {
                self.fire('ResizeEnd');
              }
            });
          },
          remove: function remove() {
            if (this.resizeDragHelper) {
              this.resizeDragHelper.destroy();
            }

            return this._super();
          }
        });

        function createOptions(options) {
          var strOptions = '';

          if (options) {
            for (var i = 0; i < options.length; i++) {
              strOptions += '<option value="' + options[i] + '">' + options[i] + '</option>';
            }
          }

          return strOptions;
        }

        var SelectBox = Widget.extend({
          Defaults: {
            classes: 'selectbox',
            role: 'selectbox',
            options: []
          },
          init: function init(settings) {
            var self = this;

            self._super(settings);

            if (self.settings.size) {
              self.size = self.settings.size;
            }

            if (self.settings.options) {
              self._options = self.settings.options;
            }

            self.on('keydown', function (e) {
              var rootControl;

              if (e.keyCode === 13) {
                e.preventDefault();
                self.parents().reverse().each(function (ctrl) {
                  if (ctrl.toJSON) {
                    rootControl = ctrl;
                    return false;
                  }
                });
                self.fire('submit', {
                  data: rootControl.toJSON()
                });
              }
            });
          },
          options: function options(state) {
            if (!arguments.length) {
              return this.state.get('options');
            }

            this.state.set('options', state);
            return this;
          },
          renderHtml: function renderHtml() {
            var self = this;
            var options,
                size = '';
            options = createOptions(self._options);

            if (self.size) {
              size = ' size = "' + self.size + '"';
            }

            return '<select id="' + self._id + '" class="' + self.classes + '"' + size + '>' + options + '</select>';
          },
          bindStates: function bindStates() {
            var self = this;
            self.state.on('change:options', function (e) {
              self.getEl().innerHTML = createOptions(e.value);
            });
            return self._super();
          }
        });

        function constrain(value, minVal, maxVal) {
          if (value < minVal) {
            value = minVal;
          }

          if (value > maxVal) {
            value = maxVal;
          }

          return value;
        }

        function setAriaProp(el, name, value) {
          el.setAttribute('aria-' + name, value);
        }

        function updateSliderHandle(ctrl, value) {
          var maxHandlePos, shortSizeName, sizeName, stylePosName, styleValue, handleEl;

          if (ctrl.settings.orientation === 'v') {
            stylePosName = 'top';
            sizeName = 'height';
            shortSizeName = 'h';
          } else {
            stylePosName = 'left';
            sizeName = 'width';
            shortSizeName = 'w';
          }

          handleEl = ctrl.getEl('handle');
          maxHandlePos = (ctrl.layoutRect()[shortSizeName] || 100) - funcs.getSize(handleEl)[sizeName];
          styleValue = maxHandlePos * ((value - ctrl._minValue) / (ctrl._maxValue - ctrl._minValue)) + 'px';
          handleEl.style[stylePosName] = styleValue;
          handleEl.style.height = ctrl.layoutRect().h + 'px';
          setAriaProp(handleEl, 'valuenow', value);
          setAriaProp(handleEl, 'valuetext', '' + ctrl.settings.previewFilter(value));
          setAriaProp(handleEl, 'valuemin', ctrl._minValue);
          setAriaProp(handleEl, 'valuemax', ctrl._maxValue);
        }

        var Slider = Widget.extend({
          init: function init(settings) {
            var self = this;

            if (!settings.previewFilter) {
              settings.previewFilter = function (value) {
                return Math.round(value * 100) / 100;
              };
            }

            self._super(settings);

            self.classes.add('slider');

            if (settings.orientation === 'v') {
              self.classes.add('vertical');
            }

            self._minValue = isNumber(settings.minValue) ? settings.minValue : 0;
            self._maxValue = isNumber(settings.maxValue) ? settings.maxValue : 100;
            self._initValue = self.state.get('value');
          },
          renderHtml: function renderHtml() {
            var self = this,
                id = self._id,
                prefix = self.classPrefix;
            return '<div id="' + id + '" class="' + self.classes + '">' + '<div id="' + id + '-handle" class="' + prefix + 'slider-handle" role="slider" tabindex="-1"></div>' + '</div>';
          },
          reset: function reset() {
            this.value(this._initValue).repaint();
          },
          postRender: function postRender() {
            var self = this;
            var minValue, maxValue, screenCordName, stylePosName, sizeName, shortSizeName;

            function toFraction(min, max, val) {
              return (val + min) / (max - min);
            }

            function fromFraction(min, max, val) {
              return val * (max - min) - min;
            }

            function handleKeyboard(minValue, maxValue) {
              function alter(delta) {
                var value;
                value = self.value();
                value = fromFraction(minValue, maxValue, toFraction(minValue, maxValue, value) + delta * 0.05);
                value = constrain(value, minValue, maxValue);
                self.value(value);
                self.fire('dragstart', {
                  value: value
                });
                self.fire('drag', {
                  value: value
                });
                self.fire('dragend', {
                  value: value
                });
              }

              self.on('keydown', function (e) {
                switch (e.keyCode) {
                  case 37:
                  case 38:
                    alter(-1);
                    break;

                  case 39:
                  case 40:
                    alter(1);
                    break;
                }
              });
            }

            function handleDrag(minValue, maxValue, handleEl) {
              var startPos, startHandlePos, maxHandlePos, handlePos, value;
              self._dragHelper = new DragHelper(self._id, {
                handle: self._id + '-handle',
                start: function start(e) {
                  startPos = e[screenCordName];
                  startHandlePos = parseInt(self.getEl('handle').style[stylePosName], 10);
                  maxHandlePos = (self.layoutRect()[shortSizeName] || 100) - funcs.getSize(handleEl)[sizeName];
                  self.fire('dragstart', {
                    value: value
                  });
                },
                drag: function drag(e) {
                  var delta = e[screenCordName] - startPos;
                  handlePos = constrain(startHandlePos + delta, 0, maxHandlePos);
                  handleEl.style[stylePosName] = handlePos + 'px';
                  value = minValue + handlePos / maxHandlePos * (maxValue - minValue);
                  self.value(value);
                  self.tooltip().text('' + self.settings.previewFilter(value)).show().moveRel(handleEl, 'bc tc');
                  self.fire('drag', {
                    value: value
                  });
                },
                stop: function stop() {
                  self.tooltip().hide();
                  self.fire('dragend', {
                    value: value
                  });
                }
              });
            }

            minValue = self._minValue;
            maxValue = self._maxValue;

            if (self.settings.orientation === 'v') {
              screenCordName = 'screenY';
              stylePosName = 'top';
              sizeName = 'height';
              shortSizeName = 'h';
            } else {
              screenCordName = 'screenX';
              stylePosName = 'left';
              sizeName = 'width';
              shortSizeName = 'w';
            }

            self._super();

            handleKeyboard(minValue, maxValue);
            handleDrag(minValue, maxValue, self.getEl('handle'));
          },
          repaint: function repaint() {
            this._super();

            updateSliderHandle(this, this.value());
          },
          bindStates: function bindStates() {
            var self = this;
            self.state.on('change:value', function (e) {
              updateSliderHandle(self, e.value);
            });
            return self._super();
          }
        });
        var Spacer = Widget.extend({
          renderHtml: function renderHtml() {
            var self = this;
            self.classes.add('spacer');
            self.canFocus = false;
            return '<div id="' + self._id + '" class="' + self.classes + '"></div>';
          }
        });
        var SplitButton = MenuButton.extend({
          Defaults: {
            classes: 'widget btn splitbtn',
            role: 'button'
          },
          repaint: function repaint() {
            var self = this;
            var elm = self.getEl();
            var rect = self.layoutRect();
            var mainButtonElm, menuButtonElm;

            self._super();

            mainButtonElm = elm.firstChild;
            menuButtonElm = elm.lastChild;
            global$9(mainButtonElm).css({
              width: rect.w - funcs.getSize(menuButtonElm).width,
              height: rect.h - 2
            });
            global$9(menuButtonElm).css({
              height: rect.h - 2
            });
            return self;
          },
          activeMenu: function activeMenu(state) {
            var self = this;
            global$9(self.getEl().lastChild).toggleClass(self.classPrefix + 'active', state);
          },
          renderHtml: function renderHtml() {
            var self = this;
            var id = self._id;
            var prefix = self.classPrefix;
            var image;
            var icon = self.state.get('icon');
            var text = self.state.get('text');
            var settings = self.settings;
            var textHtml = '',
                ariaPressed;
            image = settings.image;

            if (image) {
              icon = 'none';

              if (typeof image !== 'string') {
                image = domGlobals.window.getSelection ? image[0] : image[1];
              }

              image = ' style="background-image: url(\'' + image + '\')"';
            } else {
              image = '';
            }

            icon = settings.icon ? prefix + 'ico ' + prefix + 'i-' + icon : '';

            if (text) {
              self.classes.add('btn-has-text');
              textHtml = '<span class="' + prefix + 'txt">' + self.encode(text) + '</span>';
            }

            ariaPressed = typeof settings.active === 'boolean' ? ' aria-pressed="' + settings.active + '"' : '';
            return '<div id="' + id + '" class="' + self.classes + '" role="button"' + ariaPressed + ' tabindex="-1">' + '<button type="button" hidefocus="1" tabindex="-1">' + (icon ? '<i class="' + icon + '"' + image + '></i>' : '') + textHtml + '</button>' + '<button type="button" class="' + prefix + 'open" hidefocus="1" tabindex="-1">' + (self._menuBtnText ? (icon ? '\xA0' : '') + self._menuBtnText : '') + ' <i class="' + prefix + 'caret"></i>' + '</button>' + '</div>';
          },
          postRender: function postRender() {
            var self = this,
                onClickHandler = self.settings.onclick;
            self.on('click', function (e) {
              var node = e.target;

              if (e.control === this) {
                while (node) {
                  if (e.aria && e.aria.key !== 'down' || node.nodeName === 'BUTTON' && node.className.indexOf('open') === -1) {
                    e.stopImmediatePropagation();

                    if (onClickHandler) {
                      onClickHandler.call(this, e);
                    }

                    return;
                  }

                  node = node.parentNode;
                }
              }
            });
            delete self.settings.onclick;
            return self._super();
          }
        });
        var StackLayout = FlowLayout.extend({
          Defaults: {
            containerClass: 'stack-layout',
            controlClass: 'stack-layout-item',
            endClass: 'break'
          },
          isNative: function isNative() {
            return true;
          }
        });
        var TabPanel = Panel.extend({
          Defaults: {
            layout: 'absolute',
            defaults: {
              type: 'panel'
            }
          },
          activateTab: function activateTab(idx) {
            var activeTabElm;

            if (this.activeTabId) {
              activeTabElm = this.getEl(this.activeTabId);
              global$9(activeTabElm).removeClass(this.classPrefix + 'active');
              activeTabElm.setAttribute('aria-selected', 'false');
            }

            this.activeTabId = 't' + idx;
            activeTabElm = this.getEl('t' + idx);
            activeTabElm.setAttribute('aria-selected', 'true');
            global$9(activeTabElm).addClass(this.classPrefix + 'active');
            this.items()[idx].show().fire('showtab');
            this.reflow();
            this.items().each(function (item, i) {
              if (idx !== i) {
                item.hide();
              }
            });
          },
          renderHtml: function renderHtml() {
            var self = this;
            var layout = self._layout;
            var tabsHtml = '';
            var prefix = self.classPrefix;
            self.preRender();
            layout.preRender(self);
            self.items().each(function (ctrl, i) {
              var id = self._id + '-t' + i;
              ctrl.aria('role', 'tabpanel');
              ctrl.aria('labelledby', id);
              tabsHtml += '<div id="' + id + '" class="' + prefix + 'tab" ' + 'unselectable="on" role="tab" aria-controls="' + ctrl._id + '" aria-selected="false" tabIndex="-1">' + self.encode(ctrl.settings.title) + '</div>';
            });
            return '<div id="' + self._id + '" class="' + self.classes + '" hidefocus="1" tabindex="-1">' + '<div id="' + self._id + '-head" class="' + prefix + 'tabs" role="tablist">' + tabsHtml + '</div>' + '<div id="' + self._id + '-body" class="' + self.bodyClasses + '">' + layout.renderHtml(self) + '</div>' + '</div>';
          },
          postRender: function postRender() {
            var self = this;

            self._super();

            self.settings.activeTab = self.settings.activeTab || 0;
            self.activateTab(self.settings.activeTab);
            this.on('click', function (e) {
              var targetParent = e.target.parentNode;

              if (targetParent && targetParent.id === self._id + '-head') {
                var i = targetParent.childNodes.length;

                while (i--) {
                  if (targetParent.childNodes[i] === e.target) {
                    self.activateTab(i);
                  }
                }
              }
            });
          },
          initLayoutRect: function initLayoutRect() {
            var self = this;
            var rect, minW, minH;
            minW = funcs.getSize(self.getEl('head')).width;
            minW = minW < 0 ? 0 : minW;
            minH = 0;
            self.items().each(function (item) {
              minW = Math.max(minW, item.layoutRect().minW);
              minH = Math.max(minH, item.layoutRect().minH);
            });
            self.items().each(function (ctrl) {
              ctrl.settings.x = 0;
              ctrl.settings.y = 0;
              ctrl.settings.w = minW;
              ctrl.settings.h = minH;
              ctrl.layoutRect({
                x: 0,
                y: 0,
                w: minW,
                h: minH
              });
            });
            var headH = funcs.getSize(self.getEl('head')).height;
            self.settings.minWidth = minW;
            self.settings.minHeight = minH + headH;
            rect = self._super();
            rect.deltaH += headH;
            rect.innerH = rect.h - rect.deltaH;
            return rect;
          }
        });
        var TextBox = Widget.extend({
          init: function init(settings) {
            var self = this;

            self._super(settings);

            self.classes.add('textbox');

            if (settings.multiline) {
              self.classes.add('multiline');
            } else {
              self.on('keydown', function (e) {
                var rootControl;

                if (e.keyCode === 13) {
                  e.preventDefault();
                  self.parents().reverse().each(function (ctrl) {
                    if (ctrl.toJSON) {
                      rootControl = ctrl;
                      return false;
                    }
                  });
                  self.fire('submit', {
                    data: rootControl.toJSON()
                  });
                }
              });
              self.on('keyup', function (e) {
                self.state.set('value', e.target.value);
              });
            }
          },
          repaint: function repaint() {
            var self = this;
            var style,
                rect,
                borderBox,
                borderW,
                borderH = 0,
                lastRepaintRect;
            style = self.getEl().style;
            rect = self._layoutRect;
            lastRepaintRect = self._lastRepaintRect || {};
            var doc = domGlobals.document;

            if (!self.settings.multiline && doc.all && (!doc.documentMode || doc.documentMode <= 8)) {
              style.lineHeight = rect.h - borderH + 'px';
            }

            borderBox = self.borderBox;
            borderW = borderBox.left + borderBox.right + 8;
            borderH = borderBox.top + borderBox.bottom + (self.settings.multiline ? 8 : 0);

            if (rect.x !== lastRepaintRect.x) {
              style.left = rect.x + 'px';
              lastRepaintRect.x = rect.x;
            }

            if (rect.y !== lastRepaintRect.y) {
              style.top = rect.y + 'px';
              lastRepaintRect.y = rect.y;
            }

            if (rect.w !== lastRepaintRect.w) {
              style.width = rect.w - borderW + 'px';
              lastRepaintRect.w = rect.w;
            }

            if (rect.h !== lastRepaintRect.h) {
              style.height = rect.h - borderH + 'px';
              lastRepaintRect.h = rect.h;
            }

            self._lastRepaintRect = lastRepaintRect;
            self.fire('repaint', {}, false);
            return self;
          },
          renderHtml: function renderHtml() {
            var self = this;
            var settings = self.settings;
            var attrs, elm;
            attrs = {
              id: self._id,
              hidefocus: '1'
            };
            global$2.each(['rows', 'spellcheck', 'maxLength', 'size', 'readonly', 'min', 'max', 'step', 'list', 'pattern', 'placeholder', 'required', 'multiple'], function (name) {
              attrs[name] = settings[name];
            });

            if (self.disabled()) {
              attrs.disabled = 'disabled';
            }

            if (settings.subtype) {
              attrs.type = settings.subtype;
            }

            elm = funcs.create(settings.multiline ? 'textarea' : 'input', attrs);
            elm.value = self.state.get('value');
            elm.className = self.classes.toString();
            return elm.outerHTML;
          },
          value: function value(_value4) {
            if (arguments.length) {
              this.state.set('value', _value4);
              return this;
            }

            if (this.state.get('rendered')) {
              this.state.set('value', this.getEl().value);
            }

            return this.state.get('value');
          },
          postRender: function postRender() {
            var self = this;
            self.getEl().value = self.state.get('value');

            self._super();

            self.$el.on('change', function (e) {
              self.state.set('value', e.target.value);
              self.fire('change', e);
            });
          },
          bindStates: function bindStates() {
            var self = this;
            self.state.on('change:value', function (e) {
              if (self.getEl().value !== e.value) {
                self.getEl().value = e.value;
              }
            });
            self.state.on('change:disabled', function (e) {
              self.getEl().disabled = e.value;
            });
            return self._super();
          },
          remove: function remove() {
            this.$el.off();

            this._super();
          }
        });

        var getApi = function getApi() {
          return {
            Selector: Selector,
            Collection: Collection$2,
            ReflowQueue: ReflowQueue,
            Control: Control$1,
            Factory: global$4,
            KeyboardNavigation: KeyboardNavigation,
            Container: Container,
            DragHelper: DragHelper,
            Scrollable: Scrollable,
            Panel: Panel,
            Movable: Movable,
            Resizable: Resizable,
            FloatPanel: FloatPanel,
            Window: Window,
            MessageBox: MessageBox,
            Tooltip: Tooltip,
            Widget: Widget,
            Progress: Progress,
            Notification: Notification,
            Layout: Layout,
            AbsoluteLayout: AbsoluteLayout,
            Button: Button,
            ButtonGroup: ButtonGroup,
            Checkbox: Checkbox,
            ComboBox: ComboBox,
            ColorBox: ColorBox,
            PanelButton: PanelButton,
            ColorButton: ColorButton,
            ColorPicker: ColorPicker,
            Path: Path,
            ElementPath: ElementPath,
            FormItem: FormItem,
            Form: Form,
            FieldSet: FieldSet,
            FilePicker: FilePicker,
            FitLayout: FitLayout,
            FlexLayout: FlexLayout,
            FlowLayout: FlowLayout,
            FormatControls: FormatControls,
            GridLayout: GridLayout,
            Iframe: Iframe$1,
            InfoBox: InfoBox,
            Label: Label,
            Toolbar: Toolbar$1,
            MenuBar: MenuBar,
            MenuButton: MenuButton,
            MenuItem: MenuItem,
            Throbber: Throbber,
            Menu: Menu,
            ListBox: ListBox,
            Radio: Radio,
            ResizeHandle: ResizeHandle,
            SelectBox: SelectBox,
            Slider: Slider,
            Spacer: Spacer,
            SplitButton: SplitButton,
            StackLayout: StackLayout,
            TabPanel: TabPanel,
            TextBox: TextBox,
            DropZone: DropZone,
            BrowseButton: BrowseButton
          };
        };

        var appendTo = function appendTo(target) {
          if (target.ui) {
            global$2.each(getApi(), function (ref, key) {
              target.ui[key] = ref;
            });
          } else {
            target.ui = getApi();
          }
        };

        var registerToFactory = function registerToFactory() {
          global$2.each(getApi(), function (ref, key) {
            global$4.add(key, ref);
          });
        };

        var Api = {
          appendTo: appendTo,
          registerToFactory: registerToFactory
        };
        Api.registerToFactory();
        Api.appendTo(window.tinymce ? window.tinymce : {});
        global.add('modern', function (editor) {
          FormatControls.setup(editor);
          return ThemeApi.get(editor);
        });

        function Theme() {}

        return Theme;
      }(window);
    })();
    /***/

  },

  /***/
  "./node_modules/tinymce/tinymce.min.js":
  /*!*********************************************!*\
    !*** ./node_modules/tinymce/tinymce.min.js ***!
    \*********************************************/

  /*! no static exports found */

  /***/
  function node_modulesTinymceTinymceMinJs(module, exports, __webpack_require__) {
    // 4.9.5 (2019-07-02)
    !function (H) {
      "use strict";

      var o = function o() {},
          j = function j(n, r) {
        return function () {
          for (var e = [], t = 0; t < arguments.length; t++) {
            e[t] = arguments[t];
          }

          return n(r.apply(null, e));
        };
      },
          q = function q(e) {
        return function () {
          return e;
        };
      },
          $ = function $(e) {
        return e;
      };

      function d(r) {
        for (var o = [], e = 1; e < arguments.length; e++) {
          o[e - 1] = arguments[e];
        }

        return function () {
          for (var e = [], t = 0; t < arguments.length; t++) {
            e[t] = arguments[t];
          }

          var n = o.concat(e);
          return r.apply(null, n);
        };
      }

      var e,
          t,
          n,
          r,
          i,
          a,
          u,
          s,
          c,
          l,
          f,
          m,
          g,
          p,
          h,
          v,
          b,
          y = function y(n) {
        return function () {
          for (var e = [], t = 0; t < arguments.length; t++) {
            e[t] = arguments[t];
          }

          return !n.apply(null, e);
        };
      },
          C = q(!1),
          x = q(!0),
          w = C,
          N = x,
          E = function E() {
        return S;
      },
          S = (r = {
        fold: function fold(e, t) {
          return e();
        },
        is: w,
        isSome: w,
        isNone: N,
        getOr: n = function n(e) {
          return e;
        },
        getOrThunk: t = function t(e) {
          return e();
        },
        getOrDie: function getOrDie(e) {
          throw new Error(e || "error: getOrDie called on none.");
        },
        getOrNull: function getOrNull() {
          return null;
        },
        getOrUndefined: function getOrUndefined() {
          return undefined;
        },
        or: n,
        orThunk: t,
        map: E,
        ap: E,
        each: function each() {},
        bind: E,
        flatten: E,
        exists: w,
        forall: N,
        filter: E,
        equals: e = function e(_e2) {
          return _e2.isNone();
        },
        equals_: e,
        toArray: function toArray() {
          return [];
        },
        toString: q("none()")
      }, Object.freeze && Object.freeze(r), r),
          k = function k(n) {
        var e = function e() {
          return n;
        },
            t = function t() {
          return o;
        },
            r = function r(e) {
          return e(n);
        },
            o = {
          fold: function fold(e, t) {
            return t(n);
          },
          is: function is(e) {
            return n === e;
          },
          isSome: N,
          isNone: w,
          getOr: e,
          getOrThunk: e,
          getOrDie: e,
          getOrNull: e,
          getOrUndefined: e,
          or: t,
          orThunk: t,
          map: function map(e) {
            return k(e(n));
          },
          ap: function ap(e) {
            return e.fold(E, function (e) {
              return k(e(n));
            });
          },
          each: function each(e) {
            e(n);
          },
          bind: r,
          flatten: e,
          exists: r,
          forall: r,
          filter: function filter(e) {
            return e(n) ? o : S;
          },
          equals: function equals(e) {
            return e.is(n);
          },
          equals_: function equals_(e, t) {
            return e.fold(w, function (e) {
              return t(n, e);
            });
          },
          toArray: function toArray() {
            return [n];
          },
          toString: function toString() {
            return "some(" + n + ")";
          }
        };

        return o;
      },
          A = {
        some: k,
        none: E,
        from: function from(e) {
          return null === e || e === undefined ? S : k(e);
        }
      },
          T = function T(t) {
        return function (e) {
          return function (e) {
            if (null === e) return "null";
            var t = typeof e;
            return "object" === t && (Array.prototype.isPrototypeOf(e) || e.constructor && "Array" === e.constructor.name) ? "array" : "object" === t && (String.prototype.isPrototypeOf(e) || e.constructor && "String" === e.constructor.name) ? "string" : t;
          }(e) === t;
        };
      },
          R = T("string"),
          _ = T("object"),
          D = T("array"),
          B = T("null"),
          O = T("boolean"),
          P = T("function"),
          I = T("number"),
          L = Array.prototype.slice,
          M = (i = Array.prototype.indexOf) === undefined ? function (e, t) {
        return J(e, t);
      } : function (e, t) {
        return i.call(e, t);
      },
          F = function F(e, t) {
        return -1 < M(e, t);
      },
          z = function z(e, t) {
        return G(e, t).isSome();
      },
          W = function W(e, t) {
        for (var n = e.length, r = new Array(n), o = 0; o < n; o++) {
          var i = e[o];
          r[o] = t(i, o, e);
        }

        return r;
      },
          U = function U(e, t) {
        for (var n = 0, r = e.length; n < r; n++) {
          t(e[n], n, e);
        }
      },
          K = function K(e, t) {
        for (var n = [], r = [], o = 0, i = e.length; o < i; o++) {
          var a = e[o];
          (t(a, o, e) ? n : r).push(a);
        }

        return {
          pass: n,
          fail: r
        };
      },
          V = function V(e, t) {
        for (var n = [], r = 0, o = e.length; r < o; r++) {
          var i = e[r];
          t(i, r, e) && n.push(i);
        }

        return n;
      },
          X = function X(e, t, n) {
        return U(e, function (e) {
          n = t(n, e);
        }), n;
      },
          Y = function Y(e, t) {
        for (var n = 0, r = e.length; n < r; n++) {
          var o = e[n];
          if (t(o, n, e)) return A.some(o);
        }

        return A.none();
      },
          G = function G(e, t) {
        for (var n = 0, r = e.length; n < r; n++) {
          if (t(e[n], n, e)) return A.some(n);
        }

        return A.none();
      },
          J = function J(e, t) {
        for (var n = 0, r = e.length; n < r; ++n) {
          if (e[n] === t) return n;
        }

        return -1;
      },
          Q = Array.prototype.push,
          Z = function Z(e, t) {
        return function (e) {
          for (var t = [], n = 0, r = e.length; n < r; ++n) {
            if (!Array.prototype.isPrototypeOf(e[n])) throw new Error("Arr.flatten item " + n + " was not an array, input: " + e);
            Q.apply(t, e[n]);
          }

          return t;
        }(W(e, t));
      },
          ee = function ee(e, t) {
        for (var n = 0, r = e.length; n < r; ++n) {
          if (!0 !== t(e[n], n, e)) return !1;
        }

        return !0;
      },
          te = function te(e, t) {
        return V(e, function (e) {
          return !F(t, e);
        });
      },
          ne = function ne(e) {
        return 0 === e.length ? A.none() : A.some(e[0]);
      },
          re = function re(e) {
        return 0 === e.length ? A.none() : A.some(e[e.length - 1]);
      },
          oe = P(Array.from) ? Array.from : function (e) {
        return L.call(e);
      },
          ie = "undefined" != typeof H.window ? H.window : Function("return this;")(),
          ae = function ae(e, t) {
        return function (e, t) {
          for (var n = t !== undefined && null !== t ? t : ie, r = 0; r < e.length && n !== undefined && null !== n; ++r) {
            n = n[e[r]];
          }

          return n;
        }(e.split("."), t);
      },
          ue = {
        getOrDie: function getOrDie(e, t) {
          var n = ae(e, t);
          if (n === undefined || null === n) throw e + " not available on this browser";
          return n;
        }
      },
          se = function se() {
        return ue.getOrDie("URL");
      },
          ce = {
        createObjectURL: function createObjectURL(e) {
          return se().createObjectURL(e);
        },
        revokeObjectURL: function revokeObjectURL(e) {
          se().revokeObjectURL(e);
        }
      },
          le = H.navigator,
          fe = le.userAgent,
          de = function de(e) {
        return "matchMedia" in H.window && H.matchMedia(e).matches;
      };

      g = /Android/.test(fe), u = (u = !(a = /WebKit/.test(fe)) && /MSIE/gi.test(fe) && /Explorer/gi.test(le.appName)) && /MSIE (\w+)\./.exec(fe)[1], s = -1 !== fe.indexOf("Trident/") && (-1 !== fe.indexOf("rv:") || -1 !== le.appName.indexOf("Netscape")) && 11, c = -1 !== fe.indexOf("Edge/") && !u && !s && 12, u = u || s || c, l = !a && !s && /Gecko/.test(fe), f = -1 !== fe.indexOf("Mac"), m = /(iPad|iPhone)/.test(fe), p = "FormData" in H.window && "FileReader" in H.window && "URL" in H.window && !!ce.createObjectURL, h = de("only screen and (max-device-width: 480px)") && (g || m), v = de("only screen and (min-width: 800px)") && (g || m), b = -1 !== fe.indexOf("Windows Phone"), c && (a = !1);

      var me,
          ge = {
        opera: !1,
        webkit: a,
        ie: u,
        gecko: l,
        mac: f,
        iOS: m,
        android: g,
        contentEditable: !m || p || 534 <= parseInt(fe.match(/AppleWebKit\/(\d*)/)[1], 10),
        transparentSrc: "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
        caretAfter: 8 !== u,
        range: H.window.getSelection && "Range" in H.window,
        documentMode: u && !c ? H.document.documentMode || 7 : 10,
        fileApi: p,
        ceFalse: !1 === u || 8 < u,
        cacheSuffix: null,
        container: null,
        overrideViewPort: null,
        experimentalShadowDom: !1,
        canHaveCSP: !1 === u || 11 < u,
        desktop: !h && !v,
        windowsPhone: b
      },
          pe = window.Promise ? window.Promise : function () {
        function r(e, t) {
          return function () {
            e.apply(t, arguments);
          };
        }

        var e = Array.isArray || function (e) {
          return "[object Array]" === Object.prototype.toString.call(e);
        },
            i = function i(e) {
          if ("object" != typeof this) throw new TypeError("Promises must be constructed via new");
          if ("function" != typeof e) throw new TypeError("not a function");
          this._state = null, this._value = null, this._deferreds = [], l(e, r(o, this), r(u, this));
        },
            t = i.immediateFn || "function" == typeof setImmediate && setImmediate || function (e) {
          setTimeout(e, 1);
        };

        function a(r) {
          var o = this;
          null !== this._state ? t(function () {
            var e = o._state ? r.onFulfilled : r.onRejected;

            if (null !== e) {
              var t;

              try {
                t = e(o._value);
              } catch (n) {
                return void r.reject(n);
              }

              r.resolve(t);
            } else (o._state ? r.resolve : r.reject)(o._value);
          }) : this._deferreds.push(r);
        }

        function o(e) {
          try {
            if (e === this) throw new TypeError("A promise cannot be resolved with itself.");

            if (e && ("object" == typeof e || "function" == typeof e)) {
              var t = e.then;
              if ("function" == typeof t) return void l(r(t, e), r(o, this), r(u, this));
            }

            this._state = !0, this._value = e, s.call(this);
          } catch (n) {
            u.call(this, n);
          }
        }

        function u(e) {
          this._state = !1, this._value = e, s.call(this);
        }

        function s() {
          for (var e = 0, t = this._deferreds.length; e < t; e++) {
            a.call(this, this._deferreds[e]);
          }

          this._deferreds = null;
        }

        function c(e, t, n, r) {
          this.onFulfilled = "function" == typeof e ? e : null, this.onRejected = "function" == typeof t ? t : null, this.resolve = n, this.reject = r;
        }

        function l(e, t, n) {
          var r = !1;

          try {
            e(function (e) {
              r || (r = !0, t(e));
            }, function (e) {
              r || (r = !0, n(e));
            });
          } catch (o) {
            if (r) return;
            r = !0, n(o);
          }
        }

        return i.prototype["catch"] = function (e) {
          return this.then(null, e);
        }, i.prototype.then = function (n, r) {
          var o = this;
          return new i(function (e, t) {
            a.call(o, new c(n, r, e, t));
          });
        }, i.all = function () {
          var s = Array.prototype.slice.call(1 === arguments.length && e(arguments[0]) ? arguments[0] : arguments);
          return new i(function (o, i) {
            if (0 === s.length) return o([]);
            var a = s.length;

            function u(t, e) {
              try {
                if (e && ("object" == typeof e || "function" == typeof e)) {
                  var n = e.then;
                  if ("function" == typeof n) return void n.call(e, function (e) {
                    u(t, e);
                  }, i);
                }

                s[t] = e, 0 == --a && o(s);
              } catch (r) {
                i(r);
              }
            }

            for (var e = 0; e < s.length; e++) {
              u(e, s[e]);
            }
          });
        }, i.resolve = function (t) {
          return t && "object" == typeof t && t.constructor === i ? t : new i(function (e) {
            e(t);
          });
        }, i.reject = function (n) {
          return new i(function (e, t) {
            t(n);
          });
        }, i.race = function (o) {
          return new i(function (e, t) {
            for (var n = 0, r = o.length; n < r; n++) {
              o[n].then(e, t);
            }
          });
        }, i;
      }(),
          he = function he(e, t) {
        return "number" != typeof t && (t = 0), setTimeout(e, t);
      },
          ve = function ve(e, t) {
        return "number" != typeof t && (t = 1), setInterval(e, t);
      },
          be = function be(t, n) {
        var r, e;
        return (e = function e() {
          var e = arguments;
          clearTimeout(r), r = he(function () {
            t.apply(this, e);
          }, n);
        }).stop = function () {
          clearTimeout(r);
        }, e;
      },
          ye = {
        requestAnimationFrame: function requestAnimationFrame(e, t) {
          me ? me.then(e) : me = new pe(function (e) {
            t || (t = H.document.body), function (e, t) {
              var n,
                  r = H.window.requestAnimationFrame,
                  o = ["ms", "moz", "webkit"];

              for (n = 0; n < o.length && !r; n++) {
                r = H.window[o[n] + "RequestAnimationFrame"];
              }

              r || (r = function r(e) {
                H.window.setTimeout(e, 0);
              }), r(e, t);
            }(e, t);
          }).then(e);
        },
        setTimeout: he,
        setInterval: ve,
        setEditorTimeout: function setEditorTimeout(e, t, n) {
          return he(function () {
            e.removed || t();
          }, n);
        },
        setEditorInterval: function setEditorInterval(e, t, n) {
          var r;
          return r = ve(function () {
            e.removed ? clearInterval(r) : t();
          }, n);
        },
        debounce: be,
        throttle: be,
        clearInterval: function (_clearInterval) {
          function clearInterval(_x2) {
            return _clearInterval.apply(this, arguments);
          }

          clearInterval.toString = function () {
            return _clearInterval.toString();
          };

          return clearInterval;
        }(function (e) {
          return clearInterval(e);
        }),
        clearTimeout: function (_clearTimeout) {
          function clearTimeout(_x3) {
            return _clearTimeout.apply(this, arguments);
          }

          clearTimeout.toString = function () {
            return _clearTimeout.toString();
          };

          return clearTimeout;
        }(function (e) {
          return clearTimeout(e);
        })
      },
          Ce = /^(?:mouse|contextmenu)|click/,
          xe = {
        keyLocation: 1,
        layerX: 1,
        layerY: 1,
        returnValue: 1,
        webkitMovementX: 1,
        webkitMovementY: 1,
        keyIdentifier: 1
      },
          we = function we() {
        return !1;
      },
          Ne = function Ne() {
        return !0;
      },
          Ee = function Ee(e, t, n, r) {
        e.addEventListener ? e.addEventListener(t, n, r || !1) : e.attachEvent && e.attachEvent("on" + t, n);
      },
          Se = function Se(e, t, n, r) {
        e.removeEventListener ? e.removeEventListener(t, n, r || !1) : e.detachEvent && e.detachEvent("on" + t, n);
      },
          ke = function ke(e, t) {
        var n,
            r,
            o = t || {};

        for (n in e) {
          xe[n] || (o[n] = e[n]);
        }

        if (o.target || (o.target = o.srcElement || H.document), ge.experimentalShadowDom && (o.target = function (e, t) {
          if (e.composedPath) {
            var n = e.composedPath();
            if (n && 0 < n.length) return n[0];
          }

          return t;
        }(e, o.target)), e && Ce.test(e.type) && e.pageX === undefined && e.clientX !== undefined) {
          var i = o.target.ownerDocument || H.document,
              a = i.documentElement,
              u = i.body;
          o.pageX = e.clientX + (a && a.scrollLeft || u && u.scrollLeft || 0) - (a && a.clientLeft || u && u.clientLeft || 0), o.pageY = e.clientY + (a && a.scrollTop || u && u.scrollTop || 0) - (a && a.clientTop || u && u.clientTop || 0);
        }

        return o.preventDefault = function () {
          o.isDefaultPrevented = Ne, e && (e.preventDefault ? e.preventDefault() : e.returnValue = !1);
        }, o.stopPropagation = function () {
          o.isPropagationStopped = Ne, e && (e.stopPropagation ? e.stopPropagation() : e.cancelBubble = !0);
        }, !(o.stopImmediatePropagation = function () {
          o.isImmediatePropagationStopped = Ne, o.stopPropagation();
        }) == ((r = o).isDefaultPrevented === Ne || r.isDefaultPrevented === we) && (o.isDefaultPrevented = we, o.isPropagationStopped = we, o.isImmediatePropagationStopped = we), "undefined" == typeof o.metaKey && (o.metaKey = !1), o;
      },
          Te = function Te(e, t, n) {
        var r = e.document,
            o = {
          type: "ready"
        };
        if (n.domLoaded) t(o);else {
          var i = function i() {
            return "complete" === r.readyState || "interactive" === r.readyState && r.body;
          },
              a = function a() {
            n.domLoaded || (n.domLoaded = !0, t(o));
          },
              u = function u() {
            i() && (Se(r, "readystatechange", u), a());
          },
              s = function s() {
            try {
              r.documentElement.doScroll("left");
            } catch (e) {
              return void ye.setTimeout(s);
            }

            a();
          };

          !r.addEventListener || ge.ie && ge.ie < 11 ? (Ee(r, "readystatechange", u), r.documentElement.doScroll && e.self === e.top && s()) : i() ? a() : Ee(e, "DOMContentLoaded", a), Ee(e, "load", a);
        }
      },
          Ae = function Ae() {
        var m,
            g,
            p,
            h,
            v,
            b = this,
            y = {};
        g = "mce-data-" + (+new Date()).toString(32), h = "onmouseenter" in H.document.documentElement, p = "onfocusin" in H.document.documentElement, v = {
          mouseenter: "mouseover",
          mouseleave: "mouseout"
        }, m = 1, b.domLoaded = !1, b.events = y;

        var C = function C(e, t) {
          var n,
              r,
              o,
              i,
              a = y[t];
          if (n = a && a[e.type]) for (r = 0, o = n.length; r < o; r++) {
            if ((i = n[r]) && !1 === i.func.call(i.scope, e) && e.preventDefault(), e.isImmediatePropagationStopped()) return;
          }
        };

        b.bind = function (e, t, n, r) {
          var o,
              i,
              a,
              u,
              s,
              c,
              l,
              f = H.window,
              d = function d(e) {
            C(ke(e || f.event), o);
          };

          if (e && 3 !== e.nodeType && 8 !== e.nodeType) {
            for (e[g] ? o = e[g] : (o = m++, e[g] = o, y[o] = {}), r = r || e, a = (t = t.split(" ")).length; a--;) {
              c = d, s = l = !1, "DOMContentLoaded" === (u = t[a]) && (u = "ready"), b.domLoaded && "ready" === u && "complete" === e.readyState ? n.call(r, ke({
                type: u
              })) : (h || (s = v[u]) && (c = function c(e) {
                var t, n;
                if (t = e.currentTarget, (n = e.relatedTarget) && t.contains) n = t.contains(n);else for (; n && n !== t;) {
                  n = n.parentNode;
                }
                n || ((e = ke(e || f.event)).type = "mouseout" === e.type ? "mouseleave" : "mouseenter", e.target = t, C(e, o));
              }), p || "focusin" !== u && "focusout" !== u || (l = !0, s = "focusin" === u ? "focus" : "blur", c = function c(e) {
                (e = ke(e || f.event)).type = "focus" === e.type ? "focusin" : "focusout", C(e, o);
              }), (i = y[o][u]) ? "ready" === u && b.domLoaded ? n({
                type: u
              }) : i.push({
                func: n,
                scope: r
              }) : (y[o][u] = i = [{
                func: n,
                scope: r
              }], i.fakeName = s, i.capture = l, i.nativeHandler = c, "ready" === u ? Te(e, c, b) : Ee(e, s || u, c, l)));
            }

            return e = i = 0, n;
          }
        }, b.unbind = function (e, t, n) {
          var r, o, i, a, u, s;
          if (!e || 3 === e.nodeType || 8 === e.nodeType) return b;

          if (r = e[g]) {
            if (s = y[r], t) {
              for (i = (t = t.split(" ")).length; i--;) {
                if (o = s[u = t[i]]) {
                  if (n) for (a = o.length; a--;) {
                    if (o[a].func === n) {
                      var c = o.nativeHandler,
                          l = o.fakeName,
                          f = o.capture;
                      (o = o.slice(0, a).concat(o.slice(a + 1))).nativeHandler = c, o.fakeName = l, o.capture = f, s[u] = o;
                    }
                  }
                  n && 0 !== o.length || (delete s[u], Se(e, o.fakeName || u, o.nativeHandler, o.capture));
                }
              }
            } else {
              for (u in s) {
                o = s[u], Se(e, o.fakeName || u, o.nativeHandler, o.capture);
              }

              s = {};
            }

            for (u in s) {
              return b;
            }

            delete y[r];

            try {
              delete e[g];
            } catch (d) {
              e[g] = null;
            }
          }

          return b;
        }, b.fire = function (e, t, n) {
          var r;
          if (!e || 3 === e.nodeType || 8 === e.nodeType) return b;

          for ((n = ke(null, n)).type = t, n.target = e; (r = e[g]) && C(n, r), (e = e.parentNode || e.ownerDocument || e.defaultView || e.parentWindow) && !n.isPropagationStopped();) {
            ;
          }

          return b;
        }, b.clean = function (e) {
          var t,
              n,
              r = b.unbind;
          if (!e || 3 === e.nodeType || 8 === e.nodeType) return b;
          if (e[g] && r(e), e.getElementsByTagName || (e = e.document), e && e.getElementsByTagName) for (r(e), t = (n = e.getElementsByTagName("*")).length; t--;) {
            (e = n[t])[g] && r(e);
          }
          return b;
        }, b.destroy = function () {
          y = {};
        }, b.cancel = function (e) {
          return e && (e.preventDefault(), e.stopImmediatePropagation()), !1;
        };
      };

      Ae.Event = new Ae(), Ae.Event.bind(H.window, "ready", function () {});

      var Re,
          _e,
          De,
          Be,
          Oe,
          Pe,
          Ie,
          Le,
          Me,
          Fe,
          ze,
          Ue,
          Ve,
          He,
          je,
          qe,
          $e,
          We,
          Ke = "sizzle" + -new Date(),
          Xe = H.window.document,
          Ye = 0,
          Ge = 0,
          Je = Rt(),
          Qe = Rt(),
          Ze = Rt(),
          et = function et(e, t) {
        return e === t && (ze = !0), 0;
      },
          tt = typeof undefined,
          nt = {}.hasOwnProperty,
          rt = [],
          ot = rt.pop,
          it = rt.push,
          at = rt.push,
          ut = rt.slice,
          st = rt.indexOf || function (e) {
        for (var t = 0, n = this.length; t < n; t++) {
          if (this[t] === e) return t;
        }

        return -1;
      },
          ct = "[\\x20\\t\\r\\n\\f]",
          lt = "(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",
          ft = "\\[" + ct + "*(" + lt + ")(?:" + ct + "*([*^$|!~]?=)" + ct + "*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(" + lt + "))|)" + ct + "*\\]",
          dt = ":(" + lt + ")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|" + ft + ")*)|.*)\\)|)",
          mt = new RegExp("^" + ct + "+|((?:^|[^\\\\])(?:\\\\.)*)" + ct + "+$", "g"),
          gt = new RegExp("^" + ct + "*," + ct + "*"),
          pt = new RegExp("^" + ct + "*([>+~]|" + ct + ")" + ct + "*"),
          ht = new RegExp("=" + ct + "*([^\\]'\"]*?)" + ct + "*\\]", "g"),
          vt = new RegExp(dt),
          bt = new RegExp("^" + lt + "$"),
          yt = {
        ID: new RegExp("^#(" + lt + ")"),
        CLASS: new RegExp("^\\.(" + lt + ")"),
        TAG: new RegExp("^(" + lt + "|[*])"),
        ATTR: new RegExp("^" + ft),
        PSEUDO: new RegExp("^" + dt),
        CHILD: new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" + ct + "*(even|odd|(([+-]|)(\\d*)n|)" + ct + "*(?:([+-]|)" + ct + "*(\\d+)|))" + ct + "*\\)|)", "i"),
        bool: new RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$", "i"),
        needsContext: new RegExp("^" + ct + "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" + ct + "*((?:-\\d)?\\d*)" + ct + "*\\)|)(?=[^-]|$)", "i")
      },
          Ct = /^(?:input|select|textarea|button)$/i,
          xt = /^h\d$/i,
          wt = /^[^{]+\{\s*\[native \w/,
          Nt = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,
          Et = /[+~]/,
          St = /'|\\/g,
          kt = new RegExp("\\\\([\\da-f]{1,6}" + ct + "?|(" + ct + ")|.)", "ig"),
          Tt = function Tt(e, t, n) {
        var r = "0x" + t - 65536;
        return r != r || n ? t : r < 0 ? String.fromCharCode(r + 65536) : String.fromCharCode(r >> 10 | 55296, 1023 & r | 56320);
      };

      try {
        at.apply(rt = ut.call(Xe.childNodes), Xe.childNodes), rt[Xe.childNodes.length].nodeType;
      } catch (ZN) {
        at = {
          apply: rt.length ? function (e, t) {
            it.apply(e, ut.call(t));
          } : function (e, t) {
            for (var n = e.length, r = 0; e[n++] = t[r++];) {
              ;
            }

            e.length = n - 1;
          }
        };
      }

      var At = function At(e, t, n, r) {
        var o, i, a, u, s, c, l, f, d, m;
        if ((t ? t.ownerDocument || t : Xe) !== Ve && Ue(t), n = n || [], !e || "string" != typeof e) return n;
        if (1 !== (u = (t = t || Ve).nodeType) && 9 !== u) return [];

        if (je && !r) {
          if (o = Nt.exec(e)) if (a = o[1]) {
            if (9 === u) {
              if (!(i = t.getElementById(a)) || !i.parentNode) return n;
              if (i.id === a) return n.push(i), n;
            } else if (t.ownerDocument && (i = t.ownerDocument.getElementById(a)) && We(t, i) && i.id === a) return n.push(i), n;
          } else {
            if (o[2]) return at.apply(n, t.getElementsByTagName(e)), n;
            if ((a = o[3]) && _e.getElementsByClassName) return at.apply(n, t.getElementsByClassName(a)), n;
          }

          if (_e.qsa && (!qe || !qe.test(e))) {
            if (f = l = Ke, d = t, m = 9 === u && e, 1 === u && "object" !== t.nodeName.toLowerCase()) {
              for (c = Pe(e), (l = t.getAttribute("id")) ? f = l.replace(St, "\\$&") : t.setAttribute("id", f), f = "[id='" + f + "'] ", s = c.length; s--;) {
                c[s] = f + Mt(c[s]);
              }

              d = Et.test(e) && It(t.parentNode) || t, m = c.join(",");
            }

            if (m) try {
              return at.apply(n, d.querySelectorAll(m)), n;
            } catch (g) {} finally {
              l || t.removeAttribute("id");
            }
          }
        }

        return Le(e.replace(mt, "$1"), t, n, r);
      };

      function Rt() {
        var r = [];
        return function e(t, n) {
          return r.push(t + " ") > De.cacheLength && delete e[r.shift()], e[t + " "] = n;
        };
      }

      function _t(e) {
        return e[Ke] = !0, e;
      }

      function Dt(e, t) {
        var n = t && e,
            r = n && 1 === e.nodeType && 1 === t.nodeType && (~t.sourceIndex || 1 << 31) - (~e.sourceIndex || 1 << 31);
        if (r) return r;
        if (n) for (; n = n.nextSibling;) {
          if (n === t) return -1;
        }
        return e ? 1 : -1;
      }

      function Bt(t) {
        return function (e) {
          return "input" === e.nodeName.toLowerCase() && e.type === t;
        };
      }

      function Ot(n) {
        return function (e) {
          var t = e.nodeName.toLowerCase();
          return ("input" === t || "button" === t) && e.type === n;
        };
      }

      function Pt(a) {
        return _t(function (i) {
          return i = +i, _t(function (e, t) {
            for (var n, r = a([], e.length, i), o = r.length; o--;) {
              e[n = r[o]] && (e[n] = !(t[n] = e[n]));
            }
          });
        });
      }

      function It(e) {
        return e && typeof e.getElementsByTagName !== tt && e;
      }

      for (Re in _e = At.support = {}, Oe = At.isXML = function (e) {
        var t = e && (e.ownerDocument || e).documentElement;
        return !!t && "HTML" !== t.nodeName;
      }, Ue = At.setDocument = function (e) {
        var t,
            s = e ? e.ownerDocument || e : Xe,
            n = s.defaultView;
        return s !== Ve && 9 === s.nodeType && s.documentElement ? (He = (Ve = s).documentElement, je = !Oe(s), n && n !== function (e) {
          try {
            return e.top;
          } catch (t) {}

          return null;
        }(n) && (n.addEventListener ? n.addEventListener("unload", function () {
          Ue();
        }, !1) : n.attachEvent && n.attachEvent("onunload", function () {
          Ue();
        })), _e.attributes = !0, _e.getElementsByTagName = !0, _e.getElementsByClassName = wt.test(s.getElementsByClassName), _e.getById = !0, De.find.ID = function (e, t) {
          if (typeof t.getElementById !== tt && je) {
            var n = t.getElementById(e);
            return n && n.parentNode ? [n] : [];
          }
        }, De.filter.ID = function (e) {
          var t = e.replace(kt, Tt);
          return function (e) {
            return e.getAttribute("id") === t;
          };
        }, De.find.TAG = _e.getElementsByTagName ? function (e, t) {
          if (typeof t.getElementsByTagName !== tt) return t.getElementsByTagName(e);
        } : function (e, t) {
          var n,
              r = [],
              o = 0,
              i = t.getElementsByTagName(e);

          if ("*" === e) {
            for (; n = i[o++];) {
              1 === n.nodeType && r.push(n);
            }

            return r;
          }

          return i;
        }, De.find.CLASS = _e.getElementsByClassName && function (e, t) {
          if (je) return t.getElementsByClassName(e);
        }, $e = [], qe = [], _e.disconnectedMatch = !0, qe = qe.length && new RegExp(qe.join("|")), $e = $e.length && new RegExp($e.join("|")), t = wt.test(He.compareDocumentPosition), We = t || wt.test(He.contains) ? function (e, t) {
          var n = 9 === e.nodeType ? e.documentElement : e,
              r = t && t.parentNode;
          return e === r || !(!r || 1 !== r.nodeType || !(n.contains ? n.contains(r) : e.compareDocumentPosition && 16 & e.compareDocumentPosition(r)));
        } : function (e, t) {
          if (t) for (; t = t.parentNode;) {
            if (t === e) return !0;
          }
          return !1;
        }, et = t ? function (e, t) {
          if (e === t) return ze = !0, 0;
          var n = !e.compareDocumentPosition - !t.compareDocumentPosition;
          return n || (1 & (n = (e.ownerDocument || e) === (t.ownerDocument || t) ? e.compareDocumentPosition(t) : 1) || !_e.sortDetached && t.compareDocumentPosition(e) === n ? e === s || e.ownerDocument === Xe && We(Xe, e) ? -1 : t === s || t.ownerDocument === Xe && We(Xe, t) ? 1 : Fe ? st.call(Fe, e) - st.call(Fe, t) : 0 : 4 & n ? -1 : 1);
        } : function (e, t) {
          if (e === t) return ze = !0, 0;
          var n,
              r = 0,
              o = e.parentNode,
              i = t.parentNode,
              a = [e],
              u = [t];
          if (!o || !i) return e === s ? -1 : t === s ? 1 : o ? -1 : i ? 1 : Fe ? st.call(Fe, e) - st.call(Fe, t) : 0;
          if (o === i) return Dt(e, t);

          for (n = e; n = n.parentNode;) {
            a.unshift(n);
          }

          for (n = t; n = n.parentNode;) {
            u.unshift(n);
          }

          for (; a[r] === u[r];) {
            r++;
          }

          return r ? Dt(a[r], u[r]) : a[r] === Xe ? -1 : u[r] === Xe ? 1 : 0;
        }, s) : Ve;
      }, At.matches = function (e, t) {
        return At(e, null, null, t);
      }, At.matchesSelector = function (e, t) {
        if ((e.ownerDocument || e) !== Ve && Ue(e), t = t.replace(ht, "='$1']"), _e.matchesSelector && je && (!$e || !$e.test(t)) && (!qe || !qe.test(t))) try {
          var n = (void 0).call(e, t);
          if (n || _e.disconnectedMatch || e.document && 11 !== e.document.nodeType) return n;
        } catch (ZN) {}
        return 0 < At(t, Ve, null, [e]).length;
      }, At.contains = function (e, t) {
        return (e.ownerDocument || e) !== Ve && Ue(e), We(e, t);
      }, At.attr = function (e, t) {
        (e.ownerDocument || e) !== Ve && Ue(e);
        var n = De.attrHandle[t.toLowerCase()],
            r = n && nt.call(De.attrHandle, t.toLowerCase()) ? n(e, t, !je) : undefined;
        return r !== undefined ? r : _e.attributes || !je ? e.getAttribute(t) : (r = e.getAttributeNode(t)) && r.specified ? r.value : null;
      }, At.error = function (e) {
        throw new Error("Syntax error, unrecognized expression: " + e);
      }, At.uniqueSort = function (e) {
        var t,
            n = [],
            r = 0,
            o = 0;

        if (ze = !_e.detectDuplicates, Fe = !_e.sortStable && e.slice(0), e.sort(et), ze) {
          for (; t = e[o++];) {
            t === e[o] && (r = n.push(o));
          }

          for (; r--;) {
            e.splice(n[r], 1);
          }
        }

        return Fe = null, e;
      }, Be = At.getText = function (e) {
        var t,
            n = "",
            r = 0,
            o = e.nodeType;

        if (o) {
          if (1 === o || 9 === o || 11 === o) {
            if ("string" == typeof e.textContent) return e.textContent;

            for (e = e.firstChild; e; e = e.nextSibling) {
              n += Be(e);
            }
          } else if (3 === o || 4 === o) return e.nodeValue;
        } else for (; t = e[r++];) {
          n += Be(t);
        }

        return n;
      }, (De = At.selectors = {
        cacheLength: 50,
        createPseudo: _t,
        match: yt,
        attrHandle: {},
        find: {},
        relative: {
          ">": {
            dir: "parentNode",
            first: !0
          },
          " ": {
            dir: "parentNode"
          },
          "+": {
            dir: "previousSibling",
            first: !0
          },
          "~": {
            dir: "previousSibling"
          }
        },
        preFilter: {
          ATTR: function ATTR(e) {
            return e[1] = e[1].replace(kt, Tt), e[3] = (e[3] || e[4] || e[5] || "").replace(kt, Tt), "~=" === e[2] && (e[3] = " " + e[3] + " "), e.slice(0, 4);
          },
          CHILD: function CHILD(e) {
            return e[1] = e[1].toLowerCase(), "nth" === e[1].slice(0, 3) ? (e[3] || At.error(e[0]), e[4] = +(e[4] ? e[5] + (e[6] || 1) : 2 * ("even" === e[3] || "odd" === e[3])), e[5] = +(e[7] + e[8] || "odd" === e[3])) : e[3] && At.error(e[0]), e;
          },
          PSEUDO: function PSEUDO(e) {
            var t,
                n = !e[6] && e[2];
            return yt.CHILD.test(e[0]) ? null : (e[3] ? e[2] = e[4] || e[5] || "" : n && vt.test(n) && (t = Pe(n, !0)) && (t = n.indexOf(")", n.length - t) - n.length) && (e[0] = e[0].slice(0, t), e[2] = n.slice(0, t)), e.slice(0, 3));
          }
        },
        filter: {
          TAG: function TAG(e) {
            var t = e.replace(kt, Tt).toLowerCase();
            return "*" === e ? function () {
              return !0;
            } : function (e) {
              return e.nodeName && e.nodeName.toLowerCase() === t;
            };
          },
          CLASS: function CLASS(e) {
            var t = Je[e + " "];
            return t || (t = new RegExp("(^|" + ct + ")" + e + "(" + ct + "|$)")) && Je(e, function (e) {
              return t.test("string" == typeof e.className && e.className || typeof e.getAttribute !== tt && e.getAttribute("class") || "");
            });
          },
          ATTR: function ATTR(n, r, o) {
            return function (e) {
              var t = At.attr(e, n);
              return null == t ? "!=" === r : !r || (t += "", "=" === r ? t === o : "!=" === r ? t !== o : "^=" === r ? o && 0 === t.indexOf(o) : "*=" === r ? o && -1 < t.indexOf(o) : "$=" === r ? o && t.slice(-o.length) === o : "~=" === r ? -1 < (" " + t + " ").indexOf(o) : "|=" === r && (t === o || t.slice(0, o.length + 1) === o + "-"));
            };
          },
          CHILD: function CHILD(m, e, t, g, p) {
            var h = "nth" !== m.slice(0, 3),
                v = "last" !== m.slice(-4),
                b = "of-type" === e;
            return 1 === g && 0 === p ? function (e) {
              return !!e.parentNode;
            } : function (e, t, n) {
              var r,
                  o,
                  i,
                  a,
                  u,
                  s,
                  c = h !== v ? "nextSibling" : "previousSibling",
                  l = e.parentNode,
                  f = b && e.nodeName.toLowerCase(),
                  d = !n && !b;

              if (l) {
                if (h) {
                  for (; c;) {
                    for (i = e; i = i[c];) {
                      if (b ? i.nodeName.toLowerCase() === f : 1 === i.nodeType) return !1;
                    }

                    s = c = "only" === m && !s && "nextSibling";
                  }

                  return !0;
                }

                if (s = [v ? l.firstChild : l.lastChild], v && d) {
                  for (u = (r = (o = l[Ke] || (l[Ke] = {}))[m] || [])[0] === Ye && r[1], a = r[0] === Ye && r[2], i = u && l.childNodes[u]; i = ++u && i && i[c] || (a = u = 0) || s.pop();) {
                    if (1 === i.nodeType && ++a && i === e) {
                      o[m] = [Ye, u, a];
                      break;
                    }
                  }
                } else if (d && (r = (e[Ke] || (e[Ke] = {}))[m]) && r[0] === Ye) a = r[1];else for (; (i = ++u && i && i[c] || (a = u = 0) || s.pop()) && ((b ? i.nodeName.toLowerCase() !== f : 1 !== i.nodeType) || !++a || (d && ((i[Ke] || (i[Ke] = {}))[m] = [Ye, a]), i !== e));) {
                  ;
                }

                return (a -= p) === g || a % g == 0 && 0 <= a / g;
              }
            };
          },
          PSEUDO: function PSEUDO(e, i) {
            var t,
                a = De.pseudos[e] || De.setFilters[e.toLowerCase()] || At.error("unsupported pseudo: " + e);
            return a[Ke] ? a(i) : 1 < a.length ? (t = [e, e, "", i], De.setFilters.hasOwnProperty(e.toLowerCase()) ? _t(function (e, t) {
              for (var n, r = a(e, i), o = r.length; o--;) {
                e[n = st.call(e, r[o])] = !(t[n] = r[o]);
              }
            }) : function (e) {
              return a(e, 0, t);
            }) : a;
          }
        },
        pseudos: {
          not: _t(function (e) {
            var r = [],
                o = [],
                u = Ie(e.replace(mt, "$1"));
            return u[Ke] ? _t(function (e, t, n, r) {
              for (var o, i = u(e, null, r, []), a = e.length; a--;) {
                (o = i[a]) && (e[a] = !(t[a] = o));
              }
            }) : function (e, t, n) {
              return r[0] = e, u(r, null, n, o), !o.pop();
            };
          }),
          has: _t(function (t) {
            return function (e) {
              return 0 < At(t, e).length;
            };
          }),
          contains: _t(function (t) {
            return t = t.replace(kt, Tt), function (e) {
              return -1 < (e.textContent || e.innerText || Be(e)).indexOf(t);
            };
          }),
          lang: _t(function (n) {
            return bt.test(n || "") || At.error("unsupported lang: " + n), n = n.replace(kt, Tt).toLowerCase(), function (e) {
              var t;

              do {
                if (t = je ? e.lang : e.getAttribute("xml:lang") || e.getAttribute("lang")) return (t = t.toLowerCase()) === n || 0 === t.indexOf(n + "-");
              } while ((e = e.parentNode) && 1 === e.nodeType);

              return !1;
            };
          }),
          target: function target(e) {
            var t = H.window.location && H.window.location.hash;
            return t && t.slice(1) === e.id;
          },
          root: function root(e) {
            return e === He;
          },
          focus: function focus(e) {
            return e === Ve.activeElement && (!Ve.hasFocus || Ve.hasFocus()) && !!(e.type || e.href || ~e.tabIndex);
          },
          enabled: function enabled(e) {
            return !1 === e.disabled;
          },
          disabled: function disabled(e) {
            return !0 === e.disabled;
          },
          checked: function checked(e) {
            var t = e.nodeName.toLowerCase();
            return "input" === t && !!e.checked || "option" === t && !!e.selected;
          },
          selected: function selected(e) {
            return e.parentNode && e.parentNode.selectedIndex, !0 === e.selected;
          },
          empty: function empty(e) {
            for (e = e.firstChild; e; e = e.nextSibling) {
              if (e.nodeType < 6) return !1;
            }

            return !0;
          },
          parent: function parent(e) {
            return !De.pseudos.empty(e);
          },
          header: function header(e) {
            return xt.test(e.nodeName);
          },
          input: function input(e) {
            return Ct.test(e.nodeName);
          },
          button: function button(e) {
            var t = e.nodeName.toLowerCase();
            return "input" === t && "button" === e.type || "button" === t;
          },
          text: function text(e) {
            var t;
            return "input" === e.nodeName.toLowerCase() && "text" === e.type && (null == (t = e.getAttribute("type")) || "text" === t.toLowerCase());
          },
          first: Pt(function () {
            return [0];
          }),
          last: Pt(function (e, t) {
            return [t - 1];
          }),
          eq: Pt(function (e, t, n) {
            return [n < 0 ? n + t : n];
          }),
          even: Pt(function (e, t) {
            for (var n = 0; n < t; n += 2) {
              e.push(n);
            }

            return e;
          }),
          odd: Pt(function (e, t) {
            for (var n = 1; n < t; n += 2) {
              e.push(n);
            }

            return e;
          }),
          lt: Pt(function (e, t, n) {
            for (var r = n < 0 ? n + t : n; 0 <= --r;) {
              e.push(r);
            }

            return e;
          }),
          gt: Pt(function (e, t, n) {
            for (var r = n < 0 ? n + t : n; ++r < t;) {
              e.push(r);
            }

            return e;
          })
        }
      }).pseudos.nth = De.pseudos.eq, {
        radio: !0,
        checkbox: !0,
        file: !0,
        password: !0,
        image: !0
      }) {
        De.pseudos[Re] = Bt(Re);
      }

      for (Re in {
        submit: !0,
        reset: !0
      }) {
        De.pseudos[Re] = Ot(Re);
      }

      function Lt() {}

      function Mt(e) {
        for (var t = 0, n = e.length, r = ""; t < n; t++) {
          r += e[t].value;
        }

        return r;
      }

      function Ft(a, e, t) {
        var u = e.dir,
            s = t && "parentNode" === u,
            c = Ge++;
        return e.first ? function (e, t, n) {
          for (; e = e[u];) {
            if (1 === e.nodeType || s) return a(e, t, n);
          }
        } : function (e, t, n) {
          var r,
              o,
              i = [Ye, c];

          if (n) {
            for (; e = e[u];) {
              if ((1 === e.nodeType || s) && a(e, t, n)) return !0;
            }
          } else for (; e = e[u];) {
            if (1 === e.nodeType || s) {
              if ((r = (o = e[Ke] || (e[Ke] = {}))[u]) && r[0] === Ye && r[1] === c) return i[2] = r[2];
              if ((o[u] = i)[2] = a(e, t, n)) return !0;
            }
          }
        };
      }

      function zt(o) {
        return 1 < o.length ? function (e, t, n) {
          for (var r = o.length; r--;) {
            if (!o[r](e, t, n)) return !1;
          }

          return !0;
        } : o[0];
      }

      function Ut(e, t, n, r, o) {
        for (var i, a = [], u = 0, s = e.length, c = null != t; u < s; u++) {
          (i = e[u]) && (n && !n(i, r, o) || (a.push(i), c && t.push(u)));
        }

        return a;
      }

      function Vt(m, g, p, h, v, e) {
        return h && !h[Ke] && (h = Vt(h)), v && !v[Ke] && (v = Vt(v, e)), _t(function (e, t, n, r) {
          var o,
              i,
              a,
              u = [],
              s = [],
              c = t.length,
              l = e || function (e, t, n) {
            for (var r = 0, o = t.length; r < o; r++) {
              At(e, t[r], n);
            }

            return n;
          }(g || "*", n.nodeType ? [n] : n, []),
              f = !m || !e && g ? l : Ut(l, u, m, n, r),
              d = p ? v || (e ? m : c || h) ? [] : t : f;

          if (p && p(f, d, n, r), h) for (o = Ut(d, s), h(o, [], n, r), i = o.length; i--;) {
            (a = o[i]) && (d[s[i]] = !(f[s[i]] = a));
          }

          if (e) {
            if (v || m) {
              if (v) {
                for (o = [], i = d.length; i--;) {
                  (a = d[i]) && o.push(f[i] = a);
                }

                v(null, d = [], o, r);
              }

              for (i = d.length; i--;) {
                (a = d[i]) && -1 < (o = v ? st.call(e, a) : u[i]) && (e[o] = !(t[o] = a));
              }
            }
          } else d = Ut(d === t ? d.splice(c, d.length) : d), v ? v(null, t, d, r) : at.apply(t, d);
        });
      }

      function Ht(e) {
        for (var r, t, n, o = e.length, i = De.relative[e[0].type], a = i || De.relative[" "], u = i ? 1 : 0, s = Ft(function (e) {
          return e === r;
        }, a, !0), c = Ft(function (e) {
          return -1 < st.call(r, e);
        }, a, !0), l = [function (e, t, n) {
          return !i && (n || t !== Me) || ((r = t).nodeType ? s(e, t, n) : c(e, t, n));
        }]; u < o; u++) {
          if (t = De.relative[e[u].type]) l = [Ft(zt(l), t)];else {
            if ((t = De.filter[e[u].type].apply(null, e[u].matches))[Ke]) {
              for (n = ++u; n < o && !De.relative[e[n].type]; n++) {
                ;
              }

              return Vt(1 < u && zt(l), 1 < u && Mt(e.slice(0, u - 1).concat({
                value: " " === e[u - 2].type ? "*" : ""
              })).replace(mt, "$1"), t, u < n && Ht(e.slice(u, n)), n < o && Ht(e = e.slice(n)), n < o && Mt(e));
            }

            l.push(t);
          }
        }

        return zt(l);
      }

      Lt.prototype = De.filters = De.pseudos, De.setFilters = new Lt(), Pe = At.tokenize = function (e, t) {
        var n,
            r,
            o,
            i,
            a,
            u,
            s,
            c = Qe[e + " "];
        if (c) return t ? 0 : c.slice(0);

        for (a = e, u = [], s = De.preFilter; a;) {
          for (i in n && !(r = gt.exec(a)) || (r && (a = a.slice(r[0].length) || a), u.push(o = [])), n = !1, (r = pt.exec(a)) && (n = r.shift(), o.push({
            value: n,
            type: r[0].replace(mt, " ")
          }), a = a.slice(n.length)), De.filter) {
            !(r = yt[i].exec(a)) || s[i] && !(r = s[i](r)) || (n = r.shift(), o.push({
              value: n,
              type: i,
              matches: r
            }), a = a.slice(n.length));
          }

          if (!n) break;
        }

        return t ? a.length : a ? At.error(e) : Qe(e, u).slice(0);
      }, Ie = At.compile = function (e, t) {
        var n,
            h,
            v,
            b,
            y,
            r,
            o = [],
            i = [],
            a = Ze[e + " "];

        if (!a) {
          for (t || (t = Pe(e)), n = t.length; n--;) {
            (a = Ht(t[n]))[Ke] ? o.push(a) : i.push(a);
          }

          (a = Ze(e, (h = i, b = 0 < (v = o).length, y = 0 < h.length, r = function r(e, t, n, _r4, o) {
            var i,
                a,
                u,
                s = 0,
                c = "0",
                l = e && [],
                f = [],
                d = Me,
                m = e || y && De.find.TAG("*", o),
                g = Ye += null == d ? 1 : Math.random() || .1,
                p = m.length;

            for (o && (Me = t !== Ve && t); c !== p && null != (i = m[c]); c++) {
              if (y && i) {
                for (a = 0; u = h[a++];) {
                  if (u(i, t, n)) {
                    _r4.push(i);

                    break;
                  }
                }

                o && (Ye = g);
              }

              b && ((i = !u && i) && s--, e && l.push(i));
            }

            if (s += c, b && c !== s) {
              for (a = 0; u = v[a++];) {
                u(l, f, t, n);
              }

              if (e) {
                if (0 < s) for (; c--;) {
                  l[c] || f[c] || (f[c] = ot.call(_r4));
                }
                f = Ut(f);
              }

              at.apply(_r4, f), o && !e && 0 < f.length && 1 < s + v.length && At.uniqueSort(_r4);
            }

            return o && (Ye = g, Me = d), l;
          }, b ? _t(r) : r))).selector = e;
        }

        return a;
      }, Le = At.select = function (e, t, n, r) {
        var o,
            i,
            a,
            u,
            s,
            c = "function" == typeof e && e,
            l = !r && Pe(e = c.selector || e);

        if (n = n || [], 1 === l.length) {
          if (2 < (i = l[0] = l[0].slice(0)).length && "ID" === (a = i[0]).type && _e.getById && 9 === t.nodeType && je && De.relative[i[1].type]) {
            if (!(t = (De.find.ID(a.matches[0].replace(kt, Tt), t) || [])[0])) return n;
            c && (t = t.parentNode), e = e.slice(i.shift().value.length);
          }

          for (o = yt.needsContext.test(e) ? 0 : i.length; o-- && (a = i[o], !De.relative[u = a.type]);) {
            if ((s = De.find[u]) && (r = s(a.matches[0].replace(kt, Tt), Et.test(i[0].type) && It(t.parentNode) || t))) {
              if (i.splice(o, 1), !(e = r.length && Mt(i))) return at.apply(n, r), n;
              break;
            }
          }
        }

        return (c || Ie(e, l))(r, t, !je, n, Et.test(e) && It(t.parentNode) || t), n;
      }, _e.sortStable = Ke.split("").sort(et).join("") === Ke, _e.detectDuplicates = !!ze, Ue(), _e.sortDetached = !0;

      var jt = Array.isArray,
          qt = function qt(e, t, n) {
        var r, o;
        if (!e) return 0;

        if (n = n || e, e.length !== undefined) {
          for (r = 0, o = e.length; r < o; r++) {
            if (!1 === t.call(n, e[r], r, e)) return 0;
          }
        } else for (r in e) {
          if (e.hasOwnProperty(r) && !1 === t.call(n, e[r], r, e)) return 0;
        }

        return 1;
      },
          $t = function $t(e, t, n) {
        var r, o;

        for (r = 0, o = e.length; r < o; r++) {
          if (t.call(n, e[r], r, e)) return r;
        }

        return -1;
      },
          Wt = {
        isArray: jt,
        toArray: function toArray(e) {
          var t,
              n,
              r = e;
          if (!jt(e)) for (r = [], t = 0, n = e.length; t < n; t++) {
            r[t] = e[t];
          }
          return r;
        },
        each: qt,
        map: function map(n, r) {
          var o = [];
          return qt(n, function (e, t) {
            o.push(r(e, t, n));
          }), o;
        },
        filter: function filter(n, r) {
          var o = [];
          return qt(n, function (e, t) {
            r && !r(e, t, n) || o.push(e);
          }), o;
        },
        indexOf: function indexOf(e, t) {
          var n, r;
          if (e) for (n = 0, r = e.length; n < r; n++) {
            if (e[n] === t) return n;
          }
          return -1;
        },
        reduce: function reduce(e, t, n, r) {
          var o = 0;

          for (arguments.length < 3 && (n = e[0]); o < e.length; o++) {
            n = t.call(r, n, e[o], o);
          }

          return n;
        },
        findIndex: $t,
        find: function find(e, t, n) {
          var r = $t(e, t, n);
          return -1 !== r ? e[r] : undefined;
        },
        last: function last(e) {
          return e[e.length - 1];
        }
      },
          Kt = /^\s*|\s*$/g,
          Xt = function Xt(e) {
        return null === e || e === undefined ? "" : ("" + e).replace(Kt, "");
      },
          Yt = function Yt(e, t) {
        return t ? !("array" !== t || !Wt.isArray(e)) || typeof e === t : e !== undefined;
      },
          Gt = function Gt(e, n, r, o) {
        o = o || this, e && (r && (e = e[r]), Wt.each(e, function (e, t) {
          if (!1 === n.call(o, e, t, r)) return !1;
          Gt(e, n, r, o);
        }));
      },
          Jt = {
        trim: Xt,
        isArray: Wt.isArray,
        is: Yt,
        toArray: Wt.toArray,
        makeMap: function makeMap(e, t, n) {
          var r;

          for (t = t || ",", "string" == typeof (e = e || []) && (e = e.split(t)), n = n || {}, r = e.length; r--;) {
            n[e[r]] = {};
          }

          return n;
        },
        each: Wt.each,
        map: Wt.map,
        grep: Wt.filter,
        inArray: Wt.indexOf,
        hasOwn: function hasOwn(e, t) {
          return Object.prototype.hasOwnProperty.call(e, t);
        },
        extend: function extend(e, t) {
          for (var n, r, o, i = [], a = 2; a < arguments.length; a++) {
            i[a - 2] = arguments[a];
          }

          var u,
              s = arguments;

          for (n = 1, r = s.length; n < r; n++) {
            for (o in t = s[n]) {
              t.hasOwnProperty(o) && (u = t[o]) !== undefined && (e[o] = u);
            }
          }

          return e;
        },
        create: function create(e, t, n) {
          var r,
              o,
              i,
              a,
              u,
              s = this,
              c = 0;

          if (e = /^((static) )?([\w.]+)(:([\w.]+))?/.exec(e), i = e[3].match(/(^|\.)(\w+)$/i)[2], !(o = s.createNS(e[3].replace(/\.\w+$/, ""), n))[i]) {
            if ("static" === e[2]) return o[i] = t, void (this.onCreate && this.onCreate(e[2], e[3], o[i]));
            t[i] || (t[i] = function () {}, c = 1), o[i] = t[i], s.extend(o[i].prototype, t), e[5] && (r = s.resolve(e[5]).prototype, a = e[5].match(/\.(\w+)$/i)[1], u = o[i], o[i] = c ? function () {
              return r[a].apply(this, arguments);
            } : function () {
              return this.parent = r[a], u.apply(this, arguments);
            }, o[i].prototype[i] = o[i], s.each(r, function (e, t) {
              o[i].prototype[t] = r[t];
            }), s.each(t, function (e, t) {
              r[t] ? o[i].prototype[t] = function () {
                return this.parent = r[t], e.apply(this, arguments);
              } : t !== i && (o[i].prototype[t] = e);
            })), s.each(t["static"], function (e, t) {
              o[i][t] = e;
            });
          }
        },
        walk: Gt,
        createNS: function createNS(e, t) {
          var n, r;

          for (t = t || H.window, e = e.split("."), n = 0; n < e.length; n++) {
            t[r = e[n]] || (t[r] = {}), t = t[r];
          }

          return t;
        },
        resolve: function resolve(e, t) {
          var n, r;

          for (t = t || H.window, n = 0, r = (e = e.split(".")).length; n < r && (t = t[e[n]]); n++) {
            ;
          }

          return t;
        },
        explode: function explode(e, t) {
          return !e || Yt(e, "array") ? e : Wt.map(e.split(t || ","), Xt);
        },
        _addCacheSuffix: function _addCacheSuffix(e) {
          var t = ge.cacheSuffix;
          return t && (e += (-1 === e.indexOf("?") ? "?" : "&") + t), e;
        }
      },
          Qt = H.document,
          Zt = Array.prototype.push,
          en = Array.prototype.slice,
          tn = /^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,
          nn = Ae.Event,
          rn = Jt.makeMap("children,contents,next,prev"),
          on = function on(e) {
        return void 0 !== e;
      },
          an = function an(e) {
        return "string" == typeof e;
      },
          un = function un(e, t) {
        var n, r, o;

        for (o = (t = t || Qt).createElement("div"), n = t.createDocumentFragment(), o.innerHTML = e; r = o.firstChild;) {
          n.appendChild(r);
        }

        return n;
      },
          sn = function sn(e, t, n, r) {
        var o;
        if (an(t)) t = un(t, wn(e[0]));else if (t.length && !t.nodeType) {
          if (t = vn.makeArray(t), r) for (o = t.length - 1; 0 <= o; o--) {
            sn(e, t[o], n, r);
          } else for (o = 0; o < t.length; o++) {
            sn(e, t[o], n, r);
          }
          return e;
        }
        if (t.nodeType) for (o = e.length; o--;) {
          n.call(e[o], t);
        }
        return e;
      },
          cn = function cn(e, t) {
        return e && t && -1 !== (" " + e.className + " ").indexOf(" " + t + " ");
      },
          ln = function ln(e, t, n) {
        var r, o;
        return t = vn(t)[0], e.each(function () {
          var e = this;
          n && r === e.parentNode || (r = e.parentNode, o = t.cloneNode(!1), e.parentNode.insertBefore(o, e)), o.appendChild(e);
        }), e;
      },
          fn = Jt.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom", " "),
          dn = Jt.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected", " "),
          mn = {
        "for": "htmlFor",
        "class": "className",
        readonly: "readOnly"
      },
          gn = {
        "float": "cssFloat"
      },
          pn = {},
          hn = {},
          vn = function vn(e, t) {
        return new vn.fn.init(e, t);
      },
          bn = /^\s*|\s*$/g,
          yn = function yn(e) {
        return null === e || e === undefined ? "" : ("" + e).replace(bn, "");
      },
          Cn = function Cn(e, t) {
        var n, r, o, i;
        if (e) if ((n = e.length) === undefined) {
          for (r in e) {
            if (e.hasOwnProperty(r) && (i = e[r], !1 === t.call(i, r, i))) break;
          }
        } else for (o = 0; o < n && (i = e[o], !1 !== t.call(i, o, i)); o++) {
          ;
        }
        return e;
      },
          xn = function xn(e, n) {
        var r = [];
        return Cn(e, function (e, t) {
          n(t, e) && r.push(t);
        }), r;
      },
          wn = function wn(e) {
        return e ? 9 === e.nodeType ? e : e.ownerDocument : Qt;
      };

      vn.fn = vn.prototype = {
        constructor: vn,
        selector: "",
        context: null,
        length: 0,
        init: function init(e, t) {
          var n,
              r,
              o = this;
          if (!e) return o;
          if (e.nodeType) return o.context = o[0] = e, o.length = 1, o;
          if (t && t.nodeType) o.context = t;else {
            if (t) return vn(e).attr(t);
            o.context = t = H.document;
          }

          if (an(e)) {
            if (!(n = "<" === (o.selector = e).charAt(0) && ">" === e.charAt(e.length - 1) && 3 <= e.length ? [null, e, null] : tn.exec(e))) return vn(t).find(e);
            if (n[1]) for (r = un(e, wn(t)).firstChild; r;) {
              Zt.call(o, r), r = r.nextSibling;
            } else {
              if (!(r = wn(t).getElementById(n[2]))) return o;
              if (r.id !== n[2]) return o.find(e);
              o.length = 1, o[0] = r;
            }
          } else this.add(e, !1);

          return o;
        },
        toArray: function toArray() {
          return Jt.toArray(this);
        },
        add: function add(e, t) {
          var n,
              r,
              o = this;
          if (an(e)) return o.add(vn(e));
          if (!1 !== t) for (n = vn.unique(o.toArray().concat(vn.makeArray(e))), o.length = n.length, r = 0; r < n.length; r++) {
            o[r] = n[r];
          } else Zt.apply(o, vn.makeArray(e));
          return o;
        },
        attr: function attr(t, n) {
          var e,
              r = this;
          if ("object" == typeof t) Cn(t, function (e, t) {
            r.attr(e, t);
          });else {
            if (!on(n)) {
              if (r[0] && 1 === r[0].nodeType) {
                if ((e = pn[t]) && e.get) return e.get(r[0], t);
                if (dn[t]) return r.prop(t) ? t : undefined;
                null === (n = r[0].getAttribute(t, 2)) && (n = undefined);
              }

              return n;
            }

            this.each(function () {
              var e;

              if (1 === this.nodeType) {
                if ((e = pn[t]) && e.set) return void e.set(this, n);
                null === n ? this.removeAttribute(t, 2) : this.setAttribute(t, n, 2);
              }
            });
          }
          return r;
        },
        removeAttr: function removeAttr(e) {
          return this.attr(e, null);
        },
        prop: function prop(e, t) {
          var n = this;
          if ("object" == typeof (e = mn[e] || e)) Cn(e, function (e, t) {
            n.prop(e, t);
          });else {
            if (!on(t)) return n[0] && n[0].nodeType && e in n[0] ? n[0][e] : t;
            this.each(function () {
              1 === this.nodeType && (this[e] = t);
            });
          }
          return n;
        },
        css: function css(n, r) {
          var e,
              o,
              i = this,
              t = function t(e) {
            return e.replace(/-(\D)/g, function (e, t) {
              return t.toUpperCase();
            });
          },
              a = function a(e) {
            return e.replace(/[A-Z]/g, function (e) {
              return "-" + e;
            });
          };

          if ("object" == typeof n) Cn(n, function (e, t) {
            i.css(e, t);
          });else if (on(r)) n = t(n), "number" != typeof r || fn[n] || (r = r.toString() + "px"), i.each(function () {
            var e = this.style;
            if ((o = hn[n]) && o.set) o.set(this, r);else {
              try {
                this.style[gn[n] || n] = r;
              } catch (t) {}

              null !== r && "" !== r || (e.removeProperty ? e.removeProperty(a(n)) : e.removeAttribute(n));
            }
          });else {
            if (e = i[0], (o = hn[n]) && o.get) return o.get(e);
            if (!e.ownerDocument.defaultView) return e.currentStyle ? e.currentStyle[t(n)] : "";

            try {
              return e.ownerDocument.defaultView.getComputedStyle(e, null).getPropertyValue(a(n));
            } catch (u) {
              return undefined;
            }
          }
          return i;
        },
        remove: function remove() {
          for (var e, t = this.length; t--;) {
            e = this[t], nn.clean(e), e.parentNode && e.parentNode.removeChild(e);
          }

          return this;
        },
        empty: function empty() {
          for (var e, t = this.length; t--;) {
            for (e = this[t]; e.firstChild;) {
              e.removeChild(e.firstChild);
            }
          }

          return this;
        },
        html: function html(e) {
          var t,
              n = this;

          if (on(e)) {
            t = n.length;

            try {
              for (; t--;) {
                n[t].innerHTML = e;
              }
            } catch (r) {
              vn(n[t]).empty().append(e);
            }

            return n;
          }

          return n[0] ? n[0].innerHTML : "";
        },
        text: function text(e) {
          var t,
              n = this;

          if (on(e)) {
            for (t = n.length; t--;) {
              "innerText" in n[t] ? n[t].innerText = e : n[0].textContent = e;
            }

            return n;
          }

          return n[0] ? n[0].innerText || n[0].textContent : "";
        },
        append: function append() {
          return sn(this, arguments, function (e) {
            (1 === this.nodeType || this.host && 1 === this.host.nodeType) && this.appendChild(e);
          });
        },
        prepend: function prepend() {
          return sn(this, arguments, function (e) {
            (1 === this.nodeType || this.host && 1 === this.host.nodeType) && this.insertBefore(e, this.firstChild);
          }, !0);
        },
        before: function before() {
          return this[0] && this[0].parentNode ? sn(this, arguments, function (e) {
            this.parentNode.insertBefore(e, this);
          }) : this;
        },
        after: function after() {
          return this[0] && this[0].parentNode ? sn(this, arguments, function (e) {
            this.parentNode.insertBefore(e, this.nextSibling);
          }, !0) : this;
        },
        appendTo: function appendTo(e) {
          return vn(e).append(this), this;
        },
        prependTo: function prependTo(e) {
          return vn(e).prepend(this), this;
        },
        replaceWith: function replaceWith(e) {
          return this.before(e).remove();
        },
        wrap: function wrap(e) {
          return ln(this, e);
        },
        wrapAll: function wrapAll(e) {
          return ln(this, e, !0);
        },
        wrapInner: function wrapInner(e) {
          return this.each(function () {
            vn(this).contents().wrapAll(e);
          }), this;
        },
        unwrap: function unwrap() {
          return this.parent().each(function () {
            vn(this).replaceWith(this.childNodes);
          });
        },
        clone: function clone() {
          var e = [];
          return this.each(function () {
            e.push(this.cloneNode(!0));
          }), vn(e);
        },
        addClass: function addClass(e) {
          return this.toggleClass(e, !0);
        },
        removeClass: function removeClass(e) {
          return this.toggleClass(e, !1);
        },
        toggleClass: function toggleClass(o, i) {
          var e = this;
          return "string" != typeof o || (-1 !== o.indexOf(" ") ? Cn(o.split(" "), function () {
            e.toggleClass(this, i);
          }) : e.each(function (e, t) {
            var n, r;
            (r = cn(t, o)) !== i && (n = t.className, r ? t.className = yn((" " + n + " ").replace(" " + o + " ", " ")) : t.className += n ? " " + o : o);
          })), e;
        },
        hasClass: function hasClass(e) {
          return cn(this[0], e);
        },
        each: function each(e) {
          return Cn(this, e);
        },
        on: function on(e, t) {
          return this.each(function () {
            nn.bind(this, e, t);
          });
        },
        off: function off(e, t) {
          return this.each(function () {
            nn.unbind(this, e, t);
          });
        },
        trigger: function trigger(e) {
          return this.each(function () {
            "object" == typeof e ? nn.fire(this, e.type, e) : nn.fire(this, e);
          });
        },
        show: function show() {
          return this.css("display", "");
        },
        hide: function hide() {
          return this.css("display", "none");
        },
        slice: function slice() {
          return new vn(en.apply(this, arguments));
        },
        eq: function eq(e) {
          return -1 === e ? this.slice(e) : this.slice(e, +e + 1);
        },
        first: function first() {
          return this.eq(0);
        },
        last: function last() {
          return this.eq(-1);
        },
        find: function find(e) {
          var t,
              n,
              r = [];

          for (t = 0, n = this.length; t < n; t++) {
            vn.find(e, this[t], r);
          }

          return vn(r);
        },
        filter: function filter(n) {
          return vn("function" == typeof n ? xn(this.toArray(), function (e, t) {
            return n(t, e);
          }) : vn.filter(n, this.toArray()));
        },
        closest: function closest(n) {
          var r = [];
          return n instanceof vn && (n = n[0]), this.each(function (e, t) {
            for (; t;) {
              if ("string" == typeof n && vn(t).is(n)) {
                r.push(t);
                break;
              }

              if (t === n) {
                r.push(t);
                break;
              }

              t = t.parentNode;
            }
          }), vn(r);
        },
        offset: function offset(e) {
          var t,
              n,
              r,
              o,
              i = 0,
              a = 0;
          return e ? this.css(e) : ((t = this[0]) && (r = (n = t.ownerDocument).documentElement, t.getBoundingClientRect && (i = (o = t.getBoundingClientRect()).left + (r.scrollLeft || n.body.scrollLeft) - r.clientLeft, a = o.top + (r.scrollTop || n.body.scrollTop) - r.clientTop)), {
            left: i,
            top: a
          });
        },
        push: Zt,
        sort: [].sort,
        splice: [].splice
      }, Jt.extend(vn, {
        extend: Jt.extend,
        makeArray: function makeArray(e) {
          return (t = e) && t === t.window || e.nodeType ? [e] : Jt.toArray(e);
          var t;
        },
        inArray: function inArray(e, t) {
          var n;
          if (t.indexOf) return t.indexOf(e);

          for (n = t.length; n--;) {
            if (t[n] === e) return n;
          }

          return -1;
        },
        isArray: Jt.isArray,
        each: Cn,
        trim: yn,
        grep: xn,
        find: At,
        expr: At.selectors,
        unique: At.uniqueSort,
        text: At.getText,
        contains: At.contains,
        filter: function filter(e, t, n) {
          var r = t.length;

          for (n && (e = ":not(" + e + ")"); r--;) {
            1 !== t[r].nodeType && t.splice(r, 1);
          }

          return t = 1 === t.length ? vn.find.matchesSelector(t[0], e) ? [t[0]] : [] : vn.find.matches(e, t);
        }
      });

      var Nn = function Nn(e, t, n) {
        var r = [],
            o = e[t];

        for ("string" != typeof n && n instanceof vn && (n = n[0]); o && 9 !== o.nodeType;) {
          if (n !== undefined) {
            if (o === n) break;
            if ("string" == typeof n && vn(o).is(n)) break;
          }

          1 === o.nodeType && r.push(o), o = o[t];
        }

        return r;
      },
          En = function En(e, t, n, r) {
        var o = [];

        for (r instanceof vn && (r = r[0]); e; e = e[t]) {
          if (!n || e.nodeType === n) {
            if (r !== undefined) {
              if (e === r) break;
              if ("string" == typeof r && vn(e).is(r)) break;
            }

            o.push(e);
          }
        }

        return o;
      },
          Sn = function Sn(e, t, n) {
        for (e = e[t]; e; e = e[t]) {
          if (e.nodeType === n) return e;
        }

        return null;
      };

      Cn({
        parent: function parent(e) {
          var t = e.parentNode;
          return t && 11 !== t.nodeType ? t : null;
        },
        parents: function parents(e) {
          return Nn(e, "parentNode");
        },
        next: function next(e) {
          return Sn(e, "nextSibling", 1);
        },
        prev: function prev(e) {
          return Sn(e, "previousSibling", 1);
        },
        children: function children(e) {
          return En(e.firstChild, "nextSibling", 1);
        },
        contents: function contents(e) {
          return Jt.toArray(("iframe" === e.nodeName ? e.contentDocument || e.contentWindow.document : e).childNodes);
        }
      }, function (e, r) {
        vn.fn[e] = function (t) {
          var n = [];
          return this.each(function () {
            var e = r.call(n, this, t, n);
            e && (vn.isArray(e) ? n.push.apply(n, e) : n.push(e));
          }), 1 < this.length && (rn[e] || (n = vn.unique(n)), 0 === e.indexOf("parents") && (n = n.reverse())), n = vn(n), t ? n.filter(t) : n;
        };
      }), Cn({
        parentsUntil: function parentsUntil(e, t) {
          return Nn(e, "parentNode", t);
        },
        nextUntil: function nextUntil(e, t) {
          return En(e, "nextSibling", 1, t).slice(1);
        },
        prevUntil: function prevUntil(e, t) {
          return En(e, "previousSibling", 1, t).slice(1);
        }
      }, function (r, o) {
        vn.fn[r] = function (t, e) {
          var n = [];
          return this.each(function () {
            var e = o.call(n, this, t, n);
            e && (vn.isArray(e) ? n.push.apply(n, e) : n.push(e));
          }), 1 < this.length && (n = vn.unique(n), 0 !== r.indexOf("parents") && "prevUntil" !== r || (n = n.reverse())), n = vn(n), e ? n.filter(e) : n;
        };
      }), vn.fn.is = function (e) {
        return !!e && 0 < this.filter(e).length;
      }, vn.fn.init.prototype = vn.fn, vn.overrideDefaults = function (n) {
        var r,
            o = function o(e, t) {
          return r = r || n(), 0 === arguments.length && (e = r.element), t || (t = r.context), new o.fn.init(e, t);
        };

        return vn.extend(o, this), o;
      };

      var kn = function kn(n, r, e) {
        Cn(e, function (e, t) {
          n[e] = n[e] || {}, n[e][r] = t;
        });
      };

      ge.ie && ge.ie < 8 && (kn(pn, "get", {
        maxlength: function maxlength(e) {
          var t = e.maxLength;
          return 2147483647 === t ? undefined : t;
        },
        size: function size(e) {
          var t = e.size;
          return 20 === t ? undefined : t;
        },
        "class": function _class(e) {
          return e.className;
        },
        style: function style(e) {
          var t = e.style.cssText;
          return 0 === t.length ? undefined : t;
        }
      }), kn(pn, "set", {
        "class": function _class(e, t) {
          e.className = t;
        },
        style: function style(e, t) {
          e.style.cssText = t;
        }
      })), ge.ie && ge.ie < 9 && (gn["float"] = "styleFloat", kn(hn, "set", {
        opacity: function opacity(e, t) {
          var n = e.style;
          null === t || "" === t ? n.removeAttribute("filter") : (n.zoom = 1, n.filter = "alpha(opacity=" + 100 * t + ")");
        }
      })), vn.attrHooks = pn, vn.cssHooks = hn;

      var Tn,
          An,
          Rn,
          _n = function _n(e, t) {
        var n = function (e, t) {
          for (var n = 0; n < e.length; n++) {
            var r = e[n];
            if (r.test(t)) return r;
          }

          return undefined;
        }(e, t);

        if (!n) return {
          major: 0,
          minor: 0
        };

        var r = function r(e) {
          return Number(t.replace(n, "$" + e));
        };

        return Bn(r(1), r(2));
      },
          Dn = function Dn() {
        return Bn(0, 0);
      },
          Bn = function Bn(e, t) {
        return {
          major: e,
          minor: t
        };
      },
          On = {
        nu: Bn,
        detect: function detect(e, t) {
          var n = String(t).toLowerCase();
          return 0 === e.length ? Dn() : _n(e, n);
        },
        unknown: Dn
      },
          Pn = "Firefox",
          In = function In(e, t) {
        return function () {
          return t === e;
        };
      },
          Ln = function Ln(e) {
        var t = e.current;
        return {
          current: t,
          version: e.version,
          isEdge: In("Edge", t),
          isChrome: In("Chrome", t),
          isIE: In("IE", t),
          isOpera: In("Opera", t),
          isFirefox: In(Pn, t),
          isSafari: In("Safari", t)
        };
      },
          Mn = {
        unknown: function unknown() {
          return Ln({
            current: undefined,
            version: On.unknown()
          });
        },
        nu: Ln,
        edge: q("Edge"),
        chrome: q("Chrome"),
        ie: q("IE"),
        opera: q("Opera"),
        firefox: q(Pn),
        safari: q("Safari")
      },
          Fn = "Windows",
          zn = "Android",
          Un = "Solaris",
          Vn = "FreeBSD",
          Hn = function Hn(e, t) {
        return function () {
          return t === e;
        };
      },
          jn = function jn(e) {
        var t = e.current;
        return {
          current: t,
          version: e.version,
          isWindows: Hn(Fn, t),
          isiOS: Hn("iOS", t),
          isAndroid: Hn(zn, t),
          isOSX: Hn("OSX", t),
          isLinux: Hn("Linux", t),
          isSolaris: Hn(Un, t),
          isFreeBSD: Hn(Vn, t)
        };
      },
          qn = {
        unknown: function unknown() {
          return jn({
            current: undefined,
            version: On.unknown()
          });
        },
        nu: jn,
        windows: q(Fn),
        ios: q("iOS"),
        android: q(zn),
        linux: q("Linux"),
        osx: q("OSX"),
        solaris: q(Un),
        freebsd: q(Vn)
      },
          $n = function $n(e, t) {
        var n = String(t).toLowerCase();
        return Y(e, function (e) {
          return e.search(n);
        });
      },
          Wn = function Wn(e, n) {
        return $n(e, n).map(function (e) {
          var t = On.detect(e.versionRegexes, n);
          return {
            current: e.name,
            version: t
          };
        });
      },
          Kn = function Kn(e, n) {
        return $n(e, n).map(function (e) {
          var t = On.detect(e.versionRegexes, n);
          return {
            current: e.name,
            version: t
          };
        });
      },
          Xn = function Xn(e, t) {
        return -1 !== e.indexOf(t);
      },
          Yn = function Yn(e) {
        return e.replace(/^\s+|\s+$/g, "");
      },
          Gn = function Gn(e) {
        return e.replace(/\s+$/g, "");
      },
          Jn = /.*?version\/\ ?([0-9]+)\.([0-9]+).*/,
          Qn = function Qn(t) {
        return function (e) {
          return Xn(e, t);
        };
      },
          Zn = [{
        name: "Edge",
        versionRegexes: [/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],
        search: function search(e) {
          return Xn(e, "edge/") && Xn(e, "chrome") && Xn(e, "safari") && Xn(e, "applewebkit");
        }
      }, {
        name: "Chrome",
        versionRegexes: [/.*?chrome\/([0-9]+)\.([0-9]+).*/, Jn],
        search: function search(e) {
          return Xn(e, "chrome") && !Xn(e, "chromeframe");
        }
      }, {
        name: "IE",
        versionRegexes: [/.*?msie\ ?([0-9]+)\.([0-9]+).*/, /.*?rv:([0-9]+)\.([0-9]+).*/],
        search: function search(e) {
          return Xn(e, "msie") || Xn(e, "trident");
        }
      }, {
        name: "Opera",
        versionRegexes: [Jn, /.*?opera\/([0-9]+)\.([0-9]+).*/],
        search: Qn("opera")
      }, {
        name: "Firefox",
        versionRegexes: [/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],
        search: Qn("firefox")
      }, {
        name: "Safari",
        versionRegexes: [Jn, /.*?cpu os ([0-9]+)_([0-9]+).*/],
        search: function search(e) {
          return (Xn(e, "safari") || Xn(e, "mobile/")) && Xn(e, "applewebkit");
        }
      }],
          er = [{
        name: "Windows",
        search: Qn("win"),
        versionRegexes: [/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]
      }, {
        name: "iOS",
        search: function search(e) {
          return Xn(e, "iphone") || Xn(e, "ipad");
        },
        versionRegexes: [/.*?version\/\ ?([0-9]+)\.([0-9]+).*/, /.*cpu os ([0-9]+)_([0-9]+).*/, /.*cpu iphone os ([0-9]+)_([0-9]+).*/]
      }, {
        name: "Android",
        search: Qn("android"),
        versionRegexes: [/.*?android\ ?([0-9]+)\.([0-9]+).*/]
      }, {
        name: "OSX",
        search: Qn("os x"),
        versionRegexes: [/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]
      }, {
        name: "Linux",
        search: Qn("linux"),
        versionRegexes: []
      }, {
        name: "Solaris",
        search: Qn("sunos"),
        versionRegexes: []
      }, {
        name: "FreeBSD",
        search: Qn("freebsd"),
        versionRegexes: []
      }],
          tr = {
        browsers: q(Zn),
        oses: q(er)
      },
          nr = function nr(e) {
        var t,
            n,
            r,
            o,
            i,
            a,
            u,
            s,
            c,
            l,
            f,
            d = tr.browsers(),
            m = tr.oses(),
            g = Wn(d, e).fold(Mn.unknown, Mn.nu),
            p = Kn(m, e).fold(qn.unknown, qn.nu);
        return {
          browser: g,
          os: p,
          deviceType: (n = g, r = e, o = (t = p).isiOS() && !0 === /ipad/i.test(r), i = t.isiOS() && !o, a = t.isAndroid() && 3 === t.version.major, u = t.isAndroid() && 4 === t.version.major, s = o || a || u && !0 === /mobile/i.test(r), c = t.isiOS() || t.isAndroid(), l = c && !s, f = n.isSafari() && t.isiOS() && !1 === /safari/i.test(r), {
            isiPad: q(o),
            isiPhone: q(i),
            isTablet: q(s),
            isPhone: q(l),
            isTouch: q(c),
            isAndroid: t.isAndroid,
            isiOS: t.isiOS,
            isWebView: q(f)
          })
        };
      },
          rr = {
        detect: (Tn = function Tn() {
          var e = H.navigator.userAgent;
          return nr(e);
        }, Rn = !1, function () {
          for (var e = [], t = 0; t < arguments.length; t++) {
            e[t] = arguments[t];
          }

          return Rn || (Rn = !0, An = Tn.apply(null, e)), An;
        })
      },
          or = function or(e) {
        if (null === e || e === undefined) throw new Error("Node cannot be null or undefined");
        return {
          dom: q(e)
        };
      },
          ir = {
        fromHtml: function fromHtml(e, t) {
          var n = (t || H.document).createElement("div");
          if (n.innerHTML = e, !n.hasChildNodes() || 1 < n.childNodes.length) throw H.console.error("HTML does not have a single root node", e), new Error("HTML must have a single root node");
          return or(n.childNodes[0]);
        },
        fromTag: function fromTag(e, t) {
          var n = (t || H.document).createElement(e);
          return or(n);
        },
        fromText: function fromText(e, t) {
          var n = (t || H.document).createTextNode(e);
          return or(n);
        },
        fromDom: or,
        fromPoint: function fromPoint(e, t, n) {
          var r = e.dom();
          return A.from(r.elementFromPoint(t, n)).map(or);
        }
      },
          ar = (H.Node.ATTRIBUTE_NODE, H.Node.CDATA_SECTION_NODE, H.Node.COMMENT_NODE, H.Node.DOCUMENT_NODE),
          ur = (H.Node.DOCUMENT_TYPE_NODE, H.Node.DOCUMENT_FRAGMENT_NODE, H.Node.ELEMENT_NODE),
          sr = H.Node.TEXT_NODE,
          cr = (H.Node.PROCESSING_INSTRUCTION_NODE, H.Node.ENTITY_REFERENCE_NODE, H.Node.ENTITY_NODE, H.Node.NOTATION_NODE, function (e) {
        return e.dom().nodeName.toLowerCase();
      }),
          lr = function lr(t) {
        return function (e) {
          return e.dom().nodeType === t;
        };
      },
          fr = lr(ur),
          dr = lr(sr),
          mr = Object.keys,
          gr = Object.hasOwnProperty,
          pr = function pr(e, t) {
        for (var n = mr(e), r = 0, o = n.length; r < o; r++) {
          var i = n[r];
          t(e[i], i, e);
        }
      },
          hr = function hr(r, o) {
        var i = {};
        return pr(r, function (e, t) {
          var n = o(e, t, r);
          i[n.k] = n.v;
        }), i;
      },
          vr = function vr(e) {
        return e.style !== undefined && P(e.style.getPropertyValue);
      },
          br = function br(e, t, n) {
        if (!(R(n) || O(n) || I(n))) throw H.console.error("Invalid call to Attr.set. Key ", t, ":: Value ", n, ":: Element ", e), new Error("Attribute value was not simple");
        e.setAttribute(t, n + "");
      },
          yr = function yr(e, t, n) {
        br(e.dom(), t, n);
      },
          Cr = function Cr(e, t) {
        var n = e.dom();
        pr(t, function (e, t) {
          br(n, t, e);
        });
      },
          xr = function xr(e, t) {
        var n = e.dom().getAttribute(t);
        return null === n ? undefined : n;
      },
          wr = function wr(e, t) {
        e.dom().removeAttribute(t);
      },
          Nr = function Nr(e, t) {
        var n = e.dom();
        pr(t, function (e, t) {
          !function (e, t, n) {
            if (!R(n)) throw H.console.error("Invalid call to CSS.set. Property ", t, ":: Value ", n, ":: Element ", e), new Error("CSS value must be a string: " + n);
            vr(e) && e.style.setProperty(t, n);
          }(n, t, e);
        });
      },
          Er = function Er(e, t) {
        var n,
            r,
            o = e.dom(),
            i = H.window.getComputedStyle(o).getPropertyValue(t),
            a = "" !== i || (r = dr(n = e) ? n.dom().parentNode : n.dom()) !== undefined && null !== r && r.ownerDocument.body.contains(r) ? i : Sr(o, t);
        return null === a ? undefined : a;
      },
          Sr = function Sr(e, t) {
        return vr(e) ? e.style.getPropertyValue(t) : "";
      },
          kr = function kr() {
        for (var t = [], e = 0; e < arguments.length; e++) {
          t[e] = arguments[e];
        }

        return function () {
          for (var n = [], e = 0; e < arguments.length; e++) {
            n[e] = arguments[e];
          }

          if (t.length !== n.length) throw new Error('Wrong number of arguments to struct. Expected "[' + t.length + ']", got ' + n.length + " arguments");
          var r = {};
          return U(t, function (e, t) {
            r[e] = q(n[t]);
          }), r;
        };
      },
          Tr = function Tr(e, t) {
        for (var n = [], r = function r(e) {
          return n.push(e), t(e);
        }, o = t(e); (o = o.bind(r)).isSome();) {
          ;
        }

        return n;
      },
          Ar = function Ar() {
        return ue.getOrDie("Node");
      },
          Rr = function Rr(e, t, n) {
        return 0 != (e.compareDocumentPosition(t) & n);
      },
          _r = function _r(e, t) {
        return Rr(e, t, Ar().DOCUMENT_POSITION_CONTAINED_BY);
      },
          Dr = ur,
          Br = ar,
          Or = function Or(e, t) {
        var n = e.dom();
        if (n.nodeType !== Dr) return !1;
        if (n.matches !== undefined) return n.matches(t);
        if (n.msMatchesSelector !== undefined) return n.msMatchesSelector(t);
        if (n.webkitMatchesSelector !== undefined) return n.webkitMatchesSelector(t);
        if (n.mozMatchesSelector !== undefined) return n.mozMatchesSelector(t);
        throw new Error("Browser lacks native selectors");
      },
          Pr = function Pr(e) {
        return e.nodeType !== Dr && e.nodeType !== Br || 0 === e.childElementCount;
      },
          Ir = function Ir(e, t) {
        return e.dom() === t.dom();
      },
          Lr = rr.detect().browser.isIE() ? function (e, t) {
        return _r(e.dom(), t.dom());
      } : function (e, t) {
        var n = e.dom(),
            r = t.dom();
        return n !== r && n.contains(r);
      },
          Mr = function Mr(e) {
        return ir.fromDom(e.dom().ownerDocument);
      },
          Fr = function Fr(e) {
        var t = e.dom().ownerDocument.defaultView;
        return ir.fromDom(t);
      },
          zr = function zr(e) {
        var t = e.dom();
        return A.from(t.parentNode).map(ir.fromDom);
      },
          Ur = function Ur(e) {
        var t = e.dom();
        return A.from(t.previousSibling).map(ir.fromDom);
      },
          Vr = function Vr(e) {
        var t = e.dom();
        return A.from(t.nextSibling).map(ir.fromDom);
      },
          Hr = function Hr(e) {
        return t = Tr(e, Ur), (n = L.call(t, 0)).reverse(), n;
        var t, n;
      },
          jr = function jr(e) {
        return Tr(e, Vr);
      },
          qr = function qr(e) {
        var t = e.dom();
        return W(t.childNodes, ir.fromDom);
      },
          $r = function $r(e, t) {
        var n = e.dom().childNodes;
        return A.from(n[t]).map(ir.fromDom);
      },
          Wr = function Wr(e) {
        return $r(e, 0);
      },
          Kr = function Kr(e) {
        return $r(e, e.dom().childNodes.length - 1);
      },
          Xr = (kr("element", "offset"), rr.detect().browser),
          Yr = function Yr(e) {
        return Y(e, fr);
      },
          Gr = {
        getPos: function getPos(e, t, n) {
          var r,
              o,
              i,
              a = 0,
              u = 0,
              s = e.ownerDocument;

          if (n = n || e, t) {
            if (n === e && t.getBoundingClientRect && "static" === Er(ir.fromDom(e), "position")) return {
              x: a = (o = t.getBoundingClientRect()).left + (s.documentElement.scrollLeft || e.scrollLeft) - s.documentElement.clientLeft,
              y: u = o.top + (s.documentElement.scrollTop || e.scrollTop) - s.documentElement.clientTop
            };

            for (r = t; r && r !== n && r.nodeType;) {
              a += r.offsetLeft || 0, u += r.offsetTop || 0, r = r.offsetParent;
            }

            for (r = t.parentNode; r && r !== n && r.nodeType;) {
              a -= r.scrollLeft || 0, u -= r.scrollTop || 0, r = r.parentNode;
            }

            u += (i = ir.fromDom(t), Xr.isFirefox() && "table" === cr(i) ? Yr(qr(i)).filter(function (e) {
              return "caption" === cr(e);
            }).bind(function (o) {
              return Yr(jr(o)).map(function (e) {
                var t = e.dom().offsetTop,
                    n = o.dom().offsetTop,
                    r = o.dom().offsetHeight;
                return t <= n ? -r : 0;
              });
            }).getOr(0) : 0);
          }

          return {
            x: a,
            y: u
          };
        }
      },
          Jr = function Jr(e) {
        var n = A.none(),
            t = [],
            r = function r(e) {
          o() ? a(e) : t.push(e);
        },
            o = function o() {
          return n.isSome();
        },
            i = function i(e) {
          U(e, a);
        },
            a = function a(t) {
          n.each(function (e) {
            H.setTimeout(function () {
              t(e);
            }, 0);
          });
        };

        return e(function (e) {
          n = A.some(e), i(t), t = [];
        }), {
          get: r,
          map: function map(n) {
            return Jr(function (t) {
              r(function (e) {
                t(n(e));
              });
            });
          },
          isReady: o
        };
      },
          Qr = {
        nu: Jr,
        pure: function pure(t) {
          return Jr(function (e) {
            e(t);
          });
        }
      },
          Zr = function Zr(t) {
        var e = function e(_e3) {
          var r;
          t((r = _e3, function () {
            for (var e = [], t = 0; t < arguments.length; t++) {
              e[t] = arguments[t];
            }

            var n = this;
            H.setTimeout(function () {
              r.apply(n, e);
            }, 0);
          }));
        },
            n = function n() {
          return Qr.nu(e);
        };

        return {
          map: function map(r) {
            return Zr(function (n) {
              e(function (e) {
                var t = r(e);
                n(t);
              });
            });
          },
          bind: function bind(n) {
            return Zr(function (t) {
              e(function (e) {
                n(e).get(t);
              });
            });
          },
          anonBind: function anonBind(n) {
            return Zr(function (t) {
              e(function (e) {
                n.get(t);
              });
            });
          },
          toLazy: n,
          toCached: function toCached() {
            var t = null;
            return Zr(function (e) {
              null === t && (t = n()), t.get(e);
            });
          },
          get: e
        };
      },
          eo = {
        nu: Zr,
        pure: function pure(t) {
          return Zr(function (e) {
            e(t);
          });
        }
      },
          to = function to(a, e) {
        return e(function (r) {
          var o = [],
              i = 0;
          0 === a.length ? r([]) : U(a, function (e, t) {
            var n;
            e.get((n = t, function (e) {
              o[n] = e, ++i >= a.length && r(o);
            }));
          });
        });
      },
          no = function no(e) {
        return to(e, eo.nu);
      },
          ro = function ro(n) {
        return {
          is: function is(e) {
            return n === e;
          },
          isValue: x,
          isError: C,
          getOr: q(n),
          getOrThunk: q(n),
          getOrDie: q(n),
          or: function or(e) {
            return ro(n);
          },
          orThunk: function orThunk(e) {
            return ro(n);
          },
          fold: function fold(e, t) {
            return t(n);
          },
          map: function map(e) {
            return ro(e(n));
          },
          mapError: function mapError(e) {
            return ro(n);
          },
          each: function each(e) {
            e(n);
          },
          bind: function bind(e) {
            return e(n);
          },
          exists: function exists(e) {
            return e(n);
          },
          forall: function forall(e) {
            return e(n);
          },
          toOption: function toOption() {
            return A.some(n);
          }
        };
      },
          oo = function oo(n) {
        return {
          is: C,
          isValue: C,
          isError: x,
          getOr: $,
          getOrThunk: function getOrThunk(e) {
            return e();
          },
          getOrDie: function getOrDie() {
            return e = String(n), function () {
              throw new Error(e);
            }();
            var e;
          },
          or: function or(e) {
            return e;
          },
          orThunk: function orThunk(e) {
            return e();
          },
          fold: function fold(e, t) {
            return e(n);
          },
          map: function map(e) {
            return oo(n);
          },
          mapError: function mapError(e) {
            return oo(e(n));
          },
          each: o,
          bind: function bind(e) {
            return oo(n);
          },
          exists: C,
          forall: x,
          toOption: A.none
        };
      },
          io = {
        value: ro,
        error: oo,
        fromOption: function fromOption(e, t) {
          return e.fold(function () {
            return oo(t);
          }, ro);
        }
      };

      function ao(e, u) {
        var t = e,
            n = function n(e, t, _n2, r) {
          var o, i;

          if (e) {
            if (!r && e[t]) return e[t];

            if (e !== u) {
              if (o = e[_n2]) return o;

              for (i = e.parentNode; i && i !== u; i = i.parentNode) {
                if (o = i[_n2]) return o;
              }
            }
          }
        };

        this.current = function () {
          return t;
        }, this.next = function (e) {
          return t = n(t, "firstChild", "nextSibling", e);
        }, this.prev = function (e) {
          return t = n(t, "lastChild", "previousSibling", e);
        }, this.prev2 = function (e) {
          return t = function (e, t, n, r) {
            var o, i, a;

            if (e) {
              if (o = e[n], u && o === u) return;

              if (o) {
                if (!r) for (a = o[t]; a; a = a[t]) {
                  if (!a[t]) return a;
                }
                return o;
              }

              if ((i = e.parentNode) && i !== u) return i;
            }
          }(t, "lastChild", "previousSibling", e);
        };
      }

      var uo,
          so,
          co,
          lo = function lo(t) {
        var n;
        return function (e) {
          return (n = n || function (e, t) {
            for (var n = {}, r = 0, o = e.length; r < o; r++) {
              var i = e[r];
              n[String(i)] = t(i, r);
            }

            return n;
          }(t, q(!0))).hasOwnProperty(cr(e));
        };
      },
          fo = lo(["h1", "h2", "h3", "h4", "h5", "h6"]),
          mo = lo(["article", "aside", "details", "div", "dt", "figcaption", "footer", "form", "fieldset", "header", "hgroup", "html", "main", "nav", "section", "summary", "body", "p", "dl", "multicol", "dd", "figure", "address", "center", "blockquote", "h1", "h2", "h3", "h4", "h5", "h6", "listing", "xmp", "pre", "plaintext", "menu", "dir", "ul", "ol", "li", "hr", "table", "tbody", "thead", "tfoot", "th", "tr", "td", "caption"]),
          go = function go(e) {
        return fr(e) && !mo(e);
      },
          po = function po(e) {
        return fr(e) && "br" === cr(e);
      },
          ho = lo(["h1", "h2", "h3", "h4", "h5", "h6", "p", "div", "address", "pre", "form", "blockquote", "center", "dir", "fieldset", "header", "footer", "article", "section", "hgroup", "aside", "nav", "figure"]),
          vo = lo(["ul", "ol", "dl"]),
          bo = lo(["li", "dd", "dt"]),
          yo = lo(["area", "base", "basefont", "br", "col", "frame", "hr", "img", "input", "isindex", "link", "meta", "param", "embed", "source", "wbr", "track"]),
          Co = lo(["thead", "tbody", "tfoot"]),
          xo = lo(["td", "th"]),
          wo = lo(["pre", "script", "textarea", "style"]),
          No = function No(t) {
        return function (e) {
          return !!e && e.nodeType === t;
        };
      },
          Eo = No(1),
          So = function So(e) {
        var r = e.toLowerCase().split(" ");
        return function (e) {
          var t, n;
          if (e && e.nodeType) for (n = e.nodeName.toLowerCase(), t = 0; t < r.length; t++) {
            if (n === r[t]) return !0;
          }
          return !1;
        };
      },
          ko = function ko(t) {
        return function (e) {
          if (Eo(e)) {
            if (e.contentEditable === t) return !0;
            if (e.getAttribute("data-mce-contenteditable") === t) return !0;
          }

          return !1;
        };
      },
          To = No(3),
          Ao = No(8),
          Ro = No(9),
          _o = No(11),
          Do = So("br"),
          Bo = ko("true"),
          Oo = ko("false"),
          Po = {
        isText: To,
        isElement: Eo,
        isComment: Ao,
        isDocument: Ro,
        isDocumentFragment: _o,
        isBr: Do,
        isContentEditableTrue: Bo,
        isContentEditableFalse: Oo,
        isRestrictedNode: function isRestrictedNode(e) {
          return !!e && !Object.getPrototypeOf(e);
        },
        matchNodeNames: So,
        hasPropValue: function hasPropValue(t, n) {
          return function (e) {
            return Eo(e) && e[t] === n;
          };
        },
        hasAttribute: function hasAttribute(t, e) {
          return function (e) {
            return Eo(e) && e.hasAttribute(t);
          };
        },
        hasAttributeValue: function hasAttributeValue(t, n) {
          return function (e) {
            return Eo(e) && e.getAttribute(t) === n;
          };
        },
        matchStyleValues: function matchStyleValues(r, e) {
          var o = e.toLowerCase().split(" ");
          return function (e) {
            var t;
            if (Eo(e)) for (t = 0; t < o.length; t++) {
              var n = e.ownerDocument.defaultView.getComputedStyle(e, null);
              if ((n ? n.getPropertyValue(r) : null) === o[t]) return !0;
            }
            return !1;
          };
        },
        isBogus: function isBogus(e) {
          return Eo(e) && e.hasAttribute("data-mce-bogus");
        },
        isBogusAll: function isBogusAll(e) {
          return Eo(e) && "all" === e.getAttribute("data-mce-bogus");
        },
        isTable: function isTable(e) {
          return Eo(e) && "TABLE" === e.tagName;
        }
      },
          Io = function Io(e) {
        return e && "SPAN" === e.tagName && "bookmark" === e.getAttribute("data-mce-type");
      },
          Lo = function Lo(e, t) {
        var n,
            r = t.childNodes;

        if (!Po.isElement(t) || !Io(t)) {
          for (n = r.length - 1; 0 <= n; n--) {
            Lo(e, r[n]);
          }

          if (!1 === Po.isDocument(t)) {
            if (Po.isText(t) && 0 < t.nodeValue.length) {
              var o = Jt.trim(t.nodeValue).length;
              if (e.isBlock(t.parentNode) || 0 < o) return;
              if (0 === o && (a = (i = t).previousSibling && "SPAN" === i.previousSibling.nodeName, u = i.nextSibling && "SPAN" === i.nextSibling.nodeName, a && u)) return;
            } else if (Po.isElement(t) && (1 === (r = t.childNodes).length && Io(r[0]) && t.parentNode.insertBefore(r[0], t), r.length || yo(ir.fromDom(t)))) return;

            e.remove(t);
          }

          var i, a, u;
          return t;
        }
      },
          Mo = {
        trimNode: Lo
      },
          Fo = Jt.makeMap,
          zo = /[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,
          Uo = /[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,
          Vo = /[<>&\"\']/g,
          Ho = /&#([a-z0-9]+);?|&([a-z0-9]+);/gi,
          jo = {
        128: "\u20AC",
        130: "\u201A",
        131: "\u0192",
        132: "\u201E",
        133: "\u2026",
        134: "\u2020",
        135: "\u2021",
        136: "\u02C6",
        137: "\u2030",
        138: "\u0160",
        139: "\u2039",
        140: "\u0152",
        142: "\u017D",
        145: "\u2018",
        146: "\u2019",
        147: "\u201C",
        148: "\u201D",
        149: "\u2022",
        150: "\u2013",
        151: "\u2014",
        152: "\u02DC",
        153: "\u2122",
        154: "\u0161",
        155: "\u203A",
        156: "\u0153",
        158: "\u017E",
        159: "\u0178"
      };

      so = {
        '"': "&quot;",
        "'": "&#39;",
        "<": "&lt;",
        ">": "&gt;",
        "&": "&amp;",
        "`": "&#96;"
      }, co = {
        "&lt;": "<",
        "&gt;": ">",
        "&amp;": "&",
        "&quot;": '"',
        "&apos;": "'"
      };

      var qo = function qo(e, t) {
        var n,
            r,
            o,
            i = {};

        if (e) {
          for (e = e.split(","), t = t || 10, n = 0; n < e.length; n += 2) {
            r = String.fromCharCode(parseInt(e[n], t)), so[r] || (o = "&" + e[n + 1] + ";", i[r] = o, i[o] = r);
          }

          return i;
        }
      };

      uo = qo("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro", 32);

      var $o = function $o(e, t) {
        return e.replace(t ? zo : Uo, function (e) {
          return so[e] || e;
        });
      },
          Wo = function Wo(e, t) {
        return e.replace(t ? zo : Uo, function (e) {
          return 1 < e.length ? "&#" + (1024 * (e.charCodeAt(0) - 55296) + (e.charCodeAt(1) - 56320) + 65536) + ";" : so[e] || "&#" + e.charCodeAt(0) + ";";
        });
      },
          Ko = function Ko(e, t, n) {
        return n = n || uo, e.replace(t ? zo : Uo, function (e) {
          return so[e] || n[e] || e;
        });
      },
          Xo = {
        encodeRaw: $o,
        encodeAllRaw: function encodeAllRaw(e) {
          return ("" + e).replace(Vo, function (e) {
            return so[e] || e;
          });
        },
        encodeNumeric: Wo,
        encodeNamed: Ko,
        getEncodeFunc: function getEncodeFunc(e, t) {
          var n = qo(t) || uo,
              r = Fo(e.replace(/\+/g, ","));
          return r.named && r.numeric ? function (e, t) {
            return e.replace(t ? zo : Uo, function (e) {
              return so[e] !== undefined ? so[e] : n[e] !== undefined ? n[e] : 1 < e.length ? "&#" + (1024 * (e.charCodeAt(0) - 55296) + (e.charCodeAt(1) - 56320) + 65536) + ";" : "&#" + e.charCodeAt(0) + ";";
            });
          } : r.named ? t ? function (e, t) {
            return Ko(e, t, n);
          } : Ko : r.numeric ? Wo : $o;
        },
        decode: function decode(e) {
          return e.replace(Ho, function (e, t) {
            return t ? 65535 < (t = "x" === t.charAt(0).toLowerCase() ? parseInt(t.substr(1), 16) : parseInt(t, 10)) ? (t -= 65536, String.fromCharCode(55296 + (t >> 10), 56320 + (1023 & t))) : jo[t] || String.fromCharCode(t) : co[e] || uo[e] || (n = e, (r = ir.fromTag("div").dom()).innerHTML = n, r.textContent || r.innerText || n);
            var n, r;
          });
        }
      },
          Yo = {},
          Go = {},
          Jo = Jt.makeMap,
          Qo = Jt.each,
          Zo = Jt.extend,
          ei = Jt.explode,
          ti = Jt.inArray,
          ni = function ni(e, t) {
        return (e = Jt.trim(e)) ? e.split(t || " ") : [];
      },
          ri = function ri(e) {
        var u,
            t,
            n,
            r,
            o,
            i,
            s = {},
            a = function a(e, t, n) {
          var r,
              o,
              i,
              a = function a(e, t) {
            var n,
                r,
                o = {};

            for (n = 0, r = e.length; n < r; n++) {
              o[e[n]] = t || {};
            }

            return o;
          };

          for (t = t || "", "string" == typeof (n = n || []) && (n = ni(n)), r = (e = ni(e)).length; r--;) {
            i = {
              attributes: a(o = ni([u, t].join(" "))),
              attributesOrder: o,
              children: a(n, Go)
            }, s[e[r]] = i;
          }
        },
            c = function c(e, t) {
          var n, r, o, i;

          for (n = (e = ni(e)).length, t = ni(t); n--;) {
            for (r = s[e[n]], o = 0, i = t.length; o < i; o++) {
              r.attributes[t[o]] = {}, r.attributesOrder.push(t[o]);
            }
          }
        };

        return Yo[e] ? Yo[e] : (u = "id accesskey class dir lang style tabindex title role", t = "address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul", n = "a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment", "html4" !== e && (u += " contenteditable contextmenu draggable dropzone hidden spellcheck translate", t += " article aside details dialog figure main header footer hgroup section nav", n += " audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"), "html5-strict" !== e && (u += " xml:lang", n = [n, i = "acronym applet basefont big font strike tt"].join(" "), Qo(ni(i), function (e) {
          a(e, "", n);
        }), t = [t, o = "center dir isindex noframes"].join(" "), r = [t, n].join(" "), Qo(ni(o), function (e) {
          a(e, "", r);
        })), r = r || [t, n].join(" "), a("html", "manifest", "head body"), a("head", "", "base command link meta noscript script style title"), a("title hr noscript br"), a("base", "href target"), a("link", "href rel media hreflang type sizes hreflang"), a("meta", "name http-equiv content charset"), a("style", "media type scoped"), a("script", "src async defer type charset"), a("body", "onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload", r), a("address dt dd div caption", "", r), a("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn", "", n), a("blockquote", "cite", r), a("ol", "reversed start type", "li"), a("ul", "", "li"), a("li", "value", r), a("dl", "", "dt dd"), a("a", "href target rel media hreflang type", n), a("q", "cite", n), a("ins del", "cite datetime", r), a("img", "src sizes srcset alt usemap ismap width height"), a("iframe", "src name width height", r), a("embed", "src type width height"), a("object", "data type typemustmatch name usemap form width height", [r, "param"].join(" ")), a("param", "name value"), a("map", "name", [r, "area"].join(" ")), a("area", "alt coords shape href target rel media hreflang type"), a("table", "border", "caption colgroup thead tfoot tbody tr" + ("html4" === e ? " col" : "")), a("colgroup", "span", "col"), a("col", "span"), a("tbody thead tfoot", "", "tr"), a("tr", "", "td th"), a("td", "colspan rowspan headers", r), a("th", "colspan rowspan headers scope abbr", r), a("form", "accept-charset action autocomplete enctype method name novalidate target", r), a("fieldset", "disabled form name", [r, "legend"].join(" ")), a("label", "form for", n), a("input", "accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"), a("button", "disabled form formaction formenctype formmethod formnovalidate formtarget name type value", "html4" === e ? r : n), a("select", "disabled form multiple name required size", "option optgroup"), a("optgroup", "disabled label", "option"), a("option", "disabled label selected value"), a("textarea", "cols dirname disabled form maxlength name readonly required rows wrap"), a("menu", "type label", [r, "li"].join(" ")), a("noscript", "", r), "html4" !== e && (a("wbr"), a("ruby", "", [n, "rt rp"].join(" ")), a("figcaption", "", r), a("mark rt rp summary bdi", "", n), a("canvas", "width height", r), a("video", "src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered", [r, "track source"].join(" ")), a("audio", "src crossorigin preload autoplay mediagroup loop muted controls buffered volume", [r, "track source"].join(" ")), a("picture", "", "img source"), a("source", "src srcset type media sizes"), a("track", "kind src srclang label default"), a("datalist", "", [n, "option"].join(" ")), a("article section nav aside main header footer", "", r), a("hgroup", "", "h1 h2 h3 h4 h5 h6"), a("figure", "", [r, "figcaption"].join(" ")), a("time", "datetime", n), a("dialog", "open", r), a("command", "type label icon disabled checked radiogroup command"), a("output", "for form name", n), a("progress", "value max", n), a("meter", "value min max low high optimum", n), a("details", "open", [r, "summary"].join(" ")), a("keygen", "autofocus challenge disabled form keytype name")), "html5-strict" !== e && (c("script", "language xml:space"), c("style", "xml:space"), c("object", "declare classid code codebase codetype archive standby align border hspace vspace"), c("embed", "align name hspace vspace"), c("param", "valuetype type"), c("a", "charset name rev shape coords"), c("br", "clear"), c("applet", "codebase archive code object alt name width height align hspace vspace"), c("img", "name longdesc align border hspace vspace"), c("iframe", "longdesc frameborder marginwidth marginheight scrolling align"), c("font basefont", "size color face"), c("input", "usemap align"), c("select", "onchange"), c("textarea"), c("h1 h2 h3 h4 h5 h6 div p legend caption", "align"), c("ul", "type compact"), c("li", "type"), c("ol dl menu dir", "compact"), c("pre", "width xml:space"), c("hr", "align noshade size width"), c("isindex", "prompt"), c("table", "summary width frame rules cellspacing cellpadding align bgcolor"), c("col", "width align char charoff valign"), c("colgroup", "width align char charoff valign"), c("thead", "align char charoff valign"), c("tr", "align char charoff valign bgcolor"), c("th", "axis align char charoff valign nowrap bgcolor width height"), c("form", "accept"), c("td", "abbr axis scope align char charoff valign nowrap bgcolor width height"), c("tfoot", "align char charoff valign"), c("tbody", "align char charoff valign"), c("area", "nohref"), c("body", "background bgcolor text link vlink alink")), "html4" !== e && (c("input button select textarea", "autofocus"), c("input textarea", "placeholder"), c("a", "download"), c("link script img", "crossorigin"), c("iframe", "sandbox seamless allowfullscreen")), Qo(ni("a form meter progress dfn"), function (e) {
          s[e] && delete s[e].children[e];
        }), delete s.caption.children.table, delete s.script, Yo[e] = s);
      },
          oi = function oi(e, n) {
        var r;
        return e && (r = {}, "string" == typeof e && (e = {
          "*": e
        }), Qo(e, function (e, t) {
          r[t] = r[t.toUpperCase()] = "map" === n ? Jo(e, /[, ]/) : ei(e, /[, ]/);
        })), r;
      };

      function ii(i) {
        var e,
            t,
            n,
            r,
            o,
            a,
            u,
            s,
            c,
            l,
            f,
            d,
            m,
            N = {},
            g = {},
            E = [],
            p = {},
            h = {},
            v = function v(e, t, n) {
          var r = i[e];
          return r ? r = Jo(r, /[, ]/, Jo(r.toUpperCase(), /[, ]/)) : (r = Yo[e]) || (r = Jo(t, " ", Jo(t.toUpperCase(), " ")), r = Zo(r, n), Yo[e] = r), r;
        };

        n = ri((i = i || {}).schema), !1 === i.verify_html && (i.valid_elements = "*[*]"), e = oi(i.valid_styles), t = oi(i.invalid_styles, "map"), s = oi(i.valid_classes, "map"), r = v("whitespace_elements", "pre script noscript style textarea video audio iframe object code"), o = v("self_closing_elements", "colgroup dd dt li option p td tfoot th thead tr"), a = v("short_ended_elements", "area base basefont br col frame hr img input isindex link meta param embed source wbr track"), u = v("boolean_attributes", "checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"), l = v("non_empty_elements", "td th iframe video audio object script pre code", a), f = v("move_caret_before_on_enter_elements", "table", l), d = v("text_block_elements", "h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"), c = v("block_elements", "hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary", d), m = v("text_inline_elements", "span strong b em i font strike u var cite dfn code mark q sup sub samp"), Qo((i.special || "script noscript noframes noembed title style textarea xmp").split(" "), function (e) {
          h[e] = new RegExp("</" + e + "[^>]*>", "gi");
        });

        var S = function S(e) {
          return new RegExp("^" + e.replace(/([?+*])/g, ".$1") + "$");
        },
            b = function b(e) {
          var t,
              n,
              r,
              o,
              i,
              a,
              u,
              s,
              c,
              l,
              f,
              d,
              m,
              g,
              p,
              h,
              v,
              b,
              y,
              C = /^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,
              x = /^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,
              w = /[*?+]/;
          if (e) for (e = ni(e, ","), N["@"] && (h = N["@"].attributes, v = N["@"].attributesOrder), t = 0, n = e.length; t < n; t++) {
            if (i = C.exec(e[t])) {
              if (g = i[1], c = i[2], p = i[3], s = i[5], a = {
                attributes: d = {},
                attributesOrder: m = []
              }, "#" === g && (a.paddEmpty = !0), "-" === g && (a.removeEmpty = !0), "!" === i[4] && (a.removeEmptyAttrs = !0), h) {
                for (b in h) {
                  d[b] = h[b];
                }

                m.push.apply(m, v);
              }

              if (s) for (r = 0, o = (s = ni(s, "|")).length; r < o; r++) {
                if (i = x.exec(s[r])) {
                  if (u = {}, f = i[1], l = i[2].replace(/[\\:]:/g, ":"), g = i[3], y = i[4], "!" === f && (a.attributesRequired = a.attributesRequired || [], a.attributesRequired.push(l), u.required = !0), "-" === f) {
                    delete d[l], m.splice(ti(m, l), 1);
                    continue;
                  }

                  g && ("=" === g && (a.attributesDefault = a.attributesDefault || [], a.attributesDefault.push({
                    name: l,
                    value: y
                  }), u.defaultValue = y), ":" === g && (a.attributesForced = a.attributesForced || [], a.attributesForced.push({
                    name: l,
                    value: y
                  }), u.forcedValue = y), "<" === g && (u.validValues = Jo(y, "?"))), w.test(l) ? (a.attributePatterns = a.attributePatterns || [], u.pattern = S(l), a.attributePatterns.push(u)) : (d[l] || m.push(l), d[l] = u);
                }
              }
              h || "@" !== c || (h = d, v = m), p && (a.outputName = c, N[p] = a), w.test(c) ? (a.pattern = S(c), E.push(a)) : N[c] = a;
            }
          }
        },
            y = function y(e) {
          N = {}, E = [], b(e), Qo(n, function (e, t) {
            g[t] = e.children;
          });
        },
            C = function C(e) {
          var a = /^(~)?(.+)$/;
          e && (Yo.text_block_elements = Yo.block_elements = null, Qo(ni(e, ","), function (e) {
            var t = a.exec(e),
                n = "~" === t[1],
                r = n ? "span" : "div",
                o = t[2];

            if (g[o] = g[r], p[o] = r, n || (c[o.toUpperCase()] = {}, c[o] = {}), !N[o]) {
              var i = N[r];
              delete (i = Zo({}, i)).removeEmptyAttrs, delete i.removeEmpty, N[o] = i;
            }

            Qo(g, function (e, t) {
              e[r] && (g[t] = e = Zo({}, g[t]), e[o] = e[r]);
            });
          }));
        },
            x = function x(e) {
          var o = /^([+\-]?)(\w+)\[([^\]]+)\]$/;
          Yo[i.schema] = null, e && Qo(ni(e, ","), function (e) {
            var t,
                n,
                r = o.exec(e);
            r && (n = r[1], t = n ? g[r[2]] : g[r[2]] = {
              "#comment": {}
            }, t = g[r[2]], Qo(ni(r[3], "|"), function (e) {
              "-" === n ? delete t[e] : t[e] = {};
            }));
          });
        },
            w = function w(e) {
          var t,
              n = N[e];
          if (n) return n;

          for (t = E.length; t--;) {
            if ((n = E[t]).pattern.test(e)) return n;
          }
        };

        return i.valid_elements ? y(i.valid_elements) : (Qo(n, function (e, t) {
          N[t] = {
            attributes: e.attributes,
            attributesOrder: e.attributesOrder
          }, g[t] = e.children;
        }), "html5" !== i.schema && Qo(ni("strong/b em/i"), function (e) {
          e = ni(e, "/"), N[e[1]].outputName = e[0];
        }), Qo(ni("ol ul sub sup blockquote span font a table tbody tr strong em b i"), function (e) {
          N[e] && (N[e].removeEmpty = !0);
        }), Qo(ni("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"), function (e) {
          N[e].paddEmpty = !0;
        }), Qo(ni("span"), function (e) {
          N[e].removeEmptyAttrs = !0;
        })), C(i.custom_elements), x(i.valid_children), b(i.extended_valid_elements), x("+ol[ul|ol],+ul[ul|ol]"), Qo({
          dd: "dl",
          dt: "dl",
          li: "ul ol",
          td: "tr",
          th: "tr",
          tr: "tbody thead tfoot",
          tbody: "table",
          thead: "table",
          tfoot: "table",
          legend: "fieldset",
          area: "map",
          param: "video audio object"
        }, function (e, t) {
          N[t] && (N[t].parentsRequired = ni(e));
        }), i.invalid_elements && Qo(ei(i.invalid_elements), function (e) {
          N[e] && delete N[e];
        }), w("span") || b("span[!data-mce-type|*]"), {
          children: g,
          elements: N,
          getValidStyles: function getValidStyles() {
            return e;
          },
          getValidClasses: function getValidClasses() {
            return s;
          },
          getBlockElements: function getBlockElements() {
            return c;
          },
          getInvalidStyles: function getInvalidStyles() {
            return t;
          },
          getShortEndedElements: function getShortEndedElements() {
            return a;
          },
          getTextBlockElements: function getTextBlockElements() {
            return d;
          },
          getTextInlineElements: function getTextInlineElements() {
            return m;
          },
          getBoolAttrs: function getBoolAttrs() {
            return u;
          },
          getElementRule: w,
          getSelfClosingElements: function getSelfClosingElements() {
            return o;
          },
          getNonEmptyElements: function getNonEmptyElements() {
            return l;
          },
          getMoveCaretBeforeOnEnterElements: function getMoveCaretBeforeOnEnterElements() {
            return f;
          },
          getWhiteSpaceElements: function getWhiteSpaceElements() {
            return r;
          },
          getSpecialElements: function getSpecialElements() {
            return h;
          },
          isValidChild: function isValidChild(e, t) {
            var n = g[e.toLowerCase()];
            return !(!n || !n[t.toLowerCase()]);
          },
          isValid: function isValid(e, t) {
            var n,
                r,
                o = w(e);

            if (o) {
              if (!t) return !0;
              if (o.attributes[t]) return !0;
              if (n = o.attributePatterns) for (r = n.length; r--;) {
                if (n[r].pattern.test(e)) return !0;
              }
            }

            return !1;
          },
          getCustomElements: function getCustomElements() {
            return p;
          },
          addValidElements: b,
          setValidElements: y,
          addCustomElements: C,
          addValidChildren: x
        };
      }

      var ai = function ai(e, t, n, r) {
        var o = function o(e) {
          return 1 < (e = parseInt(e, 10).toString(16)).length ? e : "0" + e;
        };

        return "#" + o(t) + o(n) + o(r);
      };

      function ui(y, e) {
        var C,
            t,
            c,
            l,
            x = /rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,
            w = /(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,
            N = /\s*([^:]+):\s*([^;]+);?/g,
            E = /\s+$/,
            S = {},
            k = "\uFEFF";

        for (y = y || {}, e && (c = e.getValidStyles(), l = e.getInvalidStyles()), t = ("\\\" \\' \\; \\: ; : " + k).split(" "), C = 0; C < t.length; C++) {
          S[t[C]] = k + C, S[k + C] = t[C];
        }

        return {
          toHex: function toHex(e) {
            return e.replace(x, ai);
          },
          parse: function parse(e) {
            var t,
                n,
                r,
                o,
                i,
                a,
                u,
                s,
                c = {},
                l = y.url_converter,
                f = y.url_converter_scope || this,
                d = function d(e, t, n) {
              var r, o, i, a;

              if ((r = c[e + "-top" + t]) && (o = c[e + "-right" + t]) && (i = c[e + "-bottom" + t]) && (a = c[e + "-left" + t])) {
                var u = [r, o, i, a];

                for (C = u.length - 1; C-- && u[C] === u[C + 1];) {
                  ;
                }

                -1 < C && n || (c[e + t] = -1 === C ? u[0] : u.join(" "), delete c[e + "-top" + t], delete c[e + "-right" + t], delete c[e + "-bottom" + t], delete c[e + "-left" + t]);
              }
            },
                m = function m(e) {
              var t,
                  n = c[e];

              if (n) {
                for (t = (n = n.split(" ")).length; t--;) {
                  if (n[t] !== n[0]) return !1;
                }

                return c[e] = n[0], !0;
              }
            },
                g = function g(e) {
              return o = !0, S[e];
            },
                p = function p(e, t) {
              return o && (e = e.replace(/\uFEFF[0-9]/g, function (e) {
                return S[e];
              })), t || (e = e.replace(/\\([\'\";:])/g, "$1")), e;
            },
                h = function h(e) {
              return String.fromCharCode(parseInt(e.slice(1), 16));
            },
                v = function v(e) {
              return e.replace(/\\[0-9a-f]+/gi, h);
            },
                b = function b(e, t, n, r, o, i) {
              if (o = o || i) return "'" + (o = p(o)).replace(/\'/g, "\\'") + "'";

              if (t = p(t || n || r), !y.allow_script_urls) {
                var a = t.replace(/[\s\r\n]+/g, "");
                if (/(java|vb)script:/i.test(a)) return "";
                if (!y.allow_svg_data_urls && /^data:image\/svg/i.test(a)) return "";
              }

              return l && (t = l.call(f, t, "style")), "url('" + t.replace(/\'/g, "\\'") + "')";
            };

            if (e) {
              for (e = (e = e.replace(/[\u0000-\u001F]/g, "")).replace(/\\[\"\';:\uFEFF]/g, g).replace(/\"[^\"]+\"|\'[^\']+\'/g, function (e) {
                return e.replace(/[;:]/g, g);
              }); t = N.exec(e);) {
                if (N.lastIndex = t.index + t[0].length, n = t[1].replace(E, "").toLowerCase(), r = t[2].replace(E, ""), n && r) {
                  if (n = v(n), r = v(r), -1 !== n.indexOf(k) || -1 !== n.indexOf('"')) continue;
                  if (!y.allow_script_urls && ("behavior" === n || /expression\s*\(|\/\*|\*\//.test(r))) continue;
                  "font-weight" === n && "700" === r ? r = "bold" : "color" !== n && "background-color" !== n || (r = r.toLowerCase()), r = (r = r.replace(x, ai)).replace(w, b), c[n] = o ? p(r, !0) : r;
                }
              }

              d("border", "", !0), d("border", "-width"), d("border", "-color"), d("border", "-style"), d("padding", ""), d("margin", ""), i = "border", u = "border-style", s = "border-color", m(a = "border-width") && m(u) && m(s) && (c[i] = c[a] + " " + c[u] + " " + c[s], delete c[a], delete c[u], delete c[s]), "medium none" === c.border && delete c.border, "none" === c["border-image"] && delete c["border-image"];
            }

            return c;
          },
          serialize: function serialize(i, e) {
            var t,
                n,
                r,
                o,
                a,
                u = "",
                s = function s(e) {
              var t, n, r, o;
              if (t = c[e]) for (n = 0, r = t.length; n < r; n++) {
                e = t[n], (o = i[e]) && (u += (0 < u.length ? " " : "") + e + ": " + o + ";");
              }
            };

            if (e && c) s("*"), s(e);else for (t in i) {
              !(n = i[t]) || l && (r = t, o = e, a = void 0, (a = l["*"]) && a[r] || (a = l[o]) && a[r]) || (u += (0 < u.length ? " " : "") + t + ": " + n + ";");
            }
            return u;
          }
        };
      }

      var si,
          ci = Jt.each,
          li = Jt.grep,
          fi = ge.ie,
          di = /^([a-z0-9],?)+$/i,
          mi = /^[ \t\r\n]*$/,
          gi = function gi(n, r, o) {
        var e = {},
            i = r.keep_values,
            t = {
          set: function set(e, t, n) {
            r.url_converter && (t = r.url_converter.call(r.url_converter_scope || o(), t, n, e[0])), e.attr("data-mce-" + n, t).attr(n, t);
          },
          get: function get(e, t) {
            return e.attr("data-mce-" + t) || e.attr(t);
          }
        };
        return e = {
          style: {
            set: function set(e, t) {
              null === t || "object" != typeof t ? (i && e.attr("data-mce-style", t), e.attr("style", t)) : e.css(t);
            },
            get: function get(e) {
              var t = e.attr("data-mce-style") || e.attr("style");
              return t = n.serialize(n.parse(t), e[0].nodeName);
            }
          }
        }, i && (e.href = e.src = t), e;
      },
          pi = function pi(e, t) {
        var n = t.attr("style"),
            r = e.serialize(e.parse(n), t[0].nodeName);
        r || (r = null), t.attr("data-mce-style", r);
      },
          hi = function hi(e, t) {
        var n,
            r,
            o = 0;
        if (e) for (n = e.nodeType, e = e.previousSibling; e; e = e.previousSibling) {
          r = e.nodeType, (!t || 3 !== r || r !== n && e.nodeValue.length) && (o++, n = r);
        }
        return o;
      };

      function vi(a, u) {
        var s,
            c = this;
        void 0 === u && (u = {});

        var r = {},
            i = H.window,
            o = {},
            t = 0,
            e = function (m, g) {
          void 0 === g && (g = {});
          var p,
              h = 0,
              v = {};
          p = g.maxLoadTime || 5e3;

          var b = function b(e) {
            m.getElementsByTagName("head")[0].appendChild(e);
          },
              n = function n(e, t, _n3) {
            var o,
                r,
                i,
                a,
                u = function u() {
              for (var e = a.passed, t = e.length; t--;) {
                e[t]();
              }

              a.status = 2, a.passed = [], a.failed = [];
            },
                s = function s() {
              for (var e = a.failed, t = e.length; t--;) {
                e[t]();
              }

              a.status = 3, a.passed = [], a.failed = [];
            },
                c = function c(e, t) {
              e() || (new Date().getTime() - i < p ? ye.setTimeout(t) : s());
            },
                l = function l() {
              c(function () {
                for (var e, t, n = m.styleSheets, r = n.length; r--;) {
                  if ((t = (e = n[r]).ownerNode ? e.ownerNode : e.owningElement) && t.id === o.id) return u(), !0;
                }
              }, l);
            },
                f = function f() {
              c(function () {
                try {
                  var e = r.sheet.cssRules;
                  return u(), !!e;
                } catch (t) {}
              }, f);
            };

            if (e = Jt._addCacheSuffix(e), v[e] ? a = v[e] : (a = {
              passed: [],
              failed: []
            }, v[e] = a), t && a.passed.push(t), _n3 && a.failed.push(_n3), 1 !== a.status) if (2 !== a.status) {
              if (3 !== a.status) {
                if (a.status = 1, (o = m.createElement("link")).rel = "stylesheet", o.type = "text/css", o.id = "u" + h++, o.async = !1, o.defer = !1, i = new Date().getTime(), g.contentCssCors && (o.crossOrigin = "anonymous"), "onload" in o && !((d = H.navigator.userAgent.match(/WebKit\/(\d*)/)) && parseInt(d[1], 10) < 536)) o.onload = l, o.onerror = s;else {
                  if (0 < H.navigator.userAgent.indexOf("Firefox")) return (r = m.createElement("style")).textContent = '@import "' + e + '"', f(), void b(r);
                  l();
                }
                var d;
                b(o), o.href = e;
              } else s();
            } else u();
          },
              t = function t(_t2) {
            return eo.nu(function (e) {
              n(_t2, j(e, q(io.value(_t2))), j(e, q(io.error(_t2))));
            });
          },
              o = function o(e) {
            return e.fold($, $);
          };

          return {
            load: n,
            loadAll: function loadAll(e, n, r) {
              no(W(e, t)).get(function (e) {
                var t = K(e, function (e) {
                  return e.isValue();
                });
                0 < t.fail.length ? r(t.fail.map(o)) : n(t.pass.map(o));
              });
            }
          };
        }(a, {
          contentCssCors: u.contentCssCors
        }),
            l = [],
            f = u.schema ? u.schema : ii({}),
            d = ui({
          url_converter: u.url_converter,
          url_converter_scope: u.url_converter_scope
        }, u.schema),
            m = u.ownEvents ? new Ae(u.proxy) : Ae.Event,
            n = f.getBlockElements(),
            g = vn.overrideDefaults(function () {
          return {
            context: a,
            element: V.getRoot()
          };
        }),
            p = function p(e) {
          if (e && a && "string" == typeof e) {
            var t = a.getElementById(e);
            return t && t.id !== e ? a.getElementsByName(e)[1] : t;
          }

          return e;
        },
            h = function h(e) {
          return "string" == typeof e && (e = p(e)), g(e);
        },
            v = function v(e, t, n) {
          var r,
              o,
              i = h(e);
          return i.length && (o = (r = s[t]) && r.get ? r.get(i, t) : i.attr(t)), void 0 === o && (o = n || ""), o;
        },
            b = function b(e) {
          var t = p(e);
          return t ? t.attributes : [];
        },
            y = function y(e, t, n) {
          var r, o;
          "" === n && (n = null);
          var i = h(e);
          r = i.attr(t), i.length && ((o = s[t]) && o.set ? o.set(i, n, t) : i.attr(t, n), r !== n && u.onSetAttrib && u.onSetAttrib({
            attrElm: i,
            attrName: t,
            attrValue: n
          }));
        },
            C = function C() {
          return u.root_element || a.body;
        },
            x = function x(e, t) {
          return Gr.getPos(a.body, p(e), t);
        },
            w = function w(e, t, n) {
          var r = h(e);
          return n ? r.css(t) : ("float" === (t = t.replace(/-(\D)/g, function (e, t) {
            return t.toUpperCase();
          })) && (t = ge.ie && ge.ie < 12 ? "styleFloat" : "cssFloat"), r[0] && r[0].style ? r[0].style[t] : undefined);
        },
            N = function N(e) {
          var t, n;
          return e = p(e), t = w(e, "width"), n = w(e, "height"), -1 === t.indexOf("px") && (t = 0), -1 === n.indexOf("px") && (n = 0), {
            w: parseInt(t, 10) || e.offsetWidth || e.clientWidth,
            h: parseInt(n, 10) || e.offsetHeight || e.clientHeight
          };
        },
            E = function E(e, t) {
          var n;
          if (!e) return !1;

          if (!Array.isArray(e)) {
            if ("*" === t) return 1 === e.nodeType;

            if (di.test(t)) {
              var r = t.toLowerCase().split(/,/),
                  o = e.nodeName.toLowerCase();

              for (n = r.length - 1; 0 <= n; n--) {
                if (r[n] === o) return !0;
              }

              return !1;
            }

            if (e.nodeType && 1 !== e.nodeType) return !1;
          }

          var i = Array.isArray(e) ? e : [e];
          return 0 < At(t, i[0].ownerDocument || i[0], null, i).length;
        },
            S = function S(e, t, n, r) {
          var o,
              i = [],
              a = p(e);

          for (r = r === undefined, n = n || ("BODY" !== C().nodeName ? C().parentNode : null), Jt.is(t, "string") && (t = "*" === (o = t) ? function (e) {
            return 1 === e.nodeType;
          } : function (e) {
            return E(e, o);
          }); a && a !== n && a.nodeType && 9 !== a.nodeType;) {
            if (!t || "function" == typeof t && t(a)) {
              if (!r) return [a];
              i.push(a);
            }

            a = a.parentNode;
          }

          return r ? i : null;
        },
            k = function k(e, t, n) {
          var r = t;
          if (e) for ("string" == typeof t && (r = function r(e) {
            return E(e, t);
          }), e = e[n]; e; e = e[n]) {
            if ("function" == typeof r && r(e)) return e;
          }
          return null;
        },
            T = function T(e, n, r) {
          var o,
              t = "string" == typeof e ? p(e) : e;
          if (!t) return !1;
          if (Jt.isArray(t) && (t.length || 0 === t.length)) return o = [], ci(t, function (e, t) {
            e && ("string" == typeof e && (e = p(e)), o.push(n.call(r, e, t)));
          }), o;
          var i = r || c;
          return n.call(i, t);
        },
            A = function A(e, t) {
          h(e).each(function (e, n) {
            ci(t, function (e, t) {
              y(n, t, e);
            });
          });
        },
            R = function R(e, r) {
          var t = h(e);
          fi ? t.each(function (e, t) {
            if (!1 !== t.canHaveHTML) {
              for (; t.firstChild;) {
                t.removeChild(t.firstChild);
              }

              try {
                t.innerHTML = "<br>" + r, t.removeChild(t.firstChild);
              } catch (n) {
                vn("<div></div>").html("<br>" + r).contents().slice(1).appendTo(t);
              }

              return r;
            }
          }) : t.html(r);
        },
            _ = function _(e, n, r, o, i) {
          return T(e, function (e) {
            var t = "string" == typeof n ? a.createElement(n) : n;
            return A(t, r), o && ("string" != typeof o && o.nodeType ? t.appendChild(o) : "string" == typeof o && R(t, o)), i ? t : e.appendChild(t);
          });
        },
            D = function D(e, t, n) {
          return _(a.createElement(e), e, t, n, !0);
        },
            B = Xo.decode,
            O = Xo.encodeAllRaw,
            P = function P(e, t) {
          var n = h(e);
          return t ? n.each(function () {
            for (var e; e = this.firstChild;) {
              3 === e.nodeType && 0 === e.data.length ? this.removeChild(e) : this.parentNode.insertBefore(e, this);
            }
          }).remove() : n.remove(), 1 < n.length ? n.toArray() : n[0];
        },
            I = function I(e, t, n) {
          h(e).toggleClass(t, n).each(function () {
            "" === this.className && vn(this).attr("class", null);
          });
        },
            L = function L(t, e, n) {
          return T(e, function (e) {
            return Jt.is(e, "array") && (t = t.cloneNode(!0)), n && ci(li(e.childNodes), function (e) {
              t.appendChild(e);
            }), e.parentNode.replaceChild(t, e);
          });
        },
            M = function M() {
          return a.createRange();
        },
            F = function F(e, t, n, r) {
          if (Jt.isArray(e)) {
            for (var o = e.length; o--;) {
              e[o] = F(e[o], t, n, r);
            }

            return e;
          }

          return !u.collect || e !== a && e !== i || l.push([e, t, n, r]), m.bind(e, t, n, r || V);
        },
            z = function z(e, t, n) {
          var r;

          if (Jt.isArray(e)) {
            for (r = e.length; r--;) {
              e[r] = z(e[r], t, n);
            }

            return e;
          }

          if (l && (e === a || e === i)) for (r = l.length; r--;) {
            var o = l[r];
            e !== o[0] || t && t !== o[1] || n && n !== o[2] || m.unbind(o[0], o[1], o[2]);
          }
          return m.unbind(e, t, n);
        },
            U = function U(e) {
          if (e && Po.isElement(e)) {
            var t = e.getAttribute("data-mce-contenteditable");
            return t && "inherit" !== t ? t : "inherit" !== e.contentEditable ? e.contentEditable : null;
          }

          return null;
        },
            V = {
          doc: a,
          settings: u,
          win: i,
          files: o,
          stdMode: !0,
          boxModel: !0,
          styleSheetLoader: e,
          boundEvents: l,
          styles: d,
          schema: f,
          events: m,
          isBlock: function isBlock(e) {
            if ("string" == typeof e) return !!n[e];

            if (e) {
              var t = e.nodeType;
              if (t) return !(1 !== t || !n[e.nodeName]);
            }

            return !1;
          },
          $: g,
          $$: h,
          root: null,
          clone: function clone(t, e) {
            if (!fi || 1 !== t.nodeType || e) return t.cloneNode(e);

            if (!e) {
              var n = a.createElement(t.nodeName);
              return ci(b(t), function (e) {
                y(n, e.nodeName, v(t, e.nodeName));
              }), n;
            }

            return null;
          },
          getRoot: C,
          getViewPort: function getViewPort(e) {
            var t = e || i,
                n = t.document.documentElement;
            return {
              x: t.pageXOffset || n.scrollLeft,
              y: t.pageYOffset || n.scrollTop,
              w: t.innerWidth || n.clientWidth,
              h: t.innerHeight || n.clientHeight
            };
          },
          getRect: function getRect(e) {
            var t, n;
            return e = p(e), t = x(e), n = N(e), {
              x: t.x,
              y: t.y,
              w: n.w,
              h: n.h
            };
          },
          getSize: N,
          getParent: function getParent(e, t, n) {
            var r = S(e, t, n, !1);
            return r && 0 < r.length ? r[0] : null;
          },
          getParents: S,
          get: p,
          getNext: function getNext(e, t) {
            return k(e, t, "nextSibling");
          },
          getPrev: function getPrev(e, t) {
            return k(e, t, "previousSibling");
          },
          select: function select(e, t) {
            return At(e, p(t) || u.root_element || a, []);
          },
          is: E,
          add: _,
          create: D,
          createHTML: function createHTML(e, t, n) {
            var r,
                o = "";

            for (r in o += "<" + e, t) {
              t.hasOwnProperty(r) && null !== t[r] && "undefined" != typeof t[r] && (o += " " + r + '="' + O(t[r]) + '"');
            }

            return void 0 !== n ? o + ">" + n + "</" + e + ">" : o + " />";
          },
          createFragment: function createFragment(e) {
            var t,
                n = a.createElement("div"),
                r = a.createDocumentFragment();

            for (e && (n.innerHTML = e); t = n.firstChild;) {
              r.appendChild(t);
            }

            return r;
          },
          remove: P,
          setStyle: function setStyle(e, t, n) {
            var r = h(e).css(t, n);
            u.update_styles && pi(d, r);
          },
          getStyle: w,
          setStyles: function setStyles(e, t) {
            var n = h(e).css(t);
            u.update_styles && pi(d, n);
          },
          removeAllAttribs: function removeAllAttribs(e) {
            return T(e, function (e) {
              var t,
                  n = e.attributes;

              for (t = n.length - 1; 0 <= t; t--) {
                e.removeAttributeNode(n.item(t));
              }
            });
          },
          setAttrib: y,
          setAttribs: A,
          getAttrib: v,
          getPos: x,
          parseStyle: function parseStyle(e) {
            return d.parse(e);
          },
          serializeStyle: function serializeStyle(e, t) {
            return d.serialize(e, t);
          },
          addStyle: function addStyle(e) {
            var t, n;

            if (V !== vi.DOM && a === H.document) {
              if (r[e]) return;
              r[e] = !0;
            }

            (n = a.getElementById("mceDefaultStyles")) || ((n = a.createElement("style")).id = "mceDefaultStyles", n.type = "text/css", (t = a.getElementsByTagName("head")[0]).firstChild ? t.insertBefore(n, t.firstChild) : t.appendChild(n)), n.styleSheet ? n.styleSheet.cssText += e : n.appendChild(a.createTextNode(e));
          },
          loadCSS: function loadCSS(e) {
            var n;
            V === vi.DOM || a !== H.document ? (e || (e = ""), n = a.getElementsByTagName("head")[0], ci(e.split(","), function (e) {
              var t;
              e = Jt._addCacheSuffix(e), o[e] || (o[e] = !0, t = D("link", {
                rel: "stylesheet",
                href: e
              }), n.appendChild(t));
            })) : vi.DOM.loadCSS(e);
          },
          addClass: function addClass(e, t) {
            h(e).addClass(t);
          },
          removeClass: function removeClass(e, t) {
            I(e, t, !1);
          },
          hasClass: function hasClass(e, t) {
            return h(e).hasClass(t);
          },
          toggleClass: I,
          show: function show(e) {
            h(e).show();
          },
          hide: function hide(e) {
            h(e).hide();
          },
          isHidden: function isHidden(e) {
            return "none" === h(e).css("display");
          },
          uniqueId: function uniqueId(e) {
            return (e || "mce_") + t++;
          },
          setHTML: R,
          getOuterHTML: function getOuterHTML(e) {
            var t = "string" == typeof e ? p(e) : e;
            return Po.isElement(t) ? t.outerHTML : vn("<div></div>").append(vn(t).clone()).html();
          },
          setOuterHTML: function setOuterHTML(e, t) {
            h(e).each(function () {
              try {
                if ("outerHTML" in this) return void (this.outerHTML = t);
              } catch (e) {}

              P(vn(this).html(t), !0);
            });
          },
          decode: B,
          encode: O,
          insertAfter: function insertAfter(e, t) {
            var r = p(t);
            return T(e, function (e) {
              var t, n;
              return t = r.parentNode, (n = r.nextSibling) ? t.insertBefore(e, n) : t.appendChild(e), e;
            });
          },
          replace: L,
          rename: function rename(t, e) {
            var n;
            return t.nodeName !== e.toUpperCase() && (n = D(e), ci(b(t), function (e) {
              y(n, e.nodeName, v(t, e.nodeName));
            }), L(n, t, !0)), n || t;
          },
          findCommonAncestor: function findCommonAncestor(e, t) {
            for (var n, r = e; r;) {
              for (n = t; n && r !== n;) {
                n = n.parentNode;
              }

              if (r === n) break;
              r = r.parentNode;
            }

            return !r && e.ownerDocument ? e.ownerDocument.documentElement : r;
          },
          toHex: function toHex(e) {
            return d.toHex(Jt.trim(e));
          },
          run: T,
          getAttribs: b,
          isEmpty: function isEmpty(e, t) {
            var n,
                r,
                o,
                i,
                a,
                u,
                s = 0;

            if (e = e.firstChild) {
              a = new ao(e, e.parentNode), t = t || (f ? f.getNonEmptyElements() : null), i = f ? f.getWhiteSpaceElements() : {};

              do {
                if (o = e.nodeType, Po.isElement(e)) {
                  var c = e.getAttribute("data-mce-bogus");

                  if (c) {
                    e = a.next("all" === c);
                    continue;
                  }

                  if (u = e.nodeName.toLowerCase(), t && t[u]) {
                    if ("br" === u) {
                      s++, e = a.next();
                      continue;
                    }

                    return !1;
                  }

                  for (n = (r = b(e)).length; n--;) {
                    if ("name" === (u = r[n].nodeName) || "data-mce-bookmark" === u) return !1;
                  }
                }

                if (8 === o) return !1;
                if (3 === o && !mi.test(e.nodeValue)) return !1;
                if (3 === o && e.parentNode && i[e.parentNode.nodeName] && mi.test(e.nodeValue)) return !1;
                e = a.next();
              } while (e);
            }

            return s <= 1;
          },
          createRng: M,
          nodeIndex: hi,
          split: function split(e, t, n) {
            var r,
                o,
                i,
                a = M();
            if (e && t) return a.setStart(e.parentNode, hi(e)), a.setEnd(t.parentNode, hi(t)), r = a.extractContents(), (a = M()).setStart(t.parentNode, hi(t) + 1), a.setEnd(e.parentNode, hi(e) + 1), o = a.extractContents(), (i = e.parentNode).insertBefore(Mo.trimNode(V, r), e), n ? i.insertBefore(n, e) : i.insertBefore(t, e), i.insertBefore(Mo.trimNode(V, o), e), P(e), n || t;
          },
          bind: F,
          unbind: z,
          fire: function fire(e, t, n) {
            return m.fire(e, t, n);
          },
          getContentEditable: U,
          getContentEditableParent: function getContentEditableParent(e) {
            for (var t = C(), n = null; e && e !== t && null === (n = U(e)); e = e.parentNode) {
              ;
            }

            return n;
          },
          destroy: function destroy() {
            if (l) for (var e = l.length; e--;) {
              var t = l[e];
              m.unbind(t[0], t[1], t[2]);
            }
            At.setDocument && At.setDocument();
          },
          isChildOf: function isChildOf(e, t) {
            for (; e;) {
              if (t === e) return !0;
              e = e.parentNode;
            }

            return !1;
          },
          dumpRng: function dumpRng(e) {
            return "startContainer: " + e.startContainer.nodeName + ", startOffset: " + e.startOffset + ", endContainer: " + e.endContainer.nodeName + ", endOffset: " + e.endOffset;
          }
        };

        return s = gi(d, u, function () {
          return V;
        }), V;
      }

      (si = vi || (vi = {})).DOM = si(H.document), si.nodeIndex = hi;

      var bi = vi,
          yi = bi.DOM,
          Ci = Jt.each,
          xi = Jt.grep,
          wi = function wi(e) {
        return "function" == typeof e;
      },
          Ni = function Ni() {
        var l = {},
            o = [],
            i = {},
            a = [],
            f = 0;
        this.isDone = function (e) {
          return 2 === l[e];
        }, this.markDone = function (e) {
          l[e] = 2;
        }, this.add = this.load = function (e, t, n, r) {
          l[e] === undefined && (o.push(e), l[e] = 0), t && (i[e] || (i[e] = []), i[e].push({
            success: t,
            failure: r,
            scope: n || this
          }));
        }, this.remove = function (e) {
          delete l[e], delete i[e];
        }, this.loadQueue = function (e, t, n) {
          this.loadScripts(o, e, t, n);
        }, this.loadScripts = function (n, e, t, r) {
          var _u2,
              s = [],
              c = function c(t, e) {
            Ci(i[e], function (e) {
              wi(e[t]) && e[t].call(e.scope);
            }), i[e] = undefined;
          };

          a.push({
            success: e,
            failure: r,
            scope: t || this
          }), (_u2 = function u() {
            var e = xi(n);

            if (n.length = 0, Ci(e, function (e) {
              var t, n, r, o, i, a;
              2 !== l[e] ? 3 !== l[e] ? 1 !== l[e] && (l[e] = 1, f++, t = e, n = function n() {
                l[e] = 2, f--, c("success", e), _u2();
              }, r = function r() {
                l[e] = 3, f--, s.push(e), c("failure", e), _u2();
              }, i = (a = yi).uniqueId(), (o = H.document.createElement("script")).id = i, o.type = "text/javascript", o.src = Jt._addCacheSuffix(t), o.onload = function () {
                a.remove(i), o && (o.onreadystatechange = o.onload = o = null), n();
              }, o.onerror = function () {
                wi(r) ? r() : "undefined" != typeof console && console.log && console.log("Failed to load script: " + t);
              }, (H.document.getElementsByTagName("head")[0] || H.document.body).appendChild(o)) : c("failure", e) : c("success", e);
            }), !f) {
              var t = a.slice(0);
              a.length = 0, Ci(t, function (e) {
                0 === s.length ? wi(e.success) && e.success.call(e.scope) : wi(e.failure) && e.failure.call(e.scope, s);
              });
            }
          })();
        };
      };

      Ni.ScriptLoader = new Ni();
      var Ei,
          Si = Jt.each;

      function ki() {
        var r = this,
            o = [],
            a = {},
            u = {},
            i = [],
            s = function s(e) {
          var t;
          return u[e] && (t = u[e].dependencies), t || [];
        },
            c = function c(e, t) {
          return "object" == typeof t ? t : "string" == typeof e ? {
            prefix: "",
            resource: t,
            suffix: ""
          } : {
            prefix: e.prefix,
            resource: t,
            suffix: e.suffix
          };
        },
            l = function l(e, n, t, r) {
          var o = s(e);
          Si(o, function (e) {
            var t = c(n, e);
            f(t.resource, t, undefined, undefined);
          }), t && (r ? t.call(r) : t.call(Ni));
        },
            f = function f(e, t, n, r, o) {
          if (!a[e]) {
            var i = "string" == typeof t ? t : t.prefix + t.resource + t.suffix;
            0 !== i.indexOf("/") && -1 === i.indexOf("://") && (i = ki.baseURL + "/" + i), a[e] = i.substring(0, i.lastIndexOf("/")), u[e] ? l(e, t, n, r) : Ni.ScriptLoader.add(i, function () {
              return l(e, t, n, r);
            }, r, o);
          }
        };

        return {
          items: o,
          urls: a,
          lookup: u,
          _listeners: i,
          get: function get(e) {
            return u[e] ? u[e].instance : undefined;
          },
          dependencies: s,
          requireLangPack: function requireLangPack(e, t) {
            var n = ki.language;

            if (n && !1 !== ki.languageLoad) {
              if (t) if (-1 !== (t = "," + t + ",").indexOf("," + n.substr(0, 2) + ",")) n = n.substr(0, 2);else if (-1 === t.indexOf("," + n + ",")) return;
              Ni.ScriptLoader.add(a[e] + "/langs/" + n + ".js");
            }
          },
          add: function add(t, e, n) {
            o.push(e), u[t] = {
              instance: e,
              dependencies: n
            };
            var r = K(i, function (e) {
              return e.name === t;
            });
            return i = r.fail, Si(r.pass, function (e) {
              e.callback();
            }), e;
          },
          remove: function remove(e) {
            delete a[e], delete u[e];
          },
          createUrl: c,
          addComponents: function addComponents(e, t) {
            var n = r.urls[e];
            Si(t, function (e) {
              Ni.ScriptLoader.add(n + "/" + e);
            });
          },
          load: f,
          waitFor: function waitFor(e, t) {
            u.hasOwnProperty(e) ? t() : i.push({
              name: e,
              callback: t
            });
          }
        };
      }

      (Ei = ki || (ki = {})).PluginManager = Ei(), Ei.ThemeManager = Ei();

      var Ti = function Ti(t, n) {
        zr(t).each(function (e) {
          e.dom().insertBefore(n.dom(), t.dom());
        });
      },
          Ai = function Ai(e, t) {
        Vr(e).fold(function () {
          zr(e).each(function (e) {
            _i(e, t);
          });
        }, function (e) {
          Ti(e, t);
        });
      },
          Ri = function Ri(t, n) {
        Wr(t).fold(function () {
          _i(t, n);
        }, function (e) {
          t.dom().insertBefore(n.dom(), e.dom());
        });
      },
          _i = function _i(e, t) {
        e.dom().appendChild(t.dom());
      },
          Di = function Di(t, e) {
        U(e, function (e) {
          _i(t, e);
        });
      },
          Bi = function Bi(e) {
        e.dom().textContent = "", U(qr(e), function (e) {
          Oi(e);
        });
      },
          Oi = function Oi(e) {
        var t = e.dom();
        null !== t.parentNode && t.parentNode.removeChild(t);
      },
          Pi = function Pi(e) {
        var t,
            n = qr(e);
        0 < n.length && (t = e, U(n, function (e) {
          Ti(t, e);
        })), Oi(e);
      },
          Ii = function Ii(n, r) {
        var o = null;
        return {
          cancel: function cancel() {
            null !== o && (H.clearTimeout(o), o = null);
          },
          throttle: function throttle() {
            for (var e = [], t = 0; t < arguments.length; t++) {
              e[t] = arguments[t];
            }

            null === o && (o = H.setTimeout(function () {
              n.apply(null, e), o = null;
            }, r));
          }
        };
      },
          Li = function Li(e) {
        var t = e,
            n = function n() {
          return t;
        };

        return {
          get: n,
          set: function set(e) {
            t = e;
          },
          clone: function clone() {
            return Li(n());
          }
        };
      },
          Mi = function Mi(e, t) {
        var n = xr(e, t);
        return n === undefined || "" === n ? [] : n.split(" ");
      },
          Fi = function Fi(e) {
        return e.dom().classList !== undefined;
      },
          zi = function zi(e, t) {
        return o = t, i = Mi(n = e, r = "class").concat([o]), yr(n, r, i.join(" ")), !0;
        var n, r, o, i;
      },
          Ui = function Ui(e, t) {
        return o = t, 0 < (i = V(Mi(n = e, r = "class"), function (e) {
          return e !== o;
        })).length ? yr(n, r, i.join(" ")) : wr(n, r), !1;
        var n, r, o, i;
      },
          Vi = function Vi(e, t) {
        Fi(e) ? e.dom().classList.add(t) : zi(e, t);
      },
          Hi = function Hi(e) {
        0 === (Fi(e) ? e.dom().classList : Mi(e, "class")).length && wr(e, "class");
      },
          ji = function ji(e, t) {
        return Fi(e) && e.dom().classList.contains(t);
      },
          qi = function qi(e, t) {
        var n = [];
        return U(qr(e), function (e) {
          t(e) && (n = n.concat([e])), n = n.concat(qi(e, t));
        }), n;
      },
          $i = function $i(e, t) {
        return n = t, o = (r = e) === undefined ? H.document : r.dom(), Pr(o) ? [] : W(o.querySelectorAll(n), ir.fromDom);
        var n, r, o;
      };

      function Wi(e, t, n, r, o) {
        return e(n, r) ? A.some(n) : P(o) && o(n) ? A.none() : t(n, r, o);
      }

      var Ki,
          Xi = function Xi(e, t, n) {
        for (var r = e.dom(), o = P(n) ? n : q(!1); r.parentNode;) {
          r = r.parentNode;
          var i = ir.fromDom(r);
          if (t(i)) return A.some(i);
          if (o(i)) break;
        }

        return A.none();
      },
          Yi = function Yi(e, t, n) {
        return Wi(function (e) {
          return t(e);
        }, Xi, e, t, n);
      },
          Gi = function Gi(e, t, n) {
        return Xi(e, function (e) {
          return Or(e, t);
        }, n);
      },
          Ji = function Ji(e, t) {
        return n = t, o = (r = e) === undefined ? H.document : r.dom(), Pr(o) ? A.none() : A.from(o.querySelector(n)).map(ir.fromDom);
        var n, r, o;
      },
          Qi = function Qi(e, t, n) {
        return Wi(Or, Gi, e, t, n);
      },
          Zi = q("mce-annotation"),
          ea = q("data-mce-annotation"),
          ta = q("data-mce-annotation-uid"),
          na = function na(r, e) {
        var t = r.selection.getRng(),
            n = ir.fromDom(t.startContainer),
            o = ir.fromDom(r.getBody()),
            i = e.fold(function () {
          return "." + Zi();
        }, function (e) {
          return "[" + ea() + '="' + e + '"]';
        }),
            a = $r(n, t.startOffset).getOr(n),
            u = Qi(a, i, function (e) {
          return Ir(e, o);
        }),
            s = function s(e, t) {
          return n = t, (r = e.dom()) && r.hasAttribute && r.hasAttribute(n) ? A.some(xr(e, t)) : A.none();
          var n, r;
        };

        return u.bind(function (e) {
          return s(e, "" + ta()).bind(function (n) {
            return s(e, "" + ea()).map(function (e) {
              var t = ra(r, n);
              return {
                uid: n,
                name: e,
                elements: t
              };
            });
          });
        });
      },
          ra = function ra(e, t) {
        var n = ir.fromDom(e.getBody());
        return $i(n, "[" + ta() + '="' + t + '"]');
      },
          oa = function oa(i, e) {
        var n,
            r,
            o,
            a = Li({}),
            c = function c(e, t) {
          u(e, function (e) {
            return t(e), e;
          });
        },
            u = function u(e, t) {
          var n = a.get(),
              r = t(n.hasOwnProperty(e) ? n[e] : {
            listeners: [],
            previous: Li(A.none())
          });
          n[e] = r, a.set(n);
        },
            t = (n = function n() {
          var e,
              t,
              n,
              r = a.get(),
              o = (e = mr(r), (n = L.call(e, 0)).sort(t), n);
          U(o, function (e) {
            u(e, function (u) {
              var s = u.previous.get();
              return na(i, A.some(e)).fold(function () {
                var t;
                s.isSome() && (c(t = e, function (e) {
                  U(e.listeners, function (e) {
                    return e(!1, t);
                  });
                }), u.previous.set(A.none()));
              }, function (e) {
                var t,
                    n,
                    r,
                    o = e.uid,
                    i = e.name,
                    a = e.elements;
                s.is(o) || (n = o, r = a, c(t = i, function (e) {
                  U(e.listeners, function (e) {
                    return e(!0, t, {
                      uid: n,
                      nodes: W(r, function (e) {
                        return e.dom();
                      })
                    });
                  });
                }), u.previous.set(A.some(o)));
              }), {
                previous: u.previous,
                listeners: u.listeners
              };
            });
          });
        }, r = 30, o = null, {
          cancel: function cancel() {
            null !== o && (H.clearTimeout(o), o = null);
          },
          throttle: function throttle() {
            for (var e = [], t = 0; t < arguments.length; t++) {
              e[t] = arguments[t];
            }

            null !== o && H.clearTimeout(o), o = H.setTimeout(function () {
              n.apply(null, e), o = null;
            }, r);
          }
        });

        return i.on("remove", function () {
          t.cancel();
        }), i.on("nodeChange", function () {
          t.throttle();
        }), {
          addListener: function addListener(e, t) {
            u(e, function (e) {
              return {
                previous: e.previous,
                listeners: e.listeners.concat([t])
              };
            });
          }
        };
      },
          ia = function ia(e, n) {
        e.on("init", function () {
          e.serializer.addNodeFilter("span", function (e) {
            U(e, function (t) {
              var e;
              (e = t, A.from(e.attributes.map[ea()]).bind(n.lookup)).each(function (e) {
                !1 === e.persistent && t.unwrap();
              });
            });
          });
        });
      },
          aa = 0,
          ua = function ua(e, t) {
        return ir.fromDom(e.dom().cloneNode(t));
      },
          sa = function sa(e) {
        return ua(e, !1);
      },
          ca = function ca(e) {
        return ua(e, !0);
      },
          la = function la(e, t) {
        var n,
            r,
            o = Mr(e).dom(),
            i = ir.fromDom(o.createDocumentFragment()),
            a = (n = t, (r = (o || H.document).createElement("div")).innerHTML = n, qr(ir.fromDom(r)));
        Di(i, a), Bi(e), _i(e, i);
      },
          fa = "\uFEFF",
          da = function da(e) {
        return e === fa;
      },
          ma = fa,
          ga = function ga(e) {
        return e.replace(new RegExp(fa, "g"), "");
      },
          pa = Po.isElement,
          ha = Po.isText,
          va = function va(e) {
        return ha(e) && (e = e.parentNode), pa(e) && e.hasAttribute("data-mce-caret");
      },
          ba = function ba(e) {
        return ha(e) && da(e.data);
      },
          ya = function ya(e) {
        return va(e) || ba(e);
      },
          Ca = function Ca(e) {
        return e.firstChild !== e.lastChild || !Po.isBr(e.firstChild);
      },
          xa = function xa(e) {
        var t = e.container();
        return !(!e || !Po.isText(t)) && (t.data.charAt(e.offset()) === ma || e.isAtStart() && ba(t.previousSibling));
      },
          wa = function wa(e) {
        var t = e.container();
        return !(!e || !Po.isText(t)) && (t.data.charAt(e.offset() - 1) === ma || e.isAtEnd() && ba(t.nextSibling));
      },
          Na = function Na(e, t, n) {
        var r, o, i;
        return (r = t.ownerDocument.createElement(e)).setAttribute("data-mce-caret", n ? "before" : "after"), r.setAttribute("data-mce-bogus", "all"), r.appendChild(((i = H.document.createElement("br")).setAttribute("data-mce-bogus", "1"), i)), o = t.parentNode, n ? o.insertBefore(r, t) : t.nextSibling ? o.insertBefore(r, t.nextSibling) : o.appendChild(r), r;
      },
          Ea = function Ea(e) {
        return ha(e) && e.data[0] === ma;
      },
          Sa = function Sa(e) {
        return ha(e) && e.data[e.data.length - 1] === ma;
      },
          ka = function ka(e) {
        return e && e.hasAttribute("data-mce-caret") ? (t = e.getElementsByTagName("br"), n = t[t.length - 1], Po.isBogus(n) && n.parentNode.removeChild(n), e.removeAttribute("data-mce-caret"), e.removeAttribute("data-mce-bogus"), e.removeAttribute("style"), e.removeAttribute("_moz_abspos"), e) : null;
        var t, n;
      },
          Ta = Po.isContentEditableTrue,
          Aa = Po.isContentEditableFalse,
          Ra = Po.isBr,
          _a = Po.isText,
          Da = Po.matchNodeNames("script style textarea"),
          Ba = Po.matchNodeNames("img input textarea hr iframe video audio object"),
          Oa = Po.matchNodeNames("table"),
          Pa = ya,
          Ia = function Ia(e) {
        return !Pa(e) && (_a(e) ? !Da(e.parentNode) : Ba(e) || Ra(e) || Oa(e) || La(e));
      },
          La = function La(e) {
        return !1 === (t = e, Po.isElement(t) && "true" === t.getAttribute("unselectable")) && Aa(e);
        var t;
      },
          Ma = function Ma(e, t) {
        return Ia(e) && function (e, t) {
          for (e = e.parentNode; e && e !== t; e = e.parentNode) {
            if (La(e)) return !1;
            if (Ta(e)) return !0;
          }

          return !0;
        }(e, t);
      },
          Fa = Math.round,
          za = function za(e) {
        return e ? {
          left: Fa(e.left),
          top: Fa(e.top),
          bottom: Fa(e.bottom),
          right: Fa(e.right),
          width: Fa(e.width),
          height: Fa(e.height)
        } : {
          left: 0,
          top: 0,
          bottom: 0,
          right: 0,
          width: 0,
          height: 0
        };
      },
          Ua = function Ua(e, t) {
        return e = za(e), t || (e.left = e.left + e.width), e.right = e.left, e.width = 0, e;
      },
          Va = function Va(e, t, n) {
        return 0 <= e && e <= Math.min(t.height, n.height) / 2;
      },
          Ha = function Ha(e, t) {
        return e.bottom - e.height / 2 < t.top || !(e.top > t.bottom) && Va(t.top - e.bottom, e, t);
      },
          ja = function ja(e, t) {
        return e.top > t.bottom || !(e.bottom < t.top) && Va(t.bottom - e.top, e, t);
      },
          qa = function qa(e, t, n) {
        return t >= e.left && t <= e.right && n >= e.top && n <= e.bottom;
      },
          $a = function $a(e) {
        var t = e.startContainer,
            n = e.startOffset;
        return t.hasChildNodes() && e.endOffset === n + 1 ? t.childNodes[n] : null;
      },
          Wa = function Wa(e, t) {
        return 1 === e.nodeType && e.hasChildNodes() && (t >= e.childNodes.length && (t = e.childNodes.length - 1), e = e.childNodes[t]), e;
      },
          Ka = new RegExp("[\u0300-\u036F\u0483-\u0487\u0488-\u0489\u0591-\u05BD\u05BF\u05C1-\u05C2\u05C4-\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7-\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962-\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2-\u09E3\u0A01-\u0A02\u0A3C\u0A41-\u0A42\u0A47-\u0A48\u0A4B-\u0A4D\u0A51\u0A70-\u0A71\u0A75\u0A81-\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7-\u0AC8\u0ACD\u0AE2-\u0AE3\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B56\u0B57\u0B62-\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55-\u0C56\u0C62-\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC-\u0CCD\u0CD5-\u0CD6\u0CE2-\u0CE3\u0D01\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62-\u0D63\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB-\u0EBC\u0EC8-\u0ECD\u0F18-\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86-\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039-\u103A\u103D-\u103E\u1058-\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17B4-\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u18A9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193B\u1A17-\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ABD\u1ABE\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80-\u1B81\u1BA2-\u1BA5\u1BA8-\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8-\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8-\u1CF9\u1DC0-\u1DF5\u1DFC-\u1DFF\u200C-\u200D\u20D0-\u20DC\u20DD-\u20E0\u20E1\u20E2-\u20E4\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u302E-\u302F\u3099-\u309A\uA66F\uA670-\uA672\uA674-\uA67D\uA69E-\uA69F\uA6F0-\uA6F1\uA802\uA806\uA80B\uA825-\uA826\uA8C4\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9E5\uAA29-\uAA2E\uAA31-\uAA32\uAA35-\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7-\uAAB8\uAABE-\uAABF\uAAC1\uAAEC-\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E-\uFF9F]"),
          Xa = function Xa(e) {
        return "string" == typeof e && 768 <= e.charCodeAt(0) && Ka.test(e);
      },
          Ya = function Ya(e, t) {
        for (var n = [], r = 0; r < e.length; r++) {
          var o = e[r];
          if (!o.isSome()) return A.none();
          n.push(o.getOrDie());
        }

        return A.some(t.apply(null, n));
      },
          Ga = [].slice,
          Ja = function Ja() {
        for (var e = [], t = 0; t < arguments.length; t++) {
          e[t] = arguments[t];
        }

        var n = Ga.call(arguments);
        return function (e) {
          for (var t = 0; t < n.length; t++) {
            if (!n[t](e)) return !1;
          }

          return !0;
        };
      },
          Qa = function Qa() {
        for (var e = [], t = 0; t < arguments.length; t++) {
          e[t] = arguments[t];
        }

        var n = Ga.call(arguments);
        return function (e) {
          for (var t = 0; t < n.length; t++) {
            if (n[t](e)) return !0;
          }

          return !1;
        };
      },
          Za = Po.isElement,
          eu = Ia,
          tu = Po.matchStyleValues("display", "block table"),
          nu = Po.matchStyleValues("float", "left right"),
          ru = Ja(Za, eu, y(nu)),
          ou = y(Po.matchStyleValues("white-space", "pre pre-line pre-wrap")),
          iu = Po.isText,
          au = Po.isBr,
          uu = bi.nodeIndex,
          su = Wa,
          cu = function cu(e) {
        return "createRange" in e ? e.createRange() : bi.DOM.createRng();
      },
          lu = function lu(e) {
        return e && /[\r\n\t ]/.test(e);
      },
          fu = function fu(e) {
        return !!e.setStart && !!e.setEnd;
      },
          du = function du(e) {
        var t,
            n = e.startContainer,
            r = e.startOffset;
        return !!(lu(e.toString()) && ou(n.parentNode) && Po.isText(n) && (t = n.data, lu(t[r - 1]) || lu(t[r + 1])));
      },
          mu = function mu(e) {
        return 0 === e.left && 0 === e.right && 0 === e.top && 0 === e.bottom;
      },
          gu = function gu(e) {
        var t, n, r, o, i, a, u, s;
        return t = 0 < (n = e.getClientRects()).length ? za(n[0]) : za(e.getBoundingClientRect()), !fu(e) && au(e) && mu(t) ? (i = (r = e).ownerDocument, a = cu(i), u = i.createTextNode("\xa0"), (s = r.parentNode).insertBefore(u, r), a.setStart(u, 0), a.setEnd(u, 1), o = za(a.getBoundingClientRect()), s.removeChild(u), o) : mu(t) && fu(e) ? function (e) {
          var t = e.startContainer,
              n = e.endContainer,
              r = e.startOffset,
              o = e.endOffset;

          if (t === n && Po.isText(n) && 0 === r && 1 === o) {
            var i = e.cloneRange();
            return i.setEndAfter(n), gu(i);
          }

          return null;
        }(e) : t;
      },
          pu = function pu(e, t) {
        var n = Ua(e, t);
        return n.width = 1, n.right = n.left + 1, n;
      },
          hu = function hu(e) {
        var t,
            n,
            r = [],
            o = function o(e) {
          var t, n;
          0 !== e.height && (0 < r.length && (t = e, n = r[r.length - 1], t.left === n.left && t.top === n.top && t.bottom === n.bottom && t.right === n.right) || r.push(e));
        },
            i = function i(e, t) {
          var n = cu(e.ownerDocument);

          if (t < e.data.length) {
            if (Xa(e.data[t])) return r;
            if (Xa(e.data[t - 1]) && (n.setStart(e, t), n.setEnd(e, t + 1), !du(n))) return o(pu(gu(n), !1)), r;
          }

          0 < t && (n.setStart(e, t - 1), n.setEnd(e, t), du(n) || o(pu(gu(n), !1))), t < e.data.length && (n.setStart(e, t), n.setEnd(e, t + 1), du(n) || o(pu(gu(n), !0)));
        };

        if (iu(e.container())) return i(e.container(), e.offset()), r;
        if (Za(e.container())) if (e.isAtEnd()) n = su(e.container(), e.offset()), iu(n) && i(n, n.data.length), ru(n) && !au(n) && o(pu(gu(n), !1));else {
          if (n = su(e.container(), e.offset()), iu(n) && i(n, 0), ru(n) && e.isAtEnd()) return o(pu(gu(n), !1)), r;
          t = su(e.container(), e.offset() - 1), ru(t) && !au(t) && (tu(t) || tu(n) || !ru(n)) && o(pu(gu(t), !1)), ru(n) && o(pu(gu(n), !0));
        }
        return r;
      };

      function vu(t, n, e) {
        var r = function r() {
          return e || (e = hu(vu(t, n))), e;
        };

        return {
          container: q(t),
          offset: q(n),
          toRange: function toRange() {
            var e;
            return (e = cu(t.ownerDocument)).setStart(t, n), e.setEnd(t, n), e;
          },
          getClientRects: r,
          isVisible: function isVisible() {
            return 0 < r().length;
          },
          isAtStart: function isAtStart() {
            return iu(t), 0 === n;
          },
          isAtEnd: function isAtEnd() {
            return iu(t) ? n >= t.data.length : n >= t.childNodes.length;
          },
          isEqual: function isEqual(e) {
            return e && t === e.container() && n === e.offset();
          },
          getNode: function getNode(e) {
            return su(t, e ? n - 1 : n);
          }
        };
      }

      (Ki = vu || (vu = {})).fromRangeStart = function (e) {
        return Ki(e.startContainer, e.startOffset);
      }, Ki.fromRangeEnd = function (e) {
        return Ki(e.endContainer, e.endOffset);
      }, Ki.after = function (e) {
        return Ki(e.parentNode, uu(e) + 1);
      }, Ki.before = function (e) {
        return Ki(e.parentNode, uu(e));
      }, Ki.isAbove = function (e, t) {
        return Ya([ne(t.getClientRects()), re(e.getClientRects())], Ha).getOr(!1);
      }, Ki.isBelow = function (e, t) {
        return Ya([re(t.getClientRects()), ne(e.getClientRects())], ja).getOr(!1);
      }, Ki.isAtStart = function (e) {
        return !!e && e.isAtStart();
      }, Ki.isAtEnd = function (e) {
        return !!e && e.isAtEnd();
      }, Ki.isTextPosition = function (e) {
        return !!e && Po.isText(e.container());
      }, Ki.isElementPosition = function (e) {
        return !1 === Ki.isTextPosition(e);
      };

      var bu,
          yu,
          Cu = vu,
          xu = Po.isText,
          wu = Po.isBogus,
          Nu = bi.nodeIndex,
          Eu = function Eu(e) {
        var t = e.parentNode;
        return wu(t) ? Eu(t) : t;
      },
          Su = function Su(e) {
        return e ? Wt.reduce(e.childNodes, function (e, t) {
          return wu(t) && "BR" !== t.nodeName ? e = e.concat(Su(t)) : e.push(t), e;
        }, []) : [];
      },
          ku = function ku(t) {
        return function (e) {
          return t === e;
        };
      },
          Tu = function Tu(e) {
        var t, r, n, o;
        return (xu(e) ? "text()" : e.nodeName.toLowerCase()) + "[" + (r = Su(Eu(t = e)), n = Wt.findIndex(r, ku(t), t), r = r.slice(0, n + 1), o = Wt.reduce(r, function (e, t, n) {
          return xu(t) && xu(r[n - 1]) && e++, e;
        }, 0), r = Wt.filter(r, Po.matchNodeNames(t.nodeName)), (n = Wt.findIndex(r, ku(t), t)) - o) + "]";
      },
          Au = function Au(e, t) {
        var n,
            r,
            o,
            i,
            a,
            u = [];
        return n = t.container(), r = t.offset(), xu(n) ? o = function (e, t) {
          for (; (e = e.previousSibling) && xu(e);) {
            t += e.data.length;
          }

          return t;
        }(n, r) : (r >= (i = n.childNodes).length ? (o = "after", r = i.length - 1) : o = "before", n = i[r]), u.push(Tu(n)), a = function (e, t, n) {
          var r = [];

          for (t = t.parentNode; !(t === e || n && n(t)); t = t.parentNode) {
            r.push(t);
          }

          return r;
        }(e, n), a = Wt.filter(a, y(Po.isBogus)), (u = u.concat(Wt.map(a, function (e) {
          return Tu(e);
        }))).reverse().join("/") + "," + o;
      },
          Ru = function Ru(e, t) {
        var n, r, o;
        return t ? (t = (n = t.split(","))[0].split("/"), o = 1 < n.length ? n[1] : "before", (r = Wt.reduce(t, function (e, t) {
          return (t = /([\w\-\(\)]+)\[([0-9]+)\]/.exec(t)) ? ("text()" === t[1] && (t[1] = "#text"), n = e, r = t[1], o = parseInt(t[2], 10), i = Su(n), i = Wt.filter(i, function (e, t) {
            return !xu(e) || !xu(i[t - 1]);
          }), (i = Wt.filter(i, Po.matchNodeNames(r)))[o]) : null;
          var n, r, o, i;
        }, e)) ? xu(r) ? function (e, t) {
          for (var n, r = e, o = 0; xu(r);) {
            if (n = r.data.length, o <= t && t <= o + n) {
              e = r, t -= o;
              break;
            }

            if (!xu(r.nextSibling)) {
              e = r, t = n;
              break;
            }

            o += n, r = r.nextSibling;
          }

          return xu(e) && t > e.data.length && (t = e.data.length), Cu(e, t);
        }(r, parseInt(o, 10)) : (o = "after" === o ? Nu(r) + 1 : Nu(r), Cu(r.parentNode, o)) : null) : null;
      },
          _u = function _u(e, t) {
        Po.isText(t) && 0 === t.data.length && e.remove(t);
      },
          Du = function Du(e, t, n) {
        var r, o, i, a, u, s, c;
        Po.isDocumentFragment(n) ? (i = e, a = t, u = n, s = A.from(u.firstChild), c = A.from(u.lastChild), a.insertNode(u), s.each(function (e) {
          return _u(i, e.previousSibling);
        }), c.each(function (e) {
          return _u(i, e.nextSibling);
        })) : (r = e, o = n, t.insertNode(o), _u(r, o.previousSibling), _u(r, o.nextSibling));
      },
          Bu = Po.isContentEditableFalse,
          Ou = function Ou(e, t, n, r, o) {
        var i,
            a = r[o ? "startContainer" : "endContainer"],
            u = r[o ? "startOffset" : "endOffset"],
            s = [],
            c = 0,
            l = e.getRoot();

        for (Po.isText(a) ? s.push(n ? function (e, t, n) {
          var r, o;

          for (o = e(t.data.slice(0, n)).length, r = t.previousSibling; r && Po.isText(r); r = r.previousSibling) {
            o += e(r.data).length;
          }

          return o;
        }(t, a, u) : u) : (u >= (i = a.childNodes).length && i.length && (c = 1, u = Math.max(0, i.length - 1)), s.push(e.nodeIndex(i[u], n) + c)); a && a !== l; a = a.parentNode) {
          s.push(e.nodeIndex(a, n));
        }

        return s;
      },
          Pu = function Pu(e, t, n) {
        var r = 0;
        return Jt.each(e.select(t), function (e) {
          if ("all" !== e.getAttribute("data-mce-bogus")) return e !== n && void r++;
        }), r;
      },
          Iu = function Iu(e, t) {
        var n,
            r,
            o,
            i = t ? "start" : "end";
        n = e[i + "Container"], r = e[i + "Offset"], Po.isElement(n) && "TR" === n.nodeName && (n = (o = n.childNodes)[Math.min(t ? r : r - 1, o.length - 1)]) && (r = t ? 0 : n.childNodes.length, e["set" + (t ? "Start" : "End")](n, r));
      },
          Lu = function Lu(e) {
        return Iu(e, !0), Iu(e, !1), e;
      },
          Mu = function Mu(e, t) {
        var n;
        if (Po.isElement(e) && (e = Wa(e, t), Bu(e))) return e;

        if (ya(e)) {
          if (Po.isText(e) && va(e) && (e = e.parentNode), n = e.previousSibling, Bu(n)) return n;
          if (n = e.nextSibling, Bu(n)) return n;
        }
      },
          Fu = function Fu(e, t, n) {
        var r = n.getNode(),
            o = r ? r.nodeName : null,
            i = n.getRng();
        if (Bu(r) || "IMG" === o) return {
          name: o,
          index: Pu(n.dom, o, r)
        };
        var a,
            u,
            s,
            c,
            l,
            f,
            d,
            m = Mu((a = i).startContainer, a.startOffset) || Mu(a.endContainer, a.endOffset);
        return m ? {
          name: o = m.tagName,
          index: Pu(n.dom, o, m)
        } : (u = e, c = t, l = i, f = (s = n).dom, (d = {}).start = Ou(f, u, c, l, !0), s.isCollapsed() || (d.end = Ou(f, u, c, l, !1)), d);
      },
          zu = function zu(e, t, n) {
        var r = {
          "data-mce-type": "bookmark",
          id: t,
          style: "overflow:hidden;line-height:0px"
        };
        return n ? e.create("span", r, "&#xFEFF;") : e.create("span", r);
      },
          Uu = function Uu(e, t) {
        var n = e.dom,
            r = e.getRng(),
            o = n.uniqueId(),
            i = e.isCollapsed(),
            a = e.getNode(),
            u = a.nodeName;
        if ("IMG" === u) return {
          name: u,
          index: Pu(n, u, a)
        };
        var s = Lu(r.cloneRange());

        if (!i) {
          s.collapse(!1);
          var c = zu(n, o + "_end", t);
          Du(n, s, c);
        }

        (r = Lu(r)).collapse(!0);
        var l = zu(n, o + "_start", t);
        return Du(n, r, l), e.moveToBookmark({
          id: o,
          keep: 1
        }), {
          id: o
        };
      },
          Vu = {
        getBookmark: function getBookmark(e, t, n) {
          return 2 === t ? Fu(ga, n, e) : 3 === t ? (o = (r = e).getRng(), {
            start: Au(r.dom.getRoot(), Cu.fromRangeStart(o)),
            end: Au(r.dom.getRoot(), Cu.fromRangeEnd(o))
          }) : t ? {
            rng: e.getRng()
          } : Uu(e, !1);
          var r, o;
        },
        getUndoBookmark: d(Fu, $, !0),
        getPersistentBookmark: Uu
      },
          Hu = "_mce_caret",
          ju = function ju(e) {
        return Po.isElement(e) && e.id === Hu;
      },
          qu = function qu(e, t) {
        for (; t && t !== e;) {
          if (t.id === Hu) return t;
          t = t.parentNode;
        }

        return null;
      },
          $u = Po.isElement,
          Wu = Po.isText,
          Ku = function Ku(e) {
        var t = e.parentNode;
        t && t.removeChild(e);
      },
          Xu = function Xu(e, t) {
        0 === t.length ? Ku(e) : e.nodeValue = t;
      },
          Yu = function Yu(e) {
        var t = ga(e);
        return {
          count: e.length - t.length,
          text: t
        };
      },
          Gu = function Gu(e, t) {
        return Zu(e), t;
      },
          Ju = function Ju(e, t) {
        var n,
            r,
            o,
            i = t.container(),
            a = (n = oe(i.childNodes), r = e, o = M(n, r), -1 === o ? A.none() : A.some(o)).map(function (e) {
          return e < t.offset() ? Cu(i, t.offset() - 1) : t;
        }).getOr(t);
        return Zu(e), a;
      },
          Qu = function Qu(e, t) {
        return Wu(e) && t.container() === e ? (r = t, o = Yu((n = e).data.substr(0, r.offset())), i = Yu(n.data.substr(r.offset())), 0 < (a = o.text + i.text).length ? (Xu(n, a), Cu(n, r.offset() - o.count)) : r) : Gu(e, t);
        var n, r, o, i, a;
      },
          Zu = function Zu(e) {
        if ($u(e) && ya(e) && (Ca(e) ? e.removeAttribute("data-mce-caret") : Ku(e)), Wu(e)) {
          var t = ga(function (e) {
            try {
              return e.nodeValue;
            } catch (t) {
              return "";
            }
          }(e));
          Xu(e, t);
        }
      },
          es = {
        removeAndReposition: function removeAndReposition(e, t) {
          return Cu.isTextPosition(t) ? Qu(e, t) : (n = e, (r = t).container() === n.parentNode ? Ju(n, r) : Gu(n, r));
          var n, r;
        },
        remove: Zu
      },
          ts = rr.detect().browser,
          ns = Po.isContentEditableFalse,
          rs = function rs(e, t, n) {
        var r,
            o,
            i,
            a,
            u,
            s = Ua(t.getBoundingClientRect(), n);
        return "BODY" === e.tagName ? (r = e.ownerDocument.documentElement, o = e.scrollLeft || r.scrollLeft, i = e.scrollTop || r.scrollTop) : (u = e.getBoundingClientRect(), o = e.scrollLeft - u.left, i = e.scrollTop - u.top), s.left += o, s.right += o, s.top += i, s.bottom += i, s.width = 1, 0 < (a = t.offsetWidth - t.clientWidth) && (n && (a *= -1), s.left += a, s.right += a), s;
      },
          os = function os(a, u, e) {
        var t,
            s,
            c = Li(A.none()),
            l = function l() {
          !function (e) {
            var t, n, r, o, i;

            for (t = vn("*[contentEditable=false]", e), o = 0; o < t.length; o++) {
              r = (n = t[o]).previousSibling, Sa(r) && (1 === (i = r.data).length ? r.parentNode.removeChild(r) : r.deleteData(i.length - 1, 1)), r = n.nextSibling, Ea(r) && (1 === (i = r.data).length ? r.parentNode.removeChild(r) : r.deleteData(0, 1));
            }
          }(a), s && (es.remove(s), s = null), c.get().each(function (e) {
            vn(e.caret).remove(), c.set(A.none());
          }), clearInterval(t);
        },
            f = function f() {
          t = ye.setInterval(function () {
            e() ? vn("div.mce-visual-caret", a).toggleClass("mce-visual-caret-hidden") : vn("div.mce-visual-caret", a).addClass("mce-visual-caret-hidden");
          }, 500);
        };

        return {
          show: function show(t, e) {
            var n, r, o;
            if (l(), o = e, Po.isElement(o) && /^(TD|TH)$/i.test(o.tagName)) return null;
            if (!u(e)) return s = function (e, t) {
              var n, r, o;

              if (r = e.ownerDocument.createTextNode(ma), o = e.parentNode, t) {
                if (n = e.previousSibling, ha(n)) {
                  if (ya(n)) return n;
                  if (Sa(n)) return n.splitText(n.data.length - 1);
                }

                o.insertBefore(r, e);
              } else {
                if (n = e.nextSibling, ha(n)) {
                  if (ya(n)) return n;
                  if (Ea(n)) return n.splitText(1), n;
                }

                e.nextSibling ? o.insertBefore(r, e.nextSibling) : o.appendChild(r);
              }

              return r;
            }(e, t), r = e.ownerDocument.createRange(), ns(s.nextSibling) ? (r.setStart(s, 0), r.setEnd(s, 0)) : (r.setStart(s, 1), r.setEnd(s, 1)), r;
            s = Na("p", e, t), n = rs(a, e, t), vn(s).css("top", n.top);
            var i = vn('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(n).appendTo(a)[0];
            return c.set(A.some({
              caret: i,
              element: e,
              before: t
            })), c.get().each(function (e) {
              t && vn(e.caret).addClass("mce-visual-caret-before");
            }), f(), (r = e.ownerDocument.createRange()).setStart(s, 0), r.setEnd(s, 0), r;
          },
          hide: l,
          getCss: function getCss() {
            return ".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}";
          },
          reposition: function reposition() {
            c.get().each(function (e) {
              var t = rs(a, e.element, e.before);
              vn(e.caret).css(t);
            });
          },
          destroy: function destroy() {
            return ye.clearInterval(t);
          }
        };
      },
          is = function is() {
        return ts.isIE() || ts.isEdge() || ts.isFirefox();
      },
          as = function as(e) {
        return ns(e) || Po.isTable(e) && is();
      },
          us = Po.isContentEditableFalse,
          ss = Po.matchStyleValues("display", "block table table-cell table-caption list-item"),
          cs = ya,
          ls = va,
          fs = Po.isElement,
          ds = Ia,
          ms = function ms(e) {
        return 0 < e;
      },
          gs = function gs(e) {
        return e < 0;
      },
          ps = function ps(e, t) {
        for (var n; n = e(t);) {
          if (!ls(n)) return n;
        }

        return null;
      },
          hs = function hs(e, t, n, r, o) {
        var i = new ao(e, r);

        if (gs(t)) {
          if ((us(e) || ls(e)) && n(e = ps(i.prev, !0))) return e;

          for (; e = ps(i.prev, o);) {
            if (n(e)) return e;
          }
        }

        if (ms(t)) {
          if ((us(e) || ls(e)) && n(e = ps(i.next, !0))) return e;

          for (; e = ps(i.next, o);) {
            if (n(e)) return e;
          }
        }

        return null;
      },
          vs = function vs(e, t) {
        for (; e && e !== t;) {
          if (ss(e)) return e;
          e = e.parentNode;
        }

        return null;
      },
          bs = function bs(e, t, n) {
        return vs(e.container(), n) === vs(t.container(), n);
      },
          ys = function ys(e, t) {
        var n, r;
        return t ? (n = t.container(), r = t.offset(), fs(n) ? n.childNodes[r + e] : null) : null;
      },
          Cs = function Cs(e, t) {
        var n = t.ownerDocument.createRange();
        return e ? (n.setStartBefore(t), n.setEndBefore(t)) : (n.setStartAfter(t), n.setEndAfter(t)), n;
      },
          xs = function xs(e, t, n) {
        var r, o, i, a;

        for (o = e ? "previousSibling" : "nextSibling"; n && n !== t;) {
          if (r = n[o], cs(r) && (r = r[o]), us(r)) {
            if (a = n, vs(r, i = t) === vs(a, i)) return r;
            break;
          }

          if (ds(r)) break;
          n = n.parentNode;
        }

        return null;
      },
          ws = d(Cs, !0),
          Ns = d(Cs, !1),
          Es = function Es(e, t, n) {
        var r,
            o,
            i,
            a,
            u = d(xs, !0, t),
            s = d(xs, !1, t);

        if (o = n.startContainer, i = n.startOffset, va(o)) {
          if (fs(o) || (o = o.parentNode), "before" === (a = o.getAttribute("data-mce-caret")) && (r = o.nextSibling, as(r))) return ws(r);
          if ("after" === a && (r = o.previousSibling, as(r))) return Ns(r);
        }

        if (!n.collapsed) return n;

        if (Po.isText(o)) {
          if (cs(o)) {
            if (1 === e) {
              if (r = s(o)) return ws(r);
              if (r = u(o)) return Ns(r);
            }

            if (-1 === e) {
              if (r = u(o)) return Ns(r);
              if (r = s(o)) return ws(r);
            }

            return n;
          }

          if (Sa(o) && i >= o.data.length - 1) return 1 === e && (r = s(o)) ? ws(r) : n;
          if (Ea(o) && i <= 1) return -1 === e && (r = u(o)) ? Ns(r) : n;
          if (i === o.data.length) return (r = s(o)) ? ws(r) : n;
          if (0 === i) return (r = u(o)) ? Ns(r) : n;
        }

        return n;
      },
          Ss = function Ss(e, t) {
        return A.from(ys(e ? 0 : -1, t)).filter(us);
      },
          ks = function ks(e, t, n) {
        var r = Es(e, t, n);
        return -1 === e ? vu.fromRangeStart(r) : vu.fromRangeEnd(r);
      },
          Ts = function Ts(e) {
        return A.from(e.getNode()).map(ir.fromDom);
      },
          As = function As(e, t) {
        for (; t = e(t);) {
          if (t.isVisible()) return t;
        }

        return t;
      },
          Rs = function Rs(e, t) {
        var n = bs(e, t);
        return !(n || !Po.isBr(e.getNode())) || n;
      };

      (yu = bu || (bu = {}))[yu.Backwards = -1] = "Backwards", yu[yu.Forwards = 1] = "Forwards";

      var _s,
          Ds,
          Bs,
          Os,
          Ps,
          Is = Po.isContentEditableFalse,
          Ls = Po.isText,
          Ms = Po.isElement,
          Fs = Po.isBr,
          zs = Ia,
          Us = function Us(e) {
        return Ba(e) || !!La(t = e) && !0 !== X(oe(t.getElementsByTagName("*")), function (e, t) {
          return e || Ta(t);
        }, !1);
        var t;
      },
          Vs = Ma,
          Hs = function Hs(e, t) {
        return e.hasChildNodes() && t < e.childNodes.length ? e.childNodes[t] : null;
      },
          js = function js(e, t) {
        if (ms(e)) {
          if (zs(t.previousSibling) && !Ls(t.previousSibling)) return Cu.before(t);
          if (Ls(t)) return Cu(t, 0);
        }

        if (gs(e)) {
          if (zs(t.nextSibling) && !Ls(t.nextSibling)) return Cu.after(t);
          if (Ls(t)) return Cu(t, t.data.length);
        }

        return gs(e) ? Fs(t) ? Cu.before(t) : Cu.after(t) : Cu.before(t);
      },
          qs = function qs(e, t, n) {
        var r, o, i, a, u;
        if (!Ms(n) || !t) return null;

        if (t.isEqual(Cu.after(n)) && n.lastChild) {
          if (u = Cu.after(n.lastChild), gs(e) && zs(n.lastChild) && Ms(n.lastChild)) return Fs(n.lastChild) ? Cu.before(n.lastChild) : u;
        } else u = t;

        var s,
            c,
            l,
            f = u.container(),
            d = u.offset();

        if (Ls(f)) {
          if (gs(e) && 0 < d) return Cu(f, --d);
          if (ms(e) && d < f.length) return Cu(f, ++d);
          r = f;
        } else {
          if (gs(e) && 0 < d && (o = Hs(f, d - 1), zs(o))) return !Us(o) && (i = hs(o, e, Vs, o)) ? Ls(i) ? Cu(i, i.data.length) : Cu.after(i) : Ls(o) ? Cu(o, o.data.length) : Cu.before(o);
          if (ms(e) && d < f.childNodes.length && (o = Hs(f, d), zs(o))) return Fs(o) ? (s = n, (l = (c = o).nextSibling) && zs(l) ? Ls(l) ? Cu(l, 0) : Cu.before(l) : qs(bu.Forwards, Cu.after(c), s)) : !Us(o) && (i = hs(o, e, Vs, o)) ? Ls(i) ? Cu(i, 0) : Cu.before(i) : Ls(o) ? Cu(o, 0) : Cu.after(o);
          r = o || u.getNode();
        }

        return (ms(e) && u.isAtEnd() || gs(e) && u.isAtStart()) && (r = hs(r, e, q(!0), n, !0), Vs(r, n)) ? js(e, r) : (o = hs(r, e, Vs, n), !(a = Wt.last(V(function (e, t) {
          for (var n = []; e && e !== t;) {
            n.push(e), e = e.parentNode;
          }

          return n;
        }(f, n), Is))) || o && a.contains(o) ? o ? js(e, o) : null : u = ms(e) ? Cu.after(a) : Cu.before(a));
      },
          $s = function $s(t) {
        return {
          next: function next(e) {
            return qs(bu.Forwards, e, t);
          },
          prev: function prev(e) {
            return qs(bu.Backwards, e, t);
          }
        };
      },
          Ws = function Ws(e) {
        return Cu.isTextPosition(e) ? 0 === e.offset() : Ia(e.getNode());
      },
          Ks = function Ks(e) {
        if (Cu.isTextPosition(e)) {
          var t = e.container();
          return e.offset() === t.data.length;
        }

        return Ia(e.getNode(!0));
      },
          Xs = function Xs(e, t) {
        return !Cu.isTextPosition(e) && !Cu.isTextPosition(t) && e.getNode() === t.getNode(!0);
      },
          Ys = function Ys(e, t, n) {
        return e ? !Xs(t, n) && (r = t, !(!Cu.isTextPosition(r) && Po.isBr(r.getNode()))) && Ks(t) && Ws(n) : !Xs(n, t) && Ws(t) && Ks(n);
        var r;
      },
          Gs = function Gs(e, t, n) {
        var r = $s(t);
        return A.from(e ? r.next(n) : r.prev(n));
      },
          Js = function Js(t, n, r) {
        return Gs(t, n, r).bind(function (e) {
          return bs(r, e, n) && Ys(t, r, e) ? Gs(t, n, e) : A.some(e);
        });
      },
          Qs = function Qs(t, n, e, r) {
        return Js(t, n, e).bind(function (e) {
          return r(e) ? Qs(t, n, e, r) : A.some(e);
        });
      },
          Zs = function Zs(e, t) {
        var n,
            r,
            o,
            i,
            a,
            u = e ? t.firstChild : t.lastChild;
        return Po.isText(u) ? A.some(Cu(u, e ? 0 : u.data.length)) : u ? Ia(u) ? A.some(e ? Cu.before(u) : (a = u, Po.isBr(a) ? Cu.before(a) : Cu.after(a))) : (r = t, o = u, i = (n = e) ? Cu.before(o) : Cu.after(o), Gs(n, r, i)) : A.none();
      },
          ec = d(Gs, !0),
          tc = d(Gs, !1),
          nc = {
        fromPosition: Gs,
        nextPosition: ec,
        prevPosition: tc,
        navigate: Js,
        navigateIgnore: Qs,
        positionIn: Zs,
        firstPositionIn: d(Zs, !0),
        lastPositionIn: d(Zs, !1)
      },
          rc = function rc(e, t) {
        return !e.isBlock(t) || t.innerHTML || ge.ie || (t.innerHTML = '<br data-mce-bogus="1" />'), t;
      },
          oc = function oc(e, t) {
        return nc.lastPositionIn(e).fold(function () {
          return !1;
        }, function (e) {
          return t.setStart(e.container(), e.offset()), t.setEnd(e.container(), e.offset()), !0;
        });
      },
          ic = function ic(e, t, n) {
        return !(!1 !== t.hasChildNodes() || !qu(e, t) || (o = n, i = (r = t).ownerDocument.createTextNode(ma), r.appendChild(i), o.setStart(i, 0), o.setEnd(i, 0), 0));
        var r, o, i;
      },
          ac = function ac(e, t, n, r) {
        var o,
            i,
            a,
            u,
            s = n[t ? "start" : "end"],
            c = e.getRoot();

        if (s) {
          for (a = s[0], i = c, o = s.length - 1; 1 <= o; o--) {
            if (u = i.childNodes, ic(c, i, r)) return !0;
            if (s[o] > u.length - 1) return !!ic(c, i, r) || oc(i, r);
            i = u[s[o]];
          }

          3 === i.nodeType && (a = Math.min(s[0], i.nodeValue.length)), 1 === i.nodeType && (a = Math.min(s[0], i.childNodes.length)), t ? r.setStart(i, a) : r.setEnd(i, a);
        }

        return !0;
      },
          uc = function uc(e) {
        return Po.isText(e) && 0 < e.data.length;
      },
          sc = function sc(e, t, n) {
        var r,
            o,
            i,
            a,
            u,
            s,
            c = e.get(n.id + "_" + t),
            l = n.keep;

        if (c) {
          if (r = c.parentNode, "start" === t ? l ? c.hasChildNodes() ? (r = c.firstChild, o = 1) : uc(c.nextSibling) ? (r = c.nextSibling, o = 0) : uc(c.previousSibling) ? (r = c.previousSibling, o = c.previousSibling.data.length) : (r = c.parentNode, o = e.nodeIndex(c) + 1) : o = e.nodeIndex(c) : l ? c.hasChildNodes() ? (r = c.firstChild, o = 1) : uc(c.previousSibling) ? (r = c.previousSibling, o = c.previousSibling.data.length) : (r = c.parentNode, o = e.nodeIndex(c)) : o = e.nodeIndex(c), u = r, s = o, !l) {
            for (a = c.previousSibling, i = c.nextSibling, Jt.each(Jt.grep(c.childNodes), function (e) {
              Po.isText(e) && (e.nodeValue = e.nodeValue.replace(/\uFEFF/g, ""));
            }); c = e.get(n.id + "_" + t);) {
              e.remove(c, !0);
            }

            a && i && a.nodeType === i.nodeType && Po.isText(a) && !ge.opera && (o = a.nodeValue.length, a.appendData(i.nodeValue), e.remove(i), u = a, s = o);
          }

          return A.some(Cu(u, s));
        }

        return A.none();
      },
          cc = function cc(e, t) {
        var n,
            r,
            o,
            i,
            a,
            u,
            s,
            c,
            l,
            f,
            d,
            m,
            g,
            p,
            h,
            v,
            b = e.dom;

        if (t) {
          if (v = t, Jt.isArray(v.start)) return p = t, h = (g = b).createRng(), ac(g, !0, p, h) && ac(g, !1, p, h) ? A.some(h) : A.none();
          if ("string" == typeof t.start) return A.some((f = t, d = (l = b).createRng(), m = Ru(l.getRoot(), f.start), d.setStart(m.container(), m.offset()), m = Ru(l.getRoot(), f.end), d.setEnd(m.container(), m.offset()), d));
          if (t.hasOwnProperty("id")) return s = sc(o = b, "start", i = t), c = sc(o, "end", i), Ya([s, (a = c, u = s, a.isSome() ? a : u)], function (e, t) {
            var n = o.createRng();
            return n.setStart(rc(o, e.container()), e.offset()), n.setEnd(rc(o, t.container()), t.offset()), n;
          });
          if (t.hasOwnProperty("name")) return n = b, r = t, A.from(n.select(r.name)[r.index]).map(function (e) {
            var t = n.createRng();
            return t.selectNode(e), t;
          });
          if (t.hasOwnProperty("rng")) return A.some(t.rng);
        }

        return A.none();
      },
          lc = function lc(e, t, n) {
        return Vu.getBookmark(e, t, n);
      },
          fc = function fc(t, e) {
        cc(t, e).each(function (e) {
          t.setRng(e);
        });
      },
          dc = function dc(e) {
        return Po.isElement(e) && "SPAN" === e.tagName && "bookmark" === e.getAttribute("data-mce-type");
      },
          mc = function mc(e) {
        return e && /^(IMG)$/.test(e.nodeName);
      },
          gc = function gc(e) {
        return e && 3 === e.nodeType && /^([\t \r\n]+|)$/.test(e.nodeValue);
      },
          pc = function pc(e, t, n) {
        return "color" !== n && "backgroundColor" !== n || (t = e.toHex(t)), "fontWeight" === n && 700 === t && (t = "bold"), "fontFamily" === n && (t = t.replace(/[\'\"]/g, "").replace(/,\s+/g, ",")), "" + t;
      },
          hc = {
        isInlineBlock: mc,
        moveStart: function moveStart(e, t, n) {
          var r,
              o,
              i,
              a = n.startOffset,
              u = n.startContainer;
          if ((n.startContainer !== n.endContainer || !mc(n.startContainer.childNodes[n.startOffset])) && 1 === u.nodeType) for (a < (i = u.childNodes).length ? r = new ao(u = i[a], e.getParent(u, e.isBlock)) : (r = new ao(u = i[i.length - 1], e.getParent(u, e.isBlock))).next(!0), o = r.current(); o; o = r.next()) {
            if (3 === o.nodeType && !gc(o)) return n.setStart(o, 0), void t.setRng(n);
          }
        },
        getNonWhiteSpaceSibling: function getNonWhiteSpaceSibling(e, t, n) {
          if (e) for (t = t ? "nextSibling" : "previousSibling", e = n ? e : e[t]; e; e = e[t]) {
            if (1 === e.nodeType || !gc(e)) return e;
          }
        },
        isTextBlock: function isTextBlock(e, t) {
          return t.nodeType && (t = t.nodeName), !!e.schema.getTextBlockElements()[t.toLowerCase()];
        },
        isValid: function isValid(e, t, n) {
          return e.schema.isValidChild(t, n);
        },
        isWhiteSpaceNode: gc,
        replaceVars: function replaceVars(e, n) {
          return "string" != typeof e ? e = e(n) : n && (e = e.replace(/%(\w+)/g, function (e, t) {
            return n[t] || e;
          })), e;
        },
        isEq: function isEq(e, t) {
          return t = t || "", e = "" + ((e = e || "").nodeName || e), t = "" + (t.nodeName || t), e.toLowerCase() === t.toLowerCase();
        },
        normalizeStyleValue: pc,
        getStyle: function getStyle(e, t, n) {
          return pc(e, e.getStyle(t, n), n);
        },
        getTextDecoration: function getTextDecoration(t, e) {
          var n;
          return t.getParent(e, function (e) {
            return (n = t.getStyle(e, "text-decoration")) && "none" !== n;
          }), n;
        },
        getParents: function getParents(e, t, n) {
          return e.getParents(t, n, e.getRoot());
        }
      },
          vc = dc,
          bc = hc.getParents,
          yc = hc.isWhiteSpaceNode,
          Cc = hc.isTextBlock,
          xc = function xc(e, t) {
        for (void 0 === t && (t = 3 === e.nodeType ? e.length : e.childNodes.length); e && e.hasChildNodes();) {
          (e = e.childNodes[t]) && (t = 3 === e.nodeType ? e.length : e.childNodes.length);
        }

        return {
          node: e,
          offset: t
        };
      },
          wc = function wc(e, t) {
        for (var n = t; n;) {
          if (1 === n.nodeType && e.getContentEditable(n)) return "false" === e.getContentEditable(n) ? n : t;
          n = n.parentNode;
        }

        return t;
      },
          Nc = function Nc(e, t, n, r) {
        var o,
            i,
            a = n.nodeValue;
        return void 0 === r && (r = e ? a.length : 0), e ? (o = a.lastIndexOf(" ", r), -1 !== (o = (i = a.lastIndexOf("\xa0", r)) < o ? o : i) && !t && (o < r || !e) && o <= a.length && o++) : (o = a.indexOf(" ", r), i = a.indexOf("\xa0", r), o = -1 !== o && (-1 === i || o < i) ? o : i), o;
      },
          Ec = function Ec(e, t, n, r, o, i) {
        var a, u, s, c;

        if (3 === n.nodeType) {
          if (-1 !== (s = Nc(o, i, n, r))) return {
            container: n,
            offset: s
          };
          c = n;
        }

        for (a = new ao(n, e.getParent(n, e.isBlock) || t); u = a[o ? "prev" : "next"]();) {
          if (3 !== u.nodeType || vc(u.parentNode)) {
            if (e.isBlock(u) || hc.isEq(u, "BR")) break;
          } else if (-1 !== (s = Nc(o, i, c = u))) return {
            container: u,
            offset: s
          };
        }

        if (c) return {
          container: c,
          offset: r = o ? 0 : c.length
        };
      },
          Sc = function Sc(e, t, n, r, o) {
        var i, a, u, s;

        for (3 === r.nodeType && 0 === r.nodeValue.length && r[o] && (r = r[o]), i = bc(e, r), a = 0; a < i.length; a++) {
          for (u = 0; u < t.length; u++) {
            if (!("collapsed" in (s = t[u]) && s.collapsed !== n.collapsed) && e.is(i[a], s.selector)) return i[a];
          }
        }

        return r;
      },
          kc = function kc(t, e, n, r) {
        var o,
            i = t.dom,
            a = i.getRoot();

        if (e[0].wrapper || (o = i.getParent(n, e[0].block, a)), !o) {
          var u = i.getParent(n, "LI,TD,TH");
          o = i.getParent(3 === n.nodeType ? n.parentNode : n, function (e) {
            return e !== a && Cc(t, e);
          }, u);
        }

        if (o && e[0].wrapper && (o = bc(i, o, "ul,ol").reverse()[0] || o), !o) for (o = n; o[r] && !i.isBlock(o[r]) && (o = o[r], !hc.isEq(o, "br"));) {
          ;
        }
        return o || n;
      },
          Tc = function Tc(e, t, n, r, o, i, a) {
        var u, s, c, l, f, d;
        if (u = s = a ? n : o, l = a ? "previousSibling" : "nextSibling", f = e.getRoot(), 3 === u.nodeType && !yc(u) && (a ? 0 < r : i < u.nodeValue.length)) return u;

        for (;;) {
          if (!t[0].block_expand && e.isBlock(s)) return s;

          for (c = s[l]; c; c = c[l]) {
            if (!vc(c) && !yc(c) && ("BR" !== (d = c).nodeName || !d.getAttribute("data-mce-bogus") || d.nextSibling)) return s;
          }

          if (s === f || s.parentNode === f) {
            u = s;
            break;
          }

          s = s.parentNode;
        }

        return u;
      },
          Ac = function Ac(e, t, n, r) {
        var o,
            i = t.startContainer,
            a = t.startOffset,
            u = t.endContainer,
            s = t.endOffset,
            c = e.dom;
        return 1 === i.nodeType && i.hasChildNodes() && 3 === (i = Wa(i, a)).nodeType && (a = 0), 1 === u.nodeType && u.hasChildNodes() && 3 === (u = Wa(u, t.collapsed ? s : s - 1)).nodeType && (s = u.nodeValue.length), i = wc(c, i), u = wc(c, u), (vc(i.parentNode) || vc(i)) && (i = vc(i) ? i : i.parentNode, 3 === (i = t.collapsed ? i.previousSibling || i : i.nextSibling || i).nodeType && (a = t.collapsed ? i.length : 0)), (vc(u.parentNode) || vc(u)) && (u = vc(u) ? u : u.parentNode, 3 === (u = t.collapsed ? u.nextSibling || u : u.previousSibling || u).nodeType && (s = t.collapsed ? 0 : u.length)), t.collapsed && ((o = Ec(c, e.getBody(), i, a, !0, r)) && (i = o.container, a = o.offset), (o = Ec(c, e.getBody(), u, s, !1, r)) && (u = o.container, s = o.offset)), n[0].inline && (u = r ? u : function (e, t) {
          var n = xc(e, t);

          if (n.node) {
            for (; n.node && 0 === n.offset && n.node.previousSibling;) {
              n = xc(n.node.previousSibling);
            }

            n.node && 0 < n.offset && 3 === n.node.nodeType && " " === n.node.nodeValue.charAt(n.offset - 1) && 1 < n.offset && (e = n.node).splitText(n.offset - 1);
          }

          return e;
        }(u, s)), (n[0].inline || n[0].block_expand) && (n[0].inline && 3 === i.nodeType && 0 !== a || (i = Tc(c, n, i, a, u, s, !0)), n[0].inline && 3 === u.nodeType && s !== u.nodeValue.length || (u = Tc(c, n, i, a, u, s, !1))), n[0].selector && !1 !== n[0].expand && !n[0].inline && (i = Sc(c, n, t, i, "previousSibling"), u = Sc(c, n, t, u, "nextSibling")), (n[0].block || n[0].selector) && (i = kc(e, n, i, "previousSibling"), u = kc(e, n, u, "nextSibling"), n[0].block && (c.isBlock(i) || (i = Tc(c, n, i, a, u, s, !0)), c.isBlock(u) || (u = Tc(c, n, i, a, u, s, !1)))), 1 === i.nodeType && (a = c.nodeIndex(i), i = i.parentNode), 1 === u.nodeType && (s = c.nodeIndex(u) + 1, u = u.parentNode), {
          startContainer: i,
          startOffset: a,
          endContainer: u,
          endOffset: s
        };
      },
          Rc = Jt.each,
          _c = function _c(e, t, o) {
        var n,
            r,
            i,
            a,
            u,
            s,
            c,
            l = t.startContainer,
            f = t.startOffset,
            d = t.endContainer,
            m = t.endOffset;
        if (0 < (c = e.select("td[data-mce-selected],th[data-mce-selected]")).length) Rc(c, function (e) {
          o([e]);
        });else {
          var g,
              p,
              h,
              v = function v(e) {
            var t;
            return 3 === (t = e[0]).nodeType && t === l && f >= t.nodeValue.length && e.splice(0, 1), t = e[e.length - 1], 0 === m && 0 < e.length && t === d && 3 === t.nodeType && e.splice(e.length - 1, 1), e;
          },
              b = function b(e, t, n) {
            for (var r = []; e && e !== n; e = e[t]) {
              r.push(e);
            }

            return r;
          },
              y = function y(e, t) {
            do {
              if (e.parentNode === t) return e;
              e = e.parentNode;
            } while (e);
          },
              C = function C(e, t, n) {
            var r = n ? "nextSibling" : "previousSibling";

            for (u = (a = e).parentNode; a && a !== t; a = u) {
              u = a.parentNode, (s = b(a === e ? a : a[r], r)).length && (n || s.reverse(), o(v(s)));
            }
          };

          if (1 === l.nodeType && l.hasChildNodes() && (l = l.childNodes[f]), 1 === d.nodeType && d.hasChildNodes() && (p = m, h = (g = d).childNodes, --p > h.length - 1 ? p = h.length - 1 : p < 0 && (p = 0), d = h[p] || g), l === d) return o(v([l]));

          for (n = e.findCommonAncestor(l, d), a = l; a; a = a.parentNode) {
            if (a === d) return C(l, n, !0);
            if (a === n) break;
          }

          for (a = d; a; a = a.parentNode) {
            if (a === l) return C(d, n);
            if (a === n) break;
          }

          r = y(l, n) || l, i = y(d, n) || d, C(l, r, !0), (s = b(r === l ? r : r.nextSibling, "nextSibling", i === d ? i.nextSibling : i)).length && o(v(s)), C(d, i);
        }
      },
          Dc = (_s = dr, Ds = "text", Bs = function Bs(e) {
        return _s(e) ? A.from(e.dom().nodeValue) : A.none();
      }, Os = rr.detect().browser, {
        get: function get(e) {
          if (!_s(e)) throw new Error("Can only get " + Ds + " value of a " + Ds + " node");
          return Ps(e).getOr("");
        },
        getOption: Ps = Os.isIE() && 10 === Os.version.major ? function (e) {
          try {
            return Bs(e);
          } catch (ZN) {
            return A.none();
          }
        } : Bs,
        set: function set(e, t) {
          if (!_s(e)) throw new Error("Can only set raw " + Ds + " value of a " + Ds + " node");
          e.dom().nodeValue = t;
        }
      }),
          Bc = function Bc(e) {
        return Dc.get(e);
      },
          Oc = function Oc(r, o, i, a) {
        return zr(o).fold(function () {
          return "skipping";
        }, function (e) {
          return "br" === a || dr(n = o) && "\uFEFF" === Bc(n) ? "valid" : fr(t = o) && ji(t, Zi()) ? "existing" : ju(o) ? "caret" : hc.isValid(r, i, a) && hc.isValid(r, cr(e), i) ? "valid" : "invalid-child";
          var t, n;
        });
      },
          Pc = function Pc(e, t, n, r) {
        var o,
            i,
            a = t.uid,
            u = void 0 === a ? (o = "mce-annotation", i = new Date().getTime(), o + "_" + Math.floor(1e9 * Math.random()) + ++aa + String(i)) : a,
            s = function (e, t) {
          var n = {};

          for (var r in e) {
            Object.prototype.hasOwnProperty.call(e, r) && t.indexOf(r) < 0 && (n[r] = e[r]);
          }

          if (null != e && "function" == typeof Object.getOwnPropertySymbols) {
            var o = 0;

            for (r = Object.getOwnPropertySymbols(e); o < r.length; o++) {
              t.indexOf(r[o]) < 0 && Object.prototype.propertyIsEnumerable.call(e, r[o]) && (n[r[o]] = e[r[o]]);
            }
          }

          return n;
        }(t, ["uid"]),
            c = ir.fromTag("span", e);

        Vi(c, Zi()), yr(c, "" + ta(), u), yr(c, "" + ea(), n);
        var l,
            f = r(u, s),
            d = f.attributes,
            m = void 0 === d ? {} : d,
            g = f.classes,
            p = void 0 === g ? [] : g;
        return Cr(c, m), l = c, U(p, function (e) {
          Vi(l, e);
        }), c;
      },
          Ic = function Ic(i, e, t, n, r) {
        var a = [],
            u = Pc(i.getDoc(), r, t, n),
            s = Li(A.none()),
            c = function c() {
          s.set(A.none());
        },
            l = function l(e) {
          U(e, o);
        },
            o = function o(e) {
          var t, n;

          switch (Oc(i, e, "span", cr(e))) {
            case "invalid-child":
              c();
              var r = qr(e);
              l(r), c();
              break;

            case "valid":
              var o = s.get().getOrThunk(function () {
                var e = sa(u);
                return a.push(e), s.set(A.some(e)), e;
              });
              Ti(t = e, n = o), _i(n, t);
          }
        };

        return _c(i.dom, e, function (e) {
          var t;
          c(), t = W(e, ir.fromDom), l(t);
        }), a;
      },
          Lc = function Lc(s, c, l, f) {
        s.undoManager.transact(function () {
          var e,
              t,
              n,
              r,
              o = s.selection.getRng();

          if (o.collapsed && (r = Ac(e = s, t = o, [{
            inline: !0
          }], 3 === (n = t).startContainer.nodeType && n.startContainer.nodeValue.length >= n.startOffset && "\xa0" === n.startContainer.nodeValue[n.startOffset]), t.setStart(r.startContainer, r.startOffset), t.setEnd(r.endContainer, r.endOffset), e.selection.setRng(t)), s.selection.getRng().collapsed) {
            var i = Pc(s.getDoc(), f, c, l.decorate);
            la(i, "\xa0"), s.selection.getRng().insertNode(i.dom()), s.selection.select(i.dom());
          } else {
            var a = Vu.getPersistentBookmark(s.selection, !1),
                u = s.selection.getRng();
            Ic(s, u, c, l.decorate, f), s.selection.moveToBookmark(a);
          }
        });
      };

      function Mc(s) {
        var n,
            r = (n = {}, {
          register: function register(e, t) {
            n[e] = {
              name: e,
              settings: t
            };
          },
          lookup: function lookup(e) {
            return n.hasOwnProperty(e) ? A.from(n[e]).map(function (e) {
              return e.settings;
            }) : A.none();
          }
        });
        ia(s, r);
        var o = oa(s);
        return {
          register: function register(e, t) {
            r.register(e, t);
          },
          annotate: function annotate(t, n) {
            r.lookup(t).each(function (e) {
              Lc(s, t, e, n);
            });
          },
          annotationChanged: function annotationChanged(e, t) {
            o.addListener(e, t);
          },
          remove: function remove(e) {
            na(s, A.some(e)).each(function (e) {
              var t = e.elements;
              U(t, Pi);
            });
          },
          getAll: function getAll(e) {
            var t,
                n,
                r,
                o,
                i,
                a,
                u = (t = s, n = e, r = ir.fromDom(t.getBody()), o = $i(r, "[" + ea() + '="' + n + '"]'), i = {}, U(o, function (e) {
              var t = xr(e, ta()),
                  n = i.hasOwnProperty(t) ? i[t] : [];
              i[t] = n.concat([e]);
            }), i);
            return a = function a(e) {
              return W(e, function (e) {
                return e.dom();
              });
            }, hr(u, function (e, t, n) {
              return {
                k: t,
                v: a(e, t, n)
              };
            });
          }
        };
      }

      var Fc = function Fc(e) {
        return Jt.grep(e.childNodes, function (e) {
          return "LI" === e.nodeName;
        });
      },
          zc = function zc(e) {
        return e && e.firstChild && e.firstChild === e.lastChild && ("\xa0" === (t = e.firstChild).data || Po.isBr(t));
        var t;
      },
          Uc = function Uc(e) {
        return 0 < e.length && (!(t = e[e.length - 1]).firstChild || zc(t)) ? e.slice(0, -1) : e;
        var t;
      },
          Vc = function Vc(e, t) {
        var n = e.getParent(t, e.isBlock);
        return n && "LI" === n.nodeName ? n : null;
      },
          Hc = function Hc(e, t) {
        var n = Cu.after(e),
            r = $s(t).prev(n);
        return r ? r.toRange() : null;
      },
          jc = function jc(t, e, n) {
        var r,
            o,
            i,
            a,
            u = t.parentNode;
        return Jt.each(e, function (e) {
          u.insertBefore(e, t);
        }), r = t, o = n, i = Cu.before(r), (a = $s(o).next(i)) ? a.toRange() : null;
      },
          qc = function qc(e, t) {
        var n,
            r,
            o,
            i,
            a,
            u,
            s = t.firstChild,
            c = t.lastChild;
        return s && "meta" === s.name && (s = s.next), c && "mce_marker" === c.attr("id") && (c = c.prev), r = c, u = (n = e).getNonEmptyElements(), r && (r.isEmpty(u) || (o = r, n.getBlockElements()[o.name] && (a = o).firstChild && a.firstChild === a.lastChild && ("br" === (i = o.firstChild).name || "\xa0" === i.value))) && (c = c.prev), !(!s || s !== c || "ul" !== s.name && "ol" !== s.name);
      },
          $c = function $c(e, o, i, t) {
        var n,
            r,
            a,
            u,
            s,
            c,
            l,
            f,
            d,
            m,
            g,
            p,
            h,
            v,
            b,
            y,
            C,
            x,
            w,
            N = (n = o, r = t, c = e.serialize(r), l = n.createFragment(c), u = (a = l).firstChild, s = a.lastChild, u && "META" === u.nodeName && u.parentNode.removeChild(u), s && "mce_marker" === s.id && s.parentNode.removeChild(s), a),
            E = Vc(o, i.startContainer),
            S = Uc(Fc(N.firstChild)),
            k = o.getRoot(),
            T = function T(e) {
          var t = Cu.fromRangeStart(i),
              n = $s(o.getRoot()),
              r = 1 === e ? n.prev(t) : n.next(t);
          return !r || Vc(o, r.getNode()) !== E;
        };

        return T(1) ? jc(E, S, k) : T(2) ? (f = E, d = S, m = k, o.insertAfter(d.reverse(), f), Hc(d[0], m)) : (p = S, h = k, v = g = E, y = (b = i).cloneRange(), C = b.cloneRange(), y.setStartBefore(v), C.setEndAfter(v), x = [y.cloneContents(), C.cloneContents()], (w = g.parentNode).insertBefore(x[0], g), Jt.each(p, function (e) {
          w.insertBefore(e, g);
        }), w.insertBefore(x[1], g), w.removeChild(g), Hc(p[p.length - 1], h));
      },
          Wc = function Wc(e, t) {
        return !!Vc(e, t);
      },
          Kc = Jt.each,
          Xc = function Xc(o) {
        this.compare = function (e, t) {
          if (e.nodeName !== t.nodeName) return !1;

          var n = function n(_n4) {
            var r = {};
            return Kc(o.getAttribs(_n4), function (e) {
              var t = e.nodeName.toLowerCase();
              0 !== t.indexOf("_") && "style" !== t && 0 !== t.indexOf("data-") && (r[t] = o.getAttrib(_n4, t));
            }), r;
          },
              r = function r(e, t) {
            var n, r;

            for (r in e) {
              if (e.hasOwnProperty(r)) {
                if (void 0 === (n = t[r])) return !1;
                if (e[r] !== n) return !1;
                delete t[r];
              }
            }

            for (r in t) {
              if (t.hasOwnProperty(r)) return !1;
            }

            return !0;
          };

          return !(!r(n(e), n(t)) || !r(o.parseStyle(o.getAttrib(e, "style")), o.parseStyle(o.getAttrib(t, "style"))) || dc(e) || dc(t));
        };
      },
          Yc = function Yc(e) {
        var t = $i(e, "br"),
            n = V(function (e) {
          for (var t = [], n = e.dom(); n;) {
            t.push(ir.fromDom(n)), n = n.lastChild;
          }

          return t;
        }(e).slice(-1), po);
        t.length === n.length && U(n, Oi);
      },
          Gc = function Gc(e) {
        Bi(e), _i(e, ir.fromHtml('<br data-mce-bogus="1">'));
      },
          Jc = function Jc(n) {
        Kr(n).each(function (t) {
          Ur(t).each(function (e) {
            mo(n) && po(t) && mo(e) && Oi(t);
          });
        });
      },
          Qc = Jt.makeMap;

      function Zc(e) {
        var u,
            s,
            c,
            l,
            f,
            d = [];
        return u = (e = e || {}).indent, s = Qc(e.indent_before || ""), c = Qc(e.indent_after || ""), l = Xo.getEncodeFunc(e.entity_encoding || "raw", e.entities), f = "html" === e.element_format, {
          start: function start(e, t, n) {
            var r, o, i, a;
            if (u && s[e] && 0 < d.length && 0 < (a = d[d.length - 1]).length && "\n" !== a && d.push("\n"), d.push("<", e), t) for (r = 0, o = t.length; r < o; r++) {
              i = t[r], d.push(" ", i.name, '="', l(i.value, !0), '"');
            }
            d[d.length] = !n || f ? ">" : " />", n && u && c[e] && 0 < d.length && 0 < (a = d[d.length - 1]).length && "\n" !== a && d.push("\n");
          },
          end: function end(e) {
            var t;
            d.push("</", e, ">"), u && c[e] && 0 < d.length && 0 < (t = d[d.length - 1]).length && "\n" !== t && d.push("\n");
          },
          text: function text(e, t) {
            0 < e.length && (d[d.length] = t ? e : l(e));
          },
          cdata: function cdata(e) {
            d.push("<![CDATA[", e, "]]>");
          },
          comment: function comment(e) {
            d.push("\x3c!--", e, "--\x3e");
          },
          pi: function pi(e, t) {
            t ? d.push("<?", e, " ", l(t), "?>") : d.push("<?", e, "?>"), u && d.push("\n");
          },
          doctype: function doctype(e) {
            d.push("<!DOCTYPE", e, ">", u ? "\n" : "");
          },
          reset: function reset() {
            d.length = 0;
          },
          getContent: function getContent() {
            return d.join("").replace(/\n$/, "");
          }
        };
      }

      function el(t, g) {
        void 0 === g && (g = ii());
        var p = Zc(t);
        return (t = t || {}).validate = !("validate" in t) || t.validate, {
          serialize: function serialize(e) {
            var f, d;
            d = t.validate, f = {
              3: function _(e) {
                p.text(e.value, e.raw);
              },
              8: function _(e) {
                p.comment(e.value);
              },
              7: function _(e) {
                p.pi(e.name, e.value);
              },
              10: function _(e) {
                p.doctype(e.value);
              },
              4: function _(e) {
                p.cdata(e.value);
              },
              11: function _(e) {
                if (e = e.firstChild) for (; m(e), e = e.next;) {
                  ;
                }
              }
            }, p.reset();

            var m = function m(e) {
              var t,
                  n,
                  r,
                  o,
                  i,
                  a,
                  u,
                  s,
                  c,
                  l = f[e.type];
              if (l) l(e);else {
                if (t = e.name, n = e.shortEnded, r = e.attributes, d && r && 1 < r.length && ((a = []).map = {}, c = g.getElementRule(e.name))) {
                  for (u = 0, s = c.attributesOrder.length; u < s; u++) {
                    (o = c.attributesOrder[u]) in r.map && (i = r.map[o], a.map[o] = i, a.push({
                      name: o,
                      value: i
                    }));
                  }

                  for (u = 0, s = r.length; u < s; u++) {
                    (o = r[u].name) in a.map || (i = r.map[o], a.map[o] = i, a.push({
                      name: o,
                      value: i
                    }));
                  }

                  r = a;
                }

                if (p.start(e.name, r, n), !n) {
                  if (e = e.firstChild) for (; m(e), e = e.next;) {
                    ;
                  }
                  p.end(t);
                }
              }
            };

            return 1 !== e.type || t.inner ? f[11](e) : m(e), p.getContent();
          }
        };
      }

      var tl,
          nl = function nl(a) {
        var u = Cu.fromRangeStart(a),
            s = Cu.fromRangeEnd(a),
            c = a.commonAncestorContainer;
        return nc.fromPosition(!1, c, s).map(function (e) {
          return !bs(u, s, c) && bs(u, e, c) ? (t = u.container(), n = u.offset(), r = e.container(), o = e.offset(), (i = H.document.createRange()).setStart(t, n), i.setEnd(r, o), i) : a;
          var t, n, r, o, i;
        }).getOr(a);
      },
          rl = function rl(e) {
        return e.collapsed ? e : nl(e);
      },
          ol = Po.matchNodeNames("td th"),
          il = function il(e, t) {
        var n,
            r,
            o = e.selection.getRng(),
            i = o.startContainer,
            a = o.startOffset;
        o.collapsed && (n = i, r = a, Po.isText(n) && "\xa0" === n.nodeValue[r - 1]) && Po.isText(i) && (i.insertData(a - 1, " "), i.deleteData(a, 1), o.setStart(i, a), o.setEnd(i, a), e.selection.setRng(o)), e.selection.setContent(t);
      },
          al = function al(e, t, n) {
        var r,
            o,
            i,
            a,
            u,
            s,
            c,
            l,
            f,
            d,
            m,
            g = e.selection,
            p = e.dom;
        if (/^ | $/.test(t) && (t = function (e, t) {
          var n, r;
          n = e.startContainer, r = e.startOffset;

          var o = function o(e) {
            return n[e] && 3 === n[e].nodeType;
          };

          return 3 === n.nodeType && (0 < r ? t = t.replace(/^&nbsp;/, " ") : o("previousSibling") || (t = t.replace(/^ /, "&nbsp;")), r < n.length ? t = t.replace(/&nbsp;(<br>|)$/, " ") : o("nextSibling") || (t = t.replace(/(&nbsp;| )(<br>|)$/, "&nbsp;"))), t;
        }(g.getRng(), t)), r = e.parser, m = n.merge, o = el({
          validate: e.settings.validate
        }, e.schema), d = '<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>', s = {
          content: t,
          format: "html",
          selection: !0,
          paste: n.paste
        }, (s = e.fire("BeforeSetContent", s)).isDefaultPrevented()) e.fire("SetContent", {
          content: s.content,
          format: "html",
          selection: !0,
          paste: n.paste
        });else {
          -1 === (t = s.content).indexOf("{$caret}") && (t += "{$caret}"), t = t.replace(/\{\$caret\}/, d);
          var h,
              v,
              b,
              y,
              C,
              x,
              w = (l = g.getRng()).startContainer || (l.parentElement ? l.parentElement() : null),
              N = e.getBody();
          w === N && g.isCollapsed() && p.isBlock(N.firstChild) && (h = e, (v = N.firstChild) && !h.schema.getShortEndedElements()[v.nodeName]) && p.isEmpty(N.firstChild) && ((l = p.createRng()).setStart(N.firstChild, 0), l.setEnd(N.firstChild, 0), g.setRng(l)), g.isCollapsed() || (e.selection.setRng(rl(e.selection.getRng())), e.getDoc().execCommand("Delete", !1, null), b = e.selection.getRng(), y = t, C = b.startContainer, x = b.startOffset, 3 === C.nodeType && b.collapsed && ("\xa0" === C.data[x] ? (C.deleteData(x, 1), /[\u00a0| ]$/.test(y) || (y += " ")) : "\xa0" === C.data[x - 1] && (C.deleteData(x - 1, 1), /[\u00a0| ]$/.test(y) || (y = " " + y))), t = y);
          var E,
              S,
              k,
              T = {
            context: (i = g.getNode()).nodeName.toLowerCase(),
            data: n.data,
            insert: !0
          };
          if (u = r.parse(t, T), !0 === n.paste && qc(e.schema, u) && Wc(p, i)) return l = $c(o, p, e.selection.getRng(), u), e.selection.setRng(l), void e.fire("SetContent", s);
          if (function (e) {
            for (var t = e; t = t.walk();) {
              1 === t.type && t.attr("data-mce-fragment", "1");
            }
          }(u), "mce_marker" === (f = u.lastChild).attr("id")) for (f = (c = f).prev; f; f = f.walk(!0)) {
            if (3 === f.type || !p.isBlock(f.name)) {
              e.schema.isValidChild(f.parent.name, "span") && f.parent.insert(c, f, "br" === f.name);
              break;
            }
          }

          if (e._selectionOverrides.showBlockCaretContainer(i), T.invalid) {
            for (il(e, d), i = g.getNode(), a = e.getBody(), 9 === i.nodeType ? i = f = a : f = i; f !== a;) {
              f = (i = f).parentNode;
            }

            t = i === a ? a.innerHTML : p.getOuterHTML(i), t = o.serialize(r.parse(t.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i, function () {
              return o.serialize(u);
            }))), i === a ? p.setHTML(a, t) : p.setOuterHTML(i, t);
          } else !function (e, t, n) {
            if ("all" === n.getAttribute("data-mce-bogus")) n.parentNode.insertBefore(e.dom.createFragment(t), n);else {
              var r = n.firstChild,
                  o = n.lastChild;
              !r || r === o && "BR" === r.nodeName ? e.dom.setHTML(n, t) : il(e, t);
            }
          }(e, t = o.serialize(u), i);

          !function (e, t) {
            var n = e.schema.getTextInlineElements(),
                r = e.dom;

            if (t) {
              var o = e.getBody(),
                  i = new Xc(r);
              Jt.each(r.select("*[data-mce-fragment]"), function (e) {
                for (var t = e.parentNode; t && t !== o; t = t.parentNode) {
                  n[e.nodeName.toLowerCase()] && i.compare(t, e) && r.remove(e, !0);
                }
              });
            }
          }(e, m), function (n, e) {
            var t,
                r,
                o,
                i,
                a,
                u = n.dom,
                s = n.selection;

            if (e) {
              if (n.selection.scrollIntoView(e), t = function (e) {
                for (var t = n.getBody(); e && e !== t; e = e.parentNode) {
                  if ("false" === n.dom.getContentEditable(e)) return e;
                }

                return null;
              }(e)) return u.remove(e), s.select(t);
              var c = u.createRng();
              (i = e.previousSibling) && 3 === i.nodeType ? (c.setStart(i, i.nodeValue.length), ge.ie || (a = e.nextSibling) && 3 === a.nodeType && (i.appendData(a.data), a.parentNode.removeChild(a))) : (c.setStartBefore(e), c.setEndBefore(e)), r = u.getParent(e, u.isBlock), u.remove(e), r && u.isEmpty(r) && (n.$(r).empty(), c.setStart(r, 0), c.setEnd(r, 0), ol(r) || r.getAttribute("data-mce-fragment") || !(o = function (e) {
                var t = Cu.fromRangeStart(e);
                if (t = $s(n.getBody()).next(t)) return t.toRange();
              }(c)) ? u.add(r, u.create("br", {
                "data-mce-bogus": "1"
              })) : (c = o, u.remove(r))), s.setRng(c);
            }
          }(e, p.get("mce_marker")), E = e.getBody(), Jt.each(E.getElementsByTagName("*"), function (e) {
            e.removeAttribute("data-mce-fragment");
          }), S = e.dom, k = e.selection.getStart(), A.from(S.getParent(k, "td,th")).map(ir.fromDom).each(Jc), e.fire("SetContent", s), e.addVisual();
        }
      },
          ul = function ul(e, t) {
        var n,
            r,
            o = "string" != typeof (n = t) ? (r = Jt.extend({
          paste: n.paste,
          data: {
            paste: n.paste
          }
        }, n), {
          content: n.content,
          details: r
        }) : {
          content: n,
          details: {}
        };
        al(e, o.content, o.details);
      },
          sl = /[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,
          cl = function cl(e, t, n) {
        var r = e.getParam(t, n);

        if (-1 !== r.indexOf("=")) {
          var o = e.getParam(t, "", "hash");
          return o.hasOwnProperty(e.id) ? o[e.id] : n;
        }

        return r;
      },
          ll = function ll(e) {
        return e.getParam("iframe_attrs", {});
      },
          fl = function fl(e) {
        return e.getParam("doctype", "<!DOCTYPE html>");
      },
          dl = function dl(e) {
        return e.getParam("document_base_url", "");
      },
          ml = function ml(e) {
        return cl(e, "body_id", "tinymce");
      },
          gl = function gl(e) {
        return cl(e, "body_class", "");
      },
          pl = function pl(e) {
        return e.getParam("content_security_policy", "");
      },
          hl = function hl(e) {
        return e.getParam("br_in_pre", !0);
      },
          vl = function vl(e) {
        if (e.getParam("force_p_newlines", !1)) return "p";
        var t = e.getParam("forced_root_block", "p");
        return !1 === t ? "" : t;
      },
          bl = function bl(e) {
        return e.getParam("forced_root_block_attrs", {});
      },
          yl = function yl(e) {
        return e.getParam("br_newline_selector", ".mce-toc h2,figcaption,caption");
      },
          Cl = function Cl(e) {
        return e.getParam("no_newline_selector", "");
      },
          xl = function xl(e) {
        return e.getParam("keep_styles", !0);
      },
          wl = function wl(e) {
        return e.getParam("end_container_on_empty_block", !1);
      },
          Nl = function Nl(e) {
        return Jt.explode(e.getParam("font_size_style_values", ""));
      },
          El = function El(e) {
        return Jt.explode(e.getParam("font_size_classes", ""));
      },
          Sl = function Sl(e) {
        return e.getParam("images_dataimg_filter", q(!0), "function");
      },
          kl = function kl(e) {
        return e.getParam("automatic_uploads", !0, "boolean");
      },
          Tl = function Tl(e) {
        return e.getParam("images_reuse_filename", !1, "boolean");
      },
          Al = function Al(e) {
        return e.getParam("images_replace_blob_uris", !0, "boolean");
      },
          Rl = function Rl(e) {
        return e.getParam("images_upload_url", "", "string");
      },
          _l = function _l(e) {
        return e.getParam("images_upload_base_path", "", "string");
      },
          Dl = function Dl(e) {
        return e.getParam("images_upload_credentials", !1, "boolean");
      },
          Bl = function Bl(e) {
        return e.getParam("images_upload_handler", null, "function");
      },
          Ol = function Ol(e) {
        return e.getParam("content_css_cors", !1, "boolean");
      },
          Pl = function Pl(e) {
        return e.getParam("inline_boundaries_selector", "a[href],code,.mce-annotation", "string");
      },
          Il = function Il(e, t) {
        if (!t) return t;
        var n = t.container(),
            r = t.offset();
        return e ? ba(n) ? Po.isText(n.nextSibling) ? Cu(n.nextSibling, 0) : Cu.after(n) : xa(t) ? Cu(n, r + 1) : t : ba(n) ? Po.isText(n.previousSibling) ? Cu(n.previousSibling, n.previousSibling.data.length) : Cu.before(n) : wa(t) ? Cu(n, r - 1) : t;
      },
          Ll = {
        isInlineTarget: function isInlineTarget(e, t) {
          return Or(ir.fromDom(t), Pl(e));
        },
        findRootInline: function findRootInline(e, t, n) {
          var r,
              o,
              i,
              a = (r = e, o = t, i = n, V(bi.DOM.getParents(i.container(), "*", o), r));
          return A.from(a[a.length - 1]);
        },
        isRtl: function isRtl(e) {
          return "rtl" === bi.DOM.getStyle(e, "direction", !0) || (t = e.textContent, sl.test(t));
          var t;
        },
        isAtZwsp: function isAtZwsp(e) {
          return xa(e) || wa(e);
        },
        normalizePosition: Il,
        normalizeForwards: d(Il, !0),
        normalizeBackwards: d(Il, !1),
        hasSameParentBlock: function hasSameParentBlock(e, t, n) {
          var r = vs(t, e),
              o = vs(n, e);
          return r && r === o;
        }
      },
          Ml = function Ml(e, t) {
        return Lr(e, t) ? Yi(t, function (e) {
          return ho(e) || bo(e);
        }, (n = e, function (e) {
          return Ir(n, ir.fromDom(e.dom().parentNode));
        })) : A.none();
        var n;
      },
          Fl = function Fl(e) {
        var t, n, r;
        e.dom.isEmpty(e.getBody()) && (e.setContent(""), n = (t = e).getBody(), r = n.firstChild && t.dom.isBlock(n.firstChild) ? n.firstChild : n, t.selection.setCursorLocation(r, 0));
      },
          zl = function zl(i, a, u) {
        return Ya([nc.firstPositionIn(u), nc.lastPositionIn(u)], function (e, t) {
          var n = Ll.normalizePosition(!0, e),
              r = Ll.normalizePosition(!1, t),
              o = Ll.normalizePosition(!1, a);
          return i ? nc.nextPosition(u, o).map(function (e) {
            return e.isEqual(r) && a.isEqual(n);
          }).getOr(!1) : nc.prevPosition(u, o).map(function (e) {
            return e.isEqual(n) && a.isEqual(r);
          }).getOr(!1);
        }).getOr(!0);
      },
          Ul = function Ul(e, t) {
        var n,
            r,
            o,
            i = ir.fromDom(e),
            a = ir.fromDom(t);
        return n = a, r = "pre,code", o = d(Ir, i), Gi(n, r, o).isSome();
      },
          Vl = function Vl(e, t) {
        return Ia(t) && !1 === (r = e, o = t, Po.isText(o) && /^[ \t\r\n]*$/.test(o.data) && !1 === Ul(r, o)) || (n = t, Po.isElement(n) && "A" === n.nodeName && n.hasAttribute("name")) || Hl(t);
        var n, r, o;
      },
          Hl = Po.hasAttribute("data-mce-bookmark"),
          jl = Po.hasAttribute("data-mce-bogus"),
          ql = Po.hasAttributeValue("data-mce-bogus", "all"),
          $l = function $l(e) {
        return function (e) {
          var t,
              n,
              r = 0;
          if (Vl(e, e)) return !1;
          if (!(n = e.firstChild)) return !0;
          t = new ao(n, e);

          do {
            if (ql(n)) n = t.next(!0);else if (jl(n)) n = t.next();else if (Po.isBr(n)) r++, n = t.next();else {
              if (Vl(e, n)) return !1;
              n = t.next();
            }
          } while (n);

          return r <= 1;
        }(e.dom());
      },
          Wl = kr("block", "position"),
          Kl = kr("from", "to"),
          Xl = function Xl(e, t) {
        var n = ir.fromDom(e),
            r = ir.fromDom(t.container());
        return Ml(n, r).map(function (e) {
          return Wl(e, t);
        });
      },
          Yl = function Yl(o, i, e) {
        var t = Xl(o, Cu.fromRangeStart(e)),
            n = t.bind(function (e) {
          return nc.fromPosition(i, o, e.position()).bind(function (e) {
            return Xl(o, e).map(function (e) {
              return t = o, n = i, r = e, Po.isBr(r.position().getNode()) && !1 === $l(r.block()) ? nc.positionIn(!1, r.block().dom()).bind(function (e) {
                return e.isEqual(r.position()) ? nc.fromPosition(n, t, e).bind(function (e) {
                  return Xl(t, e);
                }) : A.some(r);
              }).getOr(r) : r;
              var t, n, r;
            });
          });
        });
        return Ya([t, n], Kl).filter(function (e) {
          return !1 === Ir((r = e).from().block(), r.to().block()) && zr((n = e).from().block()).bind(function (t) {
            return zr(n.to().block()).filter(function (e) {
              return Ir(t, e);
            });
          }).isSome() && (t = e, !1 === Po.isContentEditableFalse(t.from().block()) && !1 === Po.isContentEditableFalse(t.to().block()));
          var t, n, r;
        });
      },
          Gl = function Gl(e, t, n) {
        return n.collapsed ? Yl(e, t, n) : A.none();
      },
          Jl = function Jl(e, t, n) {
        return Lr(t, e) ? function (e, t) {
          for (var n = P(t) ? t : q(!1), r = e.dom(), o = []; null !== r.parentNode && r.parentNode !== undefined;) {
            var i = r.parentNode,
                a = ir.fromDom(i);
            if (o.push(a), !0 === n(a)) break;
            r = i;
          }

          return o;
        }(e, function (e) {
          return n(e) || Ir(e, t);
        }).slice(0, -1) : [];
      },
          Ql = function Ql(e, t) {
        return Jl(e, t, q(!1));
      },
          Zl = Ql,
          ef = function ef(e, t) {
        return [e].concat(Ql(e, t));
      },
          tf = function tf(e) {
        var t,
            n = (t = qr(e), G(t, mo).fold(function () {
          return t;
        }, function (e) {
          return t.slice(0, e);
        }));
        return U(n, Oi), n;
      },
          nf = function nf(e, t) {
        var n = ef(t, e);
        return Y(n.reverse(), $l).each(Oi);
      },
          rf = function rf(e, t, n, r) {
        if ($l(n)) return Gc(n), nc.firstPositionIn(n.dom());
        0 === V(Hr(r), function (e) {
          return !$l(e);
        }).length && $l(t) && Ti(r, ir.fromTag("br"));
        var o = nc.prevPosition(n.dom(), Cu.before(r.dom()));
        return U(tf(t), function (e) {
          Ti(r, e);
        }), nf(e, t), o;
      },
          of = function of(e, t, n) {
        if ($l(n)) return Oi(n), $l(t) && Gc(t), nc.firstPositionIn(t.dom());
        var r = nc.lastPositionIn(n.dom());
        return U(tf(t), function (e) {
          _i(n, e);
        }), nf(e, t), r;
      },
          af = function af(e, t) {
        return Lr(t, e) ? (n = ef(e, t), A.from(n[n.length - 1])) : A.none();
        var n;
      },
          uf = function uf(e, t) {
        nc.positionIn(e, t.dom()).map(function (e) {
          return e.getNode();
        }).map(ir.fromDom).filter(po).each(Oi);
      },
          sf = function sf(e, t, n) {
        return uf(!0, t), uf(!1, n), af(t, n).fold(d(of, e, t, n), d(rf, e, t, n));
      },
          cf = function cf(e, t, n, r) {
        return t ? sf(e, r, n) : sf(e, n, r);
      },
          lf = function lf(t, n) {
        var e,
            r = ir.fromDom(t.getBody());
        return (e = Gl(r.dom(), n, t.selection.getRng()).bind(function (e) {
          return cf(r, n, e.from().block(), e.to().block());
        })).each(function (e) {
          t.selection.setRng(e.toRange());
        }), e.isSome();
      },
          ff = function ff(e, t) {
        var n = ir.fromDom(t),
            r = d(Ir, e);
        return Xi(n, xo, r).isSome();
      },
          df = function df(e, t) {
        var n,
            r,
            o = nc.prevPosition(e.dom(), Cu.fromRangeStart(t)).isNone(),
            i = nc.nextPosition(e.dom(), Cu.fromRangeEnd(t)).isNone();
        return !(ff(n = e, (r = t).startContainer) || ff(n, r.endContainer)) && o && i;
      },
          mf = function mf(e) {
        var n,
            r,
            o,
            t,
            i = ir.fromDom(e.getBody()),
            a = e.selection.getRng();
        return df(i, a) ? ((t = e).setContent(""), t.selection.setCursorLocation(), !0) : (n = i, r = e.selection, o = r.getRng(), Ya([Ml(n, ir.fromDom(o.startContainer)), Ml(n, ir.fromDom(o.endContainer))], function (e, t) {
          return !1 === Ir(e, t) && (o.deleteContents(), cf(n, !0, e, t).each(function (e) {
            r.setRng(e.toRange());
          }), !0);
        }).getOr(!1));
      },
          gf = function gf(e, t) {
        return !e.selection.isCollapsed() && mf(e);
      },
          pf = function pf(a) {
        if (!D(a)) throw new Error("cases must be an array");
        if (0 === a.length) throw new Error("there must be at least one case");
        var u = [],
            n = {};
        return U(a, function (e, r) {
          var t = mr(e);
          if (1 !== t.length) throw new Error("one and only one name per case");
          var o = t[0],
              i = e[o];
          if (n[o] !== undefined) throw new Error("duplicate key detected:" + o);
          if ("cata" === o) throw new Error("cannot have a case named cata (sorry)");
          if (!D(i)) throw new Error("case arguments must be an array");
          u.push(o), n[o] = function () {
            var e = arguments.length;
            if (e !== i.length) throw new Error("Wrong number of arguments to case " + o + ". Expected " + i.length + " (" + i + "), got " + e);

            for (var n = new Array(e), t = 0; t < n.length; t++) {
              n[t] = arguments[t];
            }

            return {
              fold: function fold() {
                if (arguments.length !== a.length) throw new Error("Wrong number of arguments to fold. Expected " + a.length + ", got " + arguments.length);
                return arguments[r].apply(null, n);
              },
              match: function match(e) {
                var t = mr(e);
                if (u.length !== t.length) throw new Error("Wrong number of arguments to match. Expected: " + u.join(",") + "\nActual: " + t.join(","));
                if (!ee(u, function (e) {
                  return F(t, e);
                })) throw new Error("Not all branches were specified when using match. Specified: " + t.join(", ") + "\nRequired: " + u.join(", "));
                return e[o].apply(null, n);
              },
              log: function log(e) {
                H.console.log(e, {
                  constructors: u,
                  constructor: o,
                  params: n
                });
              }
            };
          };
        }), n;
      },
          hf = function hf(e) {
        return Ts(e).exists(po);
      },
          vf = function vf(e, t, n) {
        var r = V(ef(ir.fromDom(n.container()), t), mo),
            o = ne(r).getOr(t);
        return nc.fromPosition(e, o.dom(), n).filter(hf);
      },
          bf = function bf(e, t) {
        return Ts(t).exists(po) || vf(!0, e, t).isSome();
      },
          yf = function yf(e, t) {
        return (n = t, A.from(n.getNode(!0)).map(ir.fromDom)).exists(po) || vf(!1, e, t).isSome();
        var n;
      },
          Cf = d(vf, !1),
          xf = d(vf, !0),
          wf = (tl = "\xa0", function (e) {
        return tl === e;
      }),
          Nf = function Nf(e) {
        return /^[\r\n\t ]$/.test(e);
      },
          Ef = function Ef(e) {
        return !Nf(e) && !wf(e);
      },
          Sf = function Sf(n, r, o) {
        return A.from(o.container()).filter(Po.isText).exists(function (e) {
          var t = n ? 0 : -1;
          return r(e.data.charAt(o.offset() + t));
        });
      },
          kf = d(Sf, !0, Nf),
          Tf = d(Sf, !1, Nf),
          Af = function Af(e) {
        var t = e.container();
        return Po.isText(t) && 0 === t.data.length;
      },
          Rf = function Rf(e, t) {
        var n = ys(e, t);
        return Po.isContentEditableFalse(n) && !Po.isBogusAll(n);
      },
          _f = d(Rf, 0),
          Df = d(Rf, -1),
          Bf = function Bf(e, t) {
        return Po.isTable(ys(e, t));
      },
          Of = d(Bf, 0),
          Pf = d(Bf, -1),
          If = pf([{
        remove: ["element"]
      }, {
        moveToElement: ["element"]
      }, {
        moveToPosition: ["position"]
      }]),
          Lf = function Lf(e, t, n, r) {
        var o = r.getNode(!1 === t);
        return Ml(ir.fromDom(e), ir.fromDom(n.getNode())).map(function (e) {
          return $l(e) ? If.remove(e.dom()) : If.moveToElement(o);
        }).orThunk(function () {
          return A.some(If.moveToElement(o));
        });
      },
          Mf = function Mf(u, s, c) {
        return nc.fromPosition(s, u, c).bind(function (e) {
          return a = e.getNode(), xo(ir.fromDom(a)) || bo(ir.fromDom(a)) ? A.none() : (t = u, o = e, i = function i(e) {
            return go(ir.fromDom(e)) && !bs(r, o, t);
          }, Ss(!(n = s), r = c).fold(function () {
            return Ss(n, o).fold(q(!1), i);
          }, i) ? A.none() : s && Po.isContentEditableFalse(e.getNode()) ? Lf(u, s, c, e) : !1 === s && Po.isContentEditableFalse(e.getNode(!0)) ? Lf(u, s, c, e) : s && Df(c) ? A.some(If.moveToPosition(e)) : !1 === s && _f(c) ? A.some(If.moveToPosition(e)) : A.none());
          var t, n, r, o, i, a;
        });
      },
          Ff = function Ff(r, e, o) {
        return i = e, a = o.getNode(!1 === i), u = i ? "after" : "before", Po.isElement(a) && a.getAttribute("data-mce-caret") === u ? (t = e, n = o.getNode(!1 === e), t && Po.isContentEditableFalse(n.nextSibling) ? A.some(If.moveToElement(n.nextSibling)) : !1 === t && Po.isContentEditableFalse(n.previousSibling) ? A.some(If.moveToElement(n.previousSibling)) : A.none()).fold(function () {
          return Mf(r, e, o);
        }, A.some) : Mf(r, e, o).bind(function (e) {
          return t = r, n = o, e.fold(function (e) {
            return A.some(If.remove(e));
          }, function (e) {
            return A.some(If.moveToElement(e));
          }, function (e) {
            return bs(n, e, t) ? A.none() : A.some(If.moveToPosition(e));
          });
          var t, n;
        });
        var t, n, i, a, u;
      },
          zf = function zf(e, t, n) {
        if (0 !== n) {
          var r,
              o,
              i,
              a = e.data.slice(t, t + n),
              u = t + n >= e.data.length,
              s = 0 === t;
          e.replaceData(t, n, (o = s, i = u, X((r = a).split(""), function (e, t) {
            return -1 !== " \f\n\r\t\x0B".indexOf(t) || "\xa0" === t ? e.previousCharIsSpace || "" === e.str && o || e.str.length === r.length - 1 && i ? {
              previousCharIsSpace: !1,
              str: e.str + "\xa0"
            } : {
              previousCharIsSpace: !0,
              str: e.str + " "
            } : {
              previousCharIsSpace: !1,
              str: e.str + t
            };
          }, {
            previousCharIsSpace: !1,
            str: ""
          }).str));
        }
      },
          Uf = function Uf(e, t) {
        var n,
            r = e.data.slice(t),
            o = r.length - (n = r, n.replace(/^\s+/g, "")).length;
        return zf(e, t, o);
      },
          Vf = function Vf(e, t) {
        return r = e, o = (n = t).container(), i = n.offset(), !1 === Cu.isTextPosition(n) && o === r.parentNode && i > Cu.before(r).offset() ? Cu(t.container(), t.offset() - 1) : t;
        var n, r, o, i;
      },
          Hf = function Hf(e) {
        return Ia(e.previousSibling) ? A.some((t = e.previousSibling, Po.isText(t) ? Cu(t, t.data.length) : Cu.after(t))) : e.previousSibling ? nc.lastPositionIn(e.previousSibling) : A.none();
        var t;
      },
          jf = function jf(e) {
        return Ia(e.nextSibling) ? A.some((t = e.nextSibling, Po.isText(t) ? Cu(t, 0) : Cu.before(t))) : e.nextSibling ? nc.firstPositionIn(e.nextSibling) : A.none();
        var t;
      },
          qf = function qf(r, o) {
        return Hf(o).orThunk(function () {
          return jf(o);
        }).orThunk(function () {
          return e = r, t = o, n = Cu.before(t.previousSibling ? t.previousSibling : t.parentNode), nc.prevPosition(e, n).fold(function () {
            return nc.nextPosition(e, Cu.after(t));
          }, A.some);
          var e, t, n;
        });
      },
          $f = function $f(n, r) {
        return jf(r).orThunk(function () {
          return Hf(r);
        }).orThunk(function () {
          return e = n, t = r, nc.nextPosition(e, Cu.after(t)).fold(function () {
            return nc.prevPosition(e, Cu.before(t));
          }, A.some);
          var e, t;
        });
      },
          Wf = function Wf(e, t, n) {
        return (r = e, o = t, i = n, r ? $f(o, i) : qf(o, i)).map(d(Vf, n));
        var r, o, i;
      },
          Kf = function Kf(t, n, e) {
        e.fold(function () {
          t.focus();
        }, function (e) {
          t.selection.setRng(e.toRange(), n);
        });
      },
          Xf = function Xf(e, t) {
        return t && e.schema.getBlockElements().hasOwnProperty(cr(t));
      },
          Yf = function Yf(e) {
        if ($l(e)) {
          var t = ir.fromHtml('<br data-mce-bogus="1">');
          return Bi(e), _i(e, t), A.some(Cu.before(t.dom()));
        }

        return A.none();
      },
          Gf = function Gf(e, t, l) {
        var n = Ur(e).filter(function (e) {
          return Po.isText(e.dom());
        }),
            r = Vr(e).filter(function (e) {
          return Po.isText(e.dom());
        });
        return Oi(e), Ya([n, r, t], function (e, t, n) {
          var r,
              o,
              i,
              a,
              u = e.dom(),
              s = t.dom(),
              c = u.data.length;
          return o = s, i = l, a = Gn((r = u).data).length, r.appendData(o.data), Oi(ir.fromDom(o)), i && Uf(r, a), n.container() === s ? Cu(u, c) : n;
        }).orThunk(function () {
          return l && (n.each(function (e) {
            return t = e.dom(), n = e.dom().length, r = t.data.slice(0, n), o = r.length - Gn(r).length, zf(t, n - o, o);
            var t, n, r, o;
          }), r.each(function (e) {
            return Uf(e.dom(), 0);
          })), t;
        });
      },
          Jf = function Jf(e, t) {
        return n = e.schema.getTextInlineElements(), r = cr(t), gr.call(n, r);
        var n, r;
      },
          Qf = function Qf(t, n, e, r) {
        void 0 === r && (r = !0);
        var o,
            i = Wf(n, t.getBody(), e.dom()),
            a = Xi(e, d(Xf, t), (o = t.getBody(), function (e) {
          return e.dom() === o;
        })),
            u = Gf(e, i, Jf(t, e));
        t.dom.isEmpty(t.getBody()) ? (t.setContent(""), t.selection.setCursorLocation()) : a.bind(Yf).fold(function () {
          r && Kf(t, n, u);
        }, function (e) {
          r && Kf(t, n, A.some(e));
        });
      },
          Zf = function Zf(a, u) {
        var e, t, n, r, o, i;
        return (e = a.getBody(), t = u, n = a.selection.getRng(), r = Es(t ? 1 : -1, e, n), o = Cu.fromRangeStart(r), i = ir.fromDom(e), !1 === t && Df(o) ? A.some(If.remove(o.getNode(!0))) : t && _f(o) ? A.some(If.remove(o.getNode())) : !1 === t && _f(o) && yf(i, o) ? Cf(i, o).map(function (e) {
          return If.remove(e.getNode());
        }) : t && Df(o) && bf(i, o) ? xf(i, o).map(function (e) {
          return If.remove(e.getNode());
        }) : Ff(e, t, o)).map(function (e) {
          return e.fold((o = a, i = u, function (e) {
            return o._selectionOverrides.hideFakeCaret(), Qf(o, i, ir.fromDom(e)), !0;
          }), (n = a, r = u, function (e) {
            var t = r ? Cu.before(e) : Cu.after(e);
            return n.selection.setRng(t.toRange()), !0;
          }), (t = a, function (e) {
            return t.selection.setRng(e.toRange()), !0;
          }));
          var t, n, r, o, i;
        }).getOr(!1);
      },
          ed = function ed(e, t) {
        var n,
            r = e.selection.getNode();
        return !!Po.isContentEditableFalse(r) && (n = ir.fromDom(e.getBody()), U($i(n, ".mce-offscreen-selection"), Oi), Qf(e, t, ir.fromDom(e.selection.getNode())), Fl(e), !0);
      },
          td = function td(e, t) {
        return e.selection.isCollapsed() ? Zf(e, t) : ed(e, t);
      },
          nd = function nd(e) {
        var t,
            n = function (e, t) {
          for (; t && t !== e;) {
            if (Po.isContentEditableTrue(t) || Po.isContentEditableFalse(t)) return t;
            t = t.parentNode;
          }

          return null;
        }(e.getBody(), e.selection.getNode());

        return Po.isContentEditableTrue(n) && e.dom.isBlock(n) && e.dom.isEmpty(n) && (t = e.dom.create("br", {
          "data-mce-bogus": "1"
        }), e.dom.setHTML(n, ""), n.appendChild(t), e.selection.setRng(Cu.before(t).toRange())), !0;
      },
          rd = Po.isText,
          od = function od(e) {
        return rd(e) && e.data[0] === ma;
      },
          id = function id(e) {
        return rd(e) && e.data[e.data.length - 1] === ma;
      },
          ad = function ad(e) {
        return e.ownerDocument.createTextNode(ma);
      },
          ud = function ud(e, t) {
        return e ? function (e) {
          if (rd(e.previousSibling)) return id(e.previousSibling) || e.previousSibling.appendData(ma), e.previousSibling;
          if (rd(e)) return od(e) || e.insertData(0, ma), e;
          var t = ad(e);
          return e.parentNode.insertBefore(t, e), t;
        }(t) : function (e) {
          if (rd(e.nextSibling)) return od(e.nextSibling) || e.nextSibling.insertData(0, ma), e.nextSibling;
          if (rd(e)) return id(e) || e.appendData(ma), e;
          var t = ad(e);
          return e.nextSibling ? e.parentNode.insertBefore(t, e.nextSibling) : e.parentNode.appendChild(t), t;
        }(t);
      },
          sd = d(ud, !0),
          cd = d(ud, !1),
          ld = function ld(e, t) {
        return Po.isText(e.container()) ? ud(t, e.container()) : ud(t, e.getNode());
      },
          fd = function fd(e, t) {
        var n = t.get();
        return n && e.container() === n && ba(n);
      },
          dd = function dd(n, e) {
        return e.fold(function (e) {
          es.remove(n.get());
          var t = sd(e);
          return n.set(t), A.some(Cu(t, t.length - 1));
        }, function (e) {
          return nc.firstPositionIn(e).map(function (e) {
            if (fd(e, n)) return Cu(n.get(), 1);
            es.remove(n.get());
            var t = ld(e, !0);
            return n.set(t), Cu(t, 1);
          });
        }, function (e) {
          return nc.lastPositionIn(e).map(function (e) {
            if (fd(e, n)) return Cu(n.get(), n.get().length - 1);
            es.remove(n.get());
            var t = ld(e, !1);
            return n.set(t), Cu(t, t.length - 1);
          });
        }, function (e) {
          es.remove(n.get());
          var t = cd(e);
          return n.set(t), A.some(Cu(t, 1));
        });
      },
          md = function md(e, t) {
        for (var n = 0; n < e.length; n++) {
          var r = e[n].apply(null, t);
          if (r.isSome()) return r;
        }

        return A.none();
      },
          gd = pf([{
        before: ["element"]
      }, {
        start: ["element"]
      }, {
        end: ["element"]
      }, {
        after: ["element"]
      }]),
          pd = function pd(e, t) {
        var n = vs(t, e);
        return n || e;
      },
          hd = function hd(e, t, n) {
        var r = Ll.normalizeForwards(n),
            o = pd(t, r.container());
        return Ll.findRootInline(e, o, r).fold(function () {
          return nc.nextPosition(o, r).bind(d(Ll.findRootInline, e, o)).map(function (e) {
            return gd.before(e);
          });
        }, A.none);
      },
          vd = function vd(e, t) {
        return null === qu(e, t);
      },
          bd = function bd(e, t, n) {
        return Ll.findRootInline(e, t, n).filter(d(vd, t));
      },
          yd = function yd(e, t, n) {
        var r = Ll.normalizeBackwards(n);
        return bd(e, t, r).bind(function (e) {
          return nc.prevPosition(e, r).isNone() ? A.some(gd.start(e)) : A.none();
        });
      },
          Cd = function Cd(e, t, n) {
        var r = Ll.normalizeForwards(n);
        return bd(e, t, r).bind(function (e) {
          return nc.nextPosition(e, r).isNone() ? A.some(gd.end(e)) : A.none();
        });
      },
          xd = function xd(e, t, n) {
        var r = Ll.normalizeBackwards(n),
            o = pd(t, r.container());
        return Ll.findRootInline(e, o, r).fold(function () {
          return nc.prevPosition(o, r).bind(d(Ll.findRootInline, e, o)).map(function (e) {
            return gd.after(e);
          });
        }, A.none);
      },
          wd = function wd(e) {
        return !1 === Ll.isRtl(Ed(e));
      },
          Nd = function Nd(e, t, n) {
        return md([hd, yd, Cd, xd], [e, t, n]).filter(wd);
      },
          Ed = function Ed(e) {
        return e.fold($, $, $, $);
      },
          Sd = function Sd(e) {
        return e.fold(q("before"), q("start"), q("end"), q("after"));
      },
          kd = function kd(e) {
        return e.fold(gd.before, gd.before, gd.after, gd.after);
      },
          Td = function Td(n, e, r, t, o, i) {
        return Ya([Ll.findRootInline(e, r, t), Ll.findRootInline(e, r, o)], function (e, t) {
          return e !== t && Ll.hasSameParentBlock(r, e, t) ? gd.after(n ? e : t) : i;
        }).getOr(i);
      },
          Ad = function Ad(e, r) {
        return e.fold(q(!0), function (e) {
          return n = r, !(Sd(t = e) === Sd(n) && Ed(t) === Ed(n));
          var t, n;
        });
      },
          Rd = function Rd(e, t) {
        return e ? t.fold(j(A.some, gd.start), A.none, j(A.some, gd.after), A.none) : t.fold(A.none, j(A.some, gd.before), A.none, j(A.some, gd.end));
      },
          _d = function _d(a, u, s, c) {
        var e = Ll.normalizePosition(a, c),
            l = Nd(u, s, e);
        return Nd(u, s, e).bind(d(Rd, a)).orThunk(function () {
          return t = a, n = u, r = s, o = l, e = c, i = Ll.normalizePosition(t, e), nc.fromPosition(t, r, i).map(d(Ll.normalizePosition, t)).fold(function () {
            return o.map(kd);
          }, function (e) {
            return Nd(n, r, e).map(d(Td, t, n, r, i, e)).filter(d(Ad, o));
          }).filter(wd);
          var t, n, r, o, e, i;
        });
      },
          Dd = Nd,
          Bd = _d,
          Od = (d(_d, !1), d(_d, !0), kd),
          Pd = function Pd(e) {
        return e.fold(gd.start, gd.start, gd.end, gd.end);
      },
          Id = function Id(e) {
        return P(e.selection.getSel().modify);
      },
          Ld = function Ld(e, t, n) {
        var r = e ? 1 : -1;
        return t.setRng(Cu(n.container(), n.offset() + r).toRange()), t.getSel().modify("move", e ? "forward" : "backward", "word"), !0;
      },
          Md = function Md(e, t) {
        var n = t.selection.getRng(),
            r = e ? Cu.fromRangeEnd(n) : Cu.fromRangeStart(n);
        return !!Id(t) && (e && xa(r) ? Ld(!0, t.selection, r) : !(e || !wa(r)) && Ld(!1, t.selection, r));
      },
          Fd = function Fd(e, t) {
        var n = e.dom.createRng();
        n.setStart(t.container(), t.offset()), n.setEnd(t.container(), t.offset()), e.selection.setRng(n);
      },
          zd = function zd(e) {
        return !1 !== e.settings.inline_boundaries;
      },
          Ud = function Ud(e, t) {
        e ? t.setAttribute("data-mce-selected", "inline-boundary") : t.removeAttribute("data-mce-selected");
      },
          Vd = function Vd(t, e, n) {
        return dd(e, n).map(function (e) {
          return Fd(t, e), n;
        });
      },
          Hd = function Hd(e, t, n) {
        return function () {
          return !!zd(t) && Md(e, t);
        };
      },
          jd = {
        move: function move(a, u, s) {
          return function () {
            return !!zd(a) && (t = a, n = u, e = s, r = t.getBody(), o = Cu.fromRangeStart(t.selection.getRng()), i = d(Ll.isInlineTarget, t), Bd(e, i, r, o).bind(function (e) {
              return Vd(t, n, e);
            })).isSome();
            var t, n, e, r, o, i;
          };
        },
        moveNextWord: d(Hd, !0),
        movePrevWord: d(Hd, !1),
        setupSelectedState: function setupSelectedState(a) {
          var u = Li(null),
              s = d(Ll.isInlineTarget, a);
          return a.on("NodeChange", function (e) {
            var t, n, r, o, i;
            zd(a) && (t = s, n = a.dom, r = e.parents, o = V(n.select('*[data-mce-selected="inline-boundary"]'), t), i = V(r, t), U(te(o, i), d(Ud, !1)), U(te(i, o), d(Ud, !0)), function (e, t) {
              if (e.selection.isCollapsed() && !0 !== e.composing && t.get()) {
                var n = Cu.fromRangeStart(e.selection.getRng());
                Cu.isTextPosition(n) && !1 === Ll.isAtZwsp(n) && (Fd(e, es.removeAndReposition(t.get(), n)), t.set(null));
              }
            }(a, u), function (n, r, o, e) {
              if (r.selection.isCollapsed()) {
                var t = V(e, n);
                U(t, function (e) {
                  var t = Cu.fromRangeStart(r.selection.getRng());
                  Dd(n, r.getBody(), t).bind(function (e) {
                    return Vd(r, o, e);
                  });
                });
              }
            }(s, a, u, e.parents));
          }), u;
        },
        setCaretPosition: Fd
      },
          qd = function qd(t, n) {
        return function (e) {
          return dd(n, e).map(function (e) {
            return jd.setCaretPosition(t, e), !0;
          }).getOr(!1);
        };
      },
          $d = function $d(r, o, i, a) {
        var u = r.getBody(),
            s = d(Ll.isInlineTarget, r);
        r.undoManager.ignore(function () {
          var e, t, n;
          r.selection.setRng((e = i, t = a, (n = H.document.createRange()).setStart(e.container(), e.offset()), n.setEnd(t.container(), t.offset()), n)), r.execCommand("Delete"), Dd(s, u, Cu.fromRangeStart(r.selection.getRng())).map(Pd).map(qd(r, o));
        }), r.nodeChanged();
      },
          Wd = function Wd(n, r, i, o) {
        var e,
            t,
            a = (e = n.getBody(), t = o.container(), vs(t, e) || e),
            u = d(Ll.isInlineTarget, n),
            s = Dd(u, a, o);
        return s.bind(function (e) {
          return i ? e.fold(q(A.some(Pd(e))), A.none, q(A.some(Od(e))), A.none) : e.fold(A.none, q(A.some(Od(e))), A.none, q(A.some(Pd(e))));
        }).map(qd(n, r)).getOrThunk(function () {
          var t = nc.navigate(i, a, o),
              e = t.bind(function (e) {
            return Dd(u, a, e);
          });
          return s.isSome() && e.isSome() ? Ll.findRootInline(u, a, o).map(function (e) {
            return o = e, !!Ya([nc.firstPositionIn(o), nc.lastPositionIn(o)], function (e, t) {
              var n = Ll.normalizePosition(!0, e),
                  r = Ll.normalizePosition(!1, t);
              return nc.nextPosition(o, n).map(function (e) {
                return e.isEqual(r);
              }).getOr(!0);
            }).getOr(!0) && (Qf(n, i, ir.fromDom(e)), !0);
            var o;
          }).getOr(!1) : e.bind(function (e) {
            return t.map(function (e) {
              return i ? $d(n, r, o, e) : $d(n, r, e, o), !0;
            });
          }).getOr(!1);
        });
      },
          Kd = function Kd(e, t, n) {
        if (e.selection.isCollapsed() && !1 !== e.settings.inline_boundaries) {
          var r = Cu.fromRangeStart(e.selection.getRng());
          return Wd(e, t, n, r);
        }

        return !1;
      },
          Xd = kr("start", "end"),
          Yd = kr("rng", "table", "cells"),
          Gd = pf([{
        removeTable: ["element"]
      }, {
        emptyCells: ["cells"]
      }]),
          Jd = function Jd(e, t) {
        return Qi(ir.fromDom(e), "td,th", t);
      },
          Qd = function Qd(e, t) {
        return Gi(e, "table", t);
      },
          Zd = function Zd(e) {
        return !1 === Ir(e.start(), e.end());
      },
          em = function em(e, n) {
        return Qd(e.start(), n).bind(function (t) {
          return Qd(e.end(), n).bind(function (e) {
            return Ir(t, e) ? A.some(t) : A.none();
          });
        });
      },
          tm = function tm(e) {
        return $i(e, "td,th");
      },
          nm = function nm(r, e) {
        var t = Jd(e.startContainer, r),
            n = Jd(e.endContainer, r);
        return e.collapsed ? A.none() : Ya([t, n], Xd).fold(function () {
          return t.fold(function () {
            return n.bind(function (t) {
              return Qd(t, r).bind(function (e) {
                return ne(tm(e)).map(function (e) {
                  return Xd(e, t);
                });
              });
            });
          }, function (t) {
            return Qd(t, r).bind(function (e) {
              return re(tm(e)).map(function (e) {
                return Xd(t, e);
              });
            });
          });
        }, function (e) {
          return rm(r, e) ? A.none() : (n = r, Qd((t = e).start(), n).bind(function (e) {
            return re(tm(e)).map(function (e) {
              return Xd(t.start(), e);
            });
          }));
          var t, n;
        });
      },
          rm = function rm(e, t) {
        return em(t, e).isSome();
      },
          om = function om(e, t) {
        var n,
            r,
            o,
            i,
            a = d(Ir, e);
        return (n = t, r = a, o = Jd(n.startContainer, r), i = Jd(n.endContainer, r), Ya([o, i], Xd).filter(Zd).filter(function (e) {
          return rm(r, e);
        }).orThunk(function () {
          return nm(r, n);
        })).bind(function (e) {
          return em(t = e, a).map(function (e) {
            return Yd(t, e, tm(e));
          });
          var t;
        });
      },
          im = function im(e, t) {
        return G(e, function (e) {
          return Ir(e, t);
        });
      },
          am = function am(n) {
        return (r = n, Ya([im(r.cells(), r.rng().start()), im(r.cells(), r.rng().end())], function (e, t) {
          return r.cells().slice(e, t + 1);
        })).map(function (e) {
          var t = n.cells();
          return e.length === t.length ? Gd.removeTable(n.table()) : Gd.emptyCells(e);
        });
        var r;
      },
          um = function um(e, t) {
        return om(e, t).bind(am);
      },
          sm = function sm(e) {
        var t = [];
        if (e) for (var n = 0; n < e.rangeCount; n++) {
          t.push(e.getRangeAt(n));
        }
        return t;
      },
          cm = sm,
          lm = function lm(e) {
        return Z(e, function (e) {
          var t = $a(e);
          return t ? [ir.fromDom(t)] : [];
        });
      },
          fm = function fm(e) {
        return 1 < sm(e).length;
      },
          dm = function dm(e) {
        return V(lm(e), xo);
      },
          mm = function mm(e) {
        return $i(e, "td[data-mce-selected],th[data-mce-selected]");
      },
          gm = function gm(e, t) {
        var n = mm(t),
            r = dm(e);
        return 0 < n.length ? n : r;
      },
          pm = gm,
          hm = function hm(e) {
        return gm(cm(e.selection.getSel()), ir.fromDom(e.getBody()));
      },
          vm = function vm(e, t) {
        return U(t, Gc), e.selection.setCursorLocation(t[0].dom(), 0), !0;
      },
          bm = function bm(e, t) {
        return Qf(e, !1, t), !0;
      },
          ym = function ym(n, e, r, t) {
        return xm(e, t).fold(function () {
          return t = n, um(e, r).map(function (e) {
            return e.fold(d(bm, t), d(vm, t));
          });
          var t;
        }, function (e) {
          return wm(n, e);
        }).getOr(!1);
      },
          Cm = function Cm(e, t) {
        return Y(ef(t, e), xo);
      },
          xm = function xm(e, t) {
        return Y(ef(t, e), function (e) {
          return "caption" === cr(e);
        });
      },
          wm = function wm(e, t) {
        return Gc(t), e.selection.setCursorLocation(t.dom(), 0), A.some(!0);
      },
          Nm = function Nm(u, s, c, l, f) {
        return nc.navigate(c, u.getBody(), f).bind(function (e) {
          return r = l, o = c, i = f, a = e, nc.firstPositionIn(r.dom()).bind(function (t) {
            return nc.lastPositionIn(r.dom()).map(function (e) {
              return o ? i.isEqual(t) && a.isEqual(e) : i.isEqual(e) && a.isEqual(t);
            });
          }).getOr(!0) ? wm(u, l) : (t = l, n = e, xm(s, ir.fromDom(n.getNode())).map(function (e) {
            return !1 === Ir(e, t);
          }));
          var t, n, r, o, i, a;
        }).or(A.some(!0));
      },
          Em = function Em(a, u, s, e) {
        var c = Cu.fromRangeStart(a.selection.getRng());
        return Cm(s, e).bind(function (e) {
          return $l(e) ? wm(a, e) : (t = a, n = s, r = u, o = e, i = c, nc.navigate(r, t.getBody(), i).bind(function (e) {
            return Cm(n, ir.fromDom(e.getNode())).map(function (e) {
              return !1 === Ir(e, o);
            });
          }));
          var t, n, r, o, i;
        });
      },
          Sm = function Sm(a, u, e) {
        var s = ir.fromDom(a.getBody());
        return xm(s, e).fold(function () {
          return Em(a, u, s, e);
        }, function (e) {
          return t = a, n = u, r = s, o = e, i = Cu.fromRangeStart(t.selection.getRng()), $l(o) ? wm(t, o) : Nm(t, r, n, o, i);
          var t, n, r, o, i;
        }).getOr(!1);
      },
          km = function km(e, t) {
        var n,
            r,
            o,
            i,
            a,
            u = ir.fromDom(e.selection.getStart(!0)),
            s = hm(e);
        return e.selection.isCollapsed() && 0 === s.length ? Sm(e, t, u) : (n = e, r = u, o = ir.fromDom(n.getBody()), i = n.selection.getRng(), 0 !== (a = hm(n)).length ? vm(n, a) : ym(n, o, i, r));
      },
          Tm = hc.isEq,
          Am = function Am(e, t, n) {
        var r = e.formatter.get(n);
        if (r) for (var o = 0; o < r.length; o++) {
          if (!1 === r[o].inherit && e.dom.is(t, r[o].selector)) return !0;
        }
        return !1;
      },
          Rm = function Rm(t, e, n, r) {
        var o = t.dom.getRoot();
        return e !== o && (e = t.dom.getParent(e, function (e) {
          return !!Am(t, e, n) || e.parentNode === o || !!Bm(t, e, n, r, !0);
        }), Bm(t, e, n, r));
      },
          _m = function _m(e, t, n) {
        return !!Tm(t, n.inline) || !!Tm(t, n.block) || (n.selector ? 1 === t.nodeType && e.is(t, n.selector) : void 0);
      },
          Dm = function Dm(e, t, n, r, o, i) {
        var a,
            u,
            s,
            c = n[r];
        if (n.onmatch) return n.onmatch(t, n, r);
        if (c) if ("undefined" == typeof c.length) {
          for (a in c) {
            if (c.hasOwnProperty(a)) {
              if (u = "attributes" === r ? e.getAttrib(t, a) : hc.getStyle(e, t, a), o && !u && !n.exact) return;
              if ((!o || n.exact) && !Tm(u, hc.normalizeStyleValue(e, hc.replaceVars(c[a], i), a))) return;
            }
          }
        } else for (s = 0; s < c.length; s++) {
          if ("attributes" === r ? e.getAttrib(t, c[s]) : hc.getStyle(e, t, c[s])) return n;
        }
        return n;
      },
          Bm = function Bm(e, t, n, r, o) {
        var i,
            a,
            u,
            s,
            c = e.formatter.get(n),
            l = e.dom;
        if (c && t) for (a = 0; a < c.length; a++) {
          if (i = c[a], _m(e.dom, t, i) && Dm(l, t, i, "attributes", o, r) && Dm(l, t, i, "styles", o, r)) {
            if (s = i.classes) for (u = 0; u < s.length; u++) {
              if (!e.dom.hasClass(t, s[u])) return;
            }
            return i;
          }
        }
      },
          Om = {
        matchNode: Bm,
        matchName: _m,
        match: function match(e, t, n, r) {
          var o;
          return r ? Rm(e, r, t, n) : (r = e.selection.getNode(), !!Rm(e, r, t, n) || !((o = e.selection.getStart()) === r || !Rm(e, o, t, n)));
        },
        matchAll: function matchAll(r, o, i) {
          var e,
              a = [],
              u = {};
          return e = r.selection.getStart(), r.dom.getParent(e, function (e) {
            var t, n;

            for (t = 0; t < o.length; t++) {
              n = o[t], !u[n] && Bm(r, e, n, i) && (u[n] = !0, a.push(n));
            }
          }, r.dom.getRoot()), a;
        },
        canApply: function canApply(e, t) {
          var n,
              r,
              o,
              i,
              a,
              u = e.formatter.get(t),
              s = e.dom;
          if (u) for (n = e.selection.getStart(), r = hc.getParents(s, n), i = u.length - 1; 0 <= i; i--) {
            if (!(a = u[i].selector) || u[i].defaultBlock) return !0;

            for (o = r.length - 1; 0 <= o; o--) {
              if (s.is(r[o], a)) return !0;
            }
          }
          return !1;
        },
        matchesUnInheritedFormatSelector: Am
      },
          Pm = function Pm(e, t) {
        return e.splitText(t);
      },
          Im = function Im(e) {
        var t = e.startContainer,
            n = e.startOffset,
            r = e.endContainer,
            o = e.endOffset;
        return t === r && Po.isText(t) ? 0 < n && n < t.nodeValue.length && (t = (r = Pm(t, n)).previousSibling, n < o ? (t = r = Pm(r, o -= n).previousSibling, o = r.nodeValue.length, n = 0) : o = 0) : (Po.isText(t) && 0 < n && n < t.nodeValue.length && (t = Pm(t, n), n = 0), Po.isText(r) && 0 < o && o < r.nodeValue.length && (o = (r = Pm(r, o).previousSibling).nodeValue.length)), {
          startContainer: t,
          startOffset: n,
          endContainer: r,
          endOffset: o
        };
      },
          Lm = ma,
          Mm = "_mce_caret",
          Fm = function Fm(e) {
        return 0 < function (e) {
          for (var t = []; e;) {
            if (3 === e.nodeType && e.nodeValue !== Lm || 1 < e.childNodes.length) return [];
            1 === e.nodeType && t.push(e), e = e.firstChild;
          }

          return t;
        }(e).length;
      },
          zm = function zm(e) {
        var t;
        if (e) for (e = (t = new ao(e, e)).current(); e; e = t.next()) {
          if (3 === e.nodeType) return e;
        }
        return null;
      },
          Um = function Um(e) {
        var t = ir.fromTag("span");
        return Cr(t, {
          id: Mm,
          "data-mce-bogus": "1",
          "data-mce-type": "format-caret"
        }), e && _i(t, ir.fromText(Lm)), t;
      },
          Vm = function Vm(e, t, n) {
        void 0 === n && (n = !0);
        var r,
            o = e.dom,
            i = e.selection;
        if (Fm(t)) Qf(e, !1, ir.fromDom(t), n);else {
          var a = i.getRng(),
              u = o.getParent(t, o.isBlock),
              s = ((r = zm(t)) && r.nodeValue.charAt(0) === Lm && r.deleteData(0, 1), r);
          a.startContainer === s && 0 < a.startOffset && a.setStart(s, a.startOffset - 1), a.endContainer === s && 0 < a.endOffset && a.setEnd(s, a.endOffset - 1), o.remove(t, !0), u && o.isEmpty(u) && Gc(ir.fromDom(u)), i.setRng(a);
        }
      },
          Hm = function Hm(e, t, n) {
        void 0 === n && (n = !0);
        var r = e.dom,
            o = e.selection;
        if (t) Vm(e, t, n);else if (!(t = qu(e.getBody(), o.getStart()))) for (; t = r.get(Mm);) {
          Vm(e, t, !1);
        }
      },
          jm = function jm(e, t, n) {
        var r = e.dom,
            o = r.getParent(n, d(hc.isTextBlock, e));
        o && r.isEmpty(o) ? n.parentNode.replaceChild(t, n) : (Yc(ir.fromDom(n)), r.isEmpty(n) ? n.parentNode.replaceChild(t, n) : r.insertAfter(t, n));
      },
          qm = function qm(e, t) {
        return e.appendChild(t), t;
      },
          $m = function $m(e, t) {
        var n,
            r,
            o = (n = function n(e, t) {
          return qm(e, t.cloneNode(!1));
        }, r = t, function (e, t) {
          for (var n = e.length - 1; 0 <= n; n--) {
            t(e[n], n, e);
          }
        }(e, function (e) {
          r = n(r, e);
        }), r);
        return qm(o, o.ownerDocument.createTextNode(Lm));
      },
          Wm = function Wm(i) {
        i.on("mouseup keydown", function (e) {
          var t, n, r, o;
          t = i, n = e.keyCode, r = t.selection, o = t.getBody(), Hm(t, null, !1), 8 !== n && 46 !== n || !r.isCollapsed() || r.getStart().innerHTML !== Lm || Hm(t, qu(o, r.getStart())), 37 !== n && 39 !== n || Hm(t, qu(o, r.getStart()));
        });
      },
          Km = function Km(e, t) {
        return e.schema.getTextInlineElements().hasOwnProperty(cr(t)) && !ju(t.dom()) && !Po.isBogus(t.dom());
      },
          Xm = function Xm(e) {
        return 1 === qr(e).length;
      },
          Ym = function Ym(e, t, n, r) {
        var o,
            i,
            a,
            u,
            s = d(Km, t),
            c = W(V(r, s), function (e) {
          return e.dom();
        });
        if (0 === c.length) Qf(t, e, n);else {
          var l = (o = n.dom(), i = c, a = Um(!1), u = $m(i, a.dom()), Ti(ir.fromDom(o), a), Oi(ir.fromDom(o)), Cu(u, 0));
          t.selection.setRng(l.toRange());
        }
      },
          Gm = function Gm(r, o) {
        var t,
            e = ir.fromDom(r.getBody()),
            n = ir.fromDom(r.selection.getStart()),
            i = V((t = ef(n, e), G(t, mo).fold(q(t), function (e) {
          return t.slice(0, e);
        })), Xm);
        return re(i).map(function (e) {
          var t,
              n = Cu.fromRangeStart(r.selection.getRng());
          return !(!zl(o, n, e.dom()) || ju((t = e).dom()) && Fm(t.dom()) || (Ym(o, r, e, i), 0));
        }).getOr(!1);
      },
          Jm = function Jm(e, t) {
        return !!e.selection.isCollapsed() && Gm(e, t);
      },
          Qm = Po.isContentEditableTrue,
          Zm = Po.isContentEditableFalse,
          eg = function eg(e, t, n, r, o) {
        return t._selectionOverrides.showCaret(e, n, r, o);
      },
          tg = function tg(e, t) {
        var n, r;
        return e.fire("BeforeObjectSelected", {
          target: t
        }).isDefaultPrevented() ? null : ((r = (n = t).ownerDocument.createRange()).selectNode(n), r);
      },
          ng = function ng(e, t, n) {
        var r = Es(1, e.getBody(), t),
            o = Cu.fromRangeStart(r),
            i = o.getNode();
        if (Zm(i)) return eg(1, e, i, !o.isAtEnd(), !1);
        var a = o.getNode(!0);
        if (Zm(a)) return eg(1, e, a, !1, !1);
        var u = e.dom.getParent(o.getNode(), function (e) {
          return Zm(e) || Qm(e);
        });
        return Zm(u) ? eg(1, e, u, !1, n) : null;
      },
          rg = function rg(e, t, n) {
        if (!t || !t.collapsed) return t;
        var r = ng(e, t, n);
        return r || t;
      },
          og = function og(e, t, n, r, o, i) {
        var a,
            u,
            s = eg(r, e, i.getNode(!o), o, !0);

        if (t.collapsed) {
          var c = t.cloneRange();
          o ? c.setEnd(s.startContainer, s.startOffset) : c.setStart(s.endContainer, s.endOffset), c.deleteContents();
        } else t.deleteContents();

        return e.selection.setRng(s), a = e.dom, u = n, Po.isText(u) && 0 === u.data.length && a.remove(u), !0;
      },
          ig = function ig(e, t) {
        return function (e, t) {
          var n = e.selection.getRng();
          if (!Po.isText(n.commonAncestorContainer)) return !1;
          var r = t ? bu.Forwards : bu.Backwards,
              o = $s(e.getBody()),
              i = d(As, o.next),
              a = d(As, o.prev),
              u = t ? i : a,
              s = t ? _f : Df,
              c = ks(r, e.getBody(), n),
              l = Ll.normalizePosition(t, u(c));
          if (!l) return !1;
          if (s(l)) return og(e, n, c.getNode(), r, t, l);
          var f = u(l);
          return !!(f && s(f) && Rs(l, f)) && og(e, n, c.getNode(), r, t, f);
        }(e, t);
      },
          ag = function ag(e, t) {
        e.getDoc().execCommand(t, !1, null);
      },
          ug = function ug(e) {
        td(e, !1) || ig(e, !1) || Kd(e, !1) || lf(e, !1) || km(e) || gf(e, !1) || Jm(e, !1) || (ag(e, "Delete"), Fl(e));
      },
          sg = function sg(e) {
        td(e, !0) || ig(e, !0) || Kd(e, !0) || lf(e, !0) || km(e) || gf(e, !0) || Jm(e, !0) || ag(e, "ForwardDelete");
      },
          cg = function cg(o, t, e) {
        var n = function n(e) {
          return t = o, n = e.dom(), r = Sr(n, t), A.from(r).filter(function (e) {
            return 0 < e.length;
          });
          var t, n, r;
        };

        return Yi(ir.fromDom(e), function (e) {
          return n(e).isSome();
        }, function (e) {
          return Ir(ir.fromDom(t), e);
        }).bind(n);
      },
          lg = function lg(o) {
        return function (r, e) {
          return A.from(e).map(ir.fromDom).filter(fr).bind(function (e) {
            return cg(o, r, e.dom()).or((t = o, n = e.dom(), A.from(bi.DOM.getStyle(n, t, !0))));
            var t, n;
          }).getOr("");
        };
      },
          fg = {
        getFontSize: lg("font-size"),
        getFontFamily: j(function (e) {
          return e.replace(/[\'\"\\]/g, "").replace(/,\s+/g, ",");
        }, lg("font-family")),
        toPt: function toPt(e, t) {
          return /[0-9.]+px$/.test(e) ? (n = 72 * parseInt(e, 10) / 96, r = t || 0, o = Math.pow(10, r), Math.round(n * o) / o + "pt") : e;
          var n, r, o;
        }
      },
          dg = function dg(e) {
        return nc.firstPositionIn(e.getBody()).map(function (e) {
          var t = e.container();
          return Po.isText(t) ? t.parentNode : t;
        });
      },
          mg = function mg(o) {
        return A.from(o.selection.getRng()).bind(function (e) {
          var t,
              n,
              r = o.getBody();
          return n = r, (t = e).startContainer === n && 0 === t.startOffset ? A.none() : A.from(o.selection.getStart(!0));
        });
      },
          gg = function gg(e, t) {
        if (/^[0-9\.]+$/.test(t)) {
          var n = parseInt(t, 10);

          if (1 <= n && n <= 7) {
            var r = Nl(e),
                o = El(e);
            return o ? o[n - 1] || t : r[n - 1] || t;
          }

          return t;
        }

        return t;
      },
          pg = function pg(e, t) {
        return e && t && e.startContainer === t.startContainer && e.startOffset === t.startOffset && e.endContainer === t.endContainer && e.endOffset === t.endOffset;
      },
          hg = function hg(e, t, n) {
        return null !== function (e, t, n) {
          for (; e && e !== t;) {
            if (n(e)) return e;
            e = e.parentNode;
          }

          return null;
        }(e, t, n);
      },
          vg = function vg(e, t, n) {
        return hg(e, t, function (e) {
          return e.nodeName === n;
        });
      },
          bg = function bg(e) {
        return e && "TABLE" === e.nodeName;
      },
          yg = function yg(e, t, n) {
        for (var r = new ao(t, e.getParent(t.parentNode, e.isBlock) || e.getRoot()); t = r[n ? "prev" : "next"]();) {
          if (Po.isBr(t)) return !0;
        }
      },
          Cg = function Cg(e, t, n, r, o) {
        var i,
            a,
            u,
            s,
            c,
            l,
            f = e.getRoot(),
            d = e.schema.getNonEmptyElements();
        if (u = e.getParent(o.parentNode, e.isBlock) || f, r && Po.isBr(o) && t && e.isEmpty(u)) return A.some(vu(o.parentNode, e.nodeIndex(o)));

        for (i = new ao(o, u); s = i[r ? "prev" : "next"]();) {
          if ("false" === e.getContentEditableParent(s) || (l = f, ya(c = s) && !1 === hg(c, l, ju))) return A.none();
          if (Po.isText(s) && 0 < s.nodeValue.length) return !1 === vg(s, f, "A") ? A.some(vu(s, r ? s.nodeValue.length : 0)) : A.none();
          if (e.isBlock(s) || d[s.nodeName.toLowerCase()]) return A.none();
          a = s;
        }

        return n && a ? A.some(vu(a, 0)) : A.none();
      },
          xg = function xg(e, t, n, r) {
        var o,
            i,
            a,
            u,
            s,
            c,
            l,
            f,
            d,
            m,
            g = e.getRoot(),
            p = !1;
        if (o = r[(n ? "start" : "end") + "Container"], i = r[(n ? "start" : "end") + "Offset"], l = Po.isElement(o) && i === o.childNodes.length, s = e.schema.getNonEmptyElements(), c = n, ya(o)) return A.none();

        if (Po.isElement(o) && i > o.childNodes.length - 1 && (c = !1), Po.isDocument(o) && (o = g, i = 0), o === g) {
          if (c && (u = o.childNodes[0 < i ? i - 1 : 0])) {
            if (ya(u)) return A.none();
            if (s[u.nodeName] || bg(u)) return A.none();
          }

          if (o.hasChildNodes()) {
            if (i = Math.min(!c && 0 < i ? i - 1 : i, o.childNodes.length - 1), o = o.childNodes[i], i = Po.isText(o) && l ? o.data.length : 0, !t && o === g.lastChild && bg(o)) return A.none();
            if (function (e, t) {
              for (; t && t !== e;) {
                if (Po.isContentEditableFalse(t)) return !0;
                t = t.parentNode;
              }

              return !1;
            }(g, o) || ya(o)) return A.none();

            if (o.hasChildNodes() && !1 === bg(o)) {
              a = new ao(u = o, g);

              do {
                if (Po.isContentEditableFalse(u) || ya(u)) {
                  p = !1;
                  break;
                }

                if (Po.isText(u) && 0 < u.nodeValue.length) {
                  i = c ? 0 : u.nodeValue.length, o = u, p = !0;
                  break;
                }

                if (s[u.nodeName.toLowerCase()] && (!(f = u) || !/^(TD|TH|CAPTION)$/.test(f.nodeName))) {
                  i = e.nodeIndex(u), o = u.parentNode, c || i++, p = !0;
                  break;
                }
              } while (u = c ? a.next() : a.prev());
            }
          }
        }

        return t && (Po.isText(o) && 0 === i && Cg(e, l, t, !0, o).each(function (e) {
          o = e.container(), i = e.offset(), p = !0;
        }), Po.isElement(o) && ((u = o.childNodes[i]) || (u = o.childNodes[i - 1]), !u || !Po.isBr(u) || (m = "A", (d = u).previousSibling && d.previousSibling.nodeName === m) || yg(e, u, !1) || yg(e, u, !0) || Cg(e, l, t, !0, u).each(function (e) {
          o = e.container(), i = e.offset(), p = !0;
        }))), c && !t && Po.isText(o) && i === o.nodeValue.length && Cg(e, l, t, !1, o).each(function (e) {
          o = e.container(), i = e.offset(), p = !0;
        }), p ? A.some(vu(o, i)) : A.none();
      },
          wg = function wg(e, t) {
        var n = t.collapsed,
            r = t.cloneRange(),
            o = vu.fromRangeStart(t);
        return xg(e, n, !0, r).each(function (e) {
          n && vu.isAbove(o, e) || r.setStart(e.container(), e.offset());
        }), n || xg(e, n, !1, r).each(function (e) {
          r.setEnd(e.container(), e.offset());
        }), n && r.collapse(!0), pg(t, r) ? A.none() : A.some(r);
      },
          Ng = function Ng(e, t, n) {
        var r = e.create("span", {}, "&nbsp;");
        n.parentNode.insertBefore(r, n), t.scrollIntoView(r), e.remove(r);
      },
          Eg = function Eg(e, t, n, r) {
        var o = e.createRng();
        r ? (o.setStartBefore(n), o.setEndBefore(n)) : (o.setStartAfter(n), o.setEndAfter(n)), t.setRng(o);
      },
          Sg = function Sg(e, t) {
        var n,
            r,
            o = e.selection,
            i = e.dom,
            a = o.getRng();
        wg(i, a).each(function (e) {
          a.setStart(e.startContainer, e.startOffset), a.setEnd(e.endContainer, e.endOffset);
        });
        var u = a.startOffset,
            s = a.startContainer;

        if (1 === s.nodeType && s.hasChildNodes()) {
          var c = u > s.childNodes.length - 1;
          s = s.childNodes[Math.min(u, s.childNodes.length - 1)] || s, u = c && 3 === s.nodeType ? s.nodeValue.length : 0;
        }

        var l = i.getParent(s, i.isBlock),
            f = l ? i.getParent(l.parentNode, i.isBlock) : null,
            d = f ? f.nodeName.toUpperCase() : "",
            m = t && t.ctrlKey;
        "LI" !== d || m || (l = f), s && 3 === s.nodeType && u >= s.nodeValue.length && (function (e, t, n) {
          for (var r, o = new ao(t, n), i = e.getNonEmptyElements(); r = o.next();) {
            if (i[r.nodeName.toLowerCase()] || 0 < r.length) return !0;
          }
        }(e.schema, s, l) || (n = i.create("br"), a.insertNode(n), a.setStartAfter(n), a.setEndAfter(n), r = !0)), n = i.create("br"), Du(i, a, n), Ng(i, o, n), Eg(i, o, n, r), e.undoManager.add();
      },
          kg = function kg(e, t) {
        var n = ir.fromTag("br");
        Ti(ir.fromDom(t), n), e.undoManager.add();
      },
          Tg = function Tg(e, t) {
        Ag(e.getBody(), t) || Ai(ir.fromDom(t), ir.fromTag("br"));
        var n = ir.fromTag("br");
        Ai(ir.fromDom(t), n), Ng(e.dom, e.selection, n.dom()), Eg(e.dom, e.selection, n.dom(), !1), e.undoManager.add();
      },
          Ag = function Ag(e, t) {
        return n = Cu.after(t), !!Po.isBr(n.getNode()) || nc.nextPosition(e, Cu.after(t)).map(function (e) {
          return Po.isBr(e.getNode());
        }).getOr(!1);
        var n;
      },
          Rg = function Rg(e) {
        return e && "A" === e.nodeName && "href" in e;
      },
          _g = function _g(e) {
        return e.fold(q(!1), Rg, Rg, q(!1));
      },
          Dg = function Dg(e, t) {
        t.fold(o, d(kg, e), d(Tg, e), o);
      },
          Bg = function Bg(e, t) {
        var n,
            r,
            o,
            i = (n = e, r = d(Ll.isInlineTarget, n), o = Cu.fromRangeStart(n.selection.getRng()), Dd(r, n.getBody(), o).filter(_g));
        i.isSome() ? i.each(d(Dg, e)) : Sg(e, t);
      },
          Og = {
        create: kr("start", "soffset", "finish", "foffset")
      },
          Pg = pf([{
        before: ["element"]
      }, {
        on: ["element", "offset"]
      }, {
        after: ["element"]
      }]),
          Ig = (Pg.before, Pg.on, Pg.after, function (e) {
        return e.fold($, $, $);
      }),
          Lg = pf([{
        domRange: ["rng"]
      }, {
        relative: ["startSitu", "finishSitu"]
      }, {
        exact: ["start", "soffset", "finish", "foffset"]
      }]),
          Mg = {
        domRange: Lg.domRange,
        relative: Lg.relative,
        exact: Lg.exact,
        exactFromRange: function exactFromRange(e) {
          return Lg.exact(e.start(), e.soffset(), e.finish(), e.foffset());
        },
        getWin: function getWin(e) {
          var t = e.match({
            domRange: function domRange(e) {
              return ir.fromDom(e.startContainer);
            },
            relative: function relative(e, t) {
              return Ig(e);
            },
            exact: function exact(e, t, n, r) {
              return e;
            }
          });
          return Fr(t);
        },
        range: Og.create
      },
          Fg = rr.detect().browser,
          zg = function zg(e, t) {
        var n = dr(t) ? Bc(t).length : qr(t).length + 1;
        return n < e ? n : e < 0 ? 0 : e;
      },
          Ug = function Ug(e) {
        return Mg.range(e.start(), zg(e.soffset(), e.start()), e.finish(), zg(e.foffset(), e.finish()));
      },
          Vg = function Vg(e, t) {
        return !Po.isRestrictedNode(t.dom()) && (Lr(e, t) || Ir(e, t));
      },
          Hg = function Hg(t) {
        return function (e) {
          return Vg(t, e.start()) && Vg(t, e.finish());
        };
      },
          jg = function jg(e) {
        return !0 === e.inline || Fg.isIE();
      },
          qg = function qg(e) {
        return Mg.range(ir.fromDom(e.startContainer), e.startOffset, ir.fromDom(e.endContainer), e.endOffset);
      },
          $g = function $g(e) {
        var t = e.getSelection();
        return (t && 0 !== t.rangeCount ? A.from(t.getRangeAt(0)) : A.none()).map(qg);
      },
          Wg = function Wg(e) {
        var t = Fr(e);
        return $g(t.dom()).filter(Hg(e));
      },
          Kg = function Kg(e, t) {
        return A.from(t).filter(Hg(e)).map(Ug);
      },
          Xg = function Xg(e) {
        var t = H.document.createRange();

        try {
          return t.setStart(e.start().dom(), e.soffset()), t.setEnd(e.finish().dom(), e.foffset()), A.some(t);
        } catch (n) {
          return A.none();
        }
      },
          Yg = function Yg(e) {
        return (e.bookmark ? e.bookmark : A.none()).bind(d(Kg, ir.fromDom(e.getBody()))).bind(Xg);
      },
          Gg = function Gg(e) {
        var t = jg(e) ? Wg(ir.fromDom(e.getBody())) : A.none();
        e.bookmark = t.isSome() ? t : e.bookmark;
      },
          Jg = function Jg(t) {
        Yg(t).each(function (e) {
          t.selection.setRng(e);
        });
      },
          Qg = Yg,
          Zg = function Zg(e) {
        return vo(e) || bo(e);
      },
          ep = function ep(e) {
        return V(W(e.selection.getSelectedBlocks(), ir.fromDom), function (e) {
          return !Zg(e) && !zr(e).map(Zg).getOr(!1);
        });
      },
          tp = function tp(e, t) {
        var n = e.settings,
            r = e.dom,
            o = e.selection,
            i = e.formatter,
            a = /[a-z%]+$/i.exec(n.indentation)[0],
            u = parseInt(n.indentation, 10),
            s = e.getParam("indent_use_margin", !1);
        e.queryCommandState("InsertUnorderedList") || e.queryCommandState("InsertOrderedList") || n.forced_root_block || r.getParent(o.getNode(), r.isBlock) || i.apply("div"), U(ep(e), function (e) {
          !function (e, t, n, r, o, i) {
            if ("false" !== e.getContentEditable(i)) {
              var a = n ? "margin" : "padding";

              if (a = "TABLE" === i.nodeName ? "margin" : a, a += "rtl" === e.getStyle(i, "direction", !0) ? "Right" : "Left", "outdent" === t) {
                var u = Math.max(0, parseInt(i.style[a] || 0, 10) - r);
                e.setStyle(i, a, u ? u + o : "");
              } else u = parseInt(i.style[a] || 0, 10) + r + o, e.setStyle(i, a, u);
            }
          }(r, t, s, u, a, e.dom());
        });
      },
          np = Jt.each,
          rp = Jt.extend,
          op = Jt.map,
          ip = Jt.inArray;

      function ap(s) {
        var o,
            i,
            a,
            t,
            c = {
          state: {},
          exec: {},
          value: {}
        },
            n = s.settings;
        s.on("PreInit", function () {
          o = s.dom, i = s.selection, n = s.settings, a = s.formatter;
        });

        var r = function r(e) {
          var t;

          if (!s.quirks.isHidden() && !s.removed) {
            if (e = e.toLowerCase(), t = c.state[e]) return t(e);

            try {
              return s.getDoc().queryCommandState(e);
            } catch (n) {}

            return !1;
          }
        },
            e = function e(_e4, n) {
          n = n || "exec", np(_e4, function (t, e) {
            np(e.toLowerCase().split(","), function (e) {
              c[n][e] = t;
            });
          });
        },
            u = function u(e, t, n) {
          e = e.toLowerCase(), c.value[e] = function () {
            return t.call(n || s);
          };
        };

        rp(this, {
          execCommand: function execCommand(t, n, r, e) {
            var o,
                i,
                a = !1;

            if (!s.removed) {
              if (/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(t) || e && e.skip_focus ? Jg(s) : s.focus(), (e = s.fire("BeforeExecCommand", {
                command: t,
                ui: n,
                value: r
              })).isDefaultPrevented()) return !1;
              if (i = t.toLowerCase(), o = c.exec[i]) return o(i, n, r), s.fire("ExecCommand", {
                command: t,
                ui: n,
                value: r
              }), !0;
              if (np(s.plugins, function (e) {
                if (e.execCommand && e.execCommand(t, n, r)) return s.fire("ExecCommand", {
                  command: t,
                  ui: n,
                  value: r
                }), !(a = !0);
              }), a) return a;
              if (s.theme && s.theme.execCommand && s.theme.execCommand(t, n, r)) return s.fire("ExecCommand", {
                command: t,
                ui: n,
                value: r
              }), !0;

              try {
                a = s.getDoc().execCommand(t, n, r);
              } catch (u) {}

              return !!a && (s.fire("ExecCommand", {
                command: t,
                ui: n,
                value: r
              }), !0);
            }
          },
          queryCommandState: r,
          queryCommandValue: function queryCommandValue(e) {
            var t;

            if (!s.quirks.isHidden() && !s.removed) {
              if (e = e.toLowerCase(), t = c.value[e]) return t(e);

              try {
                return s.getDoc().queryCommandValue(e);
              } catch (n) {}
            }
          },
          queryCommandSupported: function queryCommandSupported(e) {
            if (e = e.toLowerCase(), c.exec[e]) return !0;

            try {
              return s.getDoc().queryCommandSupported(e);
            } catch (t) {}

            return !1;
          },
          addCommands: e,
          addCommand: function addCommand(e, o, i) {
            e = e.toLowerCase(), c.exec[e] = function (e, t, n, r) {
              return o.call(i || s, t, n, r);
            };
          },
          addQueryStateHandler: function addQueryStateHandler(e, t, n) {
            e = e.toLowerCase(), c.state[e] = function () {
              return t.call(n || s);
            };
          },
          addQueryValueHandler: u,
          hasCustomCommand: function hasCustomCommand(e) {
            return e = e.toLowerCase(), !!c.exec[e];
          }
        });

        var l = function l(e, t, n) {
          return t === undefined && (t = !1), n === undefined && (n = null), s.getDoc().execCommand(e, t, n);
        },
            f = function f(e) {
          return a.match(e);
        },
            d = function d(e, t) {
          a.toggle(e, t ? {
            value: t
          } : undefined), s.nodeChanged();
        },
            m = function m(e) {
          t = i.getBookmark(e);
        },
            g = function g() {
          i.moveToBookmark(t);
        };

        e({
          "mceResetDesignMode,mceBeginUndoLevel": function mceResetDesignModeMceBeginUndoLevel() {},
          "mceEndUndoLevel,mceAddUndoLevel": function mceEndUndoLevelMceAddUndoLevel() {
            s.undoManager.add();
          },
          "Cut,Copy,Paste": function CutCopyPaste(e) {
            var t,
                n = s.getDoc();

            try {
              l(e);
            } catch (o) {
              t = !0;
            }

            if ("paste" !== e || n.queryCommandEnabled(e) || (t = !0), t || !n.queryCommandSupported(e)) {
              var r = s.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");
              ge.mac && (r = r.replace(/Ctrl\+/g, "\u2318+")), s.notificationManager.open({
                text: r,
                type: "error"
              });
            }
          },
          unlink: function unlink() {
            if (i.isCollapsed()) {
              var e = s.dom.getParent(s.selection.getStart(), "a");
              e && s.dom.remove(e, !0);
            } else a.remove("link");
          },
          "JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone": function JustifyLeftJustifyCenterJustifyRightJustifyFullJustifyNone(e) {
            var t = e.substring(7);
            "full" === t && (t = "justify"), np("left,center,right,justify".split(","), function (e) {
              t !== e && a.remove("align" + e);
            }), "none" !== t && d("align" + t);
          },
          "InsertUnorderedList,InsertOrderedList": function InsertUnorderedListInsertOrderedList(e) {
            var t, n;
            l(e), (t = o.getParent(i.getNode(), "ol,ul")) && (n = t.parentNode, /^(H[1-6]|P|ADDRESS|PRE)$/.test(n.nodeName) && (m(), o.split(n, t), g()));
          },
          "Bold,Italic,Underline,Strikethrough,Superscript,Subscript": function BoldItalicUnderlineStrikethroughSuperscriptSubscript(e) {
            d(e);
          },
          "ForeColor,HiliteColor": function ForeColorHiliteColor(e, t, n) {
            d(e, n);
          },
          FontName: function FontName(e, t, n) {
            var r, o;
            o = n, (r = s).formatter.toggle("fontname", {
              value: gg(r, o)
            }), r.nodeChanged();
          },
          FontSize: function FontSize(e, t, n) {
            var r, o;
            o = n, (r = s).formatter.toggle("fontsize", {
              value: gg(r, o)
            }), r.nodeChanged();
          },
          RemoveFormat: function RemoveFormat(e) {
            a.remove(e);
          },
          mceBlockQuote: function mceBlockQuote() {
            d("blockquote");
          },
          FormatBlock: function FormatBlock(e, t, n) {
            return d(n || "p");
          },
          mceCleanup: function mceCleanup() {
            var e = i.getBookmark();
            s.setContent(s.getContent()), i.moveToBookmark(e);
          },
          mceRemoveNode: function mceRemoveNode(e, t, n) {
            var r = n || i.getNode();
            r !== s.getBody() && (m(), s.dom.remove(r, !0), g());
          },
          mceSelectNodeDepth: function mceSelectNodeDepth(e, t, n) {
            var r = 0;
            o.getParent(i.getNode(), function (e) {
              if (1 === e.nodeType && r++ === n) return i.select(e), !1;
            }, s.getBody());
          },
          mceSelectNode: function mceSelectNode(e, t, n) {
            i.select(n);
          },
          mceInsertContent: function mceInsertContent(e, t, n) {
            ul(s, n);
          },
          mceInsertRawHTML: function mceInsertRawHTML(e, t, n) {
            i.setContent("tiny_mce_marker");
            var r = s.getContent();
            s.setContent(r.replace(/tiny_mce_marker/g, function () {
              return n;
            }));
          },
          mceToggleFormat: function mceToggleFormat(e, t, n) {
            d(n);
          },
          mceSetContent: function mceSetContent(e, t, n) {
            s.setContent(n);
          },
          "Indent,Outdent": function IndentOutdent(e) {
            tp(s, e);
          },
          mceRepaint: function mceRepaint() {},
          InsertHorizontalRule: function InsertHorizontalRule() {
            s.execCommand("mceInsertContent", !1, "<hr />");
          },
          mceToggleVisualAid: function mceToggleVisualAid() {
            s.hasVisual = !s.hasVisual, s.addVisual();
          },
          mceReplaceContent: function mceReplaceContent(e, t, n) {
            s.execCommand("mceInsertContent", !1, n.replace(/\{\$selection\}/g, i.getContent({
              format: "text"
            })));
          },
          mceInsertLink: function mceInsertLink(e, t, n) {
            var r;
            "string" == typeof n && (n = {
              href: n
            }), r = o.getParent(i.getNode(), "a"), n.href = n.href.replace(" ", "%20"), r && n.href || a.remove("link"), n.href && a.apply("link", n, r);
          },
          selectAll: function selectAll() {
            var e = o.getParent(i.getStart(), Po.isContentEditableTrue);

            if (e) {
              var t = o.createRng();
              t.selectNodeContents(e), i.setRng(t);
            }
          },
          "delete": function _delete() {
            ug(s);
          },
          forwardDelete: function forwardDelete() {
            sg(s);
          },
          mceNewDocument: function mceNewDocument() {
            s.setContent("");
          },
          InsertLineBreak: function InsertLineBreak(e, t, n) {
            return Bg(s, n), !0;
          }
        });

        var p = function p(n) {
          return function () {
            var e = i.isCollapsed() ? [o.getParent(i.getNode(), o.isBlock)] : i.getSelectedBlocks(),
                t = op(e, function (e) {
              return !!a.matchNode(e, n);
            });
            return -1 !== ip(t, !0);
          };
        };

        e({
          JustifyLeft: p("alignleft"),
          JustifyCenter: p("aligncenter"),
          JustifyRight: p("alignright"),
          JustifyFull: p("alignjustify"),
          "Bold,Italic,Underline,Strikethrough,Superscript,Subscript": function BoldItalicUnderlineStrikethroughSuperscriptSubscript(e) {
            return f(e);
          },
          mceBlockQuote: function mceBlockQuote() {
            return f("blockquote");
          },
          Outdent: function Outdent() {
            var e;

            if (n.inline_styles) {
              if ((e = o.getParent(i.getStart(), o.isBlock)) && 0 < parseInt(e.style.paddingLeft, 10)) return !0;
              if ((e = o.getParent(i.getEnd(), o.isBlock)) && 0 < parseInt(e.style.paddingLeft, 10)) return !0;
            }

            return r("InsertUnorderedList") || r("InsertOrderedList") || !n.inline_styles && !!o.getParent(i.getNode(), "BLOCKQUOTE");
          },
          "InsertUnorderedList,InsertOrderedList": function InsertUnorderedListInsertOrderedList(e) {
            var t = o.getParent(i.getNode(), "ul,ol");
            return t && ("insertunorderedlist" === e && "UL" === t.tagName || "insertorderedlist" === e && "OL" === t.tagName);
          }
        }, "state"), e({
          Undo: function Undo() {
            s.undoManager.undo();
          },
          Redo: function Redo() {
            s.undoManager.redo();
          }
        }), u("FontName", function () {
          return mg(t = s).fold(function () {
            return dg(t).map(function (e) {
              return fg.getFontFamily(t.getBody(), e);
            }).getOr("");
          }, function (e) {
            return fg.getFontFamily(t.getBody(), e);
          });
          var t;
        }, this), u("FontSize", function () {
          return mg(t = s).fold(function () {
            return dg(t).map(function (e) {
              return fg.getFontSize(t.getBody(), e);
            }).getOr("");
          }, function (e) {
            return fg.getFontSize(t.getBody(), e);
          });
          var t;
        }, this);
      }

      var up = Jt.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend", " "),
          sp = function sp(a) {
        var u,
            s,
            c = this,
            l = {},
            f = function f() {
          return !1;
        },
            d = function d() {
          return !0;
        };

        u = (a = a || {}).scope || c, s = a.toggleEvent || f;

        var r = function r(e, t, n, _r5) {
          var o, i, a;
          if (!1 === t && (t = f), t) for (t = {
            func: t
          }, _r5 && Jt.extend(t, _r5), a = (i = e.toLowerCase().split(" ")).length; a--;) {
            e = i[a], (o = l[e]) || (o = l[e] = [], s(e, !0)), n ? o.unshift(t) : o.push(t);
          }
          return c;
        },
            m = function m(e, t) {
          var n, r, o, i, a;
          if (e) for (n = (i = e.toLowerCase().split(" ")).length; n--;) {
            if (e = i[n], r = l[e], !e) {
              for (o in l) {
                s(o, !1), delete l[o];
              }

              return c;
            }

            if (r) {
              if (t) for (a = r.length; a--;) {
                r[a].func === t && (r = r.slice(0, a).concat(r.slice(a + 1)), l[e] = r);
              } else r.length = 0;
              r.length || (s(e, !1), delete l[e]);
            }
          } else {
            for (e in l) {
              s(e, !1);
            }

            l = {};
          }
          return c;
        };

        c.fire = function (e, t) {
          var n, r, o, i;
          if (e = e.toLowerCase(), (t = t || {}).type = e, t.target || (t.target = u), t.preventDefault || (t.preventDefault = function () {
            t.isDefaultPrevented = d;
          }, t.stopPropagation = function () {
            t.isPropagationStopped = d;
          }, t.stopImmediatePropagation = function () {
            t.isImmediatePropagationStopped = d;
          }, t.isDefaultPrevented = f, t.isPropagationStopped = f, t.isImmediatePropagationStopped = f), a.beforeFire && a.beforeFire(t), n = l[e]) for (r = 0, o = n.length; r < o; r++) {
            if ((i = n[r]).once && m(e, i.func), t.isImmediatePropagationStopped()) return t.stopPropagation(), t;
            if (!1 === i.func.call(u, t)) return t.preventDefault(), t;
          }
          return t;
        }, c.on = r, c.off = m, c.once = function (e, t, n) {
          return r(e, t, n, {
            once: !0
          });
        }, c.has = function (e) {
          return e = e.toLowerCase(), !(!l[e] || 0 === l[e].length);
        };
      };

      sp.isNative = function (e) {
        return !!up[e.toLowerCase()];
      };

      var cp,
          lp = function lp(n) {
        return n._eventDispatcher || (n._eventDispatcher = new sp({
          scope: n,
          toggleEvent: function toggleEvent(e, t) {
            sp.isNative(e) && n.toggleNativeEvent && n.toggleNativeEvent(e, t);
          }
        })), n._eventDispatcher;
      },
          fp = {
        fire: function fire(e, t, n) {
          if (this.removed && "remove" !== e && "detach" !== e) return t;
          if (t = lp(this).fire(e, t, n), !1 !== n && this.parent) for (var r = this.parent(); r && !t.isPropagationStopped();) {
            r.fire(e, t, !1), r = r.parent();
          }
          return t;
        },
        on: function on(e, t, n) {
          return lp(this).on(e, t, n);
        },
        off: function off(e, t) {
          return lp(this).off(e, t);
        },
        once: function once(e, t) {
          return lp(this).once(e, t);
        },
        hasEventListeners: function hasEventListeners(e) {
          return lp(this).has(e);
        }
      },
          dp = function dp(e, t) {
        return e.fire("PreProcess", t);
      },
          mp = function mp(e, t) {
        return e.fire("PostProcess", t);
      },
          gp = function gp(e) {
        return e.fire("remove");
      },
          pp = function pp(e) {
        return e.fire("detach");
      },
          hp = function hp(e, t) {
        return e.fire("SwitchMode", {
          mode: t
        });
      },
          vp = function vp(e, t, n, r) {
        e.fire("ObjectResizeStart", {
          target: t,
          width: n,
          height: r
        });
      },
          bp = function bp(e, t, n, r) {
        e.fire("ObjectResized", {
          target: t,
          width: n,
          height: r
        });
      },
          yp = function yp(e, t, n) {
        try {
          e.getDoc().execCommand(t, !1, n);
        } catch (r) {}
      },
          Cp = function Cp(e, t, n) {
        var r, o;
        ji(e, t) && !1 === n ? (o = t, Fi(r = e) ? r.dom().classList.remove(o) : Ui(r, o), Hi(r)) : n && Vi(e, t);
      },
          xp = function xp(e, t) {
        Cp(ir.fromDom(e.getBody()), "mce-content-readonly", t), t ? (e.selection.controlSelection.hideResizeRect(), e.readonly = !0, e.getBody().contentEditable = "false") : (e.readonly = !1, e.getBody().contentEditable = "true", yp(e, "StyleWithCSS", !1), yp(e, "enableInlineTableEditing", !1), yp(e, "enableObjectResizing", !1), e.focus(), e.nodeChanged());
      },
          wp = function wp(e) {
        return e.readonly ? "readonly" : "design";
      },
          Np = bi.DOM,
          Ep = function Ep(e, t) {
        return "selectionchange" === t ? e.getDoc() : !e.inline && /^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(t) ? e.getDoc().documentElement : e.settings.event_root ? (e.eventRoot || (e.eventRoot = Np.select(e.settings.event_root)[0]), e.eventRoot) : e.getBody();
      },
          Sp = function Sp(e, t, n) {
        var r;
        (r = e).hidden || r.readonly ? !0 === e.readonly && n.preventDefault() : e.fire(t, n);
      },
          kp = function kp(i, a) {
        var e, t;
        if (i.delegates || (i.delegates = {}), !i.delegates[a] && !i.removed) if (e = Ep(i, a), i.settings.event_root) {
          if (cp || (cp = {}, i.editorManager.on("removeEditor", function () {
            var e;

            if (!i.editorManager.activeEditor && cp) {
              for (e in cp) {
                i.dom.unbind(Ep(i, e));
              }

              cp = null;
            }
          })), cp[a]) return;
          t = function t(e) {
            for (var t = e.target, n = i.editorManager.get(), r = n.length; r--;) {
              var o = n[r].getBody();
              (o === t || Np.isChildOf(t, o)) && Sp(n[r], a, e);
            }
          }, cp[a] = t, Np.bind(e, a, t);
        } else t = function t(e) {
          Sp(i, a, e);
        }, Np.bind(e, a, t), i.delegates[a] = t;
      },
          Tp = {
        bindPendingEventDelegates: function bindPendingEventDelegates() {
          var t = this;
          Jt.each(t._pendingNativeEvents, function (e) {
            kp(t, e);
          });
        },
        toggleNativeEvent: function toggleNativeEvent(e, t) {
          var n = this;
          "focus" !== e && "blur" !== e && (t ? n.initialized ? kp(n, e) : n._pendingNativeEvents ? n._pendingNativeEvents.push(e) : n._pendingNativeEvents = [e] : n.initialized && (n.dom.unbind(Ep(n, e), e, n.delegates[e]), delete n.delegates[e]));
        },
        unbindAllNativeEvents: function unbindAllNativeEvents() {
          var e,
              t = this,
              n = t.getBody(),
              r = t.dom;

          if (t.delegates) {
            for (e in t.delegates) {
              t.dom.unbind(Ep(t, e), e, t.delegates[e]);
            }

            delete t.delegates;
          }

          !t.inline && n && r && (n.onload = null, r.unbind(t.getWin()), r.unbind(t.getDoc())), r && (r.unbind(n), r.unbind(t.getContainer()));
        }
      },
          Ap = Tp = Jt.extend({}, fp, Tp),
          Rp = kr("sections", "settings"),
          _p = rr.detect().deviceType.isTouch(),
          Dp = ["lists", "autolink", "autosave"],
          Bp = {
        theme: "mobile"
      },
          Op = function Op(e) {
        var t = D(e) ? e.join(" ") : e,
            n = W(R(t) ? t.split(" ") : [], Yn);
        return V(n, function (e) {
          return 0 < e.length;
        });
      },
          Pp = function Pp(n, e) {
        var r,
            o,
            i,
            t = (r = function r(e, t) {
          return F(n, t);
        }, o = {}, i = {}, pr(e, function (e, t) {
          (r(e, t) ? o : i)[t] = e;
        }), {
          t: o,
          f: i
        });
        return Rp(t.t, t.f);
      },
          Ip = function Ip(e, t) {
        return e.sections().hasOwnProperty(t);
      },
          Lp = function Lp(e, t, n, r) {
        var o,
            i = Op(n.forced_plugins),
            a = Op(r.plugins),
            u = e && Ip(t, "mobile") ? V(a, d(F, Dp)) : a,
            s = (o = u, [].concat(Op(i)).concat(Op(o)));
        return Jt.extend(r, {
          plugins: s.join(" ")
        });
      },
          Mp = function Mp(e, t, n, r) {
        var o,
            i,
            a,
            u,
            s,
            c,
            l,
            f,
            d,
            m,
            g = Pp(["mobile"], r),
            p = Jt.extend(t, n, g.settings(), (f = e, m = (d = g).settings().inline, f && Ip(d, "mobile") && !m ? (u = "mobile", s = Bp, c = g.sections(), l = c.hasOwnProperty(u) ? c[u] : {}, Jt.extend({}, s, l)) : {}), {
          validate: !0,
          content_editable: g.settings().inline,
          external_plugins: (o = n, i = g.settings(), a = i.external_plugins ? i.external_plugins : {}, o && o.external_plugins ? Jt.extend({}, o.external_plugins, a) : a)
        });
        return Lp(e, g, n, p);
      },
          Fp = function Fp(e, t, n) {
        return A.from(t.settings[n]).filter(e);
      },
          zp = function zp(e, t, n, r) {
        var o,
            i,
            a,
            u = t in e.settings ? e.settings[t] : n;
        return "hash" === r ? (a = {}, "string" == typeof (i = u) ? U(0 < i.indexOf("=") ? i.split(/[;,](?![^=;,]*(?:[;,]|$))/) : i.split(","), function (e) {
          var t = e.split("=");
          1 < t.length ? a[Jt.trim(t[0])] = Jt.trim(t[1]) : a[Jt.trim(t[0])] = Jt.trim(t);
        }) : a = i, a) : "string" === r ? Fp(R, e, t).getOr(n) : "number" === r ? Fp(I, e, t).getOr(n) : "boolean" === r ? Fp(O, e, t).getOr(n) : "object" === r ? Fp(_, e, t).getOr(n) : "array" === r ? Fp(D, e, t).getOr(n) : "string[]" === r ? Fp((o = R, function (e) {
          return D(e) && ee(e, o);
        }), e, t).getOr(n) : "function" === r ? Fp(P, e, t).getOr(n) : u;
      },
          Up = Jt.each,
          Vp = Jt.explode,
          Hp = {
        f1: 112,
        f2: 113,
        f3: 114,
        f4: 115,
        f5: 116,
        f6: 117,
        f7: 118,
        f8: 119,
        f9: 120,
        f10: 121,
        f11: 122,
        f12: 123
      },
          jp = Jt.makeMap("alt,ctrl,shift,meta,access");

      function qp(i) {
        var a = {},
            r = [],
            u = function u(e) {
          var t,
              n,
              r = {};

          for (n in Up(Vp(e, "+"), function (e) {
            e in jp ? r[e] = !0 : /^[0-9]{2,}$/.test(e) ? r.keyCode = parseInt(e, 10) : (r.charCode = e.charCodeAt(0), r.keyCode = Hp[e] || e.toUpperCase().charCodeAt(0));
          }), t = [r.keyCode], jp) {
            r[n] ? t.push(n) : r[n] = !1;
          }

          return r.id = t.join(","), r.access && (r.alt = !0, ge.mac ? r.ctrl = !0 : r.shift = !0), r.meta && (ge.mac ? r.meta = !0 : (r.ctrl = !0, r.meta = !1)), r;
        },
            s = function s(e, t, n, r) {
          var o;
          return (o = Jt.map(Vp(e, ">"), u))[o.length - 1] = Jt.extend(o[o.length - 1], {
            func: n,
            scope: r || i
          }), Jt.extend(o[0], {
            desc: i.translate(t),
            subpatterns: o.slice(1)
          });
        },
            o = function o(e, t) {
          return !!t && t.ctrl === e.ctrlKey && t.meta === e.metaKey && t.alt === e.altKey && t.shift === e.shiftKey && !!(e.keyCode === t.keyCode || e.charCode && e.charCode === t.charCode) && (e.preventDefault(), !0);
        },
            c = function c(e) {
          return e.func ? e.func.call(e.scope) : null;
        };

        i.on("keyup keypress keydown", function (t) {
          var e, n;
          ((n = t).altKey || n.ctrlKey || n.metaKey || "keydown" === (e = t).type && 112 <= e.keyCode && e.keyCode <= 123) && !t.isDefaultPrevented() && (Up(a, function (e) {
            if (o(t, e)) return r = e.subpatterns.slice(0), "keydown" === t.type && c(e), !0;
          }), o(t, r[0]) && (1 === r.length && "keydown" === t.type && c(r[0]), r.shift()));
        }), this.add = function (e, n, r, o) {
          var t;
          return "string" == typeof (t = r) ? r = function r() {
            i.execCommand(t, !1, null);
          } : Jt.isArray(t) && (r = function r() {
            i.execCommand(t[0], t[1], t[2]);
          }), Up(Vp(Jt.trim(e.toLowerCase())), function (e) {
            var t = s(e, n, r, o);
            a[t.id] = t;
          }), !0;
        }, this.remove = function (e) {
          var t = s(e);
          return !!a[t.id] && (delete a[t.id], !0);
        };
      }

      var $p = function $p(e) {
        var t = Mr(e).dom();
        return e.dom() === t.activeElement;
      },
          Wp = function Wp(t) {
        return (e = Mr(t), n = e !== undefined ? e.dom() : H.document, A.from(n.activeElement).map(ir.fromDom)).filter(function (e) {
          return t.dom().contains(e.dom());
        });
        var e, n;
      },
          Kp = function Kp(t, e) {
        return (n = e, n.collapsed ? A.from(Wa(n.startContainer, n.startOffset)).map(ir.fromDom) : A.none()).bind(function (e) {
          return Co(e) ? A.some(e) : !1 === Lr(t, e) ? A.some(t) : A.none();
        });
        var n;
      },
          Xp = function Xp(t, e) {
        Kp(ir.fromDom(t.getBody()), e).bind(function (e) {
          return nc.firstPositionIn(e.dom());
        }).fold(function () {
          t.selection.normalize();
        }, function (e) {
          return t.selection.setRng(e.toRange());
        });
      },
          Yp = function Yp(e) {
        if (e.setActive) try {
          e.setActive();
        } catch (t) {
          e.focus();
        } else e.focus();
      },
          Gp = function Gp(e) {
        var t,
            n = e.getBody();
        return n && (t = ir.fromDom(n), $p(t) || Wp(t).isSome());
      },
          Jp = function Jp(e) {
        return e.inline ? Gp(e) : (t = e).iframeElement && $p(ir.fromDom(t.iframeElement));
        var t;
      },
          Qp = function Qp(e) {
        return e.editorManager.setActive(e);
      },
          Zp = function Zp(e, t) {
        e.removed || (t ? Qp(e) : function (t) {
          var e = t.selection,
              n = t.settings.content_editable,
              r = t.getBody(),
              o = e.getRng();
          t.quirks.refreshContentEditable();
          var i,
              a,
              u = (i = t, a = e.getNode(), i.dom.getParent(a, function (e) {
            return "true" === i.dom.getContentEditable(e);
          }));
          if (t.$.contains(r, u)) return Yp(u), Xp(t, o), Qp(t);
          t.bookmark !== undefined && !1 === Jp(t) && Qg(t).each(function (e) {
            t.selection.setRng(e), o = e;
          }), n || (ge.opera || Yp(r), t.getWin().focus()), (ge.gecko || n) && (Yp(r), Xp(t, o)), Qp(t);
        }(e));
      },
          eh = Jp,
          th = function th(e, t) {
        return t.dom()[e];
      },
          nh = function nh(e, t) {
        return parseInt(Er(t, e), 10);
      },
          rh = d(th, "clientWidth"),
          oh = d(th, "clientHeight"),
          ih = d(nh, "margin-top"),
          ah = d(nh, "margin-left"),
          uh = function uh(e, t, n) {
        var r,
            o,
            i,
            a,
            u,
            s,
            c,
            l,
            f,
            d,
            m,
            g = ir.fromDom(e.getBody()),
            p = e.inline ? g : (r = g, ir.fromDom(r.dom().ownerDocument.documentElement)),
            h = (o = e.inline, a = t, u = n, s = (i = p).dom().getBoundingClientRect(), {
          x: a - (o ? s.left + i.dom().clientLeft + ah(i) : 0),
          y: u - (o ? s.top + i.dom().clientTop + ih(i) : 0)
        });
        return l = h.x, f = h.y, d = rh(c = p), m = oh(c), 0 <= l && 0 <= f && l <= d && f <= m;
      },
          sh = function sh(e) {
        var t,
            n = e.inline ? e.getBody() : e.getContentAreaContainer();
        return (t = n, A.from(t).map(ir.fromDom)).map(function (e) {
          return Lr(Mr(e), e);
        }).getOr(!1);
      };

      function ch(n) {
        var t,
            o = [],
            i = function i() {
          var e,
              t = n.theme;
          return t && t.getNotificationManagerImpl ? t.getNotificationManagerImpl() : {
            open: e = function e() {
              throw new Error("Theme did not provide a NotificationManager implementation.");
            },
            close: e,
            reposition: e,
            getArgs: e
          };
        },
            a = function a() {
          0 < o.length && i().reposition(o);
        },
            u = function u(t) {
          G(o, function (e) {
            return e === t;
          }).each(function (e) {
            o.splice(e, 1);
          });
        },
            r = function r(_r6) {
          if (!n.removed && sh(n)) return Y(o, function (e) {
            return t = i().getArgs(e), n = _r6, !(t.type !== n.type || t.text !== n.text || t.progressBar || t.timeout || n.progressBar || n.timeout);
            var t, n;
          }).getOrThunk(function () {
            n.editorManager.setActive(n);
            var e,
                t = i().open(_r6, function () {
              u(t), a();
            });
            return e = t, o.push(e), a(), t;
          });
        };

        return (t = n).on("SkinLoaded", function () {
          var e = t.settings.service_message;
          e && r({
            text: e,
            type: "warning",
            timeout: 0,
            icon: ""
          });
        }), t.on("ResizeEditor ResizeWindow", function () {
          ye.requestAnimationFrame(a);
        }), t.on("remove", function () {
          U(o.slice(), function (e) {
            i().close(e);
          });
        }), {
          open: r,
          close: function close() {
            A.from(o[0]).each(function (e) {
              i().close(e), u(e), a();
            });
          },
          getNotifications: function getNotifications() {
            return o;
          }
        };
      }

      function lh(r) {
        var o = [],
            i = function i() {
          var e,
              t = r.theme;
          return t && t.getWindowManagerImpl ? t.getWindowManagerImpl() : {
            open: e = function e() {
              throw new Error("Theme did not provide a WindowManager implementation.");
            },
            alert: e,
            confirm: e,
            close: e,
            getParams: e,
            setParams: e
          };
        },
            a = function a(e, t) {
          return function () {
            return t ? t.apply(e, arguments) : undefined;
          };
        },
            u = function u(e) {
          var t;
          o.push(e), t = e, r.fire("OpenWindow", {
            win: t
          });
        },
            s = function s(n) {
          G(o, function (e) {
            return e === n;
          }).each(function (e) {
            var t;
            o.splice(e, 1), t = n, r.fire("CloseWindow", {
              win: t
            }), 0 === o.length && r.focus();
          });
        },
            e = function e() {
          return A.from(o[o.length - 1]);
        };

        return r.on("remove", function () {
          U(o.slice(0), function (e) {
            i().close(e);
          });
        }), {
          windows: o,
          open: function open(e, t) {
            r.editorManager.setActive(r), Gg(r);
            var n = i().open(e, t, s);
            return u(n), n;
          },
          alert: function alert(e, t, n) {
            var r = i().alert(e, a(n || this, t), s);
            u(r);
          },
          confirm: function confirm(e, t, n) {
            var r = i().confirm(e, a(n || this, t), s);
            u(r);
          },
          close: function close() {
            e().each(function (e) {
              i().close(e), s(e);
            });
          },
          getParams: function getParams() {
            return e().map(i().getParams).getOr(null);
          },
          setParams: function setParams(t) {
            e().each(function (e) {
              i().setParams(e, t);
            });
          },
          getWindows: function getWindows() {
            return o;
          }
        };
      }

      var fh = {},
          dh = "en",
          mh = {
        setCode: function setCode(e) {
          e && (dh = e, this.rtl = !!this.data[e] && "rtl" === this.data[e]._dir);
        },
        getCode: function getCode() {
          return dh;
        },
        rtl: !1,
        add: function add(e, t) {
          var n = fh[e];

          for (var r in n || (fh[e] = n = {}), t) {
            n[r] = t[r];
          }

          this.setCode(e);
        },
        translate: function translate(e) {
          var t = fh[dh] || {},
              n = function n(e) {
            return Jt.is(e, "function") ? Object.prototype.toString.call(e) : r(e) ? "" : "" + e;
          },
              r = function r(e) {
            return "" === e || null === e || Jt.is(e, "undefined");
          },
              o = function o(e) {
            return e = n(e), Jt.hasOwn(t, e) ? n(t[e]) : e;
          };

          if (r(e)) return "";
          if (Jt.is(e, "object") && Jt.hasOwn(e, "raw")) return n(e.raw);

          if (Jt.is(e, "array")) {
            var i = e.slice(1);
            e = o(e[0]).replace(/\{([0-9]+)\}/g, function (e, t) {
              return Jt.hasOwn(i, t) ? n(i[t]) : e;
            });
          }

          return o(e).replace(/{context:\w+}$/, "");
        },
        data: fh
      },
          gh = ki.PluginManager,
          ph = function ph(e, t) {
        var n = function (e, t) {
          for (var n in gh.urls) {
            if (gh.urls[n] + "/plugin" + t + ".js" === e) return n;
          }

          return null;
        }(t, e.suffix);

        return n ? mh.translate(["Failed to load plugin: {0} from url {1}", n, t]) : mh.translate(["Failed to load plugin url: {0}", t]);
      },
          hh = function hh(e, t) {
        e.notificationManager.open({
          type: "error",
          text: t
        });
      },
          vh = function vh(e, t) {
        e._skinLoaded ? hh(e, t) : e.on("SkinLoaded", function () {
          hh(e, t);
        });
      },
          bh = function bh(e) {
        for (var t = [], n = 1; n < arguments.length; n++) {
          t[n - 1] = arguments[n];
        }

        var r = H.window.console;
        r && (r.error ? r.error.apply(r, arguments) : r.log.apply(r, arguments));
      },
          yh = {
        pluginLoadError: function pluginLoadError(e, t) {
          vh(e, ph(e, t));
        },
        pluginInitError: function pluginInitError(e, t, n) {
          var r = mh.translate(["Failed to initialize plugin: {0}", t]);
          bh(r, n), vh(e, r);
        },
        uploadError: function uploadError(e, t) {
          vh(e, mh.translate(["Failed to upload image: {0}", t]));
        },
        displayError: vh,
        initError: bh
      },
          Ch = ki.PluginManager,
          xh = ki.ThemeManager;

      function wh() {
        return new (ue.getOrDie("XMLHttpRequest"))();
      }

      function Nh(u, s) {
        var r = {},
            n = function n(e, r, o, t) {
          var i, n;
          (i = wh()).open("POST", s.url), i.withCredentials = s.credentials, i.upload.onprogress = function (e) {
            t(e.loaded / e.total * 100);
          }, i.onerror = function () {
            o("Image upload failed due to a XHR Transport error. Code: " + i.status);
          }, i.onload = function () {
            var e, t, n;
            i.status < 200 || 300 <= i.status ? o("HTTP Error: " + i.status) : (e = JSON.parse(i.responseText)) && "string" == typeof e.location ? r((t = s.basePath, n = e.location, t ? t.replace(/\/$/, "") + "/" + n.replace(/^\//, "") : n)) : o("Invalid JSON: " + i.responseText);
          }, (n = new H.FormData()).append("file", e.blob(), e.filename()), i.send(n);
        },
            c = function c(e, t) {
          return {
            url: t,
            blobInfo: e,
            status: !0
          };
        },
            l = function l(e, t) {
          return {
            url: "",
            blobInfo: e,
            status: !1,
            error: t
          };
        },
            f = function f(e, t) {
          Jt.each(r[e], function (e) {
            e(t);
          }), delete r[e];
        },
            o = function o(e, n) {
          return e = Jt.grep(e, function (e) {
            return !u.isUploaded(e.blobUri());
          }), pe.all(Jt.map(e, function (e) {
            return u.isPending(e.blobUri()) ? (t = e.blobUri(), new pe(function (e) {
              r[t] = r[t] || [], r[t].push(e);
            })) : (o = e, i = s.handler, a = n, u.markPending(o.blobUri()), new pe(function (t) {
              var n;

              try {
                var r = function r() {
                  n && n.close();
                };

                i(o, function (e) {
                  r(), u.markUploaded(o.blobUri(), e), f(o.blobUri(), c(o, e)), t(c(o, e));
                }, function (e) {
                  r(), u.removeFailed(o.blobUri()), f(o.blobUri(), l(o, e)), t(l(o, e));
                }, function (e) {
                  e < 0 || 100 < e || (n || (n = a()), n.progressBar.value(e));
                });
              } catch (e) {
                t(l(o, e.message));
              }
            }));
            var o, i, a, t;
          }));
        };

        return !1 === P(s.handler) && (s.handler = n), {
          upload: function upload(e, t) {
            return s.url || s.handler !== n ? o(e, t) : new pe(function (e) {
              e([]);
            });
          }
        };
      }

      var Eh = function Eh(e) {
        return ue.getOrDie("atob")(e);
      },
          Sh = function Sh(e) {
        var t,
            n,
            r = decodeURIComponent(e).split(",");
        return (n = /data:([^;]+)/.exec(r[0])) && (t = n[1]), {
          type: t,
          data: r[1]
        };
      },
          kh = function kh(a) {
        return new pe(function (e) {
          var t,
              n,
              r,
              o,
              i = Sh(a);

          try {
            t = Eh(i.data);
          } catch (ZN) {
            return void e(new H.Blob([]));
          }

          for (o = t.length, n = new (ue.getOrDie("Uint8Array"))(o), r = 0; r < n.length; r++) {
            n[r] = t.charCodeAt(r);
          }

          e(new H.Blob([n], {
            type: i.type
          }));
        });
      },
          Th = function Th(e) {
        return 0 === e.indexOf("blob:") ? (i = e, new pe(function (e, t) {
          var n = function n() {
            t("Cannot convert " + i + " to Blob. Resource might not exist or is inaccessible.");
          };

          try {
            var r = wh();
            r.open("GET", i, !0), r.responseType = "blob", r.onload = function () {
              200 === this.status ? e(this.response) : n();
            }, r.onerror = n, r.send();
          } catch (o) {
            n();
          }
        })) : 0 === e.indexOf("data:") ? kh(e) : null;
        var i;
      },
          Ah = function Ah(n) {
        return new pe(function (e) {
          var t = new (ue.getOrDie("FileReader"))();
          t.onloadend = function () {
            e(t.result);
          }, t.readAsDataURL(n);
        });
      },
          Rh = Sh,
          _h = 0,
          Dh = function Dh(e) {
        return (e || "blobid") + _h++;
      },
          Bh = function Bh(n, r, o, t) {
        var i, a;
        0 !== r.src.indexOf("blob:") ? (i = Rh(r.src).data, (a = n.findFirst(function (e) {
          return e.base64() === i;
        })) ? o({
          image: r,
          blobInfo: a
        }) : Th(r.src).then(function (e) {
          a = n.create(Dh(), e, i), n.add(a), o({
            image: r,
            blobInfo: a
          });
        }, function (e) {
          t(e);
        })) : (a = n.getByUri(r.src)) ? o({
          image: r,
          blobInfo: a
        }) : Th(r.src).then(function (t) {
          Ah(t).then(function (e) {
            i = Rh(e).data, a = n.create(Dh(), t, i), n.add(a), o({
              image: r,
              blobInfo: a
            });
          });
        }, function (e) {
          t(e);
        });
      },
          Oh = function Oh(e) {
        return e ? oe(e.getElementsByTagName("img")) : [];
      },
          Ph = 0,
          Ih = {
        uuid: function uuid(e) {
          return e + Ph++ + (t = function t() {
            return Math.round(4294967295 * Math.random()).toString(36);
          }, "s" + new Date().getTime().toString(36) + t() + t() + t());
          var t;
        }
      };

      function Lh(u) {
        var n,
            o,
            t,
            e,
            i,
            r,
            a,
            s,
            c,
            l = (n = [], o = function o(e) {
          var t, n, r;
          if (!e.blob || !e.base64) throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");
          return t = e.id || Ih.uuid("blobid"), n = e.name || t, {
            id: q(t),
            name: q(n),
            filename: q(n + "." + (r = e.blob.type, {
              "image/jpeg": "jpg",
              "image/jpg": "jpg",
              "image/gif": "gif",
              "image/png": "png"
            }[r.toLowerCase()] || "dat")),
            blob: q(e.blob),
            base64: q(e.base64),
            blobUri: q(e.blobUri || ce.createObjectURL(e.blob)),
            uri: q(e.uri)
          };
        }, {
          create: function create(e, t, n, r) {
            if (R(e)) return o({
              id: e,
              name: r,
              blob: t,
              base64: n
            });
            if (_(e)) return o(e);
            throw new Error("Unknown input type");
          },
          add: function add(e) {
            t(e.id()) || n.push(e);
          },
          get: t = function t(_t3) {
            return e(function (e) {
              return e.id() === _t3;
            });
          },
          getByUri: function getByUri(t) {
            return e(function (e) {
              return e.blobUri() === t;
            });
          },
          findFirst: e = function e(_e5) {
            return V(n, _e5)[0];
          },
          removeByUri: function removeByUri(t) {
            n = V(n, function (e) {
              return e.blobUri() !== t || (ce.revokeObjectURL(e.blobUri()), !1);
            });
          },
          destroy: function destroy() {
            U(n, function (e) {
              ce.revokeObjectURL(e.blobUri());
            }), n = [];
          }
        }),
            f = (a = {}, s = function s(e, t) {
          return {
            status: e,
            resultUri: t
          };
        }, {
          hasBlobUri: c = function c(e) {
            return e in a;
          },
          getResultUri: function getResultUri(e) {
            var t = a[e];
            return t ? t.resultUri : null;
          },
          isPending: function isPending(e) {
            return !!c(e) && 1 === a[e].status;
          },
          isUploaded: function isUploaded(e) {
            return !!c(e) && 2 === a[e].status;
          },
          markPending: function markPending(e) {
            a[e] = s(1, null);
          },
          markUploaded: function markUploaded(e, t) {
            a[e] = s(2, t);
          },
          removeFailed: function removeFailed(e) {
            delete a[e];
          },
          destroy: function destroy() {
            a = {};
          }
        }),
            d = [],
            m = function m(t) {
          return function (e) {
            return u.selection ? t(e) : [];
          };
        },
            g = function g(e, t, n) {
          for (var r = 0; -1 !== (r = e.indexOf(t, r)) && (e = e.substring(0, r) + n + e.substr(r + t.length), r += n.length - t.length + 1), -1 !== r;) {
            ;
          }

          return e;
        },
            p = function p(e, t, n) {
          return e = g(e, 'src="' + t + '"', 'src="' + n + '"'), e = g(e, 'data-mce-src="' + t + '"', 'data-mce-src="' + n + '"');
        },
            h = function h(t, n) {
          U(u.undoManager.data, function (e) {
            "fragmented" === e.type ? e.fragments = W(e.fragments, function (e) {
              return p(e, t, n);
            }) : e.content = p(e.content, t, n);
          });
        },
            v = function v() {
          return u.notificationManager.open({
            text: u.translate("Image uploading..."),
            type: "info",
            timeout: -1,
            progressBar: !0
          });
        },
            b = function b(e, t) {
          l.removeByUri(e.src), h(e.src, t), u.$(e).attr({
            src: Tl(u) ? t + "?" + new Date().getTime() : t,
            "data-mce-src": u.convertURL(t, "src")
          });
        },
            y = function y(n) {
          return i || (i = Nh(f, {
            url: Rl(u),
            basePath: _l(u),
            credentials: Dl(u),
            handler: Bl(u)
          })), w().then(m(function (r) {
            var e;
            return e = W(r, function (e) {
              return e.blobInfo;
            }), i.upload(e, v).then(m(function (e) {
              var t = W(e, function (e, t) {
                var n = r[t].image;
                return e.status && Al(u) ? b(n, e.url) : e.error && yh.uploadError(u, e.error), {
                  element: n,
                  status: e.status
                };
              });
              return n && n(t), t;
            }));
          }));
        },
            C = function C(e) {
          if (kl(u)) return y(e);
        },
            x = function x(t) {
          return !1 !== ee(d, function (e) {
            return e(t);
          }) && (0 !== t.getAttribute("src").indexOf("data:") || Sl(u)(t));
        },
            w = function w() {
          var o, i, a;
          return r || (o = f, i = l, a = {}, r = {
            findAll: function findAll(e, n) {
              var t;
              n || (n = q(!0)), t = V(Oh(e), function (e) {
                var t = e.src;
                return !!ge.fileApi && !e.hasAttribute("data-mce-bogus") && !e.hasAttribute("data-mce-placeholder") && !(!t || t === ge.transparentSrc) && (0 === t.indexOf("blob:") ? !o.isUploaded(t) && n(e) : 0 === t.indexOf("data:") && n(e));
              });
              var r = W(t, function (n) {
                if (a[n.src]) return new pe(function (t) {
                  a[n.src].then(function (e) {
                    if ("string" == typeof e) return e;
                    t({
                      image: n,
                      blobInfo: e.blobInfo
                    });
                  });
                });
                var e = new pe(function (e, t) {
                  Bh(i, n, e, t);
                }).then(function (e) {
                  return delete a[e.image.src], e;
                })["catch"](function (e) {
                  return delete a[n.src], e;
                });
                return a[n.src] = e;
              });
              return pe.all(r);
            }
          }), r.findAll(u.getBody(), x).then(m(function (e) {
            return e = V(e, function (e) {
              return "string" != typeof e || (yh.displayError(u, e), !1);
            }), U(e, function (e) {
              h(e.image.src, e.blobInfo.blobUri()), e.image.src = e.blobInfo.blobUri(), e.image.removeAttribute("data-mce-src");
            }), e;
          }));
        },
            N = function N(e) {
          return e.replace(/src="(blob:[^"]+)"/g, function (e, n) {
            var t = f.getResultUri(n);
            if (t) return 'src="' + t + '"';
            var r = l.getByUri(n);
            return r || (r = X(u.editorManager.get(), function (e, t) {
              return e || t.editorUpload && t.editorUpload.blobCache.getByUri(n);
            }, null)), r ? 'src="data:' + r.blob().type + ";base64," + r.base64() + '"' : e;
          });
        };

        return u.on("setContent", function () {
          kl(u) ? C() : w();
        }), u.on("RawSaveContent", function (e) {
          e.content = N(e.content);
        }), u.on("getContent", function (e) {
          e.source_view || "raw" === e.format || (e.content = N(e.content));
        }), u.on("PostRender", function () {
          u.parser.addNodeFilter("img", function (e) {
            U(e, function (e) {
              var t = e.attr("src");

              if (!l.getByUri(t)) {
                var n = f.getResultUri(t);
                n && e.attr("src", n);
              }
            });
          });
        }), {
          blobCache: l,
          addFilter: function addFilter(e) {
            d.push(e);
          },
          uploadImages: y,
          uploadImagesAuto: C,
          scanForImages: w,
          destroy: function destroy() {
            l.destroy(), f.destroy(), r = i = null;
          }
        };
      }

      var Mh = function Mh(e, t) {
        return e.hasOwnProperty(t.nodeName);
      },
          Fh = function Fh(e, t) {
        if (Po.isText(t)) {
          if (0 === t.nodeValue.length) return !0;
          if (/^\s+$/.test(t.nodeValue) && (!t.nextSibling || Mh(e, t.nextSibling))) return !0;
        }

        return !1;
      },
          zh = function zh(e) {
        var t,
            n,
            r,
            o,
            i,
            a,
            u,
            s,
            c,
            l,
            f,
            d = e.settings,
            m = e.dom,
            g = e.selection,
            p = e.schema,
            h = p.getBlockElements(),
            v = g.getStart(),
            b = e.getBody();

        if (f = d.forced_root_block, v && Po.isElement(v) && f && (l = b.nodeName.toLowerCase(), p.isValidChild(l, f.toLowerCase()) && (y = h, C = b, x = v, !z(Zl(ir.fromDom(x), ir.fromDom(C)), function (e) {
          return Mh(y, e.dom());
        })))) {
          var y, C, x, w, N;

          for (n = (t = g.getRng()).startContainer, r = t.startOffset, o = t.endContainer, i = t.endOffset, c = eh(e), v = b.firstChild; v;) {
            if (w = h, N = v, Po.isText(N) || Po.isElement(N) && !Mh(w, N) && !dc(N)) {
              if (Fh(h, v)) {
                v = (u = v).nextSibling, m.remove(u);
                continue;
              }

              a || (a = m.create(f, e.settings.forced_root_block_attrs), v.parentNode.insertBefore(a, v), s = !0), v = (u = v).nextSibling, a.appendChild(u);
            } else a = null, v = v.nextSibling;
          }

          s && c && (t.setStart(n, r), t.setEnd(o, i), g.setRng(t), e.nodeChanged());
        }
      },
          Uh = function Uh(e) {
        e.settings.forced_root_block && e.on("NodeChange", d(zh, e));
      },
          Vh = function Vh(t) {
        return Wr(t).fold(q([t]), function (e) {
          return [t].concat(Vh(e));
        });
      },
          Hh = function Hh(t) {
        return Kr(t).fold(q([t]), function (e) {
          return "br" === cr(e) ? Ur(e).map(function (e) {
            return [t].concat(Hh(e));
          }).getOr([]) : [t].concat(Hh(e));
        });
      },
          jh = function jh(o, e) {
        return Ya([(i = e, a = i.startContainer, u = i.startOffset, Po.isText(a) ? 0 === u ? A.some(ir.fromDom(a)) : A.none() : A.from(a.childNodes[u]).map(ir.fromDom)), (t = e, n = t.endContainer, r = t.endOffset, Po.isText(n) ? r === n.data.length ? A.some(ir.fromDom(n)) : A.none() : A.from(n.childNodes[r - 1]).map(ir.fromDom))], function (e, t) {
          var n = Y(Vh(o), d(Ir, e)),
              r = Y(Hh(o), d(Ir, t));
          return n.isSome() && r.isSome();
        }).getOr(!1);
        var t, n, r, i, a, u;
      },
          qh = function qh(e, t, n, r) {
        var o = n,
            i = new ao(n, o),
            a = e.schema.getNonEmptyElements();

        do {
          if (3 === n.nodeType && 0 !== Jt.trim(n.nodeValue).length) return void (r ? t.setStart(n, 0) : t.setEnd(n, n.nodeValue.length));
          if (a[n.nodeName] && !/^(TD|TH)$/.test(n.nodeName)) return void (r ? t.setStartBefore(n) : "BR" === n.nodeName ? t.setEndBefore(n) : t.setEndAfter(n));
          if (ge.ie && ge.ie < 11 && e.isBlock(n) && e.isEmpty(n)) return void (r ? t.setStart(n, 0) : t.setEnd(n, 0));
        } while (n = r ? i.next() : i.prev());

        "BODY" === o.nodeName && (r ? t.setStart(o, 0) : t.setEnd(o, o.childNodes.length));
      },
          $h = function $h(e) {
        var t = e.selection.getSel();
        return t && 0 < t.rangeCount;
      };

      function Wh(i) {
        var r,
            o = [];
        "onselectionchange" in i.getDoc() || i.on("NodeChange Click MouseUp KeyUp Focus", function (e) {
          var t, n;
          n = {
            startContainer: (t = i.selection.getRng()).startContainer,
            startOffset: t.startOffset,
            endContainer: t.endContainer,
            endOffset: t.endOffset
          }, "nodechange" !== e.type && pg(n, r) || i.fire("SelectionChange"), r = n;
        }), i.on("contextmenu", function () {
          i.fire("SelectionChange");
        }), i.on("SelectionChange", function () {
          var e = i.selection.getStart(!0);
          !e || !ge.range && i.selection.isCollapsed() || $h(i) && !function (e) {
            var t, n;

            if ((n = i.$(e).parentsUntil(i.getBody()).add(e)).length === o.length) {
              for (t = n.length; 0 <= t && n[t] === o[t]; t--) {
                ;
              }

              if (-1 === t) return o = n, !0;
            }

            return o = n, !1;
          }(e) && i.dom.isChildOf(e, i.getBody()) && i.nodeChanged({
            selectionChange: !0
          });
        }), i.on("MouseUp", function (e) {
          !e.isDefaultPrevented() && $h(i) && ("IMG" === i.selection.getNode().nodeName ? ye.setEditorTimeout(i, function () {
            i.nodeChanged();
          }) : i.nodeChanged());
        }), this.nodeChanged = function (e) {
          var t,
              n,
              r,
              o = i.selection;
          i.initialized && o && !i.settings.disable_nodechange && !i.readonly && (r = i.getBody(), (t = o.getStart(!0) || r).ownerDocument === i.getDoc() && i.dom.isChildOf(t, r) || (t = r), n = [], i.dom.getParent(t, function (e) {
            if (e === r) return !0;
            n.push(e);
          }), (e = e || {}).element = t, e.parents = n, i.fire("NodeChange", e));
        };
      }

      var Kh,
          Xh,
          Yh = function Yh(e) {
        var t, n, r, o;
        return o = e.getBoundingClientRect(), n = (t = e.ownerDocument).documentElement, r = t.defaultView, {
          top: o.top + r.pageYOffset - n.clientTop,
          left: o.left + r.pageXOffset - n.clientLeft
        };
      },
          Gh = function Gh(e, t) {
        return n = (u = e).inline ? Yh(u.getBody()) : {
          left: 0,
          top: 0
        }, a = (i = e).getBody(), r = i.inline ? {
          left: a.scrollLeft,
          top: a.scrollTop
        } : {
          left: 0,
          top: 0
        }, {
          pageX: (o = function (e, t) {
            if (t.target.ownerDocument !== e.getDoc()) {
              var n = Yh(e.getContentAreaContainer()),
                  r = (i = (o = e).getBody(), a = o.getDoc().documentElement, u = {
                left: i.scrollLeft,
                top: i.scrollTop
              }, s = {
                left: i.scrollLeft || a.scrollLeft,
                top: i.scrollTop || a.scrollTop
              }, o.inline ? u : s);
              return {
                left: t.pageX - n.left + r.left,
                top: t.pageY - n.top + r.top
              };
            }

            var o, i, a, u, s;
            return {
              left: t.pageX,
              top: t.pageY
            };
          }(e, t)).left - n.left + r.left,
          pageY: o.top - n.top + r.top
        };
        var n, r, o, i, a, u;
      },
          Jh = Po.isContentEditableFalse,
          Qh = Po.isContentEditableTrue,
          Zh = function Zh(e) {
        e && e.parentNode && e.parentNode.removeChild(e);
      },
          ev = function ev(u, s) {
        return function (e) {
          if (0 === e.button) {
            var t = Y(s.dom.getParents(e.target), Qa(Jh, Qh)).getOr(null);

            if (i = s.getBody(), Jh(a = t) && a !== i) {
              var n = s.dom.getPos(t),
                  r = s.getBody(),
                  o = s.getDoc().documentElement;
              u.element = t, u.screenX = e.screenX, u.screenY = e.screenY, u.maxX = (s.inline ? r.scrollWidth : o.offsetWidth) - 2, u.maxY = (s.inline ? r.scrollHeight : o.offsetHeight) - 2, u.relX = e.pageX - n.x, u.relY = e.pageY - n.y, u.width = t.offsetWidth, u.height = t.offsetHeight, u.ghost = function (e, t, n, r) {
                var o = t.cloneNode(!0);
                e.dom.setStyles(o, {
                  width: n,
                  height: r
                }), e.dom.setAttrib(o, "data-mce-selected", null);
                var i = e.dom.create("div", {
                  "class": "mce-drag-container",
                  "data-mce-bogus": "all",
                  unselectable: "on",
                  contenteditable: "false"
                });
                return e.dom.setStyles(i, {
                  position: "absolute",
                  opacity: .5,
                  overflow: "hidden",
                  border: 0,
                  padding: 0,
                  margin: 0,
                  width: n,
                  height: r
                }), e.dom.setStyles(o, {
                  margin: 0,
                  boxSizing: "border-box"
                }), i.appendChild(o), i;
              }(s, t, u.width, u.height);
            }
          }

          var i, a;
        };
      },
          tv = function tv(l, f) {
        return function (e) {
          if (l.dragging && (s = (i = f).selection, c = s.getSel().getRangeAt(0).startContainer, a = 3 === c.nodeType ? c.parentNode : c, u = l.element, a !== u && !i.dom.isChildOf(a, u) && !Jh(a))) {
            var t = (r = l.element, (o = r.cloneNode(!0)).removeAttribute("data-mce-selected"), o),
                n = f.fire("drop", {
              targetClone: t,
              clientX: e.clientX,
              clientY: e.clientY
            });
            n.isDefaultPrevented() || (t = n.targetClone, f.undoManager.transact(function () {
              Zh(l.element), f.insertContent(f.dom.getOuterHTML(t)), f._selectionOverrides.hideFakeCaret();
            }));
          }

          var r, o, i, a, u, s, c;
          nv(l);
        };
      },
          nv = function nv(e) {
        e.dragging = !1, e.element = null, Zh(e.ghost);
      },
          rv = function rv(e) {
        var t,
            n,
            r,
            o,
            i,
            a,
            p,
            h,
            v,
            u,
            s,
            c = {};
        t = bi.DOM, a = H.document, n = ev(c, e), p = c, h = e, v = ye.throttle(function (e, t) {
          h._selectionOverrides.hideFakeCaret(), h.selection.placeCaretAt(e, t);
        }, 0), r = function r(e) {
          var t,
              n,
              r,
              o,
              i,
              a,
              u,
              s,
              c,
              l,
              f,
              d,
              m = Math.max(Math.abs(e.screenX - p.screenX), Math.abs(e.screenY - p.screenY));

          if (p.element && !p.dragging && 10 < m) {
            if (h.fire("dragstart", {
              target: p.element
            }).isDefaultPrevented()) return;
            p.dragging = !0, h.focus();
          }

          if (p.dragging) {
            var g = (f = p, {
              pageX: (d = Gh(h, e)).pageX - f.relX,
              pageY: d.pageY + 5
            });
            c = p.ghost, l = h.getBody(), c.parentNode !== l && l.appendChild(c), t = p.ghost, n = g, r = p.width, o = p.height, i = p.maxX, a = p.maxY, s = u = 0, t.style.left = n.pageX + "px", t.style.top = n.pageY + "px", n.pageX + r > i && (u = n.pageX + r - i), n.pageY + o > a && (s = n.pageY + o - a), t.style.width = r - u + "px", t.style.height = o - s + "px", v(e.clientX, e.clientY);
          }
        }, o = tv(c, e), u = c, i = function i() {
          u.dragging && s.fire("dragend"), nv(u);
        }, (s = e).on("mousedown", n), e.on("mousemove", r), e.on("mouseup", o), t.bind(a, "mousemove", r), t.bind(a, "mouseup", i), e.on("remove", function () {
          t.unbind(a, "mousemove", r), t.unbind(a, "mouseup", i);
        });
      },
          ov = function ov(e) {
        var n;
        rv(e), (n = e).on("drop", function (e) {
          var t = "undefined" != typeof e.clientX ? n.getDoc().elementFromPoint(e.clientX, e.clientY) : null;
          (Jh(t) || Jh(n.dom.getContentEditableParent(t))) && e.preventDefault();
        });
      },
          iv = function iv(e) {
        return X(e, function (e, t) {
          return e.concat(function (t) {
            var e = function e(_e6) {
              return W(_e6, function (e) {
                return (e = za(e)).node = t, e;
              });
            };

            if (Po.isElement(t)) return e(t.getClientRects());

            if (Po.isText(t)) {
              var n = t.ownerDocument.createRange();
              return n.setStart(t, 0), n.setEnd(t, t.data.length), e(n.getClientRects());
            }
          }(t));
        }, []);
      };

      (Xh = Kh || (Kh = {}))[Xh.Up = -1] = "Up", Xh[Xh.Down = 1] = "Down";

      var av = function av(o, i, a, e, u, t) {
        var n,
            s,
            c = 0,
            l = [],
            r = function r(e) {
          var t, n, r;

          for (r = iv([e]), -1 === o && (r = r.reverse()), t = 0; t < r.length; t++) {
            if (n = r[t], !a(n, s)) {
              if (0 < l.length && i(n, Wt.last(l)) && c++, n.line = c, u(n)) return !0;
              l.push(n);
            }
          }
        };

        return (s = Wt.last(t.getClientRects())) && (r(n = t.getNode()), function (e, t, n, r) {
          for (; r = hs(r, e, Ma, t);) {
            if (n(r)) return;
          }
        }(o, e, r, n)), l;
      },
          uv = d(av, Kh.Up, Ha, ja),
          sv = d(av, Kh.Down, ja, Ha),
          cv = function cv(n) {
        return function (e) {
          return t = n, e.line > t;
          var t;
        };
      },
          lv = function lv(n) {
        return function (e) {
          return t = n, e.line === t;
          var t;
        };
      },
          fv = Po.isContentEditableFalse,
          dv = hs,
          mv = function mv(e, t) {
        return Math.abs(e.left - t);
      },
          gv = function gv(e, t) {
        return Math.abs(e.right - t);
      },
          pv = function pv(e, t) {
        return e >= t.left && e <= t.right;
      },
          hv = function hv(e, o) {
        return Wt.reduce(e, function (e, t) {
          var n, r;
          return n = Math.min(mv(e, o), gv(e, o)), r = Math.min(mv(t, o), gv(t, o)), pv(o, t) ? t : pv(o, e) ? e : r === n && fv(t.node) ? t : r < n ? t : e;
        });
      },
          vv = function vv(e, t, n, r) {
        for (; r = dv(r, e, Ma, t);) {
          if (n(r)) return;
        }
      },
          bv = function bv(e, t, n) {
        var r,
            o,
            i,
            a,
            u,
            s,
            c,
            l = iv(V(oe(e.getElementsByTagName("*")), as)),
            f = V(l, function (e) {
          return n >= e.top && n <= e.bottom;
        });
        return (r = hv(f, t)) && (r = hv((a = e, c = function c(t, e) {
          var n;
          return n = V(iv([e]), function (e) {
            return !t(e, u);
          }), s = s.concat(n), 0 === n.length;
        }, (s = []).push(u = r), vv(Kh.Up, a, d(c, Ha), u.node), vv(Kh.Down, a, d(c, ja), u.node), s), t)) && as(r.node) ? (i = t, {
          node: (o = r).node,
          before: mv(o, i) < gv(o, i)
        }) : null;
      },
          yv = function yv(t, n, e) {
        if (e.collapsed) return !1;

        if (ge.ie && ge.ie <= 11 && e.startOffset === e.endOffset - 1 && e.startContainer === e.endContainer) {
          var r = e.startContainer.childNodes[e.startOffset];
          if (Po.isElement(r)) return z(r.getClientRects(), function (e) {
            return qa(e, t, n);
          });
        }

        return z(e.getClientRects(), function (e) {
          return qa(e, t, n);
        });
      },
          Cv = function Cv(t) {
        var e = Ii(function () {
          if (!t.removed && t.selection.getRng().collapsed) {
            var e = rg(t, t.selection.getRng(), !1);
            t.selection.setRng(e);
          }
        }, 0);
        t.on("focus", function () {
          e.throttle();
        }), t.on("blur", function () {
          e.cancel();
        });
      },
          xv = {
        BACKSPACE: 8,
        DELETE: 46,
        DOWN: 40,
        ENTER: 13,
        LEFT: 37,
        RIGHT: 39,
        SPACEBAR: 32,
        TAB: 9,
        UP: 38,
        END: 35,
        HOME: 36,
        modifierPressed: function modifierPressed(e) {
          return e.shiftKey || e.ctrlKey || e.altKey || this.metaKeyPressed(e);
        },
        metaKeyPressed: function metaKeyPressed(e) {
          return ge.mac ? e.metaKey : e.ctrlKey && !e.altKey;
        }
      },
          wv = Po.isContentEditableTrue,
          Nv = Po.isContentEditableFalse,
          Ev = function Ev(e, t) {
        for (var n = e.getBody(); t && t !== n;) {
          if (wv(t) || Nv(t)) return t;
          t = t.parentNode;
        }

        return null;
      },
          Sv = function Sv(g) {
        var p,
            e,
            t,
            a = g.getBody(),
            o = os(g.getBody(), function (e) {
          return g.dom.isBlock(e);
        }, function () {
          return eh(g);
        }),
            h = "sel-" + g.dom.uniqueId(),
            u = function u(e) {
          e && g.selection.setRng(e);
        },
            s = function s() {
          return g.selection.getRng();
        },
            v = function v(e, t, n, r) {
          return void 0 === r && (r = !0), g.fire("ShowCaret", {
            target: t,
            direction: e,
            before: n
          }).isDefaultPrevented() ? null : (r && g.selection.scrollIntoView(t, -1 === e), o.show(n, t));
        },
            b = function b(e, t) {
          return t = Es(e, a, t), -1 === e ? Cu.fromRangeStart(t) : Cu.fromRangeEnd(t);
        },
            n = function n(e) {
          return ya(e) || Ea(e) || Sa(e);
        },
            y = function y(e) {
          return n(e.startContainer) || n(e.endContainer);
        },
            c = function c(e, t) {
          var n,
              r,
              o,
              i,
              a,
              u,
              s,
              c,
              l,
              f,
              d = g.$,
              m = g.dom;
          if (!e) return null;

          if (e.collapsed) {
            if (!y(e)) if (!1 === t) {
              if (c = b(-1, e), as(c.getNode(!0))) return v(-1, c.getNode(!0), !1, !1);
              if (as(c.getNode())) return v(-1, c.getNode(), !c.isAtEnd(), !1);
            } else {
              if (c = b(1, e), as(c.getNode())) return v(1, c.getNode(), !c.isAtEnd(), !1);
              if (as(c.getNode(!0))) return v(1, c.getNode(!0), !1, !1);
            }
            return null;
          }

          return i = e.startContainer, a = e.startOffset, u = e.endOffset, 3 === i.nodeType && 0 === a && Nv(i.parentNode) && (i = i.parentNode, a = m.nodeIndex(i), i = i.parentNode), 1 !== i.nodeType ? null : (u === a + 1 && i === e.endContainer && (n = i.childNodes[a]), Nv(n) ? (l = f = n.cloneNode(!0), (s = g.fire("ObjectSelected", {
            target: n,
            targetClone: l
          })).isDefaultPrevented() ? null : (r = Ji(ir.fromDom(g.getBody()), "#" + h).fold(function () {
            return d([]);
          }, function (e) {
            return d([e.dom()]);
          }), l = s.targetClone, 0 === r.length && (r = d('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id", h)).appendTo(g.getBody()), e = g.dom.createRng(), l === f && ge.ie ? (r.empty().append('<p style="font-size: 0" data-mce-bogus="all">\xa0</p>').append(l), e.setStartAfter(r[0].firstChild.firstChild), e.setEndAfter(l)) : (r.empty().append("\xa0").append(l).append("\xa0"), e.setStart(r[0].firstChild, 1), e.setEnd(r[0].lastChild, 0)), r.css({
            top: m.getPos(n, g.getBody()).y
          }), r[0].focus(), (o = g.selection.getSel()).removeAllRanges(), o.addRange(e), U($i(ir.fromDom(g.getBody()), "*[data-mce-selected]"), function (e) {
            wr(e, "data-mce-selected");
          }), n.setAttribute("data-mce-selected", "1"), p = n, C(), e)) : null);
        },
            l = function l() {
          p && (p.removeAttribute("data-mce-selected"), Ji(ir.fromDom(g.getBody()), "#" + h).each(Oi), p = null), Ji(ir.fromDom(g.getBody()), "#" + h).each(Oi), p = null;
        },
            C = function C() {
          o.hide();
        };

        return ge.ceFalse && (function () {
          g.on("mouseup", function (e) {
            var t = s();
            t.collapsed && uh(g, e.clientX, e.clientY) && u(ng(g, t, !1));
          }), g.on("click", function (e) {
            var t;
            (t = Ev(g, e.target)) && (Nv(t) && (e.preventDefault(), g.focus()), wv(t) && g.dom.isChildOf(t, g.selection.getNode()) && l());
          }), g.on("blur NewBlock", function () {
            l();
          }), g.on("ResizeWindow FullscreenStateChanged", function () {
            return o.reposition();
          });

          var n,
              r,
              i = function i(e, t) {
            var n,
                r,
                o = g.dom.getParent(e, g.dom.isBlock),
                i = g.dom.getParent(t, g.dom.isBlock);
            return !(!o || !g.dom.isChildOf(o, i) || !1 !== Nv(Ev(g, o))) || o && (n = o, r = i, !(g.dom.getParent(n, g.dom.isBlock) === g.dom.getParent(r, g.dom.isBlock))) && function (e) {
              var t = $s(e);
              if (!e.firstChild) return !1;
              var n = Cu.before(e.firstChild),
                  r = t.next(n);
              return r && !_f(r) && !Df(r);
            }(o);
          };

          r = !1, (n = g).on("touchstart", function () {
            r = !1;
          }), n.on("touchmove", function () {
            r = !0;
          }), n.on("touchend", function (e) {
            var t = Ev(n, e.target);
            Nv(t) && (r || (e.preventDefault(), c(tg(n, t))));
          }), g.on("mousedown", function (e) {
            var t,
                n = e.target;
            if ((n === a || "HTML" === n.nodeName || g.dom.isChildOf(n, a)) && !1 !== uh(g, e.clientX, e.clientY)) if (t = Ev(g, n)) Nv(t) ? (e.preventDefault(), c(tg(g, t))) : (l(), wv(t) && e.shiftKey || yv(e.clientX, e.clientY, g.selection.getRng()) || (C(), g.selection.placeCaretAt(e.clientX, e.clientY)));else if (!1 === as(n)) {
              l(), C();
              var r = bv(a, e.clientX, e.clientY);

              if (r && !i(e.target, r.node)) {
                e.preventDefault();
                var o = v(1, r.node, r.before, !1);
                g.getBody().focus(), u(o);
              }
            }
          }), g.on("keypress", function (e) {
            xv.modifierPressed(e) || (e.keyCode, Nv(g.selection.getNode()) && e.preventDefault());
          }), g.on("getSelectionRange", function (e) {
            var t = e.range;

            if (p) {
              if (!p.parentNode) return void (p = null);
              (t = t.cloneRange()).selectNode(p), e.range = t;
            }
          }), g.on("setSelectionRange", function (e) {
            var t;
            (t = c(e.range, e.forward)) && (e.range = t);
          }), g.on("AfterSetSelectionRange", function (e) {
            var t,
                n = e.range;
            y(n) || "mcepastebin" === n.startContainer.parentNode.id || C(), t = n.startContainer.parentNode, g.dom.hasClass(t, "mce-offscreen-selection") || l();
          }), g.on("copy", function (e) {
            var t,
                n = e.clipboardData;

            if (!e.isDefaultPrevented() && e.clipboardData && !ge.ie) {
              var r = (t = g.dom.get(h)) ? t.getElementsByTagName("*")[0] : t;
              r && (e.preventDefault(), n.clearData(), n.setData("text/html", r.outerHTML), n.setData("text/plain", r.outerText));
            }
          }), ov(g), Cv(g);
        }(), e = g.contentStyles, t = ".mce-content-body", e.push(o.getCss()), e.push(t + " .mce-offscreen-selection {position: absolute;left: -9999999999px;max-width: 1000000px;}" + t + " *[contentEditable=false] {cursor: default;}" + t + " *[contentEditable=true] {cursor: text;}")), {
          showCaret: v,
          showBlockCaretContainer: function showBlockCaretContainer(e) {
            e.hasAttribute("data-mce-caret") && (ka(e), u(s()), g.selection.scrollIntoView(e[0]));
          },
          hideFakeCaret: C,
          destroy: function destroy() {
            o.destroy(), p = null;
          }
        };
      },
          kv = function kv(e, t, n) {
        var r,
            o,
            i,
            a,
            u = 1;

        for (a = e.getShortEndedElements(), (i = /<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g).lastIndex = r = n; o = i.exec(t);) {
          if (r = i.lastIndex, "/" === o[1]) u--;else if (!o[1]) {
            if (o[2] in a) continue;
            u++;
          }
          if (0 === u) break;
        }

        return r;
      },
          Tv = function Tv(e, t) {
        var n = e.exec(t);

        if (n) {
          var r = n[1],
              o = n[2];
          return "string" == typeof r && "data-mce-bogus" === r.toLowerCase() ? o : null;
        }

        return null;
      };

      function Av(z, U) {
        void 0 === U && (U = ii());

        var e = function e() {};

        !1 !== (z = z || {}).fix_self_closing && (z.fix_self_closing = !0);
        var V = z.comment ? z.comment : e,
            H = z.cdata ? z.cdata : e,
            j = z.text ? z.text : e,
            q = z.start ? z.start : e,
            $ = z.end ? z.end : e,
            W = z.pi ? z.pi : e,
            K = z.doctype ? z.doctype : e;
        return {
          parse: function parse(e) {
            var t,
                n,
                r,
                d,
                o,
                i,
                a,
                m,
                u,
                s,
                g,
                c,
                p,
                l,
                f,
                h,
                v,
                b,
                y,
                C,
                x,
                w,
                N,
                E,
                S,
                k,
                T,
                A,
                R,
                _ = 0,
                D = [],
                B = 0,
                O = Xo.decode,
                P = Jt.makeMap("src,href,data,background,formaction,poster,xlink:href"),
                I = /((java|vb)script|mhtml):/i,
                L = function L(e) {
              var t, n;

              for (t = D.length; t-- && D[t].name !== e;) {
                ;
              }

              if (0 <= t) {
                for (n = D.length - 1; t <= n; n--) {
                  (e = D[n]).valid && $(e.name);
                }

                D.length = t;
              }
            },
                M = function M(e, t, n, r, o) {
              var i, a, u, s, c;

              if (n = (t = t.toLowerCase()) in g ? t : O(n || r || o || ""), p && !m && 0 == (0 === (u = t).indexOf("data-") || 0 === u.indexOf("aria-"))) {
                if (!(i = b[t]) && y) {
                  for (a = y.length; a-- && !(i = y[a]).pattern.test(t);) {
                    ;
                  }

                  -1 === a && (i = null);
                }

                if (!i) return;
                if (i.validValues && !(n in i.validValues)) return;
              }

              if (P[t] && !z.allow_script_urls) {
                var l = n.replace(/[\s\u0000-\u001F]+/g, "");

                try {
                  l = decodeURIComponent(l);
                } catch (f) {
                  l = unescape(l);
                }

                if (I.test(l)) return;
                if (c = l, !(s = z).allow_html_data_urls && (/^data:image\//i.test(c) ? !1 === s.allow_svg_data_urls && /^data:image\/svg\+xml/i.test(c) : /^data:/i.test(c))) return;
              }

              m && (t in P || 0 === t.indexOf("on")) || (d.map[t] = n, d.push({
                name: t,
                value: n
              }));
            };

            for (S = new RegExp("<(?:(?:!--([\\w\\W]*?)--\x3e)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))", "g"), k = /([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g, s = U.getShortEndedElements(), E = z.self_closing_elements || U.getSelfClosingElements(), g = U.getBoolAttrs(), p = z.validate, u = z.remove_internals, R = z.fix_self_closing, T = U.getSpecialElements(), N = e + ">"; t = S.exec(N);) {
              if (_ < t.index && j(O(e.substr(_, t.index - _))), n = t[6]) ":" === (n = n.toLowerCase()).charAt(0) && (n = n.substr(1)), L(n);else if (n = t[7]) {
                if (t.index + t[0].length > e.length) {
                  j(O(e.substr(t.index))), _ = t.index + t[0].length;
                  continue;
                }

                ":" === (n = n.toLowerCase()).charAt(0) && (n = n.substr(1)), c = n in s, R && E[n] && 0 < D.length && D[D.length - 1].name === n && L(n);
                var F = Tv(k, t[8]);

                if (null !== F) {
                  if ("all" === F) {
                    _ = kv(U, e, S.lastIndex), S.lastIndex = _;
                    continue;
                  }

                  f = !1;
                }

                if (!p || (l = U.getElementRule(n))) {
                  if (f = !0, p && (b = l.attributes, y = l.attributePatterns), (v = t[8]) ? ((m = -1 !== v.indexOf("data-mce-type")) && u && (f = !1), (d = []).map = {}, v.replace(k, M)) : (d = []).map = {}, p && !m) {
                    if (C = l.attributesRequired, x = l.attributesDefault, w = l.attributesForced, l.removeEmptyAttrs && !d.length && (f = !1), w) for (o = w.length; o--;) {
                      a = (h = w[o]).name, "{$uid}" === (A = h.value) && (A = "mce_" + B++), d.map[a] = A, d.push({
                        name: a,
                        value: A
                      });
                    }
                    if (x) for (o = x.length; o--;) {
                      (a = (h = x[o]).name) in d.map || ("{$uid}" === (A = h.value) && (A = "mce_" + B++), d.map[a] = A, d.push({
                        name: a,
                        value: A
                      }));
                    }

                    if (C) {
                      for (o = C.length; o-- && !(C[o] in d.map);) {
                        ;
                      }

                      -1 === o && (f = !1);
                    }

                    if (h = d.map["data-mce-bogus"]) {
                      if ("all" === h) {
                        _ = kv(U, e, S.lastIndex), S.lastIndex = _;
                        continue;
                      }

                      f = !1;
                    }
                  }

                  f && q(n, d, c);
                } else f = !1;

                if (r = T[n]) {
                  r.lastIndex = _ = t.index + t[0].length, (t = r.exec(e)) ? (f && (i = e.substr(_, t.index - _)), _ = t.index + t[0].length) : (i = e.substr(_), _ = e.length), f && (0 < i.length && j(i, !0), $(n)), S.lastIndex = _;
                  continue;
                }

                c || (v && v.indexOf("/") === v.length - 1 ? f && $(n) : D.push({
                  name: n,
                  valid: f
                }));
              } else (n = t[1]) ? (">" === n.charAt(0) && (n = " " + n), z.allow_conditional_comments || "[if" !== n.substr(0, 3).toLowerCase() || (n = " " + n), V(n)) : (n = t[2]) ? H(n.replace(/<!--|-->/g, "")) : (n = t[3]) ? K(n) : (n = t[4]) && W(n, t[5]);
              _ = t.index + t[0].length;
            }

            for (_ < e.length && j(O(e.substr(_))), o = D.length - 1; 0 <= o; o--) {
              (n = D[o]).valid && $(n.name);
            }
          }
        };
      }

      (Av || (Av = {})).findEndTag = kv;

      var Rv = Av,
          _v = function _v(e, t) {
        var n,
            r,
            o,
            i,
            a,
            u,
            s,
            c,
            l = t,
            f = /<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,
            d = e.schema;

        for (u = e.getTempAttrs(), s = l, c = new RegExp(["\\s?(" + u.join("|") + ')="[^"]+"'].join("|"), "gi"), l = s.replace(c, ""), a = d.getShortEndedElements(); i = f.exec(l);) {
          r = f.lastIndex, o = i[0].length, n = a[i[1]] ? r : Rv.findEndTag(d, l, r), l = l.substring(0, r - o) + l.substring(n), f.lastIndex = r - o;
        }

        return ga(l);
      },
          Dv = {
        trimExternal: _v,
        trimInternal: _v
      },
          Bv = 0,
          Ov = 2,
          Pv = 1,
          Iv = function Iv(g, p) {
        var e = g.length + p.length + 2,
            h = new Array(e),
            v = new Array(e),
            c = function c(e, t, n, r, o) {
          var i = l(e, t, n, r);
          if (null === i || i.start === t && i.diag === t - r || i.end === e && i.diag === e - n) for (var a = e, u = n; a < t || u < r;) {
            a < t && u < r && g[a] === p[u] ? (o.push([0, g[a]]), ++a, ++u) : r - n < t - e ? (o.push([2, g[a]]), ++a) : (o.push([1, p[u]]), ++u);
          } else {
            c(e, i.start, n, i.start - i.diag, o);

            for (var s = i.start; s < i.end; ++s) {
              o.push([0, g[s]]);
            }

            c(i.end, t, i.end - i.diag, r, o);
          }
        },
            b = function b(e, t, n, r) {
          for (var o = e; o - t < r && o < n && g[o] === p[o - t];) {
            ++o;
          }

          return {
            start: e,
            end: o,
            diag: t
          };
        },
            l = function l(e, t, n, r) {
          var o = t - e,
              i = r - n;
          if (0 === o || 0 === i) return null;
          var a,
              u,
              s,
              c,
              l,
              f = o - i,
              d = i + o,
              m = (d % 2 == 0 ? d : d + 1) / 2;

          for (h[1 + m] = e, v[1 + m] = t + 1, a = 0; a <= m; ++a) {
            for (u = -a; u <= a; u += 2) {
              for (s = u + m, u === -a || u !== a && h[s - 1] < h[s + 1] ? h[s] = h[s + 1] : h[s] = h[s - 1] + 1, l = (c = h[s]) - e + n - u; c < t && l < r && g[c] === p[l];) {
                h[s] = ++c, ++l;
              }

              if (f % 2 != 0 && f - a <= u && u <= f + a && v[s - f] <= h[s]) return b(v[s - f], u + e - n, t, r);
            }

            for (u = f - a; u <= f + a; u += 2) {
              for (s = u + m - f, u === f - a || u !== f + a && v[s + 1] <= v[s - 1] ? v[s] = v[s + 1] - 1 : v[s] = v[s - 1], l = (c = v[s] - 1) - e + n - u; e <= c && n <= l && g[c] === p[l];) {
                v[s] = c--, l--;
              }

              if (f % 2 == 0 && -a <= u && u <= a && v[s] <= h[s + f]) return b(v[s], u + e - n, t, r);
            }
          }
        },
            t = [];

        return c(0, g.length, 0, p.length, t), t;
      },
          Lv = function Lv(e) {
        return Po.isElement(e) ? e.outerHTML : Po.isText(e) ? Xo.encodeRaw(e.data, !1) : Po.isComment(e) ? "\x3c!--" + e.data + "--\x3e" : "";
      },
          Mv = function Mv(e, t, n) {
        var r = function (e) {
          var t, n, r;

          for (r = H.document.createElement("div"), t = H.document.createDocumentFragment(), e && (r.innerHTML = e); n = r.firstChild;) {
            t.appendChild(n);
          }

          return t;
        }(t);

        if (e.hasChildNodes() && n < e.childNodes.length) {
          var o = e.childNodes[n];
          o.parentNode.insertBefore(r, o);
        } else e.appendChild(r);
      },
          Fv = function Fv(e) {
        return V(W(oe(e.childNodes), Lv), function (e) {
          return 0 < e.length;
        });
      },
          zv = function zv(e, t) {
        var n,
            r,
            o,
            i = W(oe(t.childNodes), Lv);
        return n = Iv(i, e), r = t, o = 0, U(n, function (e) {
          e[0] === Bv ? o++ : e[0] === Pv ? (Mv(r, e[1], o), o++) : e[0] === Ov && function (e, t) {
            if (e.hasChildNodes() && t < e.childNodes.length) {
              var n = e.childNodes[t];
              n.parentNode.removeChild(n);
            }
          }(r, o);
        }), t;
      },
          Uv = Li(A.none()),
          Vv = function Vv(e) {
        return {
          type: "fragmented",
          fragments: e,
          content: "",
          bookmark: null,
          beforeBookmark: null
        };
      },
          Hv = function Hv(e) {
        return {
          type: "complete",
          fragments: null,
          content: e,
          bookmark: null,
          beforeBookmark: null
        };
      },
          jv = function jv(e) {
        return "fragmented" === e.type ? e.fragments.join("") : e.content;
      },
          qv = function qv(e) {
        var t = ir.fromTag("body", Uv.get().getOrThunk(function () {
          var e = H.document.implementation.createHTMLDocument("undo");
          return Uv.set(A.some(e)), e;
        }));
        return la(t, jv(e)), U($i(t, "*[data-mce-bogus]"), Pi), t.dom().innerHTML;
      },
          $v = function $v(n) {
        var e, t, r;
        return e = Fv(n.getBody()), -1 !== (t = (r = Z(e, function (e) {
          var t = Dv.trimInternal(n.serializer, e);
          return 0 < t.length ? [t] : [];
        })).join("")).indexOf("</iframe>") ? Vv(r) : Hv(t);
      },
          Wv = function Wv(e, t, n) {
        "fragmented" === t.type ? zv(t.fragments, e.getBody()) : e.setContent(t.content, {
          format: "raw"
        }), e.selection.moveToBookmark(n ? t.beforeBookmark : t.bookmark);
      },
          Kv = function Kv(e, t) {
        return !(!e || !t) && (r = t, jv(e) === jv(r) || (n = t, qv(e) === qv(n)));
        var n, r;
      };

      function Xv(u) {
        var s,
            r,
            o = this,
            c = 0,
            l = [],
            t = 0,
            f = function f() {
          return 0 === t;
        },
            i = function i(e) {
          f() && (o.typing = e);
        },
            d = function d(e) {
          u.setDirty(e);
        },
            a = function a(e) {
          i(!1), o.add({}, e);
        },
            n = function n() {
          o.typing && (i(!1), o.add());
        };

        return u.on("init", function () {
          o.add();
        }), u.on("BeforeExecCommand", function (e) {
          var t = e.command;
          "Undo" !== t && "Redo" !== t && "mceRepaint" !== t && (n(), o.beforeChange());
        }), u.on("ExecCommand", function (e) {
          var t = e.command;
          "Undo" !== t && "Redo" !== t && "mceRepaint" !== t && a(e);
        }), u.on("ObjectResizeStart Cut", function () {
          o.beforeChange();
        }), u.on("SaveContent ObjectResized blur", a), u.on("DragEnd", a), u.on("KeyUp", function (e) {
          var t = e.keyCode;
          e.isDefaultPrevented() || ((33 <= t && t <= 36 || 37 <= t && t <= 40 || 45 === t || e.ctrlKey) && (a(), u.nodeChanged()), 46 !== t && 8 !== t || u.nodeChanged(), r && o.typing && !1 === Kv($v(u), l[0]) && (!1 === u.isDirty() && (d(!0), u.fire("change", {
            level: l[0],
            lastLevel: null
          })), u.fire("TypingUndo"), r = !1, u.nodeChanged()));
        }), u.on("KeyDown", function (e) {
          var t = e.keyCode;
          if (!e.isDefaultPrevented()) if (33 <= t && t <= 36 || 37 <= t && t <= 40 || 45 === t) o.typing && a(e);else {
            var n = e.ctrlKey && !e.altKey || e.metaKey;
            !(t < 16 || 20 < t) || 224 === t || 91 === t || o.typing || n || (o.beforeChange(), i(!0), o.add({}, e), r = !0);
          }
        }), u.on("MouseDown", function (e) {
          o.typing && a(e);
        }), u.on("input", function (e) {
          var t;
          e.inputType && ("insertReplacementText" === e.inputType || "insertText" === (t = e).inputType && null === t.data) && a(e);
        }), u.addShortcut("meta+z", "", "Undo"), u.addShortcut("meta+y,meta+shift+z", "", "Redo"), u.on("AddUndo Undo Redo ClearUndos", function (e) {
          e.isDefaultPrevented() || u.nodeChanged();
        }), o = {
          data: l,
          typing: !1,
          beforeChange: function beforeChange() {
            f() && (s = Vu.getUndoBookmark(u.selection));
          },
          add: function add(e, t) {
            var n,
                r,
                o,
                i = u.settings;
            if (o = $v(u), e = e || {}, e = Jt.extend(e, o), !1 === f() || u.removed) return null;
            if (r = l[c], u.fire("BeforeAddUndo", {
              level: e,
              lastLevel: r,
              originalEvent: t
            }).isDefaultPrevented()) return null;
            if (r && Kv(r, e)) return null;

            if (l[c] && (l[c].beforeBookmark = s), i.custom_undo_redo_levels && l.length > i.custom_undo_redo_levels) {
              for (n = 0; n < l.length - 1; n++) {
                l[n] = l[n + 1];
              }

              l.length--, c = l.length;
            }

            e.bookmark = Vu.getUndoBookmark(u.selection), c < l.length - 1 && (l.length = c + 1), l.push(e), c = l.length - 1;
            var a = {
              level: e,
              lastLevel: r,
              originalEvent: t
            };
            return u.fire("AddUndo", a), 0 < c && (d(!0), u.fire("change", a)), e;
          },
          undo: function undo() {
            var e;
            return o.typing && (o.add(), o.typing = !1, i(!1)), 0 < c && (e = l[--c], Wv(u, e, !0), d(!0), u.fire("undo", {
              level: e
            })), e;
          },
          redo: function redo() {
            var e;
            return c < l.length - 1 && (e = l[++c], Wv(u, e, !1), d(!0), u.fire("redo", {
              level: e
            })), e;
          },
          clear: function clear() {
            l = [], c = 0, o.typing = !1, o.data = l, u.fire("ClearUndos");
          },
          hasUndo: function hasUndo() {
            return 0 < c || o.typing && l[0] && !Kv($v(u), l[0]);
          },
          hasRedo: function hasRedo() {
            return c < l.length - 1 && !o.typing;
          },
          transact: function transact(e) {
            return n(), o.beforeChange(), o.ignore(e), o.add();
          },
          ignore: function ignore(e) {
            try {
              t++, e();
            } finally {
              t--;
            }
          },
          extra: function extra(e, t) {
            var n, r;
            o.transact(e) && (r = l[c].bookmark, n = l[c - 1], Wv(u, n, !0), o.transact(t) && (l[c - 1].beforeBookmark = r));
          }
        };
      }

      var Yv,
          Gv,
          Jv = {},
          Qv = Wt.filter,
          Zv = Wt.each;
      Gv = function Gv(e) {
        var t,
            n,
            r = e.selection.getRng();
        t = Po.matchNodeNames("pre"), r.collapsed || (n = e.selection.getSelectedBlocks(), Zv(Qv(Qv(n, t), function (e) {
          return t(e.previousSibling) && -1 !== Wt.indexOf(n, e.previousSibling);
        }), function (e) {
          var t, n;
          t = e.previousSibling, vn(n = e).remove(), vn(t).append("<br><br>").append(n.childNodes);
        }));
      }, Jv[Yv = "pre"] || (Jv[Yv] = []), Jv[Yv].push(Gv);

      var eb = function eb(e, t) {
        Zv(Jv[e], function (e) {
          e(t);
        });
      },
          tb = /^(src|href|style)$/,
          nb = Jt.each,
          rb = hc.isEq,
          ob = function ob(e, t, n) {
        return e.isChildOf(t, n) && t !== n && !e.isBlock(n);
      },
          ib = function ib(e, t, n) {
        var r, o, i;
        return r = t[n ? "startContainer" : "endContainer"], o = t[n ? "startOffset" : "endOffset"], Po.isElement(r) && (i = r.childNodes.length - 1, !n && o && o--, r = r.childNodes[i < o ? i : o]), Po.isText(r) && n && o >= r.nodeValue.length && (r = new ao(r, e.getBody()).next() || r), Po.isText(r) && !n && 0 === o && (r = new ao(r, e.getBody()).prev() || r), r;
      },
          ab = function ab(e, t, n, r) {
        var o = e.create(n, r);
        return t.parentNode.insertBefore(o, t), o.appendChild(t), o;
      },
          ub = function ub(e, t, n, r, o) {
        var i = ir.fromDom(t),
            a = ir.fromDom(e.create(r, o)),
            u = n ? jr(i) : Hr(i);
        return Di(a, u), n ? (Ti(i, a), Ri(a, i)) : (Ai(i, a), _i(a, i)), a.dom();
      },
          sb = function sb(e, t, n, r) {
        return !(t = hc.getNonWhiteSpaceSibling(t, n, r)) || "BR" === t.nodeName || e.isBlock(t);
      },
          cb = function cb(e, n, r, o, i) {
        var t,
            a,
            u,
            s,
            c,
            l,
            f,
            d,
            m,
            g,
            p,
            h,
            v,
            b,
            y = e.dom;
        if (c = y, !(rb(l = o, (f = n).inline) || rb(l, f.block) || (f.selector ? Po.isElement(l) && c.is(l, f.selector) : void 0) || (s = o, n.links && "A" === s.tagName))) return !1;
        if ("all" !== n.remove) for (nb(n.styles, function (e, t) {
          e = hc.normalizeStyleValue(y, hc.replaceVars(e, r), t), "number" == typeof t && (t = e, i = 0), (n.remove_similar || !i || rb(hc.getStyle(y, i, t), e)) && y.setStyle(o, t, ""), u = 1;
        }), u && "" === y.getAttrib(o, "style") && (o.removeAttribute("style"), o.removeAttribute("data-mce-style")), nb(n.attributes, function (e, t) {
          var n;

          if (e = hc.replaceVars(e, r), "number" == typeof t && (t = e, i = 0), !i || rb(y.getAttrib(i, t), e)) {
            if ("class" === t && (e = y.getAttrib(o, t)) && (n = "", nb(e.split(/\s+/), function (e) {
              /mce\-\w+/.test(e) && (n += (n ? " " : "") + e);
            }), n)) return void y.setAttrib(o, t, n);
            "class" === t && o.removeAttribute("className"), tb.test(t) && o.removeAttribute("data-mce-" + t), o.removeAttribute(t);
          }
        }), nb(n.classes, function (e) {
          e = hc.replaceVars(e, r), i && !y.hasClass(i, e) || y.removeClass(o, e);
        }), a = y.getAttribs(o), t = 0; t < a.length; t++) {
          var C = a[t].nodeName;
          if (0 !== C.indexOf("_") && 0 !== C.indexOf("data-")) return !1;
        }
        return "none" !== n.remove ? (d = e, g = n, h = (m = o).parentNode, v = d.dom, b = d.settings.forced_root_block, g.block && (b ? h === v.getRoot() && (g.list_block && rb(m, g.list_block) || nb(Jt.grep(m.childNodes), function (e) {
          hc.isValid(d, b, e.nodeName.toLowerCase()) ? p ? p.appendChild(e) : (p = ab(v, e, b), v.setAttribs(p, d.settings.forced_root_block_attrs)) : p = 0;
        })) : v.isBlock(m) && !v.isBlock(h) && (sb(v, m, !1) || sb(v, m.firstChild, !0, 1) || m.insertBefore(v.create("br"), m.firstChild), sb(v, m, !0) || sb(v, m.lastChild, !1, 1) || m.appendChild(v.create("br")))), g.selector && g.inline && !rb(g.inline, m) || v.remove(m, 1), !0) : void 0;
      },
          lb = cb,
          fb = function fb(s, c, l, e, f) {
        var t,
            n,
            d = s.formatter.get(c),
            m = d[0],
            a = !0,
            u = s.dom,
            r = s.selection,
            i = function i(e) {
          var n,
              t,
              r,
              o,
              i,
              a,
              u = (n = s, t = e, r = c, o = l, i = f, nb(hc.getParents(n.dom, t.parentNode).reverse(), function (e) {
            var t;
            a || "_start" === e.id || "_end" === e.id || (t = Om.matchNode(n, e, r, o, i)) && !1 !== t.split && (a = e);
          }), a);
          return function (e, t, n, r, o, i, a, u) {
            var s,
                c,
                l,
                f,
                d,
                m,
                g = e.dom;

            if (n) {
              for (m = n.parentNode, s = r.parentNode; s && s !== m; s = s.parentNode) {
                for (c = g.clone(s, !1), d = 0; d < t.length; d++) {
                  if (cb(e, t[d], u, c, c)) {
                    c = 0;
                    break;
                  }
                }

                c && (l && c.appendChild(l), f || (f = c), l = c);
              }

              !i || a.mixed && g.isBlock(n) || (r = g.split(n, r)), l && (o.parentNode.insertBefore(l, o), f.appendChild(o));
            }

            return r;
          }(s, d, u, e, e, !0, m, l);
        },
            g = function g(e) {
          var t, n, r, o, i;
          if (Po.isElement(e) && u.getContentEditable(e) && (o = a, a = "true" === u.getContentEditable(e), i = !0), t = Jt.grep(e.childNodes), a && !i) for (n = 0, r = d.length; n < r && !cb(s, d[n], l, e, e); n++) {
            ;
          }

          if (m.deep && t.length) {
            for (n = 0, r = t.length; n < r; n++) {
              g(t[n]);
            }

            i && (a = o);
          }
        },
            p = function p(e) {
          var t,
              n = u.get(e ? "_start" : "_end"),
              r = n[e ? "firstChild" : "lastChild"];
          return dc(t = r) && Po.isElement(t) && ("_start" === t.id || "_end" === t.id) && (r = r[e ? "firstChild" : "lastChild"]), Po.isText(r) && 0 === r.data.length && (r = e ? n.previousSibling || n.nextSibling : n.nextSibling || n.previousSibling), u.remove(n, !0), r;
        },
            o = function o(e) {
          var t,
              n,
              r = e.commonAncestorContainer;

          if (e = Ac(s, e, d, !0), m.split) {
            if (e = Im(e), (t = ib(s, e, !0)) !== (n = ib(s, e))) {
              if (/^(TR|TH|TD)$/.test(t.nodeName) && t.firstChild && (t = "TR" === t.nodeName ? t.firstChild.firstChild || t : t.firstChild || t), r && /^T(HEAD|BODY|FOOT|R)$/.test(r.nodeName) && /^(TH|TD)$/.test(n.nodeName) && n.firstChild && (n = n.firstChild || n), ob(u, t, n)) {
                var o = A.from(t.firstChild).getOr(t);
                return i(ub(u, o, !0, "span", {
                  id: "_start",
                  "data-mce-type": "bookmark"
                })), void p(!0);
              }

              if (ob(u, n, t)) return o = A.from(n.lastChild).getOr(n), i(ub(u, o, !1, "span", {
                id: "_end",
                "data-mce-type": "bookmark"
              })), void p(!1);
              t = ab(u, t, "span", {
                id: "_start",
                "data-mce-type": "bookmark"
              }), n = ab(u, n, "span", {
                id: "_end",
                "data-mce-type": "bookmark"
              }), i(t), i(n), t = p(!0), n = p();
            } else t = n = i(t);

            e.startContainer = t.parentNode ? t.parentNode : t, e.startOffset = u.nodeIndex(t), e.endContainer = n.parentNode ? n.parentNode : n, e.endOffset = u.nodeIndex(n) + 1;
          }

          _c(u, e, function (e) {
            nb(e, function (e) {
              g(e), Po.isElement(e) && "underline" === s.dom.getStyle(e, "text-decoration") && e.parentNode && "underline" === hc.getTextDecoration(u, e.parentNode) && cb(s, {
                deep: !1,
                exact: !0,
                inline: "span",
                styles: {
                  textDecoration: "underline"
                }
              }, null, e);
            });
          });
        };

        if (e) e.nodeType ? ((n = u.createRng()).setStartBefore(e), n.setEndAfter(e), o(n)) : o(e);else if ("false" !== u.getContentEditable(r.getNode())) r.isCollapsed() && m.inline && !u.select("td[data-mce-selected],th[data-mce-selected]").length ? function (e, t, n, r) {
          var o,
              i,
              a,
              u,
              s,
              c,
              l,
              f = e.dom,
              d = e.selection,
              m = [],
              g = d.getRng();

          for (o = g.startContainer, i = g.startOffset, 3 === (s = o).nodeType && (i !== o.nodeValue.length && (u = !0), s = s.parentNode); s;) {
            if (Om.matchNode(e, s, t, n, r)) {
              c = s;
              break;
            }

            s.nextSibling && (u = !0), m.push(s), s = s.parentNode;
          }

          if (c) if (u) {
            a = d.getBookmark(), g.collapse(!0);
            var p = Ac(e, g, e.formatter.get(t), !0);
            p = Im(p), e.formatter.remove(t, n, p), d.moveToBookmark(a);
          } else {
            l = qu(e.getBody(), c);
            var h = Um(!1).dom(),
                v = $m(m, h);
            jm(e, h, l || c), Vm(e, l, !1), d.setCursorLocation(v, 1), f.isEmpty(c) && f.remove(c);
          }
        }(s, c, l, f) : (t = Vu.getPersistentBookmark(s.selection, !0), o(r.getRng()), r.moveToBookmark(t), m.inline && Om.match(s, c, l, r.getStart()) && hc.moveStart(u, r, r.getRng()), s.nodeChanged());else {
          e = r.getNode();

          for (var h = 0, v = d.length; h < v && (!d[h].ceFalseOverride || !cb(s, d[h], l, e, e)); h++) {
            ;
          }
        }
      },
          db = Jt.each,
          mb = function mb(e) {
        return e && 1 === e.nodeType && !dc(e) && !ju(e) && !Po.isBogus(e);
      },
          gb = function gb(e, t) {
        var n;

        for (n = e; n; n = n[t]) {
          if (3 === n.nodeType && 0 !== n.nodeValue.length) return e;
          if (1 === n.nodeType && !dc(n)) return n;
        }

        return e;
      },
          pb = function pb(e, t, n) {
        var r,
            o,
            i = new Xc(e);

        if (t && n && (t = gb(t, "previousSibling"), n = gb(n, "nextSibling"), i.compare(t, n))) {
          for (r = t.nextSibling; r && r !== n;) {
            r = (o = r).nextSibling, t.appendChild(o);
          }

          return e.remove(n), Jt.each(Jt.grep(n.childNodes), function (e) {
            t.appendChild(e);
          }), t;
        }

        return n;
      },
          hb = function hb(e, t, n) {
        db(e.childNodes, function (e) {
          mb(e) && (t(e) && n(e), e.hasChildNodes() && hb(e, t, n));
        });
      },
          vb = function vb(n, e) {
        return d(function (e, t) {
          return !(!t || !hc.getStyle(n, t, e));
        }, e);
      },
          bb = function bb(r, e, t) {
        return d(function (e, t, n) {
          r.setStyle(n, e, t), "" === n.getAttribute("style") && n.removeAttribute("style"), yb(r, n);
        }, e, t);
      },
          yb = function yb(e, t) {
        "SPAN" === t.nodeName && 0 === e.getAttribs(t).length && e.remove(t, !0);
      },
          Cb = function Cb(e, t) {
        var n;
        1 === t.nodeType && t.parentNode && 1 === t.parentNode.nodeType && (n = hc.getTextDecoration(e, t.parentNode), e.getStyle(t, "color") && n ? e.setStyle(t, "text-decoration", n) : e.getStyle(t, "text-decoration") === n && e.setStyle(t, "text-decoration", null));
      },
          xb = function xb(n, e, r, o) {
        db(e, function (t) {
          db(n.dom.select(t.inline, o), function (e) {
            mb(e) && lb(n, t, r, e, t.exact ? e : null);
          }), function (r, e, t) {
            if (e.clear_child_styles) {
              var n = e.links ? "*:not(a)" : "*";
              db(r.select(n, t), function (n) {
                mb(n) && db(e.styles, function (e, t) {
                  r.setStyle(n, t, "");
                });
              });
            }
          }(n.dom, t, o);
        });
      },
          wb = function wb(e, t, n, r) {
        (t.styles.color || t.styles.textDecoration) && (Jt.walk(r, d(Cb, e), "childNodes"), Cb(e, r));
      },
          Nb = function Nb(e, t, n, r) {
        t.styles && t.styles.backgroundColor && hb(r, vb(e, "fontSize"), bb(e, "backgroundColor", hc.replaceVars(t.styles.backgroundColor, n)));
      },
          Eb = function Eb(e, t, n, r) {
        "sub" !== t.inline && "sup" !== t.inline || (hb(r, vb(e, "fontSize"), bb(e, "fontSize", "")), e.remove(e.select("sup" === t.inline ? "sub" : "sup", r), !0));
      },
          Sb = function Sb(e, t, n, r) {
        r && !1 !== t.merge_siblings && (r = pb(e, hc.getNonWhiteSpaceSibling(r), r), r = pb(e, r, hc.getNonWhiteSpaceSibling(r, !0)));
      },
          kb = function kb(t, n, r, o, i) {
        Om.matchNode(t, i.parentNode, r, o) && lb(t, n, o, i) || n.merge_with_parents && t.dom.getParent(i.parentNode, function (e) {
          if (Om.matchNode(t, e, r, o)) return lb(t, n, o, i), !0;
        });
      },
          Tb = Jt.each,
          Ab = function Ab(g, p, h, r) {
        var e,
            t,
            v = g.formatter.get(p),
            b = v[0],
            o = !r && g.selection.isCollapsed(),
            i = g.dom,
            n = g.selection,
            y = function y(n, e) {
          if (e = e || b, n) {
            if (e.onformat && e.onformat(n, e, h, r), Tb(e.styles, function (e, t) {
              i.setStyle(n, t, hc.replaceVars(e, h));
            }), e.styles) {
              var t = i.getAttrib(n, "style");
              t && n.setAttribute("data-mce-style", t);
            }

            Tb(e.attributes, function (e, t) {
              i.setAttrib(n, t, hc.replaceVars(e, h));
            }), Tb(e.classes, function (e) {
              e = hc.replaceVars(e, h), i.hasClass(n, e) || i.addClass(n, e);
            });
          }
        },
            C = function C(e, t) {
          var n = !1;
          return !!b.selector && (Tb(e, function (e) {
            if (!("collapsed" in e && e.collapsed !== o)) return i.is(t, e.selector) && !ju(t) ? (y(t, e), !(n = !0)) : void 0;
          }), n);
        },
            a = function a(s, e, t, c) {
          var l,
              f,
              d = [],
              m = !0;
          l = b.inline || b.block, f = s.create(l), y(f), _c(s, e, function (e) {
            var a,
                u = function u(e) {
              var t, n, r, o;
              if (o = m, t = e.nodeName.toLowerCase(), n = e.parentNode.nodeName.toLowerCase(), 1 === e.nodeType && s.getContentEditable(e) && (o = m, m = "true" === s.getContentEditable(e), r = !0), hc.isEq(t, "br")) return a = 0, void (b.block && s.remove(e));
              if (b.wrapper && Om.matchNode(g, e, p, h)) a = 0;else {
                if (m && !r && b.block && !b.wrapper && hc.isTextBlock(g, t) && hc.isValid(g, n, l)) return e = s.rename(e, l), y(e), d.push(e), void (a = 0);

                if (b.selector) {
                  var i = C(v, e);
                  if (!b.inline || i) return void (a = 0);
                }

                !m || r || !hc.isValid(g, l, t) || !hc.isValid(g, n, l) || !c && 3 === e.nodeType && 1 === e.nodeValue.length && 65279 === e.nodeValue.charCodeAt(0) || ju(e) || b.inline && s.isBlock(e) ? (a = 0, Tb(Jt.grep(e.childNodes), u), r && (m = o), a = 0) : (a || (a = s.clone(f, !1), e.parentNode.insertBefore(a, e), d.push(a)), a.appendChild(e));
              }
            };

            Tb(e, u);
          }), !0 === b.links && Tb(d, function (e) {
            var t = function t(e) {
              "A" === e.nodeName && y(e, b), Tb(Jt.grep(e.childNodes), t);
            };

            t(e);
          }), Tb(d, function (e) {
            var t,
                n,
                r,
                o,
                i,
                a = function a(e) {
              var n = !1;
              return Tb(e.childNodes, function (e) {
                if ((t = e) && 1 === t.nodeType && !dc(t) && !ju(t) && !Po.isBogus(t)) return n = e, !1;
                var t;
              }), n;
            };

            n = 0, Tb(e.childNodes, function (e) {
              hc.isWhiteSpaceNode(e) || dc(e) || n++;
            }), t = n, !(1 < d.length) && s.isBlock(e) || 0 !== t ? (b.inline || b.wrapper) && (b.exact || 1 !== t || ((o = a(r = e)) && !dc(o) && Om.matchName(s, o, b) && (i = s.clone(o, !1), y(i), s.replace(i, r, !0), s.remove(o, 1)), e = i || r), xb(g, v, h, e), kb(g, b, p, h, e), Nb(s, b, h, e), Eb(s, b, h, e), Sb(s, b, h, e)) : s.remove(e, 1);
          });
        };

        if ("false" !== i.getContentEditable(n.getNode())) {
          if (b) {
            if (r) r.nodeType ? C(v, r) || ((t = i.createRng()).setStartBefore(r), t.setEndAfter(r), a(i, Ac(g, t, v), 0, !0)) : a(i, r, 0, !0);else if (o && b.inline && !i.select("td[data-mce-selected],th[data-mce-selected]").length) !function (e, t, n) {
              var r,
                  o,
                  i,
                  a,
                  u,
                  s,
                  c = e.selection;
              a = (r = c.getRng(!0)).startOffset, s = r.startContainer.nodeValue, (o = qu(e.getBody(), c.getStart())) && (i = zm(o));
              var l,
                  f,
                  d = /[^\s\u00a0\u00ad\u200b\ufeff]/;
              s && 0 < a && a < s.length && d.test(s.charAt(a)) && d.test(s.charAt(a - 1)) ? (u = c.getBookmark(), r.collapse(!0), r = Ac(e, r, e.formatter.get(t)), r = Im(r), e.formatter.apply(t, n, r), c.moveToBookmark(u)) : (o && i.nodeValue === Lm || (l = e.getDoc(), f = Um(!0).dom(), i = (o = l.importNode(f, !0)).firstChild, r.insertNode(o), a = 1), e.formatter.apply(t, n, o), c.setCursorLocation(i, a));
            }(g, p, h);else {
              var u = g.selection.getNode();
              g.settings.forced_root_block || !v[0].defaultBlock || i.getParent(u, i.isBlock) || Ab(g, v[0].defaultBlock), g.selection.setRng(rl(g.selection.getRng())), e = Vu.getPersistentBookmark(g.selection, !0), a(i, Ac(g, n.getRng(), v)), b.styles && wb(i, b, h, u), n.moveToBookmark(e), hc.moveStart(i, n, n.getRng()), g.nodeChanged();
            }
            eb(p, g);
          }
        } else {
          r = n.getNode();

          for (var s = 0, c = v.length; s < c; s++) {
            if (v[s].ceFalseOverride && i.is(r, v[s].selector)) return void y(r, v[s]);
          }
        }
      },
          Rb = {
        applyFormat: Ab
      },
          _b = Jt.each,
          Db = function Db(e, t, n, r, o) {
        var i, a, u, s, c, l, f, d;
        null === t.get() && (a = e, u = {}, (i = t).set({}), a.on("NodeChange", function (n) {
          var r = hc.getParents(a.dom, n.element),
              o = {};
          r = Jt.grep(r, function (e) {
            return 1 === e.nodeType && !e.getAttribute("data-mce-bogus");
          }), _b(i.get(), function (e, n) {
            _b(r, function (t) {
              return a.formatter.matchNode(t, n, {}, e.similar) ? (u[n] || (_b(e, function (e) {
                e(!0, {
                  node: t,
                  format: n,
                  parents: r
                });
              }), u[n] = e), o[n] = e, !1) : !Om.matchesUnInheritedFormatSelector(a, t, n) && void 0;
            });
          }), _b(u, function (e, t) {
            o[t] || (delete u[t], _b(e, function (e) {
              e(!1, {
                node: n.element,
                format: t,
                parents: r
              });
            }));
          });
        })), c = n, l = r, f = o, d = (s = t).get(), _b(c.split(","), function (e) {
          d[e] || (d[e] = [], d[e].similar = f), d[e].push(l);
        }), s.set(d);
      },
          Bb = {
        get: function get(r) {
          var t = {
            valigntop: [{
              selector: "td,th",
              styles: {
                verticalAlign: "top"
              }
            }],
            valignmiddle: [{
              selector: "td,th",
              styles: {
                verticalAlign: "middle"
              }
            }],
            valignbottom: [{
              selector: "td,th",
              styles: {
                verticalAlign: "bottom"
              }
            }],
            alignleft: [{
              selector: "figure.image",
              collapsed: !1,
              classes: "align-left",
              ceFalseOverride: !0,
              preview: "font-family font-size"
            }, {
              selector: "figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",
              styles: {
                textAlign: "left"
              },
              inherit: !1,
              preview: !1,
              defaultBlock: "div"
            }, {
              selector: "img,table",
              collapsed: !1,
              styles: {
                "float": "left"
              },
              preview: "font-family font-size"
            }],
            aligncenter: [{
              selector: "figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",
              styles: {
                textAlign: "center"
              },
              inherit: !1,
              preview: "font-family font-size",
              defaultBlock: "div"
            }, {
              selector: "figure.image",
              collapsed: !1,
              classes: "align-center",
              ceFalseOverride: !0,
              preview: "font-family font-size"
            }, {
              selector: "img",
              collapsed: !1,
              styles: {
                display: "block",
                marginLeft: "auto",
                marginRight: "auto"
              },
              preview: !1
            }, {
              selector: "table",
              collapsed: !1,
              styles: {
                marginLeft: "auto",
                marginRight: "auto"
              },
              preview: "font-family font-size"
            }],
            alignright: [{
              selector: "figure.image",
              collapsed: !1,
              classes: "align-right",
              ceFalseOverride: !0,
              preview: "font-family font-size"
            }, {
              selector: "figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",
              styles: {
                textAlign: "right"
              },
              inherit: !1,
              preview: "font-family font-size",
              defaultBlock: "div"
            }, {
              selector: "img,table",
              collapsed: !1,
              styles: {
                "float": "right"
              },
              preview: "font-family font-size"
            }],
            alignjustify: [{
              selector: "figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",
              styles: {
                textAlign: "justify"
              },
              inherit: !1,
              defaultBlock: "div",
              preview: "font-family font-size"
            }],
            bold: [{
              inline: "strong",
              remove: "all"
            }, {
              inline: "span",
              styles: {
                fontWeight: "bold"
              }
            }, {
              inline: "b",
              remove: "all"
            }],
            italic: [{
              inline: "em",
              remove: "all"
            }, {
              inline: "span",
              styles: {
                fontStyle: "italic"
              }
            }, {
              inline: "i",
              remove: "all"
            }],
            underline: [{
              inline: "span",
              styles: {
                textDecoration: "underline"
              },
              exact: !0
            }, {
              inline: "u",
              remove: "all"
            }],
            strikethrough: [{
              inline: "span",
              styles: {
                textDecoration: "line-through"
              },
              exact: !0
            }, {
              inline: "strike",
              remove: "all"
            }],
            forecolor: {
              inline: "span",
              styles: {
                color: "%value"
              },
              links: !0,
              remove_similar: !0,
              clear_child_styles: !0
            },
            hilitecolor: {
              inline: "span",
              styles: {
                backgroundColor: "%value"
              },
              links: !0,
              remove_similar: !0,
              clear_child_styles: !0
            },
            fontname: {
              inline: "span",
              toggle: !1,
              styles: {
                fontFamily: "%value"
              },
              clear_child_styles: !0
            },
            fontsize: {
              inline: "span",
              toggle: !1,
              styles: {
                fontSize: "%value"
              },
              clear_child_styles: !0
            },
            fontsize_class: {
              inline: "span",
              attributes: {
                "class": "%value"
              }
            },
            blockquote: {
              block: "blockquote",
              wrapper: 1,
              remove: "all"
            },
            subscript: {
              inline: "sub"
            },
            superscript: {
              inline: "sup"
            },
            code: {
              inline: "code"
            },
            link: {
              inline: "a",
              selector: "a",
              remove: "all",
              split: !0,
              deep: !0,
              onmatch: function onmatch() {
                return !0;
              },
              onformat: function onformat(n, e, t) {
                Jt.each(t, function (e, t) {
                  r.setAttrib(n, t, e);
                });
              }
            },
            removeformat: [{
              selector: "b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",
              remove: "all",
              split: !0,
              expand: !1,
              block_expand: !0,
              deep: !0
            }, {
              selector: "span",
              attributes: ["style", "class"],
              remove: "empty",
              split: !0,
              expand: !1,
              deep: !0
            }, {
              selector: "*",
              attributes: ["style", "class"],
              split: !1,
              expand: !1,
              deep: !0
            }]
          };
          return Jt.each("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/), function (e) {
            t[e] = {
              block: e,
              remove: "all"
            };
          }), t;
        }
      },
          Ob = Jt.each,
          Pb = bi.DOM,
          Ib = function Ib(e, t) {
        var n,
            o,
            r,
            m = t && t.schema || ii({}),
            g = function g(e) {
          var t, n, r;
          return o = "string" == typeof e ? {
            name: e,
            classes: [],
            attrs: {}
          } : e, t = Pb.create(o.name), n = t, (r = o).classes.length && Pb.addClass(n, r.classes.join(" ")), Pb.setAttribs(n, r.attrs), t;
        },
            p = function p(n, e, t) {
          var r,
              o,
              i,
              a,
              u,
              s,
              c,
              l,
              f = 0 < e.length && e[0],
              d = f && f.name;
          if (u = d, s = "string" != typeof (a = n) ? a.nodeName.toLowerCase() : a, c = m.getElementRule(s), i = !(!(l = c && c.parentsRequired) || !l.length) && (u && -1 !== Jt.inArray(l, u) ? u : l[0])) d === i ? (o = e[0], e = e.slice(1)) : o = i;else if (f) o = e[0], e = e.slice(1);else if (!t) return n;
          return o && (r = g(o)).appendChild(n), t && (r || (r = Pb.create("div")).appendChild(n), Jt.each(t, function (e) {
            var t = g(e);
            r.insertBefore(t, n);
          })), p(r, e, o && o.siblings);
        };

        return e && e.length ? (o = e[0], n = g(o), (r = Pb.create("div")).appendChild(p(n, e.slice(1), o.siblings)), r) : "";
      },
          Lb = function Lb(e) {
        var t,
            a = {
          classes: [],
          attrs: {}
        };
        return "*" !== (e = a.selector = Jt.trim(e)) && (t = e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g, function (e, t, n, r, o) {
          switch (t) {
            case "#":
              a.attrs.id = n;
              break;

            case ".":
              a.classes.push(n);
              break;

            case ":":
              -1 !== Jt.inArray("checked disabled enabled read-only required".split(" "), n) && (a.attrs[n] = n);
          }

          if ("[" === r) {
            var i = o.match(/([\w\-]+)(?:\=\"([^\"]+))?/);
            i && (a.attrs[i[1]] = i[2]);
          }

          return "";
        })), a.name = t || "div", a;
      },
          Mb = function Mb(e) {
        return e && "string" == typeof e ? (e = (e = e.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g, "$1"), Jt.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/), function (e) {
          var t = Jt.map(e.split(/(?:~\+|~|\+)/), Lb),
              n = t.pop();
          return t.length && (n.siblings = t), n;
        }).reverse()) : [];
      },
          Fb = function Fb(n, e) {
        var t,
            r,
            o,
            i,
            a,
            u,
            s = "";
        if (!1 === (u = n.settings.preview_styles)) return "";
        "string" != typeof u && (u = "font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow");

        var c = function c(e) {
          return e.replace(/%(\w+)/g, "");
        };

        if ("string" == typeof e) {
          if (!(e = n.formatter.get(e))) return;
          e = e[0];
        }

        return "preview" in e && !1 === (u = e.preview) ? "" : (t = e.block || e.inline || "span", (i = Mb(e.selector)).length ? (i[0].name || (i[0].name = t), t = e.selector, r = Ib(i, n)) : r = Ib([t], n), o = Pb.select(t, r)[0] || r.firstChild, Ob(e.styles, function (e, t) {
          (e = c(e)) && Pb.setStyle(o, t, e);
        }), Ob(e.attributes, function (e, t) {
          (e = c(e)) && Pb.setAttrib(o, t, e);
        }), Ob(e.classes, function (e) {
          e = c(e), Pb.hasClass(o, e) || Pb.addClass(o, e);
        }), n.fire("PreviewFormats"), Pb.setStyles(r, {
          position: "absolute",
          left: -65535
        }), n.getBody().appendChild(r), a = Pb.getStyle(n.getBody(), "fontSize", !0), a = /px$/.test(a) ? parseInt(a, 10) : 0, Ob(u.split(" "), function (e) {
          var t = Pb.getStyle(o, e, !0);

          if (!("background-color" === e && /transparent|rgba\s*\([^)]+,\s*0\)/.test(t) && (t = Pb.getStyle(n.getBody(), e, !0), "#ffffff" === Pb.toHex(t).toLowerCase()) || "color" === e && "#000000" === Pb.toHex(t).toLowerCase())) {
            if ("font-size" === e && /em|%$/.test(t)) {
              if (0 === a) return;
              t = parseFloat(t) / (/%$/.test(t) ? 100 : 1) * a + "px";
            }

            "border" === e && t && (s += "padding:0 2px;"), s += e + ":" + t + ";";
          }
        }), n.fire("AfterPreviewFormats"), Pb.remove(r), s);
      },
          zb = function zb(e, t, n, r, o) {
        var i = t.get(n);
        !Om.match(e, n, r, o) || "toggle" in i[0] && !i[0].toggle ? Rb.applyFormat(e, n, r, o) : fb(e, n, r, o);
      },
          Ub = function Ub(e) {
        e.addShortcut("meta+b", "", "Bold"), e.addShortcut("meta+i", "", "Italic"), e.addShortcut("meta+u", "", "Underline");

        for (var t = 1; t <= 6; t++) {
          e.addShortcut("access+" + t, "", ["FormatBlock", !1, "h" + t]);
        }

        e.addShortcut("access+7", "", ["FormatBlock", !1, "p"]), e.addShortcut("access+8", "", ["FormatBlock", !1, "div"]), e.addShortcut("access+9", "", ["FormatBlock", !1, "address"]);
      };

      function Vb(e) {
        var t,
            n,
            _r7,
            o = (t = e, n = {}, (_r7 = function r(e, t) {
          e && ("string" != typeof e ? Jt.each(e, function (e, t) {
            _r7(t, e);
          }) : (t = t.length ? t : [t], Jt.each(t, function (e) {
            "undefined" == typeof e.deep && (e.deep = !e.selector), "undefined" == typeof e.split && (e.split = !e.selector || e.inline), "undefined" == typeof e.remove && e.selector && !e.inline && (e.remove = "none"), e.selector && e.inline && (e.mixed = !0, e.block_expand = !0), "string" == typeof e.classes && (e.classes = e.classes.split(/\s+/));
          }), n[e] = t));
        })(Bb.get(t.dom)), _r7(t.settings.formats), {
          get: function get(e) {
            return e ? n[e] : n;
          },
          register: _r7,
          unregister: function unregister(e) {
            return e && n[e] && delete n[e], n;
          }
        }),
            i = Li(null);

        return Ub(e), Wm(e), {
          get: o.get,
          register: o.register,
          unregister: o.unregister,
          apply: d(Rb.applyFormat, e),
          remove: d(fb, e),
          toggle: d(zb, e, o),
          match: d(Om.match, e),
          matchAll: d(Om.matchAll, e),
          matchNode: d(Om.matchNode, e),
          canApply: d(Om.canApply, e),
          formatChanged: d(Db, e, i),
          getCssText: d(Fb, e)
        };
      }

      var Hb,
          jb = Object.prototype.hasOwnProperty,
          qb = (Hb = function Hb(e, t) {
        return t;
      }, function () {
        for (var e = new Array(arguments.length), t = 0; t < e.length; t++) {
          e[t] = arguments[t];
        }

        if (0 === e.length) throw new Error("Can't merge zero objects");

        for (var n = {}, r = 0; r < e.length; r++) {
          var o = e[r];

          for (var i in o) {
            jb.call(o, i) && (n[i] = Hb(n[i], o[i]));
          }
        }

        return n;
      }),
          $b = {
        register: function register(t, s, c) {
          t.addAttributeFilter("data-mce-tabindex", function (e, t) {
            for (var n, r = e.length; r--;) {
              (n = e[r]).attr("tabindex", n.attributes.map["data-mce-tabindex"]), n.attr(t, null);
            }
          }), t.addAttributeFilter("src,href,style", function (e, t) {
            for (var n, r, o = e.length, i = "data-mce-" + t, a = s.url_converter, u = s.url_converter_scope; o--;) {
              (r = (n = e[o]).attributes.map[i]) !== undefined ? (n.attr(t, 0 < r.length ? r : null), n.attr(i, null)) : (r = n.attributes.map[t], "style" === t ? r = c.serializeStyle(c.parseStyle(r), n.name) : a && (r = a.call(u, r, t, n.name)), n.attr(t, 0 < r.length ? r : null));
            }
          }), t.addAttributeFilter("class", function (e) {
            for (var t, n, r = e.length; r--;) {
              (n = (t = e[r]).attr("class")) && (n = t.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g, ""), t.attr("class", 0 < n.length ? n : null));
            }
          }), t.addAttributeFilter("data-mce-type", function (e, t, n) {
            for (var r, o = e.length; o--;) {
              "bookmark" !== (r = e[o]).attributes.map["data-mce-type"] || n.cleanup || (A.from(r.firstChild).exists(function (e) {
                return !da(e.value);
              }) ? r.unwrap() : r.remove());
            }
          }), t.addNodeFilter("noscript", function (e) {
            for (var t, n = e.length; n--;) {
              (t = e[n].firstChild) && (t.value = Xo.decode(t.value));
            }
          }), t.addNodeFilter("script,style", function (e, t) {
            for (var n, r, o, i = e.length, a = function a(e) {
              return e.replace(/(<!--\[CDATA\[|\]\]-->)/g, "\n").replace(/^[\r\n]*|[\r\n]*$/g, "").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi, "").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g, "");
            }; i--;) {
              r = (n = e[i]).firstChild ? n.firstChild.value : "", "script" === t ? ((o = n.attr("type")) && n.attr("type", "mce-no/type" === o ? null : o.replace(/^mce\-/, "")), "xhtml" === s.element_format && 0 < r.length && (n.firstChild.value = "// <![CDATA[\n" + a(r) + "\n// ]]>")) : "xhtml" === s.element_format && 0 < r.length && (n.firstChild.value = "\x3c!--\n" + a(r) + "\n--\x3e");
            }
          }), t.addNodeFilter("#comment", function (e) {
            for (var t, n = e.length; n--;) {
              0 === (t = e[n]).value.indexOf("[CDATA[") ? (t.name = "#cdata", t.type = 4, t.value = t.value.replace(/^\[CDATA\[|\]\]$/g, "")) : 0 === t.value.indexOf("mce:protected ") && (t.name = "#text", t.type = 3, t.raw = !0, t.value = unescape(t.value).substr(14));
            }
          }), t.addNodeFilter("xml:namespace,input", function (e, t) {
            for (var n, r = e.length; r--;) {
              7 === (n = e[r]).type ? n.remove() : 1 === n.type && ("input" !== t || "type" in n.attributes.map || n.attr("type", "text"));
            }
          }), t.addAttributeFilter("data-mce-type", function (e) {
            U(e, function (e) {
              "format-caret" === e.attr("data-mce-type") && (e.isEmpty(t.schema.getNonEmptyElements()) ? e.remove() : e.unwrap());
            });
          }), t.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize", function (e, t) {
            for (var n = e.length; n--;) {
              e[n].attr(t, null);
            }
          });
        },
        trimTrailingBr: function trimTrailingBr(e) {
          var t,
              n,
              r = function r(e) {
            return e && "br" === e.name;
          };

          r(t = e.lastChild) && r(n = t.prev) && (t.remove(), n.remove());
        }
      },
          Wb = {
        process: function process(e, t, n) {
          return f = n, (l = e) && l.hasEventListeners("PreProcess") && !f.no_events ? (o = t, i = n, c = (r = e).dom, o = o.cloneNode(!0), (a = H.document.implementation).createHTMLDocument && (u = a.createHTMLDocument(""), Jt.each("BODY" === o.nodeName ? o.childNodes : [o], function (e) {
            u.body.appendChild(u.importNode(e, !0));
          }), o = "BODY" !== o.nodeName ? u.body.firstChild : u.body, s = c.doc, c.doc = u), dp(r, qb(i, {
            node: o
          })), s && (c.doc = s), o) : t;
          var r, o, i, a, u, s, c, l, f;
        }
      },
          Kb = function Kb(e, a, u) {
        e.addNodeFilter("font", function (e) {
          U(e, function (e) {
            var t,
                n = a.parse(e.attr("style")),
                r = e.attr("color"),
                o = e.attr("face"),
                i = e.attr("size");
            r && (n.color = r), o && (n["font-family"] = o), i && (n["font-size"] = u[parseInt(e.attr("size"), 10) - 1]), e.name = "span", e.attr("style", a.serialize(n)), t = e, U(["color", "face", "size"], function (e) {
              t.attr(e, null);
            });
          });
        });
      },
          Xb = function Xb(e, t) {
        var n,
            r = ui();
        t.convert_fonts_to_spans && Kb(e, r, Jt.explode(t.font_size_legacy_values)), n = r, e.addNodeFilter("strike", function (e) {
          U(e, function (e) {
            var t = n.parse(e.attr("style"));
            t["text-decoration"] = "line-through", e.name = "span", e.attr("style", n.serialize(t));
          });
        });
      },
          Yb = {
        register: function register(e, t) {
          t.inline_styles && Xb(e, t);
        }
      },
          Gb = /^[ \t\r\n]*$/,
          Jb = {
        "#text": 3,
        "#comment": 8,
        "#cdata": 4,
        "#pi": 7,
        "#doctype": 10,
        "#document-fragment": 11
      },
          Qb = function Qb(e, t, n) {
        var r,
            o,
            i = n ? "lastChild" : "firstChild",
            a = n ? "prev" : "next";
        if (e[i]) return e[i];

        if (e !== t) {
          if (r = e[a]) return r;

          for (o = e.parent; o && o !== t; o = o.parent) {
            if (r = o[a]) return r;
          }
        }
      },
          Zb = function () {
        function a(e, t) {
          this.name = e, 1 === (this.type = t) && (this.attributes = [], this.attributes.map = {});
        }

        return a.create = function (e, t) {
          var n, r;
          if (n = new a(e, Jb[e] || 1), t) for (r in t) {
            n.attr(r, t[r]);
          }
          return n;
        }, a.prototype.replace = function (e) {
          return e.parent && e.remove(), this.insert(e, this), this.remove(), this;
        }, a.prototype.attr = function (e, t) {
          var n, r;

          if ("string" != typeof e) {
            for (r in e) {
              this.attr(r, e[r]);
            }

            return this;
          }

          if (n = this.attributes) {
            if (t !== undefined) {
              if (null === t) {
                if (e in n.map) for (delete n.map[e], r = n.length; r--;) {
                  if (n[r].name === e) return n = n.splice(r, 1), this;
                }
                return this;
              }

              if (e in n.map) {
                for (r = n.length; r--;) {
                  if (n[r].name === e) {
                    n[r].value = t;
                    break;
                  }
                }
              } else n.push({
                name: e,
                value: t
              });

              return n.map[e] = t, this;
            }

            return n.map[e];
          }
        }, a.prototype.clone = function () {
          var e,
              t,
              n,
              r,
              o,
              i = new a(this.name, this.type);

          if (n = this.attributes) {
            for ((o = []).map = {}, e = 0, t = n.length; e < t; e++) {
              "id" !== (r = n[e]).name && (o[o.length] = {
                name: r.name,
                value: r.value
              }, o.map[r.name] = r.value);
            }

            i.attributes = o;
          }

          return i.value = this.value, i.shortEnded = this.shortEnded, i;
        }, a.prototype.wrap = function (e) {
          return this.parent.insert(e, this), e.append(this), this;
        }, a.prototype.unwrap = function () {
          var e, t;

          for (e = this.firstChild; e;) {
            t = e.next, this.insert(e, this, !0), e = t;
          }

          this.remove();
        }, a.prototype.remove = function () {
          var e = this.parent,
              t = this.next,
              n = this.prev;
          return e && (e.firstChild === this ? (e.firstChild = t) && (t.prev = null) : n.next = t, e.lastChild === this ? (e.lastChild = n) && (n.next = null) : t.prev = n, this.parent = this.next = this.prev = null), this;
        }, a.prototype.append = function (e) {
          var t;
          return e.parent && e.remove(), (t = this.lastChild) ? ((t.next = e).prev = t, this.lastChild = e) : this.lastChild = this.firstChild = e, e.parent = this, e;
        }, a.prototype.insert = function (e, t, n) {
          var r;
          return e.parent && e.remove(), r = t.parent || this, n ? (t === r.firstChild ? r.firstChild = e : t.prev.next = e, e.prev = t.prev, (e.next = t).prev = e) : (t === r.lastChild ? r.lastChild = e : t.next.prev = e, e.next = t.next, (e.prev = t).next = e), e.parent = r, e;
        }, a.prototype.getAll = function (e) {
          var t,
              n = [];

          for (t = this.firstChild; t; t = Qb(t, this)) {
            t.name === e && n.push(t);
          }

          return n;
        }, a.prototype.empty = function () {
          var e, t, n;

          if (this.firstChild) {
            for (e = [], n = this.firstChild; n; n = Qb(n, this)) {
              e.push(n);
            }

            for (t = e.length; t--;) {
              (n = e[t]).parent = n.firstChild = n.lastChild = n.next = n.prev = null;
            }
          }

          return this.firstChild = this.lastChild = null, this;
        }, a.prototype.isEmpty = function (e, t, n) {
          var r,
              o,
              i = this.firstChild;
          if (t = t || {}, i) do {
            if (1 === i.type) {
              if (i.attributes.map["data-mce-bogus"]) continue;
              if (e[i.name]) return !1;

              for (r = i.attributes.length; r--;) {
                if ("name" === (o = i.attributes[r].name) || 0 === o.indexOf("data-mce-bookmark")) return !1;
              }
            }

            if (8 === i.type) return !1;
            if (3 === i.type && !Gb.test(i.value)) return !1;
            if (3 === i.type && i.parent && t[i.parent.name] && Gb.test(i.value)) return !1;
            if (n && n(i)) return !1;
          } while (i = Qb(i, this));
          return !0;
        }, a.prototype.walk = function (e) {
          return Qb(this, null, e);
        }, a;
      }(),
          ey = function ey(e, t, n, r) {
        (e.padd_empty_with_br || t.insert) && n[r.name] ? r.empty().append(new Zb("br", 1)).shortEnded = !0 : r.empty().append(new Zb("#text", 3)).value = "\xa0";
      },
          ty = function ty(e) {
        return ny(e, "#text") && "\xa0" === e.firstChild.value;
      },
          ny = function ny(e, t) {
        return e && e.firstChild && e.firstChild === e.lastChild && e.firstChild.name === t;
      },
          ry = function ry(r, e, t, n) {
        return n.isEmpty(e, t, function (e) {
          return t = e, (n = r.getElementRule(t.name)) && n.paddEmpty;
          var t, n;
        });
      },
          oy = function oy(e, t) {
        return e && (t[e.name] || "br" === e.name);
      },
          iy = function iy(e, p) {
        var h = e.schema;
        p.remove_trailing_brs && e.addNodeFilter("br", function (e, t, n) {
          var r,
              o,
              i,
              a,
              u,
              s,
              c,
              l,
              f = e.length,
              d = Jt.extend({}, h.getBlockElements()),
              m = h.getNonEmptyElements(),
              g = h.getNonEmptyElements();

          for (d.body = 1, r = 0; r < f; r++) {
            if (i = (o = e[r]).parent, d[o.parent.name] && o === i.lastChild) {
              for (u = o.prev; u;) {
                if ("span" !== (s = u.name) || "bookmark" !== u.attr("data-mce-type")) {
                  if ("br" !== s) break;

                  if ("br" === s) {
                    o = null;
                    break;
                  }
                }

                u = u.prev;
              }

              o && (o.remove(), ry(h, m, g, i) && (c = h.getElementRule(i.name)) && (c.removeEmpty ? i.remove() : c.paddEmpty && ey(p, n, d, i)));
            } else {
              for (a = o; i && i.firstChild === a && i.lastChild === a && !d[(a = i).name];) {
                i = i.parent;
              }

              a === i && !0 !== p.padd_empty_with_br && ((l = new Zb("#text", 3)).value = "\xa0", o.replace(l));
            }
          }
        }), e.addAttributeFilter("href", function (e) {
          var t,
              n,
              r,
              o = e.length;
          if (!p.allow_unsafe_link_target) for (; o--;) {
            "a" === (t = e[o]).name && "_blank" === t.attr("target") && t.attr("rel", (n = t.attr("rel"), r = n ? Jt.trim(n) : "", /\b(noopener)\b/g.test(r) ? r : r.split(" ").filter(function (e) {
              return 0 < e.length;
            }).concat(["noopener"]).sort().join(" ")));
          }
        }), p.allow_html_in_named_anchor || e.addAttributeFilter("id,name", function (e) {
          for (var t, n, r, o, i = e.length; i--;) {
            if ("a" === (o = e[i]).name && o.firstChild && !o.attr("href")) for (r = o.parent, t = o.lastChild; n = t.prev, r.insert(t, o), t = n;) {
              ;
            }
          }
        }), p.fix_list_elements && e.addNodeFilter("ul,ol", function (e) {
          for (var t, n, r = e.length; r--;) {
            if ("ul" === (n = (t = e[r]).parent).name || "ol" === n.name) if (t.prev && "li" === t.prev.name) t.prev.append(t);else {
              var o = new Zb("li", 1);
              o.attr("style", "list-style-type: none"), t.wrap(o);
            }
          }
        }), p.validate && h.getValidClasses() && e.addAttributeFilter("class", function (e) {
          for (var t, n, r, o, i, a, u, s = e.length, c = h.getValidClasses(); s--;) {
            for (n = (t = e[s]).attr("class").split(" "), i = "", r = 0; r < n.length; r++) {
              o = n[r], u = !1, (a = c["*"]) && a[o] && (u = !0), a = c[t.name], !u && a && a[o] && (u = !0), u && (i && (i += " "), i += o);
            }

            i.length || (i = null), t.attr("class", i);
          }
        });
      },
          ay = Jt.makeMap,
          uy = Jt.each,
          sy = Jt.explode,
          cy = Jt.extend;

      function ly(k, T) {
        void 0 === T && (T = ii());
        var A = {},
            R = [],
            _ = {},
            D = {};
        (k = k || {}).validate = !("validate" in k) || k.validate, k.root_name = k.root_name || "body";

        var B = function B(e) {
          var t, n, r;
          (n = e.name) in A && ((r = _[n]) ? r.push(e) : _[n] = [e]), t = R.length;

          for (; t--;) {
            (n = R[t].name) in e.attributes.map && ((r = D[n]) ? r.push(e) : D[n] = [e]);
          }

          return e;
        },
            e = {
          schema: T,
          addAttributeFilter: function addAttributeFilter(e, n) {
            uy(sy(e), function (e) {
              var t;

              for (t = 0; t < R.length; t++) {
                if (R[t].name === e) return void R[t].callbacks.push(n);
              }

              R.push({
                name: e,
                callbacks: [n]
              });
            });
          },
          getAttributeFilters: function getAttributeFilters() {
            return [].concat(R);
          },
          addNodeFilter: function addNodeFilter(e, n) {
            uy(sy(e), function (e) {
              var t = A[e];
              t || (A[e] = t = []), t.push(n);
            });
          },
          getNodeFilters: function getNodeFilters() {
            var e = [];

            for (var t in A) {
              A.hasOwnProperty(t) && e.push({
                name: t,
                callbacks: A[t]
              });
            }

            return e;
          },
          filterNode: B,
          parse: function parse(e, a) {
            var t,
                n,
                r,
                o,
                i,
                u,
                s,
                c,
                l,
                f,
                d,
                m = [];
            a = a || {}, _ = {}, D = {}, l = cy(ay("script,style,head,html,body,title,meta,param"), T.getBlockElements());
            var g = T.getNonEmptyElements(),
                p = T.children,
                h = k.validate,
                v = "forced_root_block" in a ? a.forced_root_block : k.forced_root_block,
                b = T.getWhiteSpaceElements(),
                y = /^[ \t\r\n]+/,
                C = /[ \t\r\n]+$/,
                x = /[ \t\r\n]+/g,
                w = /^[ \t\r\n]+$/;
            f = b.hasOwnProperty(a.context) || b.hasOwnProperty(k.root_name);

            var N = function N(e, t) {
              var n,
                  r = new Zb(e, t);
              return e in A && ((n = _[e]) ? n.push(r) : _[e] = [r]), r;
            },
                E = function E(e) {
              var t,
                  n,
                  r,
                  o,
                  i = T.getBlockElements();

              for (t = e.prev; t && 3 === t.type;) {
                if (0 < (r = t.value.replace(C, "")).length) return void (t.value = r);

                if (n = t.next) {
                  if (3 === n.type && n.value.length) {
                    t = t.prev;
                    continue;
                  }

                  if (!i[n.name] && "script" !== n.name && "style" !== n.name) {
                    t = t.prev;
                    continue;
                  }
                }

                o = t.prev, t.remove(), t = o;
              }
            };

            t = Rv({
              validate: h,
              allow_script_urls: k.allow_script_urls,
              allow_conditional_comments: k.allow_conditional_comments,
              self_closing_elements: function (e) {
                var t,
                    n = {};

                for (t in e) {
                  "li" !== t && "p" !== t && (n[t] = e[t]);
                }

                return n;
              }(T.getSelfClosingElements()),
              cdata: function cdata(e) {
                d.append(N("#cdata", 4)).value = e;
              },
              text: function text(e, t) {
                var n;
                f || (e = e.replace(x, " "), oy(d.lastChild, l) && (e = e.replace(y, ""))), 0 !== e.length && ((n = N("#text", 3)).raw = !!t, d.append(n).value = e);
              },
              comment: function comment(e) {
                d.append(N("#comment", 8)).value = e;
              },
              pi: function pi(e, t) {
                d.append(N(e, 7)).value = t, E(d);
              },
              doctype: function doctype(e) {
                d.append(N("#doctype", 10)).value = e, E(d);
              },
              start: function start(e, t, n) {
                var r, o, i, a, u;

                if (i = h ? T.getElementRule(e) : {}) {
                  for ((r = N(i.outputName || e, 1)).attributes = t, r.shortEnded = n, d.append(r), (u = p[d.name]) && p[r.name] && !u[r.name] && m.push(r), o = R.length; o--;) {
                    (a = R[o].name) in t.map && ((s = D[a]) ? s.push(r) : D[a] = [r]);
                  }

                  l[e] && E(r), n || (d = r), !f && b[e] && (f = !0);
                }
              },
              end: function end(e) {
                var t, n, r, o, i;

                if (n = h ? T.getElementRule(e) : {}) {
                  if (l[e] && !f) {
                    if ((t = d.firstChild) && 3 === t.type) if (0 < (r = t.value.replace(y, "")).length) t.value = r, t = t.next;else for (o = t.next, t.remove(), t = o; t && 3 === t.type;) {
                      r = t.value, o = t.next, (0 === r.length || w.test(r)) && (t.remove(), t = o), t = o;
                    }
                    if ((t = d.lastChild) && 3 === t.type) if (0 < (r = t.value.replace(C, "")).length) t.value = r, t = t.prev;else for (o = t.prev, t.remove(), t = o; t && 3 === t.type;) {
                      r = t.value, o = t.prev, (0 === r.length || w.test(r)) && (t.remove(), t = o), t = o;
                    }
                  }

                  if (f && b[e] && (f = !1), n.removeEmpty && ry(T, g, b, d) && !d.attributes.map.name && !d.attr("id")) return i = d.parent, l[d.name] ? d.empty().remove() : d.unwrap(), void (d = i);
                  n.paddEmpty && (ty(d) || ry(T, g, b, d)) && ey(k, a, l, d), d = d.parent;
                }
              }
            }, T);
            var S = d = new Zb(a.context || k.root_name, 11);

            if (t.parse(e), h && m.length && (a.context ? a.invalid = !0 : function (e) {
              var t, n, r, o, i, a, u, s, c, l, f, d, m, g, p, h;

              for (d = ay("tr,td,th,tbody,thead,tfoot,table"), l = T.getNonEmptyElements(), f = T.getWhiteSpaceElements(), m = T.getTextBlockElements(), g = T.getSpecialElements(), t = 0; t < e.length; t++) {
                if ((n = e[t]).parent && !n.fixed) if (m[n.name] && "li" === n.parent.name) {
                  for (p = n.next; p && m[p.name];) {
                    p.name = "li", p.fixed = !0, n.parent.insert(p, n.parent), p = p.next;
                  }

                  n.unwrap(n);
                } else {
                  for (o = [n], r = n.parent; r && !T.isValidChild(r.name, n.name) && !d[r.name]; r = r.parent) {
                    o.push(r);
                  }

                  if (r && 1 < o.length) {
                    for (o.reverse(), i = a = B(o[0].clone()), c = 0; c < o.length - 1; c++) {
                      for (T.isValidChild(a.name, o[c].name) ? (u = B(o[c].clone()), a.append(u)) : u = a, s = o[c].firstChild; s && s !== o[c + 1];) {
                        h = s.next, u.append(s), s = h;
                      }

                      a = u;
                    }

                    ry(T, l, f, i) ? r.insert(n, o[0], !0) : (r.insert(i, o[0], !0), r.insert(n, i)), r = o[0], (ry(T, l, f, r) || ny(r, "br")) && r.empty().remove();
                  } else if (n.parent) {
                    if ("li" === n.name) {
                      if ((p = n.prev) && ("ul" === p.name || "ul" === p.name)) {
                        p.append(n);
                        continue;
                      }

                      if ((p = n.next) && ("ul" === p.name || "ul" === p.name)) {
                        p.insert(n, p.firstChild, !0);
                        continue;
                      }

                      n.wrap(B(new Zb("ul", 1)));
                      continue;
                    }

                    T.isValidChild(n.parent.name, "div") && T.isValidChild("div", n.name) ? n.wrap(B(new Zb("div", 1))) : g[n.name] ? n.empty().remove() : n.unwrap();
                  }
                }
              }
            }(m)), v && ("body" === S.name || a.isRootContent) && function () {
              var e,
                  t,
                  n = S.firstChild,
                  r = function r(e) {
                e && ((n = e.firstChild) && 3 === n.type && (n.value = n.value.replace(y, "")), (n = e.lastChild) && 3 === n.type && (n.value = n.value.replace(C, "")));
              };

              if (T.isValidChild(S.name, v.toLowerCase())) {
                for (; n;) {
                  e = n.next, 3 === n.type || 1 === n.type && "p" !== n.name && !l[n.name] && !n.attr("data-mce-type") ? (t || ((t = N(v, 1)).attr(k.forced_root_block_attrs), S.insert(t, n)), t.append(n)) : (r(t), t = null), n = e;
                }

                r(t);
              }
            }(), !a.invalid) {
              for (c in _) {
                for (s = A[c], i = (n = _[c]).length; i--;) {
                  n[i].parent || n.splice(i, 1);
                }

                for (r = 0, o = s.length; r < o; r++) {
                  s[r](n, c, a);
                }
              }

              for (r = 0, o = R.length; r < o; r++) {
                if ((s = R[r]).name in D) {
                  for (i = (n = D[s.name]).length; i--;) {
                    n[i].parent || n.splice(i, 1);
                  }

                  for (i = 0, u = s.callbacks.length; i < u; i++) {
                    s.callbacks[i](n, s.name, a);
                  }
                }
              }
            }

            return S;
          }
        };

        return iy(e, k), Yb.register(e, k), e;
      }

      var fy = function fy(e, t, n) {
        -1 === Jt.inArray(t, n) && (e.addAttributeFilter(n, function (e, t) {
          for (var n = e.length; n--;) {
            e[n].attr(t, null);
          }
        }), t.push(n));
      },
          dy = function dy(e, t, n) {
        var r = ga(n.getInner ? t.innerHTML : e.getOuterHTML(t));
        return n.selection || wo(ir.fromDom(t)) ? r : Jt.trim(r);
      },
          my = function my(e, t, n) {
        var r = n.selection ? qb({
          forced_root_block: !1
        }, n) : n,
            o = e.parse(t, r);
        return $b.trimTrailingBr(o), o;
      },
          gy = function gy(e, t, n, r, o) {
        var i,
            a,
            u,
            s,
            c = (i = r, el(t, n).serialize(i));
        return a = e, s = c, !(u = o).no_events && a ? mp(a, qb(u, {
          content: s
        })).content : s;
      };

      function py(e, t) {
        var a,
            u,
            s,
            c,
            l,
            n,
            r = (a = e, n = ["data-mce-selected"], s = (u = t) && u.dom ? u.dom : bi.DOM, c = u && u.schema ? u.schema : ii(a), a.entity_encoding = a.entity_encoding || "named", a.remove_trailing_brs = !("remove_trailing_brs" in a) || a.remove_trailing_brs, l = ly(a, c), $b.register(l, a, s), {
          schema: c,
          addNodeFilter: l.addNodeFilter,
          addAttributeFilter: l.addAttributeFilter,
          serialize: function serialize(e, t) {
            var n = qb({
              format: "html"
            }, t || {}),
                r = Wb.process(u, e, n),
                o = dy(s, r, n),
                i = my(l, o, n);
            return "tree" === n.format ? i : gy(u, a, c, i, n);
          },
          addRules: function addRules(e) {
            c.addValidElements(e);
          },
          setRules: function setRules(e) {
            c.setValidElements(e);
          },
          addTempAttr: d(fy, l, n),
          getTempAttrs: function getTempAttrs() {
            return n;
          }
        });
        return {
          schema: r.schema,
          addNodeFilter: r.addNodeFilter,
          addAttributeFilter: r.addAttributeFilter,
          serialize: r.serialize,
          addRules: r.addRules,
          setRules: r.setRules,
          addTempAttr: r.addTempAttr,
          getTempAttrs: r.getTempAttrs
        };
      }

      function hy(e) {
        return {
          getBookmark: d(lc, e),
          moveToBookmark: d(fc, e)
        };
      }

      (hy || (hy = {})).isBookmarkNode = dc;

      var vy,
          by,
          yy = hy,
          Cy = Po.isContentEditableFalse,
          xy = Po.isContentEditableTrue,
          wy = function wy(r, a) {
        var u,
            s,
            c,
            l,
            f,
            d,
            m,
            g,
            p,
            h,
            v,
            b,
            i,
            y,
            C,
            x,
            w,
            N = a.dom,
            E = Jt.each,
            S = a.getDoc(),
            k = H.document,
            T = Math.abs,
            A = Math.round,
            R = a.getBody();
        l = {
          nw: [0, 0, -1, -1],
          ne: [1, 0, 1, -1],
          se: [1, 1, 1, 1],
          sw: [0, 1, -1, 1]
        };
        var e = ".mce-content-body";
        a.contentStyles.push(e + " div.mce-resizehandle {position: absolute;border: 1px solid black;box-sizing: content-box;background: #FFF;width: 7px;height: 7px;z-index: 10000}" + e + " .mce-resizehandle:hover {background: #000}" + e + " img[data-mce-selected]," + e + " hr[data-mce-selected] {outline: 1px solid black;resize: none}" + e + " .mce-clonedresizable {position: absolute;" + (ge.gecko ? "" : "outline: 1px dashed black;") + "opacity: .5;filter: alpha(opacity=50);z-index: 10000}" + e + " .mce-resize-helper {background: #555;background: rgba(0,0,0,0.75);border-radius: 3px;border: 1px;color: white;display: none;font-family: sans-serif;font-size: 12px;white-space: nowrap;line-height: 14px;margin: 5px 10px;padding: 5px;position: absolute;z-index: 10001}");

        var _ = function _(e) {
          return e && ("IMG" === e.nodeName || a.dom.is(e, "figure.image"));
        },
            n = function n(e) {
          var t,
              n,
              r = e.target;
          t = e, n = a.selection.getRng(), !_(t.target) || yv(t.clientX, t.clientY, n) || e.isDefaultPrevented() || a.selection.select(r);
        },
            D = function D(e) {
          return a.dom.is(e, "figure.image") ? e.querySelector("img") : e;
        },
            B = function B(e) {
          var t = a.settings.object_resizing;
          return !1 !== t && !ge.iOS && ("string" != typeof t && (t = "table,img,figure.image,div"), "false" !== e.getAttribute("data-mce-resize") && e !== a.getBody() && Or(ir.fromDom(e), t));
        },
            O = function O(e) {
          var t, n, r, o;
          t = e.screenX - d, n = e.screenY - m, y = t * f[2] + h, C = n * f[3] + v, y = y < 5 ? 5 : y, C = C < 5 ? 5 : C, (_(u) && !1 !== a.settings.resize_img_proportional ? !xv.modifierPressed(e) : xv.modifierPressed(e) || _(u) && f[2] * f[3] != 0) && (T(t) > T(n) ? (C = A(y * b), y = A(C / b)) : (y = A(C / b), C = A(y * b))), N.setStyles(D(s), {
            width: y,
            height: C
          }), r = 0 < (r = f.startPos.x + t) ? r : 0, o = 0 < (o = f.startPos.y + n) ? o : 0, N.setStyles(c, {
            left: r,
            top: o,
            display: "block"
          }), c.innerHTML = y + " &times; " + C, f[2] < 0 && s.clientWidth <= y && N.setStyle(s, "left", g + (h - y)), f[3] < 0 && s.clientHeight <= C && N.setStyle(s, "top", p + (v - C)), (t = R.scrollWidth - x) + (n = R.scrollHeight - w) != 0 && N.setStyles(c, {
            left: r - t,
            top: o - n
          }), i || (vp(a, u, h, v), i = !0);
        },
            P = function P() {
          i = !1;

          var e = function e(_e7, t) {
            t && (u.style[_e7] || !a.schema.isValid(u.nodeName.toLowerCase(), _e7) ? N.setStyle(D(u), _e7, t) : N.setAttrib(D(u), _e7, t));
          };

          e("width", y), e("height", C), N.unbind(S, "mousemove", O), N.unbind(S, "mouseup", P), k !== S && (N.unbind(k, "mousemove", O), N.unbind(k, "mouseup", P)), N.remove(s), N.remove(c), o(u), bp(a, u, y, C), N.setAttrib(u, "style", N.getAttrib(u, "style")), a.nodeChanged();
        },
            o = function o(e) {
          var t, r, o, n, i;
          I(), F(), t = N.getPos(e, R), g = t.x, p = t.y, i = e.getBoundingClientRect(), r = i.width || i.right - i.left, o = i.height || i.bottom - i.top, u !== e && (u = e, y = C = 0), n = a.fire("ObjectSelected", {
            target: e
          }), B(e) && !n.isDefaultPrevented() ? E(l, function (n, e) {
            var t;
            (t = N.get("mceResizeHandle" + e)) && N.remove(t), t = N.add(R, "div", {
              id: "mceResizeHandle" + e,
              "data-mce-bogus": "all",
              "class": "mce-resizehandle",
              unselectable: !0,
              style: "cursor:" + e + "-resize; margin:0; padding:0"
            }), 11 === ge.ie && (t.contentEditable = !1), N.bind(t, "mousedown", function (e) {
              var t;
              e.stopImmediatePropagation(), e.preventDefault(), d = (t = e).screenX, m = t.screenY, h = D(u).clientWidth, v = D(u).clientHeight, b = v / h, (f = n).startPos = {
                x: r * n[0] + g,
                y: o * n[1] + p
              }, x = R.scrollWidth, w = R.scrollHeight, s = u.cloneNode(!0), N.addClass(s, "mce-clonedresizable"), N.setAttrib(s, "data-mce-bogus", "all"), s.contentEditable = !1, s.unSelectabe = !0, N.setStyles(s, {
                left: g,
                top: p,
                margin: 0
              }), s.removeAttribute("data-mce-selected"), R.appendChild(s), N.bind(S, "mousemove", O), N.bind(S, "mouseup", P), k !== S && (N.bind(k, "mousemove", O), N.bind(k, "mouseup", P)), c = N.add(R, "div", {
                "class": "mce-resize-helper",
                "data-mce-bogus": "all"
              }, h + " &times; " + v);
            }), n.elm = t, N.setStyles(t, {
              left: r * n[0] + g - t.offsetWidth / 2,
              top: o * n[1] + p - t.offsetHeight / 2
            });
          }) : I(), u.setAttribute("data-mce-selected", "1");
        },
            I = function I() {
          var e, t;

          for (e in F(), u && u.removeAttribute("data-mce-selected"), l) {
            (t = N.get("mceResizeHandle" + e)) && (N.unbind(t), N.remove(t));
          }
        },
            L = function L(e) {
          var t,
              n = function n(e, t) {
            if (e) do {
              if (e === t) return !0;
            } while (e = e.parentNode);
          };

          i || a.removed || (E(N.select("img[data-mce-selected],hr[data-mce-selected]"), function (e) {
            e.removeAttribute("data-mce-selected");
          }), t = "mousedown" === e.type ? e.target : r.getNode(), n(t = N.$(t).closest("table,img,figure.image,hr")[0], R) && (z(), n(r.getStart(!0), t) && n(r.getEnd(!0), t)) ? o(t) : I());
        },
            M = function M(e) {
          return Cy(function (e, t) {
            for (; t && t !== e;) {
              if (xy(t) || Cy(t)) return t;
              t = t.parentNode;
            }

            return null;
          }(a.getBody(), e));
        },
            F = function F() {
          for (var e in l) {
            var t = l[e];
            t.elm && (N.unbind(t.elm), delete t.elm);
          }
        },
            z = function z() {
          try {
            a.getDoc().execCommand("enableObjectResizing", !1, !1);
          } catch (e) {}
        };

        return a.on("init", function () {
          z(), ge.ie && 11 <= ge.ie && (a.on("mousedown click", function (e) {
            var t = e.target,
                n = t.nodeName;
            i || !/^(TABLE|IMG|HR)$/.test(n) || M(t) || (2 !== e.button && a.selection.select(t, "TABLE" === n), "mousedown" === e.type && a.nodeChanged());
          }), a.dom.bind(R, "mscontrolselect", function (e) {
            var t = function t(e) {
              ye.setEditorTimeout(a, function () {
                a.selection.select(e);
              });
            };

            if (M(e.target)) return e.preventDefault(), void t(e.target);
            /^(TABLE|IMG|HR)$/.test(e.target.nodeName) && (e.preventDefault(), "IMG" === e.target.tagName && t(e.target));
          }));
          var t = ye.throttle(function (e) {
            a.composing || L(e);
          });
          a.on("nodechange ResizeEditor ResizeWindow drop FullscreenStateChanged", t), a.on("keyup compositionend", function (e) {
            u && "TABLE" === u.nodeName && t(e);
          }), a.on("hide blur", I), a.on("contextmenu", n);
        }), a.on("remove", F), {
          isResizable: B,
          showResizeRect: o,
          hideResizeRect: I,
          updateResizeRect: L,
          destroy: function destroy() {
            u = s = null;
          }
        };
      },
          Ny = function Ny(e) {
        for (var t = 0, n = 0, r = e; r && r.nodeType;) {
          t += r.offsetLeft || 0, n += r.offsetTop || 0, r = r.offsetParent;
        }

        return {
          x: t,
          y: n
        };
      },
          Ey = function Ey(e, t, n) {
        var r,
            o,
            i,
            a,
            u,
            s = e.dom,
            c = s.getRoot(),
            l = 0;

        if (u = {
          elm: t,
          alignToTop: n
        }, e.fire("scrollIntoView", u), !u.isDefaultPrevented() && Po.isElement(t)) {
          if (!1 === n && (l = t.offsetHeight), "BODY" !== c.nodeName) {
            var f = e.selection.getScrollContainer();
            if (f) return r = Ny(t).y - Ny(f).y + l, a = f.clientHeight, void ((r < (i = f.scrollTop) || i + a < r + 25) && (f.scrollTop = r < i ? r : r - a + 25));
          }

          o = s.getViewPort(e.getWin()), r = s.getPos(t).y + l, i = o.y, a = o.h, (r < o.y || i + a < r + 25) && e.getWin().scrollTo(0, r < i ? r : r - a + 25);
        }
      },
          Sy = function Sy(d, e) {
        ne(vu.fromRangeStart(e).getClientRects()).each(function (e) {
          var t,
              n,
              r,
              o,
              i,
              a,
              u,
              s,
              c,
              l = function (e) {
            if (e.inline) return e.getBody().getBoundingClientRect();
            var t = e.getWin();
            return {
              left: 0,
              right: t.innerWidth,
              top: 0,
              bottom: t.innerHeight,
              width: t.innerWidth,
              height: t.innerHeight
            };
          }(d),
              f = {
            x: (i = t = l, a = n = e, a.left > i.left && a.right < i.right ? 0 : a.left < i.left ? a.left - i.left : a.right - i.right),
            y: (r = t, o = n, o.top > r.top && o.bottom < r.bottom ? 0 : o.top < r.top ? o.top - r.top : o.bottom - r.bottom)
          };

          s = 0 !== f.x ? 0 < f.x ? f.x + 4 : f.x - 4 : 0, c = 0 !== f.y ? 0 < f.y ? f.y + 4 : f.y - 4 : 0, (u = d).inline ? (u.getBody().scrollLeft += s, u.getBody().scrollTop += c) : u.getWin().scrollBy(s, c);
        });
      },
          ky = function ky(e) {
        return Po.isContentEditableTrue(e) || Po.isContentEditableFalse(e);
      },
          Ty = function Ty(e, t, n) {
        var r,
            o,
            i,
            a,
            u,
            s = n;
        if (s.caretPositionFromPoint) (o = s.caretPositionFromPoint(e, t)) && ((r = n.createRange()).setStart(o.offsetNode, o.offset), r.collapse(!0));else if (n.caretRangeFromPoint) r = n.caretRangeFromPoint(e, t);else if (s.body.createTextRange) {
          r = s.body.createTextRange();

          try {
            r.moveToPoint(e, t), r.collapse(!0);
          } catch (c) {
            r = function (e, n, t) {
              var r, o, i;

              if (r = t.elementFromPoint(e, n), o = t.body.createTextRange(), r && "HTML" !== r.tagName || (r = t.body), o.moveToElementText(r), 0 < (i = (i = Jt.toArray(o.getClientRects())).sort(function (e, t) {
                return (e = Math.abs(Math.max(e.top - n, e.bottom - n))) - (t = Math.abs(Math.max(t.top - n, t.bottom - n)));
              })).length) {
                n = (i[0].bottom + i[0].top) / 2;

                try {
                  return o.moveToPoint(e, n), o.collapse(!0), o;
                } catch (a) {}
              }

              return null;
            }(e, t, n);
          }

          return i = r, a = n.body, u = i && i.parentElement ? i.parentElement() : null, Po.isContentEditableFalse(function (e, t, n) {
            for (; e && e !== t;) {
              if (n(e)) return e;
              e = e.parentNode;
            }

            return null;
          }(u, a, ky)) ? null : i;
        }
        return r;
      },
          Ay = function Ay(n, e) {
        return W(e, function (e) {
          var t = n.fire("GetSelectionRange", {
            range: e
          });
          return t.range !== e ? t.range : e;
        });
      },
          Ry = function Ry(e, t) {
        var n = (t || H.document).createDocumentFragment();
        return U(e, function (e) {
          n.appendChild(e.dom());
        }), ir.fromDom(n);
      },
          _y = kr("element", "width", "rows"),
          Dy = kr("element", "cells"),
          By = kr("x", "y"),
          Oy = function Oy(e, t) {
        var n = parseInt(xr(e, t), 10);
        return isNaN(n) ? 1 : n;
      },
          Py = function Py(e) {
        return X(e, function (e, t) {
          return t.cells().length > e ? t.cells().length : e;
        }, 0);
      },
          Iy = function Iy(e, t) {
        for (var n = e.rows(), r = 0; r < n.length; r++) {
          for (var o = n[r].cells(), i = 0; i < o.length; i++) {
            if (Ir(o[i], t)) return A.some(By(i, r));
          }
        }

        return A.none();
      },
          Ly = function Ly(e, t, n, r, o) {
        for (var i = [], a = e.rows(), u = n; u <= o; u++) {
          var s = a[u].cells(),
              c = t < r ? s.slice(t, r + 1) : s.slice(r, t + 1);
          i.push(Dy(a[u].element(), c));
        }

        return i;
      },
          My = function My(e) {
        var o = _y(sa(e), 0, []);

        return U($i(e, "tr"), function (n, r) {
          U($i(n, "td,th"), function (e, t) {
            !function (e, t, n, r, o) {
              for (var i = Oy(o, "rowspan"), a = Oy(o, "colspan"), u = e.rows(), s = n; s < n + i; s++) {
                u[s] || (u[s] = Dy(ca(r), []));

                for (var c = t; c < t + a; c++) {
                  u[s].cells()[c] = s === n && c === t ? o : sa(o);
                }
              }
            }(o, function (e, t, n) {
              for (; r = t, o = n, i = void 0, ((i = e.rows())[o] ? i[o].cells() : [])[r];) {
                t++;
              }

              var r, o, i;
              return t;
            }(o, t, r), r, n, e);
          });
        }), _y(o.element(), Py(o.rows()), o.rows());
      },
          Fy = function Fy(e) {
        return n = W((t = e).rows(), function (e) {
          var t = W(e.cells(), function (e) {
            var t = ca(e);
            return wr(t, "colspan"), wr(t, "rowspan"), t;
          }),
              n = sa(e.element());
          return Di(n, t), n;
        }), r = sa(t.element()), o = ir.fromTag("tbody"), Di(o, n), _i(r, o), r;
        var t, n, r, o;
      },
          zy = function zy(l, e, t) {
        return Iy(l, e).bind(function (c) {
          return Iy(l, t).map(function (e) {
            return t = l, r = e, o = (n = c).x(), i = n.y(), a = r.x(), u = r.y(), s = i < u ? Ly(t, o, i, a, u) : Ly(t, o, u, a, i), _y(t.element(), Py(s), s);
            var t, n, r, o, i, a, u, s;
          });
        });
      },
          Uy = function Uy(n, t) {
        return Y(n, function (e) {
          return "li" === cr(e) && jh(e, t);
        }).fold(q([]), function (e) {
          return (t = n, Y(t, function (e) {
            return "ul" === cr(e) || "ol" === cr(e);
          })).map(function (e) {
            return [ir.fromTag("li"), ir.fromTag(cr(e))];
          }).getOr([]);
          var t;
        });
      },
          Vy = function Vy(e, t) {
        var n,
            r = ir.fromDom(t.commonAncestorContainer),
            o = ef(r, e),
            i = V(o, function (e) {
          return go(e) || fo(e);
        }),
            a = Uy(o, t),
            u = i.concat(a.length ? a : bo(n = r) ? zr(n).filter(vo).fold(q([]), function (e) {
          return [n, e];
        }) : vo(n) ? [n] : []);
        return W(u, sa);
      },
          Hy = function Hy() {
        return Ry([]);
      },
          jy = function jy(e, t) {
        return n = ir.fromDom(t.cloneContents()), r = Vy(e, t), o = X(r, function (e, t) {
          return _i(t, e), t;
        }, n), 0 < r.length ? Ry([o]) : o;
        var n, r, o;
      },
          qy = function qy(e, o) {
        return (t = e, n = o[0], Gi(n, "table", d(Ir, t))).bind(function (e) {
          var t = o[0],
              n = o[o.length - 1],
              r = My(e);
          return zy(r, t, n).map(function (e) {
            return Ry([Fy(e)]);
          });
        }).getOrThunk(Hy);
        var t, n;
      },
          $y = function $y(e, t) {
        var n,
            r,
            o = pm(t, e);
        return 0 < o.length ? qy(e, o) : (n = e, 0 < (r = t).length && r[0].collapsed ? Hy() : jy(n, r[0]));
      },
          Wy = function Wy(e, t) {
        if (void 0 === t && (t = {}), t.get = !0, t.format = t.format || "html", t.selection = !0, (t = e.fire("BeforeGetContent", t)).isDefaultPrevented()) return e.fire("GetContent", t), t.content;
        if ("text" === t.format) return c = e, A.from(c.selection.getRng()).map(function (e) {
          var t = c.dom.add(c.getBody(), "div", {
            "data-mce-bogus": "all",
            style: "overflow: hidden; opacity: 0;"
          }, e.cloneContents()),
              n = ga(t.innerText);
          return c.dom.remove(t), n;
        }).getOr("");
        t.getInner = !0;
        var n,
            r,
            o,
            i,
            a,
            u,
            s,
            c,
            l = (r = t, i = (n = e).selection.getRng(), a = n.dom.create("body"), u = n.selection.getSel(), s = Ay(n, cm(u)), (o = r.contextual ? $y(ir.fromDom(n.getBody()), s).dom() : i.cloneContents()) && a.appendChild(o), n.selection.serializer.serialize(a, r));
        return "tree" === t.format ? l : (t.content = e.selection.isCollapsed() ? "" : l, e.fire("GetContent", t), t.content);
      },
          Ky = function Ky(e, t, n) {
        var r,
            o,
            i,
            a = e.selection.getRng(),
            u = e.getDoc();

        if ((n = n || {
          format: "html"
        }).set = !0, n.selection = !0, n.content = t, n.no_events || !(n = e.fire("BeforeSetContent", n)).isDefaultPrevented()) {
          if (t = n.content, a.insertNode) {
            t += '<span id="__caret">_</span>', a.startContainer === u && a.endContainer === u ? u.body.innerHTML = t : (a.deleteContents(), 0 === u.body.childNodes.length ? u.body.innerHTML = t : a.createContextualFragment ? a.insertNode(a.createContextualFragment(t)) : (o = u.createDocumentFragment(), i = u.createElement("div"), o.appendChild(i), i.outerHTML = t, a.insertNode(o))), r = e.dom.get("__caret"), (a = u.createRange()).setStartBefore(r), a.setEndBefore(r), e.selection.setRng(a), e.dom.remove("__caret");

            try {
              e.selection.setRng(a);
            } catch (s) {}
          } else a.item && (u.execCommand("Delete", !1, null), a = e.getRng()), /^\s+/.test(t) ? (a.pasteHTML('<span id="__mce_tmp">_</span>' + t), e.dom.remove("__mce_tmp")) : a.pasteHTML(t);

          n.no_events || e.fire("SetContent", n);
        } else e.fire("SetContent", n);
      },
          Xy = function Xy(e, t, n, r, o) {
        var i = n ? t.startContainer : t.endContainer,
            a = n ? t.startOffset : t.endOffset;
        return A.from(i).map(ir.fromDom).map(function (e) {
          return r && t.collapsed ? e : $r(e, o(e, a)).getOr(e);
        }).bind(function (e) {
          return fr(e) ? A.some(e) : zr(e);
        }).map(function (e) {
          return e.dom();
        }).getOr(e);
      },
          Yy = function Yy(e, t, n) {
        return Xy(e, t, !0, n, function (e, t) {
          return Math.min(e.dom().childNodes.length, t);
        });
      },
          Gy = function Gy(e, t, n) {
        return Xy(e, t, !1, n, function (e, t) {
          return 0 < t ? t - 1 : t;
        });
      },
          Jy = function Jy(e, t) {
        for (var n = e; e && Po.isText(e) && 0 === e.length;) {
          e = t ? e.nextSibling : e.previousSibling;
        }

        return e || n;
      },
          Qy = Jt.each,
          Zy = function Zy(e) {
        return !!e.select;
      },
          eC = function eC(e) {
        return !(!e || !e.ownerDocument) && Lr(ir.fromDom(e.ownerDocument), ir.fromDom(e));
      },
          tC = function tC(u, s, e, c) {
        var n,
            t,
            l,
            f,
            a,
            r = function r(e, t) {
          return Ky(c, e, t);
        },
            o = function o(e) {
          var t = m();
          t.collapse(!!e), i(t);
        },
            d = function d() {
          return s.getSelection ? s.getSelection() : s.document.selection;
        },
            m = function m() {
          var e,
              t,
              n,
              r,
              o = function o(e, t, n) {
            try {
              return t.compareBoundaryPoints(e, n);
            } catch (r) {
              return -1;
            }
          };

          if (!s) return null;
          if (null == (r = s.document)) return null;

          if (c.bookmark !== undefined && !1 === eh(c)) {
            var i = Qg(c);
            if (i.isSome()) return i.map(function (e) {
              return Ay(c, [e])[0];
            }).getOr(r.createRange());
          }

          try {
            (e = d()) && !Po.isRestrictedNode(e.anchorNode) && (t = 0 < e.rangeCount ? e.getRangeAt(0) : e.createRange ? e.createRange() : r.createRange());
          } catch (a) {}

          return (t = Ay(c, [t])[0]) || (t = r.createRange ? r.createRange() : r.body.createTextRange()), t.setStart && 9 === t.startContainer.nodeType && t.collapsed && (n = u.getRoot(), t.setStart(n, 0), t.setEnd(n, 0)), l && f && (0 === o(t.START_TO_START, t, l) && 0 === o(t.END_TO_END, t, l) ? t = f : f = l = null), t;
        },
            i = function i(e, t) {
          var n, r;

          if ((o = e) && (Zy(o) || eC(o.startContainer) && eC(o.endContainer))) {
            var o,
                i = Zy(e) ? e : null;

            if (i) {
              f = null;

              try {
                i.select();
              } catch (a) {}
            } else {
              if (n = d(), e = c.fire("SetSelectionRange", {
                range: e,
                forward: t
              }).range, n) {
                f = e;

                try {
                  n.removeAllRanges(), n.addRange(e);
                } catch (a) {}

                !1 === t && n.extend && (n.collapse(e.endContainer, e.endOffset), n.extend(e.startContainer, e.startOffset)), l = 0 < n.rangeCount ? n.getRangeAt(0) : null;
              }

              e.collapsed || e.startContainer !== e.endContainer || !n.setBaseAndExtent || ge.ie || e.endOffset - e.startOffset < 2 && e.startContainer.hasChildNodes() && (r = e.startContainer.childNodes[e.startOffset]) && "IMG" === r.tagName && (n.setBaseAndExtent(e.startContainer, e.startOffset, e.endContainer, e.endOffset), n.anchorNode === e.startContainer && n.focusNode === e.endContainer || n.setBaseAndExtent(r, 0, r, 1)), c.fire("AfterSetSelectionRange", {
                range: e,
                forward: t
              });
            }
          }
        },
            g = function g() {
          var e,
              t,
              n = d();
          return !(n && n.anchorNode && n.focusNode) || ((e = u.createRng()).setStart(n.anchorNode, n.anchorOffset), e.collapse(!0), (t = u.createRng()).setStart(n.focusNode, n.focusOffset), t.collapse(!0), e.compareBoundaryPoints(e.START_TO_START, t) <= 0);
        },
            p = {
          bookmarkManager: null,
          controlSelection: null,
          dom: u,
          win: s,
          serializer: e,
          editor: c,
          collapse: o,
          setCursorLocation: function setCursorLocation(e, t) {
            var n = u.createRng();
            e ? (n.setStart(e, t), n.setEnd(e, t), i(n), o(!1)) : (qh(u, n, c.getBody(), !0), i(n));
          },
          getContent: function getContent(e) {
            return Wy(c, e);
          },
          setContent: r,
          getBookmark: function getBookmark(e, t) {
            return n.getBookmark(e, t);
          },
          moveToBookmark: function moveToBookmark(e) {
            return n.moveToBookmark(e);
          },
          select: function select(e, t) {
            var r, n, o;
            return (r = u, n = e, o = t, A.from(n).map(function (e) {
              var t = r.nodeIndex(e),
                  n = r.createRng();
              return n.setStart(e.parentNode, t), n.setEnd(e.parentNode, t + 1), o && (qh(r, n, e, !0), qh(r, n, e, !1)), n;
            })).each(i), e;
          },
          isCollapsed: function isCollapsed() {
            var e = m(),
                t = d();
            return !(!e || e.item) && (e.compareEndPoints ? 0 === e.compareEndPoints("StartToEnd", e) : !t || e.collapsed);
          },
          isForward: g,
          setNode: function setNode(e) {
            return r(u.getOuterHTML(e)), e;
          },
          getNode: function getNode() {
            return e = c.getBody(), (t = m()) ? (r = t.startContainer, o = t.endContainer, i = t.startOffset, a = t.endOffset, n = t.commonAncestorContainer, !t.collapsed && (r === o && a - i < 2 && r.hasChildNodes() && (n = r.childNodes[i]), 3 === r.nodeType && 3 === o.nodeType && (r = r.length === i ? Jy(r.nextSibling, !0) : r.parentNode, o = 0 === a ? Jy(o.previousSibling, !1) : o.parentNode, r && r === o)) ? r : n && 3 === n.nodeType ? n.parentNode : n) : e;
            var e, t, n, r, o, i, a;
          },
          getSel: d,
          setRng: i,
          getRng: m,
          getStart: function getStart(e) {
            return Yy(c.getBody(), m(), e);
          },
          getEnd: function getEnd(e) {
            return Gy(c.getBody(), m(), e);
          },
          getSelectedBlocks: function getSelectedBlocks(e, t) {
            return function (e, t, n, r) {
              var o,
                  i,
                  a = [];
              if (i = e.getRoot(), n = e.getParent(n || Yy(i, t, t.collapsed), e.isBlock), r = e.getParent(r || Gy(i, t, t.collapsed), e.isBlock), n && n !== i && a.push(n), n && r && n !== r) for (var u = new ao(o = n, i); (o = u.next()) && o !== r;) {
                e.isBlock(o) && a.push(o);
              }
              return r && n !== r && r !== i && a.push(r), a;
            }(u, m(), e, t);
          },
          normalize: function normalize() {
            var e = m(),
                t = d();

            if (!fm(t) && $h(c)) {
              var n = wg(u, e);
              return n.each(function (e) {
                i(e, g());
              }), n.getOr(e);
            }

            return e;
          },
          selectorChanged: function selectorChanged(e, t) {
            var i;
            return a || (a = {}, i = {}, c.on("NodeChange", function (e) {
              var n = e.element,
                  r = u.getParents(n, null, u.getRoot()),
                  o = {};
              Qy(a, function (e, n) {
                Qy(r, function (t) {
                  if (u.is(t, n)) return i[n] || (Qy(e, function (e) {
                    e(!0, {
                      node: t,
                      selector: n,
                      parents: r
                    });
                  }), i[n] = e), o[n] = e, !1;
                });
              }), Qy(i, function (e, t) {
                o[t] || (delete i[t], Qy(e, function (e) {
                  e(!1, {
                    node: n,
                    selector: t,
                    parents: r
                  });
                }));
              });
            })), a[e] || (a[e] = []), a[e].push(t), p;
          },
          getScrollContainer: function getScrollContainer() {
            for (var e, t = u.getRoot(); t && "BODY" !== t.nodeName;) {
              if (t.scrollHeight > t.clientHeight) {
                e = t;
                break;
              }

              t = t.parentNode;
            }

            return e;
          },
          scrollIntoView: function scrollIntoView(e, t) {
            return Ey(c, e, t);
          },
          placeCaretAt: function placeCaretAt(e, t) {
            return i(Ty(e, t, c.getDoc()));
          },
          getBoundingClientRect: function getBoundingClientRect() {
            var e = m();
            return e.collapsed ? Cu.fromRangeStart(e).getClientRects()[0] : e.getBoundingClientRect();
          },
          destroy: function destroy() {
            s = l = f = null, t.destroy();
          }
        };

        return n = yy(p), t = wy(p, c), p.bookmarkManager = n, p.controlSelection = t, p;
      };

      (by = vy || (vy = {}))[by.Br = 0] = "Br", by[by.Block = 1] = "Block", by[by.Wrap = 2] = "Wrap", by[by.Eol = 3] = "Eol";

      var nC = function nC(e, t) {
        return e === bu.Backwards ? t.reverse() : t;
      },
          rC = function rC(e, t, n, r) {
        for (var o, i, a, u, s, c, l = $s(n), f = r, d = []; f && (s = l, c = f, o = t === bu.Forwards ? s.next(c) : s.prev(c));) {
          if (Po.isBr(o.getNode(!1))) return t === bu.Forwards ? {
            positions: nC(t, d).concat([o]),
            breakType: vy.Br,
            breakAt: A.some(o)
          } : {
            positions: nC(t, d),
            breakType: vy.Br,
            breakAt: A.some(o)
          };

          if (o.isVisible()) {
            if (e(f, o)) {
              var m = (i = t, a = f, u = o, Po.isBr(u.getNode(i === bu.Forwards)) ? vy.Br : !1 === bs(a, u) ? vy.Block : vy.Wrap);
              return {
                positions: nC(t, d),
                breakType: m,
                breakAt: A.some(o)
              };
            }

            d.push(o), f = o;
          } else f = o;
        }

        return {
          positions: nC(t, d),
          breakType: vy.Eol,
          breakAt: A.none()
        };
      },
          oC = function oC(n, r, o, e) {
        return r(o, e).breakAt.map(function (e) {
          var t = r(o, e).positions;
          return n === bu.Backwards ? t.concat(e) : [e].concat(t);
        }).getOr([]);
      },
          iC = function iC(e, i) {
        return X(e, function (e, o) {
          return e.fold(function () {
            return A.some(o);
          }, function (r) {
            return Ya([ne(r.getClientRects()), ne(o.getClientRects())], function (e, t) {
              var n = Math.abs(i - e.left);
              return Math.abs(i - t.left) <= n ? o : r;
            }).or(e);
          });
        }, A.none());
      },
          aC = function aC(t, e) {
        return ne(e.getClientRects()).bind(function (e) {
          return iC(t, e.left);
        });
      },
          uC = d(rC, vu.isAbove, -1),
          sC = d(rC, vu.isBelow, 1),
          cC = d(oC, -1, uC),
          lC = d(oC, 1, sC),
          fC = Po.isContentEditableFalse,
          dC = $a,
          mC = function mC(e, t, n, r) {
        var o = e === bu.Forwards,
            i = o ? _f : Df;

        if (!r.collapsed) {
          var a = dC(r);
          if (fC(a)) return eg(e, t, a, e === bu.Backwards, !0);
        }

        var u = va(r.startContainer),
            s = ks(e, t.getBody(), r);
        if (i(s)) return tg(t, s.getNode(!o));
        var c = Ll.normalizePosition(o, n(s));
        if (!c) return u ? r : null;
        if (i(c)) return eg(e, t, c.getNode(!o), o, !0);
        var l = n(c);
        return l && i(l) && Rs(c, l) ? eg(e, t, l.getNode(!o), o, !0) : u ? rg(t, c.toRange(), !0) : null;
      },
          gC = function gC(e, t, n, r) {
        var o, i, a, u, s, c, l, f, d;
        if (d = dC(r), o = ks(e, t.getBody(), r), i = n(t.getBody(), cv(1), o), a = V(i, lv(1)), s = Wt.last(o.getClientRects()), (_f(o) || Of(o)) && (d = o.getNode()), (Df(o) || Pf(o)) && (d = o.getNode(!0)), !s) return null;
        if (c = s.left, (u = hv(a, c)) && fC(u.node)) return l = Math.abs(c - u.left), f = Math.abs(c - u.right), eg(e, t, u.node, l < f, !0);

        if (d) {
          var m = function (e, t, n, r) {
            var o,
                i,
                a,
                u,
                s,
                c,
                l = $s(t),
                f = [],
                d = 0,
                m = function m(e) {
              return Wt.last(e.getClientRects());
            };

            1 === e ? (o = l.next, i = ja, a = Ha, u = Cu.after(r)) : (o = l.prev, i = Ha, a = ja, u = Cu.before(r)), c = m(u);

            do {
              if (u.isVisible() && !a(s = m(u), c)) {
                if (0 < f.length && i(s, Wt.last(f)) && d++, (s = za(s)).position = u, s.line = d, n(s)) return f;
                f.push(s);
              }
            } while (u = o(u));

            return f;
          }(e, t.getBody(), cv(1), d);

          if (u = hv(V(m, lv(1)), c)) return rg(t, u.position.toRange(), !0);
          if (u = Wt.last(V(m, lv(0)))) return rg(t, u.position.toRange(), !0);
        }
      },
          pC = function pC(e, t, n) {
        var r,
            o,
            i,
            a,
            u = $s(e.getBody()),
            s = d(As, u.next),
            c = d(As, u.prev);

        if (n.collapsed && e.settings.forced_root_block) {
          if (!(r = e.dom.getParent(n.startContainer, "PRE"))) return;
          (1 === t ? s(Cu.fromRangeStart(n)) : c(Cu.fromRangeStart(n))) || (a = (i = e).dom.create(vl(i)), (!ge.ie || 11 <= ge.ie) && (a.innerHTML = '<br data-mce-bogus="1">'), o = a, 1 === t ? e.$(r).after(o) : e.$(r).before(o), e.selection.select(o, !0), e.selection.collapse());
        }
      },
          hC = function hC(l, f) {
        return function () {
          var e,
              t,
              n,
              r,
              o,
              i,
              a,
              u,
              s,
              c = (t = f, r = $s((e = l).getBody()), o = d(As, r.next), i = d(As, r.prev), a = t ? bu.Forwards : bu.Backwards, u = t ? o : i, s = e.selection.getRng(), (n = mC(a, e, u, s)) ? n : (n = pC(e, a, s)) || null);
          return !!c && (l.selection.setRng(c), !0);
        };
      },
          vC = function vC(u, s) {
        return function () {
          var e,
              t,
              n,
              r,
              o,
              i,
              a = (r = (t = s) ? 1 : -1, o = t ? sv : uv, i = (e = u).selection.getRng(), (n = gC(r, e, o, i)) ? n : (n = pC(e, r, i)) || null);
          return !!a && (u.selection.setRng(a), !0);
        };
      },
          bC = function bC(r, o) {
        return function () {
          var t,
              e = o ? Cu.fromRangeEnd(r.selection.getRng()) : Cu.fromRangeStart(r.selection.getRng()),
              n = o ? sC(r.getBody(), e) : uC(r.getBody(), e);
          return (o ? re(n.positions) : ne(n.positions)).filter((t = o, function (e) {
            return t ? Df(e) : _f(e);
          })).fold(q(!1), function (e) {
            return r.selection.setRng(e.toRange()), !0;
          });
        };
      },
          yC = function yC(e, t, n, r, o) {
        var i,
            a,
            u,
            s,
            c = $i(ir.fromDom(n), "td,th,caption").map(function (e) {
          return e.dom();
        }),
            l = V((i = e, Z(c, function (e) {
          var t,
              n,
              r = (t = za(e.getBoundingClientRect()), n = -1, {
            left: t.left - n,
            top: t.top - n,
            right: t.right + 2 * n,
            bottom: t.bottom + 2 * n,
            width: t.width + n,
            height: t.height + n
          });
          return [{
            x: r.left,
            y: i(r),
            cell: e
          }, {
            x: r.right,
            y: i(r),
            cell: e
          }];
        })), function (e) {
          return t(e, o);
        });
        return (a = l, u = r, s = o, X(a, function (e, r) {
          return e.fold(function () {
            return A.some(r);
          }, function (e) {
            var t = Math.sqrt(Math.abs(e.x - u) + Math.abs(e.y - s)),
                n = Math.sqrt(Math.abs(r.x - u) + Math.abs(r.y - s));
            return A.some(n < t ? r : e);
          });
        }, A.none())).map(function (e) {
          return e.cell;
        });
      },
          CC = d(yC, function (e) {
        return e.bottom;
      }, function (e, t) {
        return e.y < t;
      }),
          xC = d(yC, function (e) {
        return e.top;
      }, function (e, t) {
        return e.y > t;
      }),
          wC = function wC(t, n) {
        return ne(n.getClientRects()).bind(function (e) {
          return CC(t, e.left, e.top);
        }).bind(function (e) {
          return aC((t = e, nc.lastPositionIn(t).map(function (e) {
            return uC(t, e).positions.concat(e);
          }).getOr([])), n);
          var t;
        });
      },
          NC = function NC(t, n) {
        return re(n.getClientRects()).bind(function (e) {
          return xC(t, e.left, e.top);
        }).bind(function (e) {
          return aC((t = e, nc.firstPositionIn(t).map(function (e) {
            return [e].concat(sC(t, e).positions);
          }).getOr([])), n);
          var t;
        });
      },
          EC = function EC(e, t) {
        e.selection.setRng(t), Sy(e, t);
      },
          SC = function SC(e, t, n) {
        var r,
            o,
            i,
            a,
            u = e(t, n);
        return (a = u).breakType === vy.Wrap && 0 === a.positions.length || !Po.isBr(n.getNode()) && (i = u).breakType === vy.Br && 1 === i.positions.length ? (r = e, o = t, !u.breakAt.map(function (e) {
          return r(o, e).breakAt.isSome();
        }).getOr(!1)) : u.breakAt.isNone();
      },
          kC = d(SC, uC),
          TC = d(SC, sC),
          AC = function AC(e, t, n, r) {
        var o,
            i,
            a,
            u,
            s = e.selection.getRng(),
            c = t ? 1 : -1;

        if (is() && (o = t, i = s, a = n, u = Cu.fromRangeStart(i), nc.positionIn(!o, a).map(function (e) {
          return e.isEqual(u);
        }).getOr(!1))) {
          var l = eg(c, e, n, !t, !0);
          return EC(e, l), !0;
        }

        return !1;
      },
          RC = function RC(e, t) {
        var n = t.getNode(e);
        return Po.isElement(n) && "TABLE" === n.nodeName ? A.some(n) : A.none();
      },
          _C = function _C(u, s, c) {
        var e = RC(!!s, c),
            t = !1 === s;
        e.fold(function () {
          return EC(u, c.toRange());
        }, function (a) {
          return nc.positionIn(t, u.getBody()).filter(function (e) {
            return e.isEqual(c);
          }).fold(function () {
            return EC(u, c.toRange());
          }, function (e) {
            return n = s, o = a, t = c, void ((i = vl(r = u)) ? r.undoManager.transact(function () {
              var e = ir.fromTag(i);
              Cr(e, bl(r)), _i(e, ir.fromTag("br")), n ? Ai(ir.fromDom(o), e) : Ti(ir.fromDom(o), e);
              var t = r.dom.createRng();
              t.setStart(e.dom(), 0), t.setEnd(e.dom(), 0), EC(r, t);
            }) : EC(r, t.toRange()));
            var n, r, o, t, i;
          });
        });
      },
          DC = function DC(e, t, n, r) {
        var o,
            i,
            a,
            u,
            s,
            c,
            l = e.selection.getRng(),
            f = Cu.fromRangeStart(l),
            d = e.getBody();

        if (!t && kC(r, f)) {
          var m = (u = d, wC(s = n, c = f).orThunk(function () {
            return ne(c.getClientRects()).bind(function (e) {
              return iC(cC(u, Cu.before(s)), e.left);
            });
          }).getOr(Cu.before(s)));
          return _C(e, t, m), !0;
        }

        return !(!t || !TC(r, f)) && (o = d, m = NC(i = n, a = f).orThunk(function () {
          return ne(a.getClientRects()).bind(function (e) {
            return iC(lC(o, Cu.after(i)), e.left);
          });
        }).getOr(Cu.after(i)), _C(e, t, m), !0);
      },
          BC = function BC(t, n) {
        return function () {
          return A.from(t.dom.getParent(t.selection.getNode(), "td,th")).bind(function (e) {
            return A.from(t.dom.getParent(e, "table")).map(function (e) {
              return AC(t, n, e);
            });
          }).getOr(!1);
        };
      },
          OC = function OC(n, r) {
        return function () {
          return A.from(n.dom.getParent(n.selection.getNode(), "td,th")).bind(function (t) {
            return A.from(n.dom.getParent(t, "table")).map(function (e) {
              return DC(n, r, e, t);
            });
          }).getOr(!1);
        };
      },
          PC = function PC(e) {
        return F(["figcaption"], cr(e));
      },
          IC = function IC(e) {
        var t = H.document.createRange();
        return t.setStartBefore(e.dom()), t.setEndBefore(e.dom()), t;
      },
          LC = function LC(e, t, n) {
        n ? _i(e, t) : Ri(e, t);
      },
          MC = function MC(e, t, n, r) {
        return "" === t ? (l = e, f = r, d = ir.fromTag("br"), LC(l, d, f), IC(d)) : (o = e, i = r, a = t, u = n, s = ir.fromTag(a), c = ir.fromTag("br"), Cr(s, u), _i(s, c), LC(o, s, i), IC(c));
        var o, i, a, u, s, c, l, f, d;
      },
          FC = function FC(e, t, n) {
        return t ? (o = e.dom(), sC(o, n).breakAt.isNone()) : (r = e.dom(), uC(r, n).breakAt.isNone());
        var r, o;
      },
          zC = function zC(t, n) {
        var e,
            r,
            o,
            i = ir.fromDom(t.getBody()),
            a = Cu.fromRangeStart(t.selection.getRng()),
            u = vl(t),
            s = bl(t);
        return (e = a, r = i, o = d(Ir, r), Yi(ir.fromDom(e.container()), mo, o).filter(PC)).exists(function () {
          if (FC(i, n, a)) {
            var e = MC(i, u, s, n);
            return t.selection.setRng(e), !0;
          }

          return !1;
        });
      },
          UC = function UC(e, t) {
        return function () {
          return !!e.selection.isCollapsed() && zC(e, t);
        };
      },
          VC = function VC(e, r) {
        return Z(W(e, function (e) {
          return qb({
            shiftKey: !1,
            altKey: !1,
            ctrlKey: !1,
            metaKey: !1,
            keyCode: 0,
            action: o
          }, e);
        }), function (e) {
          return t = e, (n = r).keyCode === t.keyCode && n.shiftKey === t.shiftKey && n.altKey === t.altKey && n.ctrlKey === t.ctrlKey && n.metaKey === t.metaKey ? [e] : [];
          var t, n;
        });
      },
          HC = function HC(e) {
        for (var t = [], n = 1; n < arguments.length; n++) {
          t[n - 1] = arguments[n];
        }

        var r = Array.prototype.slice.call(arguments, 1);
        return function () {
          return e.apply(null, r);
        };
      },
          jC = function jC(e, t) {
        return Y(VC(e, t), function (e) {
          return e.action();
        });
      },
          qC = function qC(i, a) {
        i.on("keydown", function (e) {
          var t, n, r, o;
          !1 === e.isDefaultPrevented() && (t = i, n = a, r = e, o = rr.detect().os, jC([{
            keyCode: xv.RIGHT,
            action: hC(t, !0)
          }, {
            keyCode: xv.LEFT,
            action: hC(t, !1)
          }, {
            keyCode: xv.UP,
            action: vC(t, !1)
          }, {
            keyCode: xv.DOWN,
            action: vC(t, !0)
          }, {
            keyCode: xv.RIGHT,
            action: BC(t, !0)
          }, {
            keyCode: xv.LEFT,
            action: BC(t, !1)
          }, {
            keyCode: xv.UP,
            action: OC(t, !1)
          }, {
            keyCode: xv.DOWN,
            action: OC(t, !0)
          }, {
            keyCode: xv.RIGHT,
            action: jd.move(t, n, !0)
          }, {
            keyCode: xv.LEFT,
            action: jd.move(t, n, !1)
          }, {
            keyCode: xv.RIGHT,
            ctrlKey: !o.isOSX(),
            altKey: o.isOSX(),
            action: jd.moveNextWord(t, n)
          }, {
            keyCode: xv.LEFT,
            ctrlKey: !o.isOSX(),
            altKey: o.isOSX(),
            action: jd.movePrevWord(t, n)
          }, {
            keyCode: xv.UP,
            action: UC(t, !1)
          }, {
            keyCode: xv.DOWN,
            action: UC(t, !0)
          }], r).each(function (e) {
            r.preventDefault();
          }));
        });
      },
          $C = function $C(o, i) {
        o.on("keydown", function (e) {
          var t, n, r;
          !1 === e.isDefaultPrevented() && (t = o, n = i, r = e, jC([{
            keyCode: xv.BACKSPACE,
            action: HC(td, t, !1)
          }, {
            keyCode: xv.DELETE,
            action: HC(td, t, !0)
          }, {
            keyCode: xv.BACKSPACE,
            action: HC(ig, t, !1)
          }, {
            keyCode: xv.DELETE,
            action: HC(ig, t, !0)
          }, {
            keyCode: xv.BACKSPACE,
            action: HC(Kd, t, n, !1)
          }, {
            keyCode: xv.DELETE,
            action: HC(Kd, t, n, !0)
          }, {
            keyCode: xv.BACKSPACE,
            action: HC(km, t, !1)
          }, {
            keyCode: xv.DELETE,
            action: HC(km, t, !0)
          }, {
            keyCode: xv.BACKSPACE,
            action: HC(gf, t, !1)
          }, {
            keyCode: xv.DELETE,
            action: HC(gf, t, !0)
          }, {
            keyCode: xv.BACKSPACE,
            action: HC(lf, t, !1)
          }, {
            keyCode: xv.DELETE,
            action: HC(lf, t, !0)
          }, {
            keyCode: xv.BACKSPACE,
            action: HC(Jm, t, !1)
          }, {
            keyCode: xv.DELETE,
            action: HC(Jm, t, !0)
          }], r).each(function (e) {
            r.preventDefault();
          }));
        }), o.on("keyup", function (e) {
          var t, n;
          !1 === e.isDefaultPrevented() && (t = o, n = e, jC([{
            keyCode: xv.BACKSPACE,
            action: HC(nd, t)
          }, {
            keyCode: xv.DELETE,
            action: HC(nd, t)
          }], n));
        });
      },
          WC = function WC(e) {
        return A.from(e.dom.getParent(e.selection.getStart(!0), e.dom.isBlock));
      },
          KC = function KC(e, t) {
        var n,
            r,
            o,
            i = t,
            a = e.dom,
            u = e.schema.getMoveCaretBeforeOnEnterElements();

        if (t) {
          if (/^(LI|DT|DD)$/.test(t.nodeName)) {
            var s = function (e) {
              for (; e;) {
                if (1 === e.nodeType || 3 === e.nodeType && e.data && /[\r\n\s]/.test(e.data)) return e;
                e = e.nextSibling;
              }
            }(t.firstChild);

            s && /^(UL|OL|DL)$/.test(s.nodeName) && t.insertBefore(a.doc.createTextNode("\xa0"), t.firstChild);
          }

          if (o = a.createRng(), t.normalize(), t.hasChildNodes()) {
            for (n = new ao(t, t); r = n.current();) {
              if (Po.isText(r)) {
                o.setStart(r, 0), o.setEnd(r, 0);
                break;
              }

              if (u[r.nodeName.toLowerCase()]) {
                o.setStartBefore(r), o.setEndBefore(r);
                break;
              }

              i = r, r = n.next();
            }

            r || (o.setStart(i, 0), o.setEnd(i, 0));
          } else Po.isBr(t) ? t.nextSibling && a.isBlock(t.nextSibling) ? (o.setStartBefore(t), o.setEndBefore(t)) : (o.setStartAfter(t), o.setEndAfter(t)) : (o.setStart(t, 0), o.setEnd(t, 0));

          e.selection.setRng(o), a.remove(void 0), e.selection.scrollIntoView(t);
        }
      },
          XC = function XC(e, t) {
        var n,
            r,
            o = e.getRoot();

        for (n = t; n !== o && "false" !== e.getContentEditable(n);) {
          "true" === e.getContentEditable(n) && (r = n), n = n.parentNode;
        }

        return n !== o ? r : o;
      },
          YC = WC,
          GC = function GC(e) {
        return WC(e).fold(q(""), function (e) {
          return e.nodeName.toUpperCase();
        });
      },
          JC = function JC(e) {
        return WC(e).filter(function (e) {
          return bo(ir.fromDom(e));
        }).isSome();
      },
          QC = function QC(e, t) {
        return e && e.parentNode && e.parentNode.nodeName === t;
      },
          ZC = function ZC(e) {
        return e && /^(OL|UL|LI)$/.test(e.nodeName);
      },
          ex = function ex(e) {
        var t = e.parentNode;
        return /^(LI|DT|DD)$/.test(t.nodeName) ? t : e;
      },
          tx = function tx(e, t, n) {
        for (var r = e[n ? "firstChild" : "lastChild"]; r && !Po.isElement(r);) {
          r = r[n ? "nextSibling" : "previousSibling"];
        }

        return r === t;
      },
          nx = function nx(e, t, n, r, o) {
        var i = e.dom,
            a = e.selection.getRng();

        if (n !== e.getBody()) {
          var u;
          ZC(u = n) && ZC(u.parentNode) && (o = "LI");
          var s,
              c,
              l = o ? t(o) : i.create("BR");
          if (tx(n, r, !0) && tx(n, r, !1)) QC(n, "LI") ? i.insertAfter(l, ex(n)) : i.replace(l, n);else if (tx(n, r, !0)) QC(n, "LI") ? (i.insertAfter(l, ex(n)), l.appendChild(i.doc.createTextNode(" ")), l.appendChild(n)) : n.parentNode.insertBefore(l, n);else if (tx(n, r, !1)) i.insertAfter(l, ex(n));else {
            n = ex(n);
            var f = a.cloneRange();
            f.setStartAfter(r), f.setEndAfter(n);
            var d = f.extractContents();
            "LI" === o && (c = "LI", (s = d).firstChild && s.firstChild.nodeName === c) ? (l = d.firstChild, i.insertAfter(d, n)) : (i.insertAfter(d, n), i.insertAfter(l, n));
          }
          i.remove(r), KC(e, l);
        }
      },
          rx = function rx(e) {
        e.innerHTML = '<br data-mce-bogus="1">';
      },
          ox = function ox(e, t) {
        return e.nodeName === t || e.previousSibling && e.previousSibling.nodeName === t;
      },
          ix = function ix(e, t) {
        return t && e.isBlock(t) && !/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName) && !/^(fixed|absolute)/i.test(t.style.position) && "true" !== e.getContentEditable(t);
      },
          ax = function ax(e, t, n) {
        return !1 === Po.isText(t) ? n : e ? 1 === n && t.data.charAt(n - 1) === ma ? 0 : n : n === t.data.length - 1 && t.data.charAt(n) === ma ? t.data.length : n;
      },
          ux = function ux(e, t) {
        var n,
            r,
            o = e.getRoot();

        for (n = t; n !== o && "false" !== e.getContentEditable(n);) {
          "true" === e.getContentEditable(n) && (r = n), n = n.parentNode;
        }

        return n !== o ? r : o;
      },
          sx = function sx(e, t) {
        var n = vl(e);
        n && n.toLowerCase() === t.tagName.toLowerCase() && e.dom.setAttribs(t, bl(e));
      },
          cx = function cx(a, e) {
        var t,
            u,
            s,
            i,
            c,
            n,
            r,
            o,
            l,
            f,
            d,
            m,
            g,
            p,
            h,
            v,
            b,
            y,
            C,
            x = a.dom,
            w = a.schema,
            N = w.getNonEmptyElements(),
            E = a.selection.getRng(),
            S = function S(e) {
          var t,
              n,
              r,
              o = s,
              i = w.getTextInlineElements();
          if (e || "TABLE" === f || "HR" === f ? (t = x.create(e || m), sx(a, t)) : t = c.cloneNode(!1), r = t, !1 === xl(a)) x.setAttrib(t, "style", null), x.setAttrib(t, "class", null);else do {
            if (i[o.nodeName]) {
              if (ju(o) || dc(o)) continue;
              n = o.cloneNode(!1), x.setAttrib(n, "id", ""), t.hasChildNodes() ? n.appendChild(t.firstChild) : r = n, t.appendChild(n);
            }
          } while ((o = o.parentNode) && o !== u);
          return rx(r), t;
        },
            k = function k(e) {
          var t, n, r, o;
          if (o = ax(e, s, i), Po.isText(s) && (e ? 0 < o : o < s.nodeValue.length)) return !1;
          if (s.parentNode === c && g && !e) return !0;
          if (e && Po.isElement(s) && s === c.firstChild) return !0;
          if (ox(s, "TABLE") || ox(s, "HR")) return g && !e || !g && e;

          for (t = new ao(s, c), Po.isText(s) && (e && 0 === o ? t.prev() : e || o !== s.nodeValue.length || t.next()); n = t.current();) {
            if (Po.isElement(n)) {
              if (!n.getAttribute("data-mce-bogus") && (r = n.nodeName.toLowerCase(), N[r] && "br" !== r)) return !1;
            } else if (Po.isText(n) && !/^[ \t\r\n]*$/.test(n.nodeValue)) return !1;

            e ? t.prev() : t.next();
          }

          return !0;
        },
            T = function T() {
          r = /^(H[1-6]|PRE|FIGURE)$/.test(f) && "HGROUP" !== d ? S(m) : S(), wl(a) && ix(x, l) && x.isEmpty(c) ? r = x.split(l, c) : x.insertAfter(r, c), KC(a, r);
        };

        wg(x, E).each(function (e) {
          E.setStart(e.startContainer, e.startOffset), E.setEnd(e.endContainer, e.endOffset);
        }), s = E.startContainer, i = E.startOffset, m = vl(a), n = e.shiftKey, Po.isElement(s) && s.hasChildNodes() && (g = i > s.childNodes.length - 1, s = s.childNodes[Math.min(i, s.childNodes.length - 1)] || s, i = g && Po.isText(s) ? s.nodeValue.length : 0), (u = ux(x, s)) && ((m && !n || !m && n) && (s = function (e, t, n, r, o) {
          var i,
              a,
              u,
              s,
              c,
              l,
              f,
              d = t || "P",
              m = e.dom,
              g = ux(m, r);

          if (!(a = m.getParent(r, m.isBlock)) || !ix(m, a)) {
            if (l = (a = a || g) === e.getBody() || (f = a) && /^(TD|TH|CAPTION)$/.test(f.nodeName) ? a.nodeName.toLowerCase() : a.parentNode.nodeName.toLowerCase(), !a.hasChildNodes()) return i = m.create(d), sx(e, i), a.appendChild(i), n.setStart(i, 0), n.setEnd(i, 0), i;

            for (s = r; s.parentNode !== a;) {
              s = s.parentNode;
            }

            for (; s && !m.isBlock(s);) {
              s = (u = s).previousSibling;
            }

            if (u && e.schema.isValidChild(l, d.toLowerCase())) {
              for (i = m.create(d), sx(e, i), u.parentNode.insertBefore(i, u), s = u; s && !m.isBlock(s);) {
                c = s.nextSibling, i.appendChild(s), s = c;
              }

              n.setStart(r, o), n.setEnd(r, o);
            }
          }

          return r;
        }(a, m, E, s, i)), c = x.getParent(s, x.isBlock), l = c ? x.getParent(c.parentNode, x.isBlock) : null, f = c ? c.nodeName.toUpperCase() : "", "LI" !== (d = l ? l.nodeName.toUpperCase() : "") || e.ctrlKey || (l = (c = l).parentNode, f = d), /^(LI|DT|DD)$/.test(f) && x.isEmpty(c) ? nx(a, S, l, c, m) : m && c === a.getBody() || (m = m || "P", va(c) ? (r = ka(c), x.isEmpty(c) && rx(c), KC(a, r)) : k() ? T() : k(!0) ? (r = c.parentNode.insertBefore(S(), c), KC(a, ox(c, "HR") ? r : c)) : ((t = (y = E, C = y.cloneRange(), C.setStart(y.startContainer, ax(!0, y.startContainer, y.startOffset)), C.setEnd(y.endContainer, ax(!1, y.endContainer, y.endOffset)), C).cloneRange()).setEndAfter(c), o = t.extractContents(), b = o, U(qi(ir.fromDom(b), dr), function (e) {
          var t = e.dom();
          t.nodeValue = ga(t.nodeValue);
        }), function (e) {
          for (; Po.isText(e) && (e.nodeValue = e.nodeValue.replace(/^[\r\n]+/, "")), e = e.firstChild;) {
            ;
          }
        }(o), r = o.firstChild, x.insertAfter(o, c), function (e, t, n) {
          var r,
              o = n,
              i = [];

          if (o) {
            for (; o = o.firstChild;) {
              if (e.isBlock(o)) return;
              Po.isElement(o) && !t[o.nodeName.toLowerCase()] && i.push(o);
            }

            for (r = i.length; r--;) {
              !(o = i[r]).hasChildNodes() || o.firstChild === o.lastChild && "" === o.firstChild.nodeValue ? e.remove(o) : (a = e, (u = o) && "A" === u.nodeName && a.isEmpty(u) && e.remove(o));
            }

            var a, u;
          }
        }(x, N, r), p = x, (h = c).normalize(), (v = h.lastChild) && !/^(left|right)$/gi.test(p.getStyle(v, "float", !0)) || p.add(h, "br"), x.isEmpty(c) && rx(c), r.normalize(), x.isEmpty(r) ? (x.remove(r), T()) : KC(a, r)), x.setAttrib(r, "id", ""), a.fire("NewBlock", {
          newBlock: r
        })));
      },
          lx = function lx(e, t) {
        return YC(e).filter(function (e) {
          return 0 < t.length && Or(ir.fromDom(e), t);
        }).isSome();
      },
          fx = function fx(e) {
        return lx(e, yl(e));
      },
          dx = function dx(e) {
        return lx(e, Cl(e));
      },
          mx = pf([{
        br: []
      }, {
        block: []
      }, {
        none: []
      }]),
          gx = function gx(e, t) {
        return dx(e);
      },
          px = function px(n) {
        return function (e, t) {
          return "" === vl(e) === n;
        };
      },
          hx = function hx(n) {
        return function (e, t) {
          return JC(e) === n;
        };
      },
          vx = function vx(n, r) {
        return function (e, t) {
          return GC(e) === n.toUpperCase() === r;
        };
      },
          bx = function bx(e) {
        return vx("pre", e);
      },
          yx = function yx(n) {
        return function (e, t) {
          return hl(e) === n;
        };
      },
          Cx = function Cx(e, t) {
        return fx(e);
      },
          xx = function xx(e, t) {
        return t;
      },
          wx = function wx(e) {
        var t = vl(e),
            n = XC(e.dom, e.selection.getStart());
        return n && e.schema.isValidChild(n.nodeName, t || "P");
      },
          Nx = function Nx(e, t) {
        return function (n, r) {
          return X(e, function (e, t) {
            return e && t(n, r);
          }, !0) ? A.some(t) : A.none();
        };
      },
          Ex = function Ex(e, t) {
        return md([Nx([gx], mx.none()), Nx([vx("summary", !0)], mx.br()), Nx([bx(!0), yx(!1), xx], mx.br()), Nx([bx(!0), yx(!1)], mx.block()), Nx([bx(!0), yx(!0), xx], mx.block()), Nx([bx(!0), yx(!0)], mx.br()), Nx([hx(!0), xx], mx.br()), Nx([hx(!0)], mx.block()), Nx([px(!0), xx, wx], mx.block()), Nx([px(!0)], mx.br()), Nx([Cx], mx.br()), Nx([px(!1), xx], mx.br()), Nx([wx], mx.block())], [e, t.shiftKey]).getOr(mx.none());
      },
          Sx = function Sx(e, t) {
        Ex(e, t).fold(function () {
          Bg(e, t);
        }, function () {
          cx(e, t);
        }, o);
      },
          kx = function kx(o) {
        o.on("keydown", function (e) {
          var t, n, r;
          e.keyCode === xv.ENTER && (t = o, (n = e).isDefaultPrevented() || (n.preventDefault(), (r = t.undoManager).typing && (r.typing = !1, r.add()), t.undoManager.transact(function () {
            !1 === t.selection.isCollapsed() && t.execCommand("Delete"), Sx(t, n);
          })));
        });
      },
          Tx = function Tx(n, r) {
        var e = r.container(),
            t = r.offset();
        return Po.isText(e) ? (e.insertData(t, n), A.some(vu(e, t + n.length))) : Ts(r).map(function (e) {
          var t = ir.fromText(n);
          return r.isAtEnd() ? Ai(e, t) : Ti(e, t), vu(t.dom(), n.length);
        });
      },
          Ax = d(Tx, "\xa0"),
          Rx = d(Tx, " "),
          _x = function _x(e, t, n) {
        return nc.navigateIgnore(e, t, n, Af);
      },
          Dx = function Dx(e, t) {
        return Y(ef(ir.fromDom(t.container()), e), mo);
      },
          Bx = function Bx(e, n, r) {
        return _x(e, n.dom(), r).forall(function (t) {
          return Dx(n, r).fold(function () {
            return !1 === bs(t, r, n.dom());
          }, function (e) {
            return !1 === bs(t, r, n.dom()) && Lr(e, ir.fromDom(t.container()));
          });
        });
      },
          Ox = function Ox(t, n, r) {
        return Dx(n, r).fold(function () {
          return _x(t, n.dom(), r).forall(function (e) {
            return !1 === bs(e, r, n.dom());
          });
        }, function (e) {
          return _x(t, e.dom(), r).isNone();
        });
      },
          Px = d(Ox, !1),
          Ix = d(Ox, !0),
          Lx = d(Bx, !1),
          Mx = d(Bx, !0),
          Fx = function Fx(e) {
        return vu.isTextPosition(e) && !e.isAtStart() && !e.isAtEnd();
      },
          zx = function zx(e, t) {
        var n = V(ef(ir.fromDom(t.container()), e), mo);
        return ne(n).getOr(e);
      },
          Ux = function Ux(e, t) {
        return Fx(t) ? Tf(t) : Tf(t) || nc.prevPosition(zx(e, t).dom(), t).exists(Tf);
      },
          Vx = function Vx(e, t) {
        return Fx(t) ? kf(t) : kf(t) || nc.nextPosition(zx(e, t).dom(), t).exists(kf);
      },
          Hx = function Hx(e) {
        return Ts(e).bind(function (e) {
          return Yi(e, fr);
        }).exists(function (e) {
          return t = Er(e, "white-space"), F(["pre", "pre-wrap"], t);
          var t;
        });
      },
          jx = function jx(e, t) {
        return o = e, i = t, nc.prevPosition(o.dom(), i).isNone() || (n = e, r = t, nc.nextPosition(n.dom(), r).isNone()) || Px(e, t) || Ix(e, t) || yf(e, t) || bf(e, t);
        var n, r, o, i;
      },
          qx = function qx(e, t) {
        var n,
            r,
            o,
            i = (r = (n = t).container(), o = n.offset(), Po.isText(r) && o < r.data.length ? vu(r, o + 1) : n);
        return !Hx(i) && (Ix(e, i) || Mx(e, i) || bf(e, i) || Vx(e, i));
      },
          $x = function $x(e, t) {
        return n = e, !Hx(r = t) && (Px(n, r) || Lx(n, r) || yf(n, r) || Ux(n, r)) || qx(e, t);
        var n, r;
      },
          Wx = function Wx(e, t) {
        return wf(e.charAt(t));
      },
          Kx = function Kx(e) {
        var t = e.container();
        return Po.isText(t) && Xn(t.data, "\xa0");
      },
          Xx = function Xx(e) {
        var t = e.data,
            n = W(t.split(""), function (e, t, n) {
          return wf(e) && 0 < t && t < n.length - 1 && Ef(n[t - 1]) && Ef(n[t + 1]) ? " " : e;
        }).join("");
        return n !== t && (e.data = n, !0);
      },
          Yx = function Yx(l, e) {
        return A.some(e).filter(Kx).bind(function (e) {
          var t,
              n,
              r,
              o,
              i,
              a,
              u,
              s,
              c = e.container();
          return i = l, u = (a = c).data, s = vu(a, 0), Wx(u, 0) && !$x(i, s) && (a.data = " " + u.slice(1), 1) || Xx(c) || (t = l, r = (n = c).data, o = vu(n, r.length - 1), Wx(r, r.length - 1) && !$x(t, o) && (n.data = r.slice(0, -1) + " ", 1)) ? A.some(e) : A.none();
        });
      },
          Gx = function Gx(t) {
        var e = ir.fromDom(t.getBody());
        t.selection.isCollapsed() && Yx(e, vu.fromRangeStart(t.selection.getRng())).each(function (e) {
          t.selection.setRng(e.toRange());
        });
      },
          Jx = function Jx(r, o) {
        return function (e) {
          return t = r, !Hx(n = e) && (jx(t, n) || Ux(t, n) || Vx(t, n)) ? Ax(o) : Rx(o);
          var t, n;
        };
      },
          Qx = function Qx(e) {
        var t,
            n,
            r = Cu.fromRangeStart(e.selection.getRng()),
            o = ir.fromDom(e.getBody());

        if (e.selection.isCollapsed()) {
          var i = d(Ll.isInlineTarget, e),
              a = Cu.fromRangeStart(e.selection.getRng());
          return Dd(i, e.getBody(), a).bind((n = o, function (e) {
            return e.fold(function (e) {
              return nc.prevPosition(n.dom(), Cu.before(e));
            }, function (e) {
              return nc.firstPositionIn(e);
            }, function (e) {
              return nc.lastPositionIn(e);
            }, function (e) {
              return nc.nextPosition(n.dom(), Cu.after(e));
            });
          })).bind(Jx(o, r)).exists((t = e, function (e) {
            return t.selection.setRng(e.toRange()), t.nodeChanged(), !0;
          }));
        }

        return !1;
      },
          Zx = function Zx(r) {
        r.on("keydown", function (e) {
          var t, n;
          !1 === e.isDefaultPrevented() && (t = r, n = e, jC([{
            keyCode: xv.SPACEBAR,
            action: HC(Qx, t)
          }], n).each(function (e) {
            n.preventDefault();
          }));
        });
      },
          ew = function ew(e, t) {
        var n;
        t.hasAttribute("data-mce-caret") && (ka(t), (n = e).selection.setRng(n.selection.getRng()), e.selection.scrollIntoView(t));
      },
          tw = function tw(e, t) {
        var n,
            r = (n = e, Ji(ir.fromDom(n.getBody()), "*[data-mce-caret]").fold(q(null), function (e) {
          return e.dom();
        }));
        if (r) return "compositionstart" === t.type ? (t.preventDefault(), t.stopPropagation(), void ew(e, r)) : void (Ca(r) && (ew(e, r), e.undoManager.add()));
      },
          nw = function nw(e) {
        e.on("keyup compositionstart", d(tw, e));
      },
          rw = rr.detect().browser,
          ow = function ow(t) {
        var e, n;
        e = t, n = Ii(function () {
          e.composing || Gx(e);
        }, 0), rw.isIE() && (e.on("keypress", function (e) {
          n.throttle();
        }), e.on("remove", function (e) {
          n.cancel();
        })), t.on("input", function (e) {
          !1 === e.isComposing && Gx(t);
        });
      },
          iw = function iw(r) {
        r.on("keydown", function (e) {
          var t, n;
          !1 === e.isDefaultPrevented() && (t = r, n = e, jC([{
            keyCode: xv.END,
            action: bC(t, !0)
          }, {
            keyCode: xv.HOME,
            action: bC(t, !1)
          }], n).each(function (e) {
            n.preventDefault();
          }));
        });
      },
          aw = function aw(e) {
        var t = jd.setupSelectedState(e);
        nw(e), qC(e, t), $C(e, t), kx(e), Zx(e), ow(e), iw(e);
      };

      function uw(u) {
        var s,
            n,
            r,
            o = Jt.each,
            c = xv.BACKSPACE,
            l = xv.DELETE,
            f = u.dom,
            d = u.selection,
            e = u.settings,
            t = u.parser,
            i = ge.gecko,
            a = ge.ie,
            m = ge.webkit,
            g = "data:text/mce-internal,",
            p = a ? "Text" : "URL",
            h = function h(e, t) {
          try {
            u.getDoc().execCommand(e, !1, t);
          } catch (n) {}
        },
            v = function v(e) {
          return e.isDefaultPrevented();
        },
            b = function b() {
          u.shortcuts.add("meta+a", null, "SelectAll");
        },
            y = function y() {
          u.on("keydown", function (e) {
            if (!v(e) && e.keyCode === c && d.isCollapsed() && 0 === d.getRng().startOffset) {
              var t = d.getNode().previousSibling;
              if (t && t.nodeName && "table" === t.nodeName.toLowerCase()) return e.preventDefault(), !1;
            }
          });
        },
            C = function C() {
          u.inline || (u.contentStyles.push("body {min-height: 150px}"), u.on("click", function (e) {
            var t;

            if ("HTML" === e.target.nodeName) {
              if (11 < ge.ie) return void u.getBody().focus();
              t = u.selection.getRng(), u.getBody().focus(), u.selection.setRng(t), u.selection.normalize(), u.nodeChanged();
            }
          }));
        };

        return u.on("keydown", function (e) {
          var t, n, r, o, i;

          if (!v(e) && e.keyCode === xv.BACKSPACE && (n = (t = d.getRng()).startContainer, r = t.startOffset, o = f.getRoot(), i = n, t.collapsed && 0 === r)) {
            for (; i && i.parentNode && i.parentNode.firstChild === i && i.parentNode !== o;) {
              i = i.parentNode;
            }

            "BLOCKQUOTE" === i.tagName && (u.formatter.toggle("blockquote", null, i), (t = f.createRng()).setStart(n, 0), t.setEnd(n, 0), d.setRng(t));
          }
        }), s = function s(e) {
          var t = f.create("body"),
              n = e.cloneContents();
          return t.appendChild(n), d.serializer.serialize(t, {
            format: "html"
          });
        }, u.on("keydown", function (e) {
          var t,
              n,
              r,
              o,
              i,
              a = e.keyCode;

          if (!v(e) && (a === l || a === c)) {
            if (t = u.selection.isCollapsed(), n = u.getBody(), t && !f.isEmpty(n)) return;
            if (!t && (r = u.selection.getRng(), o = s(r), (i = f.createRng()).selectNode(u.getBody()), o !== s(i))) return;
            e.preventDefault(), u.setContent(""), n.firstChild && f.isBlock(n.firstChild) ? u.selection.setCursorLocation(n.firstChild, 0) : u.selection.setCursorLocation(n, 0), u.nodeChanged();
          }
        }), ge.windowsPhone || u.on("keyup focusin mouseup", function (e) {
          xv.modifierPressed(e) || d.normalize();
        }, !0), m && (u.settings.content_editable || f.bind(u.getDoc(), "mousedown mouseup", function (e) {
          var t;
          if (e.target === u.getDoc().documentElement) if (t = d.getRng(), u.getBody().focus(), "mousedown" === e.type) {
            if (ya(t.startContainer)) return;
            d.placeCaretAt(e.clientX, e.clientY);
          } else d.setRng(t);
        }), u.on("click", function (e) {
          var t = e.target;
          /^(IMG|HR)$/.test(t.nodeName) && "false" !== f.getContentEditableParent(t) && (e.preventDefault(), u.selection.select(t), u.nodeChanged()), "A" === t.nodeName && f.hasClass(t, "mce-item-anchor") && (e.preventDefault(), d.select(t));
        }), e.forced_root_block && u.on("init", function () {
          h("DefaultParagraphSeparator", e.forced_root_block);
        }), u.on("init", function () {
          u.dom.bind(u.getBody(), "submit", function (e) {
            e.preventDefault();
          });
        }), y(), t.addNodeFilter("br", function (e) {
          for (var t = e.length; t--;) {
            "Apple-interchange-newline" === e[t].attr("class") && e[t].remove();
          }
        }), ge.iOS ? (u.inline || u.on("keydown", function () {
          H.document.activeElement === H.document.body && u.getWin().focus();
        }), C(), u.on("click", function (e) {
          var t = e.target;

          do {
            if ("A" === t.tagName) return void e.preventDefault();
          } while (t = t.parentNode);
        }), u.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")) : b()), 11 <= ge.ie && (C(), y()), ge.ie && (b(), h("AutoUrlDetect", !1), u.on("dragstart", function (e) {
          var t, n, r;
          (t = e).dataTransfer && (u.selection.isCollapsed() && "IMG" === t.target.tagName && d.select(t.target), 0 < (n = u.selection.getContent()).length && (r = g + escape(u.id) + "," + escape(n), t.dataTransfer.setData(p, r)));
        }), u.on("drop", function (e) {
          if (!v(e)) {
            var t = (i = e).dataTransfer && (a = i.dataTransfer.getData(p)) && 0 <= a.indexOf(g) ? (a = a.substr(g.length).split(","), {
              id: unescape(a[0]),
              html: unescape(a[1])
            }) : null;

            if (t && t.id !== u.id) {
              e.preventDefault();
              var n = Ty(e.x, e.y, u.getDoc());
              d.setRng(n), r = t.html, o = !0, u.queryCommandSupported("mceInsertClipboardContent") ? u.execCommand("mceInsertClipboardContent", !1, {
                content: r,
                internal: o
              }) : u.execCommand("mceInsertContent", !1, r);
            }
          }

          var r, o, i, a;
        })), i && (u.on("keydown", function (e) {
          if (!v(e) && e.keyCode === c) {
            if (!u.getBody().getElementsByTagName("hr").length) return;

            if (d.isCollapsed() && 0 === d.getRng().startOffset) {
              var t = d.getNode(),
                  n = t.previousSibling;
              if ("HR" === t.nodeName) return f.remove(t), void e.preventDefault();
              n && n.nodeName && "hr" === n.nodeName.toLowerCase() && (f.remove(n), e.preventDefault());
            }
          }
        }), H.Range.prototype.getClientRects || u.on("mousedown", function (e) {
          if (!v(e) && "HTML" === e.target.nodeName) {
            var t = u.getBody();
            t.blur(), ye.setEditorTimeout(u, function () {
              t.focus();
            });
          }
        }), n = function n() {
          var e = f.getAttribs(d.getStart().cloneNode(!1));
          return function () {
            var t = d.getStart();
            t !== u.getBody() && (f.setAttrib(t, "style", null), o(e, function (e) {
              t.setAttributeNode(e.cloneNode(!0));
            }));
          };
        }, r = function r() {
          return !d.isCollapsed() && f.getParent(d.getStart(), f.isBlock) !== f.getParent(d.getEnd(), f.isBlock);
        }, u.on("keypress", function (e) {
          var t;
          if (!v(e) && (8 === e.keyCode || 46 === e.keyCode) && r()) return t = n(), u.getDoc().execCommand("delete", !1, null), t(), e.preventDefault(), !1;
        }), f.bind(u.getDoc(), "cut", function (e) {
          var t;
          !v(e) && r() && (t = n(), ye.setEditorTimeout(u, function () {
            t();
          }));
        }), e.readonly || u.on("BeforeExecCommand MouseDown", function () {
          h("StyleWithCSS", !1), h("enableInlineTableEditing", !1), e.object_resizing || h("enableObjectResizing", !1);
        }), u.on("SetContent ExecCommand", function (e) {
          "setcontent" !== e.type && "mceInsertLink" !== e.command || o(f.select("a"), function (e) {
            var t = e.parentNode,
                n = f.getRoot();

            if (t.lastChild === e) {
              for (; t && !f.isBlock(t);) {
                if (t.parentNode.lastChild !== t || t === n) return;
                t = t.parentNode;
              }

              f.add(t, "br", {
                "data-mce-bogus": 1
              });
            }
          });
        }), u.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}"), ge.mac && u.on("keydown", function (e) {
          !xv.metaKeyPressed(e) || e.shiftKey || 37 !== e.keyCode && 39 !== e.keyCode || (e.preventDefault(), u.selection.getSel().modify("move", 37 === e.keyCode ? "backward" : "forward", "lineboundary"));
        }), y()), {
          refreshContentEditable: function refreshContentEditable() {},
          isHidden: function isHidden() {
            var e;
            return !i || u.removed ? 0 : !(e = u.selection.getSel()) || !e.rangeCount || 0 === e.rangeCount;
          }
        };
      }

      var sw = function sw(e) {
        return Po.isElement(e) && ho(ir.fromDom(e));
      },
          cw = function cw(t) {
        t.on("click", function (e) {
          3 <= e.detail && function (e) {
            var t = e.selection.getRng(),
                n = vu.fromRangeStart(t),
                r = vu.fromRangeEnd(t);

            if (vu.isElementPosition(n)) {
              var o = n.container();
              sw(o) && nc.firstPositionIn(o).each(function (e) {
                return t.setStart(e.container(), e.offset());
              });
            }

            vu.isElementPosition(r) && (o = n.container(), sw(o) && nc.lastPositionIn(o).each(function (e) {
              return t.setEnd(e.container(), e.offset());
            })), e.selection.setRng(rl(t));
          }(t);
        });
      },
          lw = function lw(e) {
        var t, n;
        (t = e).on("click", function (e) {
          t.dom.getParent(e.target, "details") && e.preventDefault();
        }), (n = e).parser.addNodeFilter("details", function (e) {
          U(e, function (e) {
            e.attr("data-mce-open", e.attr("open")), e.attr("open", "open");
          });
        }), n.serializer.addNodeFilter("details", function (e) {
          U(e, function (e) {
            var t = e.attr("data-mce-open");
            e.attr("open", R(t) ? t : null), e.attr("data-mce-open", null);
          });
        });
      },
          fw = bi.DOM,
          dw = function dw(e) {
        var t;
        e.bindPendingEventDelegates(), e.initialized = !0, e.fire("init"), e.focus(!0), e.nodeChanged({
          initial: !0
        }), e.execCallback("init_instance_callback", e), (t = e).settings.auto_focus && ye.setEditorTimeout(t, function () {
          var e;
          (e = !0 === t.settings.auto_focus ? t : t.editorManager.get(t.settings.auto_focus)).destroyed || e.focus();
        }, 100);
      },
          mw = function mw(t, e) {
        var n,
            r,
            u,
            o,
            i,
            a,
            s,
            c,
            l,
            f = t.settings,
            d = t.getElement(),
            m = t.getDoc();
        f.inline || (t.getElement().style.visibility = t.orgVisibility), e || f.content_editable || (m.open(), m.write(t.iframeHTML), m.close()), f.content_editable && (t.on("remove", function () {
          var e = this.getBody();
          fw.removeClass(e, "mce-content-body"), fw.removeClass(e, "mce-edit-focus"), fw.setAttrib(e, "contentEditable", null);
        }), fw.addClass(d, "mce-content-body"), t.contentDocument = m = f.content_document || H.document, t.contentWindow = f.content_window || H.window, t.bodyElement = d, f.content_document = f.content_window = null, f.root_name = d.nodeName.toLowerCase()), (n = t.getBody()).disabled = !0, t.readonly = f.readonly, t.readonly || (t.inline && "static" === fw.getStyle(n, "position", !0) && (n.style.position = "relative"), n.contentEditable = t.getParam("content_editable_state", !0)), n.disabled = !1, t.editorUpload = Lh(t), t.schema = ii(f), t.dom = bi(m, {
          keep_values: !0,
          url_converter: t.convertURL,
          url_converter_scope: t,
          hex_colors: f.force_hex_style_colors,
          class_filter: f.class_filter,
          update_styles: !0,
          root_element: t.inline ? t.getBody() : null,
          collect: f.content_editable,
          schema: t.schema,
          contentCssCors: Ol(t),
          onSetAttrib: function onSetAttrib(e) {
            t.fire("SetAttrib", e);
          }
        }), t.parser = ((o = ly((u = t).settings, u.schema)).addAttributeFilter("src,href,style,tabindex", function (e, t) {
          for (var n, r, o, i = e.length, a = u.dom; i--;) {
            if (r = (n = e[i]).attr(t), o = "data-mce-" + t, !n.attributes.map[o]) {
              if (0 === r.indexOf("data:") || 0 === r.indexOf("blob:")) continue;
              "style" === t ? ((r = a.serializeStyle(a.parseStyle(r), n.name)).length || (r = null), n.attr(o, r), n.attr(t, r)) : "tabindex" === t ? (n.attr(o, r), n.attr(t, null)) : n.attr(o, u.convertURL(r, t, n.name));
            }
          }
        }), o.addNodeFilter("script", function (e) {
          for (var t, n, r = e.length; r--;) {
            0 !== (n = (t = e[r]).attr("type") || "no/type").indexOf("mce-") && t.attr("type", "mce-" + n);
          }
        }), o.addNodeFilter("#cdata", function (e) {
          for (var t, n = e.length; n--;) {
            (t = e[n]).type = 8, t.name = "#comment", t.value = "[CDATA[" + t.value + "]]";
          }
        }), o.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div", function (e) {
          for (var t, n = e.length, r = u.schema.getNonEmptyElements(); n--;) {
            (t = e[n]).isEmpty(r) && 0 === t.getAll("br").length && (t.append(new Zb("br", 1)).shortEnded = !0);
          }
        }), o), t.serializer = py(f, t), t.selection = tC(t.dom, t.getWin(), t.serializer, t), t.annotator = Mc(t), t.formatter = Vb(t), t.undoManager = Xv(t), t._nodeChangeDispatcher = new Wh(t), t._selectionOverrides = Sv(t), lw(t), cw(t), aw(t), Uh(t), t.fire("PreInit"), f.browser_spellcheck || f.gecko_spellcheck || (m.body.spellcheck = !1, fw.setAttrib(n, "spellcheck", "false")), t.quirks = uw(t), t.fire("PostRender"), f.directionality && (n.dir = f.directionality), f.nowrap && (n.style.whiteSpace = "nowrap"), f.protect && t.on("BeforeSetContent", function (t) {
          Jt.each(f.protect, function (e) {
            t.content = t.content.replace(e, function (e) {
              return "\x3c!--mce:protected " + escape(e) + "--\x3e";
            });
          });
        }), t.on("SetContent", function () {
          t.addVisual(t.getBody());
        }), t.load({
          initial: !0,
          format: "html"
        }), t.startContent = t.getContent({
          format: "raw"
        }), t.on("compositionstart compositionend", function (e) {
          t.composing = "compositionstart" === e.type;
        }), 0 < t.contentStyles.length && (r = "", Jt.each(t.contentStyles, function (e) {
          r += e + "\r\n";
        }), t.dom.addStyle(r)), (i = t, i.inline ? fw.styleSheetLoader : i.dom.styleSheetLoader).loadAll(t.contentCSS, function (e) {
          dw(t);
        }, function (e) {
          dw(t);
        }), f.content_style && (a = t, s = f.content_style, c = ir.fromDom(a.getDoc().head), l = ir.fromTag("style"), yr(l, "type", "text/css"), _i(l, ir.fromText(s)), _i(c, l));
      },
          gw = bi.DOM,
          pw = function pw(e, t) {
        var n,
            r,
            o,
            i,
            a,
            u,
            s,
            c = e.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"),
            l = (n = e.id, r = c, o = t.height, i = ll(e), s = ir.fromTag("iframe"), Cr(s, i), Cr(s, {
          id: n + "_ifr",
          frameBorder: "0",
          allowTransparency: "true",
          title: r
        }), Nr(s, {
          width: "100%",
          height: (a = o, u = "number" == typeof a ? a + "px" : a, u || ""),
          display: "block"
        }), s).dom();

        l.onload = function () {
          l.onload = null, e.fire("load");
        };

        var f,
            d,
            m,
            g,
            p = function (e, t) {
          if (H.document.domain !== H.window.location.hostname && ge.ie && ge.ie < 12) {
            var n = Ih.uuid("mce");

            e[n] = function () {
              mw(e);
            };

            var r = 'javascript:(function(){document.open();document.domain="' + H.document.domain + '";var ed = window.parent.tinymce.get("' + e.id + '");document.write(ed.iframeHTML);document.close();ed.' + n + "(true);})()";
            return gw.setAttrib(t, "src", r), !0;
          }

          return !1;
        }(e, l);

        return e.contentAreaContainer = t.iframeContainer, e.iframeElement = l, e.iframeHTML = (g = fl(f = e) + "<html><head>", dl(f) !== f.documentBaseUrl && (g += '<base href="' + f.documentBaseURI.getURI() + '" />'), g += '<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />', d = ml(f), m = gl(f), pl(f) && (g += '<meta http-equiv="Content-Security-Policy" content="' + pl(f) + '" />'), g += '</head><body id="' + d + '" class="mce-content-body ' + m + '" data-id="' + f.id + '"><br></body></html>'), gw.add(t.iframeContainer, l), p;
      },
          hw = function hw(e, t) {
        var n = pw(e, t);
        t.editorContainer && (gw.get(t.editorContainer).style.display = e.orgDisplay, e.hidden = gw.isHidden(t.editorContainer)), e.getElement().style.display = "none", gw.setAttrib(e.id, "aria-hidden", "true"), n || mw(e);
      },
          vw = bi.DOM,
          bw = function bw(t, n, e) {
        var r = Ch.get(e),
            o = Ch.urls[e] || t.documentBaseUrl.replace(/\/$/, "");

        if (e = Jt.trim(e), r && -1 === Jt.inArray(n, e)) {
          if (Jt.each(Ch.dependencies(e), function (e) {
            bw(t, n, e);
          }), t.plugins[e]) return;

          try {
            var i = new r(t, o, t.$);
            (t.plugins[e] = i).init && (i.init(t, o), n.push(e));
          } catch (ZN) {
            yh.pluginInitError(t, e, ZN);
          }
        }
      },
          yw = function yw(e) {
        return e.replace(/^\-/, "");
      },
          Cw = function Cw(e) {
        return {
          editorContainer: e,
          iframeContainer: e
        };
      },
          xw = function xw(e) {
        var t,
            n,
            r = e.getElement();
        return e.inline ? Cw(null) : (t = r, n = vw.create("div"), vw.insertAfter(n, t), Cw(n));
      },
          ww = function ww(e) {
        var t,
            n,
            r,
            o,
            i,
            a,
            u,
            s,
            c,
            l,
            f,
            d = e.settings,
            m = e.getElement();
        return e.orgDisplay = m.style.display, R(d.theme) ? (l = (o = e).settings, f = o.getElement(), i = l.width || vw.getStyle(f, "width") || "100%", a = l.height || vw.getStyle(f, "height") || f.offsetHeight, u = l.min_height || 100, (s = /^[0-9\.]+(|px)$/i).test("" + i) && (i = Math.max(parseInt(i, 10), 100)), s.test("" + a) && (a = Math.max(parseInt(a, 10), u)), c = o.theme.renderUI({
          targetNode: f,
          width: i,
          height: a,
          deltaWidth: l.delta_width,
          deltaHeight: l.delta_height
        }), l.content_editable || (a = (c.iframeHeight || a) + ("number" == typeof a ? c.deltaHeight || 0 : "")) < u && (a = u), c.height = a, c) : P(d.theme) ? (r = (t = e).getElement(), (n = t.settings.theme(t, r)).editorContainer.nodeType && (n.editorContainer.id = n.editorContainer.id || t.id + "_parent"), n.iframeContainer && n.iframeContainer.nodeType && (n.iframeContainer.id = n.iframeContainer.id || t.id + "_iframecontainer"), n.height = n.iframeHeight ? n.iframeHeight : r.offsetHeight, n) : xw(e);
      },
          Nw = function Nw(t) {
        var e,
            n,
            r,
            o,
            i,
            a,
            u = t.settings,
            s = t.getElement();
        return t.rtl = u.rtl_ui || t.editorManager.i18n.rtl, t.editorManager.i18n.setCode(u.language), u.aria_label = u.aria_label || vw.getAttrib(s, "aria-label", t.getLang("aria.rich_text_area")), t.fire("ScriptsLoaded"), o = (n = t).settings.theme, R(o) ? (n.settings.theme = yw(o), r = xh.get(o), n.theme = new r(n, xh.urls[o]), n.theme.init && n.theme.init(n, xh.urls[o] || n.documentBaseUrl.replace(/\/$/, ""), n.$)) : n.theme = {}, i = t, a = [], Jt.each(i.settings.plugins.split(/[ ,]/), function (e) {
          bw(i, a, yw(e));
        }), e = ww(t), t.editorContainer = e.editorContainer ? e.editorContainer : null, u.content_css && Jt.each(Jt.explode(u.content_css), function (e) {
          t.contentCSS.push(t.documentBaseURI.toAbsolute(e));
        }), u.content_editable ? mw(t) : hw(t, e);
      },
          Ew = bi.DOM,
          Sw = function Sw(e) {
        return "-" === e.charAt(0);
      },
          kw = function kw(i, a) {
        var u = Ni.ScriptLoader;
        !function (e, t, n, r) {
          var o = t.settings,
              i = o.theme;

          if (R(i)) {
            if (!Sw(i) && !xh.urls.hasOwnProperty(i)) {
              var a = o.theme_url;
              a ? xh.load(i, t.documentBaseURI.toAbsolute(a)) : xh.load(i, "themes/" + i + "/theme" + n + ".js");
            }

            e.loadQueue(function () {
              xh.waitFor(i, r);
            });
          } else r();
        }(u, i, a, function () {
          var e, t, n, r, o;
          e = u, (n = (t = i).settings).language && "en" !== n.language && !n.language_url && (n.language_url = t.editorManager.baseURL + "/langs/" + n.language + ".js"), n.language_url && !t.editorManager.i18n.data[n.language] && e.add(n.language_url), r = i.settings, o = a, Jt.isArray(r.plugins) && (r.plugins = r.plugins.join(" ")), Jt.each(r.external_plugins, function (e, t) {
            Ch.load(t, e), r.plugins += " " + t;
          }), Jt.each(r.plugins.split(/[ ,]/), function (e) {
            if ((e = Jt.trim(e)) && !Ch.urls[e]) if (Sw(e)) {
              e = e.substr(1, e.length);
              var t = Ch.dependencies(e);
              Jt.each(t, function (e) {
                var t = {
                  prefix: "plugins/",
                  resource: e,
                  suffix: "/plugin" + o + ".js"
                };
                e = Ch.createUrl(t, e), Ch.load(e.resource, e);
              });
            } else Ch.load(e, {
              prefix: "plugins/",
              resource: e,
              suffix: "/plugin" + o + ".js"
            });
          }), u.loadQueue(function () {
            i.removed || Nw(i);
          }, i, function (e) {
            yh.pluginLoadError(i, e[0]), i.removed || Nw(i);
          });
        });
      },
          Tw = function Tw(t) {
        var e = t.settings,
            n = t.id,
            r = function r() {
          Ew.unbind(H.window, "ready", r), t.render();
        };

        if (Ae.Event.domLoaded) {
          if (t.getElement() && ge.contentEditable) {
            e.inline ? t.inline = !0 : (t.orgVisibility = t.getElement().style.visibility, t.getElement().style.visibility = "hidden");
            var o = t.getElement().form || Ew.getParent(n, "form");
            o && (t.formElement = o, e.hidden_input && !/TEXTAREA|INPUT/i.test(t.getElement().nodeName) && (Ew.insertAfter(Ew.create("input", {
              type: "hidden",
              name: n
            }), n), t.hasHiddenInput = !0), t.formEventDelegate = function (e) {
              t.fire(e.type, e);
            }, Ew.bind(o, "submit reset", t.formEventDelegate), t.on("reset", function () {
              t.setContent(t.startContent, {
                format: "raw"
              });
            }), !e.submit_patch || o.submit.nodeType || o.submit.length || o._mceOldSubmit || (o._mceOldSubmit = o.submit, o.submit = function () {
              return t.editorManager.triggerSave(), t.setDirty(!1), o._mceOldSubmit(o);
            })), t.windowManager = lh(t), t.notificationManager = ch(t), "xml" === e.encoding && t.on("GetContent", function (e) {
              e.save && (e.content = Ew.encode(e.content));
            }), e.add_form_submit_trigger && t.on("submit", function () {
              t.initialized && t.save();
            }), e.add_unload_trigger && (t._beforeUnload = function () {
              !t.initialized || t.destroyed || t.isHidden() || t.save({
                format: "raw",
                no_events: !0,
                set_dirty: !1
              });
            }, t.editorManager.on("BeforeUnload", t._beforeUnload)), t.editorManager.add(t), kw(t, t.suffix);
          }
        } else Ew.bind(H.window, "ready", r);
      },
          Aw = function Aw(e, t, n) {
        var r = e.sidebars ? e.sidebars : [];
        r.push({
          name: t,
          settings: n
        }), e.sidebars = r;
      },
          Rw = Jt.each,
          _w = Jt.trim,
          Dw = "source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),
          Bw = {
        ftp: 21,
        http: 80,
        https: 443,
        mailto: 25
      },
          Ow = function Ow(r, e) {
        var t,
            n,
            o = this;
        if (r = _w(r), t = (e = o.settings = e || {}).base_uri, /^([\w\-]+):([^\/]{2})/i.test(r) || /^\s*#/.test(r)) o.source = r;else {
          var i = 0 === r.indexOf("//");
          0 !== r.indexOf("/") || i || (r = (t && t.protocol || "http") + "://mce_host" + r), /^[\w\-]*:?\/\//.test(r) || (n = e.base_uri ? e.base_uri.path : new Ow(H.document.location.href).directory, "" == e.base_uri.protocol ? r = "//mce_host" + o.toAbsPath(n, r) : (r = /([^#?]*)([#?]?.*)/.exec(r), r = (t && t.protocol || "http") + "://mce_host" + o.toAbsPath(n, r[1]) + r[2])), r = r.replace(/@@/g, "(mce_at)"), r = /^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(r), Rw(Dw, function (e, t) {
            var n = r[t];
            n && (n = n.replace(/\(mce_at\)/g, "@@")), o[e] = n;
          }), t && (o.protocol || (o.protocol = t.protocol), o.userInfo || (o.userInfo = t.userInfo), o.port || "mce_host" !== o.host || (o.port = t.port), o.host && "mce_host" !== o.host || (o.host = t.host), o.source = ""), i && (o.protocol = "");
        }
      };

      Ow.prototype = {
        setPath: function setPath(e) {
          e = /^(.*?)\/?(\w+)?$/.exec(e), this.path = e[0], this.directory = e[1], this.file = e[2], this.source = "", this.getURI();
        },
        toRelative: function toRelative(e) {
          var t;
          if ("./" === e) return e;
          if ("mce_host" !== (e = new Ow(e, {
            base_uri: this
          })).host && this.host !== e.host && e.host || this.port !== e.port || this.protocol !== e.protocol && "" !== e.protocol) return e.getURI();
          var n = this.getURI(),
              r = e.getURI();
          return n === r || "/" === n.charAt(n.length - 1) && n.substr(0, n.length - 1) === r ? n : (t = this.toRelPath(this.path, e.path), e.query && (t += "?" + e.query), e.anchor && (t += "#" + e.anchor), t);
        },
        toAbsolute: function toAbsolute(e, t) {
          return (e = new Ow(e, {
            base_uri: this
          })).getURI(t && this.isSameOrigin(e));
        },
        isSameOrigin: function isSameOrigin(e) {
          if (this.host == e.host && this.protocol == e.protocol) {
            if (this.port == e.port) return !0;
            var t = Bw[this.protocol];
            if (t && (this.port || t) == (e.port || t)) return !0;
          }

          return !1;
        },
        toRelPath: function toRelPath(e, t) {
          var n,
              r,
              o,
              i = 0,
              a = "";
          if (e = (e = e.substring(0, e.lastIndexOf("/"))).split("/"), n = t.split("/"), e.length >= n.length) for (r = 0, o = e.length; r < o; r++) {
            if (r >= n.length || e[r] !== n[r]) {
              i = r + 1;
              break;
            }
          }
          if (e.length < n.length) for (r = 0, o = n.length; r < o; r++) {
            if (r >= e.length || e[r] !== n[r]) {
              i = r + 1;
              break;
            }
          }
          if (1 === i) return t;

          for (r = 0, o = e.length - (i - 1); r < o; r++) {
            a += "../";
          }

          for (r = i - 1, o = n.length; r < o; r++) {
            a += r !== i - 1 ? "/" + n[r] : n[r];
          }

          return a;
        },
        toAbsPath: function toAbsPath(e, t) {
          var n,
              r,
              o,
              i = 0,
              a = [];

          for (r = /\/$/.test(t) ? "/" : "", e = e.split("/"), t = t.split("/"), Rw(e, function (e) {
            e && a.push(e);
          }), e = a, n = t.length - 1, a = []; 0 <= n; n--) {
            0 !== t[n].length && "." !== t[n] && (".." !== t[n] ? 0 < i ? i-- : a.push(t[n]) : i++);
          }

          return 0 !== (o = (n = e.length - i) <= 0 ? a.reverse().join("/") : e.slice(0, n).join("/") + "/" + a.reverse().join("/")).indexOf("/") && (o = "/" + o), r && o.lastIndexOf("/") !== o.length - 1 && (o += r), o;
        },
        getURI: function getURI(e) {
          var t,
              n = this;
          return n.source && !e || (t = "", e || (n.protocol ? t += n.protocol + "://" : t += "//", n.userInfo && (t += n.userInfo + "@"), n.host && (t += n.host), n.port && (t += ":" + n.port)), n.path && (t += n.path), n.query && (t += "?" + n.query), n.anchor && (t += "#" + n.anchor), n.source = t), n.source;
        }
      }, Ow.parseDataUri = function (e) {
        var t, n;
        return e = decodeURIComponent(e).split(","), (n = /data:([^;]+)/.exec(e[0])) && (t = n[1]), {
          type: t,
          data: e[1]
        };
      }, Ow.getDocumentBaseUrl = function (e) {
        var t;
        return t = 0 !== e.protocol.indexOf("http") && "file:" !== e.protocol ? e.href : e.protocol + "//" + e.host + e.pathname, /^[^:]+:\/\/\/?[^\/]+\//.test(t) && (t = t.replace(/[\?#].*$/, "").replace(/[\/\\][^\/]+$/, ""), /[\/\\]$/.test(t) || (t += "/")), t;
      };

      var Pw = function Pw(e, t, n) {
        var r, o, i, a, u;
        if (t.format = t.format ? t.format : "html", t.get = !0, t.getInner = !0, t.no_events || e.fire("BeforeGetContent", t), "raw" === t.format) r = Jt.trim(Dv.trimExternal(e.serializer, n.innerHTML));else if ("text" === t.format) r = ga(n.innerText || n.textContent);else {
          if ("tree" === t.format) return e.serializer.serialize(n, t);
          i = (o = e).serializer.serialize(n, t), a = vl(o), u = new RegExp("^(<" + a + "[^>]*>(&nbsp;|&#160;|\\s|\xa0|<br \\/>|)<\\/" + a + ">[\r\n]*|<br \\/>[\r\n]*)$"), r = i.replace(u, "");
        }
        return "text" === t.format || wo(ir.fromDom(n)) ? t.content = r : t.content = Jt.trim(r), t.no_events || e.fire("GetContent", t), t.content;
      },
          Iw = function Iw(e, t) {
        t(e), e.firstChild && Iw(e.firstChild, t), e.next && Iw(e.next, t);
      },
          Lw = function Lw(e, t, n) {
        var r = function (e, n, t) {
          var r = {},
              o = {},
              i = [];

          for (var a in t.firstChild && Iw(t.firstChild, function (t) {
            U(e, function (e) {
              e.name === t.name && (r[e.name] ? r[e.name].nodes.push(t) : r[e.name] = {
                filter: e,
                nodes: [t]
              });
            }), U(n, function (e) {
              "string" == typeof t.attr(e.name) && (o[e.name] ? o[e.name].nodes.push(t) : o[e.name] = {
                filter: e,
                nodes: [t]
              });
            });
          }), r) {
            r.hasOwnProperty(a) && i.push(r[a]);
          }

          for (var a in o) {
            o.hasOwnProperty(a) && i.push(o[a]);
          }

          return i;
        }(e, t, n);

        U(r, function (t) {
          U(t.filter.callbacks, function (e) {
            e(t.nodes, t.filter.name, {});
          });
        });
      },
          Mw = function Mw(e) {
        return e instanceof Zb;
      },
          Fw = function Fw(e, t) {
        var r;
        e.dom.setHTML(e.getBody(), t), eh(r = e) && nc.firstPositionIn(r.getBody()).each(function (e) {
          var t = e.getNode(),
              n = Po.isTable(t) ? nc.firstPositionIn(t).getOr(e) : e;
          r.selection.setRng(n.toRange());
        });
      },
          zw = function zw(u, s, c) {
        return void 0 === c && (c = {}), c.format = c.format ? c.format : "html", c.set = !0, c.content = Mw(s) ? "" : s, Mw(s) || c.no_events || (u.fire("BeforeSetContent", c), s = c.content), A.from(u.getBody()).fold(q(s), function (e) {
          return Mw(s) ? function (e, t, n, r) {
            Lw(e.parser.getNodeFilters(), e.parser.getAttributeFilters(), n);
            var o = el({
              validate: e.validate
            }, e.schema).serialize(n);
            return r.content = wo(ir.fromDom(t)) ? o : Jt.trim(o), Fw(e, r.content), r.no_events || e.fire("SetContent", r), n;
          }(u, e, s, c) : (t = u, n = e, o = c, 0 === (r = s).length || /^\s+$/.test(r) ? (a = '<br data-mce-bogus="1">', "TABLE" === n.nodeName ? r = "<tr><td>" + a + "</td></tr>" : /^(UL|OL)$/.test(n.nodeName) && (r = "<li>" + a + "</li>"), (i = vl(t)) && t.schema.isValidChild(n.nodeName.toLowerCase(), i.toLowerCase()) ? (r = a, r = t.dom.createHTML(i, t.settings.forced_root_block_attrs, r)) : r || (r = '<br data-mce-bogus="1">'), Fw(t, r), t.fire("SetContent", o)) : ("raw" !== o.format && (r = el({
            validate: t.validate
          }, t.schema).serialize(t.parser.parse(r, {
            isRootContent: !0,
            insert: !0
          }))), o.content = wo(ir.fromDom(n)) ? r : Jt.trim(r), Fw(t, o.content), o.no_events || t.fire("SetContent", o)), o.content);
          var t, n, r, o, i, a;
        });
      },
          Uw = bi.DOM,
          Vw = function Vw(e) {
        return A.from(e).each(function (e) {
          return e.destroy();
        });
      },
          Hw = function Hw(e) {
        if (!e.removed) {
          var t = e._selectionOverrides,
              n = e.editorUpload,
              r = e.getBody(),
              o = e.getElement();
          r && e.save({
            is_removing: !0
          }), e.removed = !0, e.unbindAllNativeEvents(), e.hasHiddenInput && o && Uw.remove(o.nextSibling), gp(e), e.editorManager.remove(e), !e.inline && r && (i = e, Uw.setStyle(i.id, "display", i.orgDisplay)), pp(e), Uw.remove(e.getContainer()), Vw(t), Vw(n), e.destroy();
        }

        var i;
      },
          jw = function jw(e, t) {
        var n,
            r,
            o,
            i = e.selection,
            a = e.dom;
        e.destroyed || (t || e.removed ? (t || (e.editorManager.off("beforeunload", e._beforeUnload), e.theme && e.theme.destroy && e.theme.destroy(), Vw(i), Vw(a)), (r = (n = e).formElement) && (r._mceOldSubmit && (r.submit = r._mceOldSubmit, r._mceOldSubmit = null), Uw.unbind(r, "submit reset", n.formEventDelegate)), (o = e).contentAreaContainer = o.formElement = o.container = o.editorContainer = null, o.bodyElement = o.contentDocument = o.contentWindow = null, o.iframeElement = o.targetElm = null, o.selection && (o.selection = o.selection.win = o.selection.dom = o.selection.dom.doc = null), e.destroyed = !0) : e.remove());
      },
          qw = bi.DOM,
          $w = Jt.extend,
          Ww = Jt.each,
          Kw = Jt.resolve,
          Xw = ge.ie,
          Yw = function Yw(e, t, n) {
        var r,
            o,
            i,
            a,
            u,
            s,
            c,
            l = this,
            f = l.documentBaseUrl = n.documentBaseURL,
            d = n.baseURI;
        r = l, o = e, i = f, a = n.defaultSettings, u = t, c = {
          id: o,
          theme: "modern",
          delta_width: 0,
          delta_height: 0,
          popup_css: "",
          plugins: "",
          document_base_url: i,
          add_form_submit_trigger: !0,
          submit_patch: !0,
          add_unload_trigger: !0,
          convert_urls: !0,
          relative_urls: !0,
          remove_script_host: !0,
          object_resizing: !0,
          doctype: "<!DOCTYPE html>",
          visual: !0,
          font_size_style_values: "xx-small,x-small,small,medium,large,x-large,xx-large",
          font_size_legacy_values: "xx-small,small,medium,large,x-large,xx-large,300%",
          forced_root_block: "p",
          hidden_input: !0,
          render_ui: !0,
          indentation: "40px",
          inline_styles: !0,
          convert_fonts_to_spans: !0,
          indent: "simple",
          indent_before: "p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",
          indent_after: "p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",
          entity_encoding: "named",
          url_converter: (s = r).convertURL,
          url_converter_scope: s,
          ie7_compat: !0
        }, t = Mp(_p, c, a, u), l.settings = t, ki.language = t.language || "en", ki.languageLoad = t.language_load, ki.baseURL = n.baseURL, l.id = e, l.setDirty(!1), l.plugins = {}, l.documentBaseURI = new Ow(t.document_base_url, {
          base_uri: d
        }), l.baseURI = d, l.contentCSS = [], l.contentStyles = [], l.shortcuts = new qp(l), l.loadedCSS = {}, l.editorCommands = new ap(l), l.suffix = n.suffix, l.editorManager = n, l.inline = t.inline, l.buttons = {}, l.menuItems = {}, t.cache_suffix && (ge.cacheSuffix = t.cache_suffix.replace(/^[\?\&]+/, "")), !1 === t.override_viewport && (ge.overrideViewPort = !1), n.fire("SetupEditor", {
          editor: l
        }), l.execCallback("setup", l), l.$ = vn.overrideDefaults(function () {
          return {
            context: l.inline ? l.getBody() : l.getDoc(),
            element: l.getBody()
          };
        });
      };

      $w(Yw.prototype = {
        render: function render() {
          Tw(this);
        },
        focus: function focus(e) {
          Zp(this, e);
        },
        hasFocus: function hasFocus() {
          return eh(this);
        },
        execCallback: function execCallback(e) {
          for (var t = [], n = 1; n < arguments.length; n++) {
            t[n - 1] = arguments[n];
          }

          var r,
              o = this.settings[e];
          if (o) return this.callbackLookup && (r = this.callbackLookup[e]) && (o = r.func, r = r.scope), "string" == typeof o && (r = (r = o.replace(/\.\w+$/, "")) ? Kw(r) : 0, o = Kw(o), this.callbackLookup = this.callbackLookup || {}, this.callbackLookup[e] = {
            func: o,
            scope: r
          }), o.apply(r || this, Array.prototype.slice.call(arguments, 1));
        },
        translate: function translate(e) {
          if (e && Jt.is(e, "string")) {
            var n = this.settings.language || "en",
                r = this.editorManager.i18n;
            e = r.data[n + "." + e] || e.replace(/\{\#([^\}]+)\}/g, function (e, t) {
              return r.data[n + "." + t] || "{#" + t + "}";
            });
          }

          return this.editorManager.translate(e);
        },
        getLang: function getLang(e, t) {
          return this.editorManager.i18n.data[(this.settings.language || "en") + "." + e] || (t !== undefined ? t : "{#" + e + "}");
        },
        getParam: function getParam(e, t, n) {
          return zp(this, e, t, n);
        },
        nodeChanged: function nodeChanged(e) {
          this._nodeChangeDispatcher.nodeChanged(e);
        },
        addButton: function addButton(e, t) {
          var n = this;
          t.cmd && (t.onclick = function () {
            n.execCommand(t.cmd);
          }), t.stateSelector && "undefined" == typeof t.active && (t.active = !1), t.text || t.icon || (t.icon = e), t.tooltip = t.tooltip || t.title, n.buttons[e] = t;
        },
        addSidebar: function addSidebar(e, t) {
          return Aw(this, e, t);
        },
        addMenuItem: function addMenuItem(e, t) {
          var n = this;
          t.cmd && (t.onclick = function () {
            n.execCommand(t.cmd);
          }), n.menuItems[e] = t;
        },
        addContextToolbar: function addContextToolbar(e, t) {
          var n,
              r = this;
          r.contextToolbars = r.contextToolbars || [], "string" == typeof e && (n = e, e = function e(_e8) {
            return r.dom.is(_e8, n);
          }), r.contextToolbars.push({
            id: Ih.uuid("mcet"),
            predicate: e,
            items: t
          });
        },
        addCommand: function addCommand(e, t, n) {
          this.editorCommands.addCommand(e, t, n);
        },
        addQueryStateHandler: function addQueryStateHandler(e, t, n) {
          this.editorCommands.addQueryStateHandler(e, t, n);
        },
        addQueryValueHandler: function addQueryValueHandler(e, t, n) {
          this.editorCommands.addQueryValueHandler(e, t, n);
        },
        addShortcut: function addShortcut(e, t, n, r) {
          this.shortcuts.add(e, t, n, r);
        },
        execCommand: function execCommand(e, t, n, r) {
          return this.editorCommands.execCommand(e, t, n, r);
        },
        queryCommandState: function queryCommandState(e) {
          return this.editorCommands.queryCommandState(e);
        },
        queryCommandValue: function queryCommandValue(e) {
          return this.editorCommands.queryCommandValue(e);
        },
        queryCommandSupported: function queryCommandSupported(e) {
          return this.editorCommands.queryCommandSupported(e);
        },
        show: function show() {
          this.hidden && (this.hidden = !1, this.inline ? this.getBody().contentEditable = !0 : (qw.show(this.getContainer()), qw.hide(this.id)), this.load(), this.fire("show"));
        },
        hide: function hide() {
          var e = this,
              t = e.getDoc();
          e.hidden || (Xw && t && !e.inline && t.execCommand("SelectAll"), e.save(), e.inline ? (e.getBody().contentEditable = !1, e === e.editorManager.focusedEditor && (e.editorManager.focusedEditor = null)) : (qw.hide(e.getContainer()), qw.setStyle(e.id, "display", e.orgDisplay)), e.hidden = !0, e.fire("hide"));
        },
        isHidden: function isHidden() {
          return !!this.hidden;
        },
        setProgressState: function setProgressState(e, t) {
          this.fire("ProgressState", {
            state: e,
            time: t
          });
        },
        load: function load(e) {
          var t,
              n = this.getElement();
          return this.removed ? "" : n ? ((e = e || {}).load = !0, t = this.setContent(n.value !== undefined ? n.value : n.innerHTML, e), e.element = n, e.no_events || this.fire("LoadContent", e), e.element = n = null, t) : void 0;
        },
        save: function save(e) {
          var t,
              n,
              r = this,
              o = r.getElement();
          if (o && r.initialized && !r.removed) return (e = e || {}).save = !0, e.element = o, e.content = r.getContent(e), e.no_events || r.fire("SaveContent", e), "raw" === e.format && r.fire("RawSaveContent", e), t = e.content, /TEXTAREA|INPUT/i.test(o.nodeName) ? o.value = t : (!e.is_removing && r.inline || (o.innerHTML = t), (n = qw.getParent(r.id, "form")) && Ww(n.elements, function (e) {
            if (e.name === r.id) return e.value = t, !1;
          })), e.element = o = null, !1 !== e.set_dirty && r.setDirty(!1), t;
        },
        setContent: function setContent(e, t) {
          return zw(this, e, t);
        },
        getContent: function getContent(e) {
          return t = this, void 0 === (n = e) && (n = {}), A.from(t.getBody()).fold(q("tree" === n.format ? new Zb("body", 11) : ""), function (e) {
            return Pw(t, n, e);
          });
          var t, n;
        },
        insertContent: function insertContent(e, t) {
          t && (e = $w({
            content: e
          }, t)), this.execCommand("mceInsertContent", !1, e);
        },
        isDirty: function isDirty() {
          return !this.isNotDirty;
        },
        setDirty: function setDirty(e) {
          var t = !this.isNotDirty;
          this.isNotDirty = !e, e && e !== t && this.fire("dirty");
        },
        setMode: function setMode(e) {
          var t, n;
          (n = e) !== wp(t = this) && (t.initialized ? xp(t, "readonly" === n) : t.on("init", function () {
            xp(t, "readonly" === n);
          }), hp(t, n));
        },
        getContainer: function getContainer() {
          return this.container || (this.container = qw.get(this.editorContainer || this.id + "_parent")), this.container;
        },
        getContentAreaContainer: function getContentAreaContainer() {
          return this.contentAreaContainer;
        },
        getElement: function getElement() {
          return this.targetElm || (this.targetElm = qw.get(this.id)), this.targetElm;
        },
        getWin: function getWin() {
          var e;
          return this.contentWindow || (e = this.iframeElement) && (this.contentWindow = e.contentWindow), this.contentWindow;
        },
        getDoc: function getDoc() {
          var e;
          return this.contentDocument || (e = this.getWin()) && (this.contentDocument = e.document), this.contentDocument;
        },
        getBody: function getBody() {
          var e = this.getDoc();
          return this.bodyElement || (e ? e.body : null);
        },
        convertURL: function convertURL(e, t, n) {
          var r = this.settings;
          return r.urlconverter_callback ? this.execCallback("urlconverter_callback", e, n, !0, t) : !r.convert_urls || n && "LINK" === n.nodeName || 0 === e.indexOf("file:") || 0 === e.length ? e : r.relative_urls ? this.documentBaseURI.toRelative(e) : e = this.documentBaseURI.toAbsolute(e, r.remove_script_host);
        },
        addVisual: function addVisual(e) {
          var n,
              r = this,
              o = r.settings,
              i = r.dom;
          e = e || r.getBody(), r.hasVisual === undefined && (r.hasVisual = o.visual), Ww(i.select("table,a", e), function (e) {
            var t;

            switch (e.nodeName) {
              case "TABLE":
                return n = o.visual_table_class || "mce-item-table", void ((t = i.getAttrib(e, "border")) && "0" !== t || !r.hasVisual ? i.removeClass(e, n) : i.addClass(e, n));

              case "A":
                return void (i.getAttrib(e, "href") || (t = i.getAttrib(e, "name") || e.id, n = o.visual_anchor_class || "mce-item-anchor", t && r.hasVisual ? i.addClass(e, n) : i.removeClass(e, n)));
            }
          }), r.fire("VisualAid", {
            element: e,
            hasVisual: r.hasVisual
          });
        },
        remove: function remove() {
          Hw(this);
        },
        destroy: function destroy(e) {
          jw(this, e);
        },
        uploadImages: function uploadImages(e) {
          return this.editorUpload.uploadImages(e);
        },
        _scanForImages: function _scanForImages() {
          return this.editorUpload.scanForImages();
        }
      }, Ap);

      var Gw,
          Jw,
          Qw,
          Zw = {
        isEditorUIElement: function isEditorUIElement(e) {
          return -1 !== e.className.toString().indexOf("mce-");
        }
      },
          eN = function eN(n, e) {
        var t, r;
        rr.detect().browser.isIE() ? (r = n).on("focusout", function () {
          Gg(r);
        }) : (t = e, n.on("mouseup touchend", function (e) {
          t.throttle();
        })), n.on("keyup nodechange", function (e) {
          var t;
          "nodechange" === (t = e).type && t.selectionChange || Gg(n);
        });
      },
          tN = function tN(e) {
        var t,
            n,
            r,
            o = Ii(function () {
          Gg(e);
        }, 0);
        e.inline && (t = e, n = o, r = function r() {
          n.throttle();
        }, bi.DOM.bind(H.document, "mouseup", r), t.on("remove", function () {
          bi.DOM.unbind(H.document, "mouseup", r);
        })), e.on("init", function () {
          eN(e, o);
        }), e.on("remove", function () {
          o.cancel();
        });
      },
          nN = bi.DOM,
          rN = function rN(e) {
        return Zw.isEditorUIElement(e);
      },
          oN = function oN(t, e) {
        var n = t ? t.settings.custom_ui_selector : "";
        return null !== nN.getParent(e, function (e) {
          return rN(e) || !!n && t.dom.is(e, n);
        });
      },
          iN = function iN(r, e) {
        var t = e.editor;
        tN(t), t.on("focusin", function () {
          var e = r.focusedEditor;
          e !== this && (e && e.fire("blur", {
            focusedEditor: this
          }), r.setActive(this), (r.focusedEditor = this).fire("focus", {
            blurredEditor: e
          }), this.focus(!0));
        }), t.on("focusout", function () {
          var t = this;
          ye.setEditorTimeout(t, function () {
            var e = r.focusedEditor;
            oN(t, function () {
              try {
                return H.document.activeElement;
              } catch (e) {
                return H.document.body;
              }
            }()) || e !== t || (t.fire("blur", {
              focusedEditor: null
            }), r.focusedEditor = null);
          });
        }), Gw || (Gw = function Gw(e) {
          var t,
              n = r.activeEditor;
          t = e.target, n && t.ownerDocument === H.document && (t === H.document.body || oN(n, t) || r.focusedEditor !== n || (n.fire("blur", {
            focusedEditor: null
          }), r.focusedEditor = null));
        }, nN.bind(H.document, "focusin", Gw));
      },
          aN = function aN(e, t) {
        e.focusedEditor === t.editor && (e.focusedEditor = null), e.activeEditor || (nN.unbind(H.document, "focusin", Gw), Gw = null);
      },
          uN = function uN(e) {
        e.on("AddEditor", d(iN, e)), e.on("RemoveEditor", d(aN, e));
      },
          sN = bi.DOM,
          cN = Jt.explode,
          lN = Jt.each,
          fN = Jt.extend,
          dN = 0,
          mN = !1,
          gN = [],
          pN = [],
          hN = function hN(t) {
        var n = t.type;
        lN(Qw.get(), function (e) {
          switch (n) {
            case "scroll":
              e.fire("ScrollWindow", t);
              break;

            case "resize":
              e.fire("ResizeWindow", t);
          }
        });
      },
          vN = function vN(e) {
        e !== mN && (e ? vn(window).on("resize scroll", hN) : vn(window).off("resize scroll", hN), mN = e);
      },
          bN = function bN(t) {
        var e = pN;
        delete gN[t.id];

        for (var n = 0; n < gN.length; n++) {
          if (gN[n] === t) {
            gN.splice(n, 1);
            break;
          }
        }

        return pN = V(pN, function (e) {
          return t !== e;
        }), Qw.activeEditor === t && (Qw.activeEditor = 0 < pN.length ? pN[0] : null), Qw.focusedEditor === t && (Qw.focusedEditor = null), e.length !== pN.length;
      };

      fN(Qw = {
        defaultSettings: {},
        $: vn,
        majorVersion: "4",
        minorVersion: "9.5",
        releaseDate: "2019-07-02",
        editors: gN,
        i18n: mh,
        activeEditor: null,
        settings: {},
        setup: function setup() {
          var e,
              t,
              n,
              r,
              o = "";
          if (t = Ow.getDocumentBaseUrl(H.document.location), /^[^:]+:\/\/\/?[^\/]+\//.test(t) && (t = t.replace(/[\?#].*$/, "").replace(/[\/\\][^\/]+$/, ""), /[\/\\]$/.test(t) || (t += "/")), n = window.tinymce || window.tinyMCEPreInit) e = n.base || n.baseURL, o = n.suffix;else {
            for (var i = H.document.getElementsByTagName("script"), a = 0; a < i.length; a++) {
              var u = (r = i[a].src).substring(r.lastIndexOf("/"));

              if (/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(r)) {
                -1 !== u.indexOf(".min") && (o = ".min"), e = r.substring(0, r.lastIndexOf("/"));
                break;
              }
            }

            !e && H.document.currentScript && (-1 !== (r = H.document.currentScript.src).indexOf(".min") && (o = ".min"), e = r.substring(0, r.lastIndexOf("/")));
          }
          this.baseURL = new Ow(t).toAbsolute(e), this.documentBaseURL = t, this.baseURI = new Ow(this.baseURL), this.suffix = o, uN(this);
        },
        overrideDefaults: function overrideDefaults(e) {
          var t, n;
          (t = e.base_url) && (this.baseURL = new Ow(this.documentBaseURL).toAbsolute(t.replace(/\/+$/, "")), this.baseURI = new Ow(this.baseURL)), n = e.suffix, e.suffix && (this.suffix = n);
          var r = (this.defaultSettings = e).plugin_base_urls;

          for (var o in r) {
            ki.PluginManager.urls[o] = r[o];
          }
        },
        init: function init(r) {
          var n,
              u,
              s = this;
          u = Jt.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option tbody tfoot thead tr script noscript style textarea video audio iframe object menu", " ");

          var c = function c(e) {
            var t = e.id;
            return t || (t = (t = e.name) && !sN.get(t) ? e.name : sN.uniqueId(), e.setAttribute("id", t)), t;
          },
              l = function l(e, t) {
            return t.constructor === RegExp ? t.test(e.className) : sN.hasClass(e, t);
          },
              f = function f(e) {
            n = e;
          },
              e = function e() {
            var o,
                i = 0,
                a = [],
                n = function n(e, t, _n5) {
              var r = new Yw(e, t, s);
              a.push(r), r.on("init", function () {
                ++i === o.length && f(a);
              }), r.targetElm = r.targetElm || _n5, r.render();
            };

            sN.unbind(window, "ready", e), function (e) {
              var t = r[e];
              t && t.apply(s, Array.prototype.slice.call(arguments, 2));
            }("onpageload"), o = vn.unique(function (t) {
              var e,
                  n = [];
              if (ge.ie && ge.ie < 11) return yh.initError("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"), [];
              if (t.types) return lN(t.types, function (e) {
                n = n.concat(sN.select(e.selector));
              }), n;
              if (t.selector) return sN.select(t.selector);
              if (t.target) return [t.target];

              switch (t.mode) {
                case "exact":
                  0 < (e = t.elements || "").length && lN(cN(e), function (t) {
                    var e;
                    (e = sN.get(t)) ? n.push(e) : lN(H.document.forms, function (e) {
                      lN(e.elements, function (e) {
                        e.name === t && (t = "mce_editor_" + dN++, sN.setAttrib(e, "id", t), n.push(e));
                      });
                    });
                  });
                  break;

                case "textareas":
                case "specific_textareas":
                  lN(sN.select("textarea"), function (e) {
                    t.editor_deselector && l(e, t.editor_deselector) || t.editor_selector && !l(e, t.editor_selector) || n.push(e);
                  });
              }

              return n;
            }(r)), r.types ? lN(r.types, function (t) {
              Jt.each(o, function (e) {
                return !sN.is(e, t.selector) || (n(c(e), fN({}, r, t), e), !1);
              });
            }) : (Jt.each(o, function (e) {
              var t;
              (t = s.get(e.id)) && t.initialized && !(t.getContainer() || t.getBody()).parentNode && (bN(t), t.unbindAllNativeEvents(), t.destroy(!0), t.removed = !0, t = null);
            }), 0 === (o = Jt.grep(o, function (e) {
              return !s.get(e.id);
            })).length ? f([]) : lN(o, function (e) {
              var t;
              t = e, r.inline && t.tagName.toLowerCase() in u ? yh.initError("Could not initialize inline editor on invalid inline target element", e) : n(c(e), r, e);
            }));
          };

          return s.settings = r, sN.bind(window, "ready", e), new pe(function (t) {
            n ? t(n) : f = function f(e) {
              t(e);
            };
          });
        },
        get: function get(t) {
          return 0 === arguments.length ? pN.slice(0) : R(t) ? Y(pN, function (e) {
            return e.id === t;
          }).getOr(null) : I(t) && pN[t] ? pN[t] : null;
        },
        add: function add(e) {
          var t = this;
          return gN[e.id] === e || (null === t.get(e.id) && ("length" !== e.id && (gN[e.id] = e), gN.push(e), pN.push(e)), vN(!0), t.activeEditor = e, t.fire("AddEditor", {
            editor: e
          }), Jw || (Jw = function Jw() {
            t.fire("BeforeUnload");
          }, sN.bind(window, "beforeunload", Jw))), e;
        },
        createEditor: function createEditor(e, t) {
          return this.add(new Yw(e, t, this));
        },
        remove: function remove(e) {
          var t,
              n,
              r = this;

          if (e) {
            if (!R(e)) return n = e, B(r.get(n.id)) ? null : (bN(n) && r.fire("RemoveEditor", {
              editor: n
            }), 0 === pN.length && sN.unbind(window, "beforeunload", Jw), n.remove(), vN(0 < pN.length), n);
            lN(sN.select(e), function (e) {
              (n = r.get(e.id)) && r.remove(n);
            });
          } else for (t = pN.length - 1; 0 <= t; t--) {
            r.remove(pN[t]);
          }
        },
        execCommand: function execCommand(e, t, n) {
          var r = this.get(n);

          switch (e) {
            case "mceAddEditor":
              return this.get(n) || new Yw(n, this.settings, this).render(), !0;

            case "mceRemoveEditor":
              return r && r.remove(), !0;

            case "mceToggleEditor":
              return r ? r.isHidden() ? r.show() : r.hide() : this.execCommand("mceAddEditor", 0, n), !0;
          }

          return !!this.activeEditor && this.activeEditor.execCommand(e, t, n);
        },
        triggerSave: function triggerSave() {
          lN(pN, function (e) {
            e.save();
          });
        },
        addI18n: function addI18n(e, t) {
          mh.add(e, t);
        },
        translate: function translate(e) {
          return mh.translate(e);
        },
        setActive: function setActive(e) {
          var t = this.activeEditor;
          this.activeEditor !== e && (t && t.fire("deactivate", {
            relatedTarget: e
          }), e.fire("activate", {
            relatedTarget: t
          })), this.activeEditor = e;
        }
      }, fp), Qw.setup();
      var yN,
          CN = Qw;

      function xN(n) {
        return {
          walk: function walk(e, t) {
            return _c(n, e, t);
          },
          split: Im,
          normalize: function normalize(t) {
            return wg(n, t).fold(q(!1), function (e) {
              return t.setStart(e.startContainer, e.startOffset), t.setEnd(e.endContainer, e.endOffset), !0;
            });
          }
        };
      }

      (yN = xN || (xN = {})).compareRanges = pg, yN.getCaretRangeFromPoint = Ty, yN.getSelectedNode = $a, yN.getNode = Wa;

      var _wN,
          NN,
          EN = xN,
          SN = Math.min,
          kN = Math.max,
          TN = Math.round,
          AN = function AN(e, t, n) {
        var r, o, i, a, u, s;
        return r = t.x, o = t.y, i = e.w, a = e.h, u = t.w, s = t.h, "b" === (n = (n || "").split(""))[0] && (o += s), "r" === n[1] && (r += u), "c" === n[0] && (o += TN(s / 2)), "c" === n[1] && (r += TN(u / 2)), "b" === n[3] && (o -= a), "r" === n[4] && (r -= i), "c" === n[3] && (o -= TN(a / 2)), "c" === n[4] && (r -= TN(i / 2)), RN(r, o, i, a);
      },
          RN = function RN(e, t, n, r) {
        return {
          x: e,
          y: t,
          w: n,
          h: r
        };
      },
          _N = {
        inflate: function inflate(e, t, n) {
          return RN(e.x - t, e.y - n, e.w + 2 * t, e.h + 2 * n);
        },
        relativePosition: AN,
        findBestRelativePosition: function findBestRelativePosition(e, t, n, r) {
          var o, i;

          for (i = 0; i < r.length; i++) {
            if ((o = AN(e, t, r[i])).x >= n.x && o.x + o.w <= n.w + n.x && o.y >= n.y && o.y + o.h <= n.h + n.y) return r[i];
          }

          return null;
        },
        intersect: function intersect(e, t) {
          var n, r, o, i;
          return n = kN(e.x, t.x), r = kN(e.y, t.y), o = SN(e.x + e.w, t.x + t.w), i = SN(e.y + e.h, t.y + t.h), o - n < 0 || i - r < 0 ? null : RN(n, r, o - n, i - r);
        },
        clamp: function clamp(e, t, n) {
          var r, o, i, a, u, s, c, l, f, d;
          return u = e.x, s = e.y, c = e.x + e.w, l = e.y + e.h, f = t.x + t.w, d = t.y + t.h, r = kN(0, t.x - u), o = kN(0, t.y - s), i = kN(0, c - f), a = kN(0, l - d), u += r, s += o, n && (c += r, l += o, u -= i, s -= a), RN(u, s, (c -= i) - u, (l -= a) - s);
        },
        create: RN,
        fromClientRect: function fromClientRect(e) {
          return RN(e.left, e.top, e.width, e.height);
        }
      },
          DN = {},
          BN = {
        add: function add(e, t) {
          DN[e.toLowerCase()] = t;
        },
        has: function has(e) {
          return !!DN[e.toLowerCase()];
        },
        get: function get(e) {
          var t = e.toLowerCase(),
              n = DN.hasOwnProperty(t) ? DN[t] : null;
          if (null === n) throw new Error("Could not find module for type: " + e);
          return n;
        },
        create: function create(e, t) {
          var n;
          if ("string" == typeof e ? (t = t || {}).type = e : e = (t = e).type, e = e.toLowerCase(), !(n = DN[e])) throw new Error("Could not find control by type: " + e);
          return (n = new n(t)).type = e, n;
        }
      },
          ON = Jt.each,
          PN = Jt.extend,
          IN = function IN() {};

      IN.extend = _wN = function wN(n) {
        var e,
            t,
            r,
            o = this.prototype,
            i = function i() {
          var e, t, n;
          if (!NN && (this.init && this.init.apply(this, arguments), t = this.Mixins)) for (e = t.length; e--;) {
            (n = t[e]).init && n.init.apply(this, arguments);
          }
        },
            a = function a() {
          return this;
        },
            u = function u(n, r) {
          return function () {
            var e,
                t = this._super;
            return this._super = o[n], e = r.apply(this, arguments), this._super = t, e;
          };
        };

        for (t in NN = !0, e = new this(), NN = !1, n.Mixins && (ON(n.Mixins, function (e) {
          for (var t in e) {
            "init" !== t && (n[t] = e[t]);
          }
        }), o.Mixins && (n.Mixins = o.Mixins.concat(n.Mixins))), n.Methods && ON(n.Methods.split(","), function (e) {
          n[e] = a;
        }), n.Properties && ON(n.Properties.split(","), function (e) {
          var t = "_" + e;

          n[e] = function (e) {
            return e !== undefined ? (this[t] = e, this) : this[t];
          };
        }), n.Statics && ON(n.Statics, function (e, t) {
          i[t] = e;
        }), n.Defaults && o.Defaults && (n.Defaults = PN({}, o.Defaults, n.Defaults)), n) {
          "function" == typeof (r = n[t]) && o[t] ? e[t] = u(t, r) : e[t] = r;
        }

        return i.prototype = e, (i.constructor = i).extend = _wN, i;
      };

      var LN = Math.min,
          MN = Math.max,
          FN = Math.round,
          zN = function zN(e, n) {
        var r, o, t, i;
        if (n = n || '"', null === e) return "null";
        if ("string" == (t = typeof e)) return o = "\bb\tt\nn\ff\rr\"\"''\\\\", n + e.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g, function (e, t) {
          return '"' === n && "'" === e ? e : (r = o.indexOf(t)) + 1 ? "\\" + o.charAt(r + 1) : (e = t.charCodeAt().toString(16), "\\u" + "0000".substring(e.length) + e);
        }) + n;

        if ("object" === t) {
          if (e.hasOwnProperty && "[object Array]" === Object.prototype.toString.call(e)) {
            for (r = 0, o = "["; r < e.length; r++) {
              o += (0 < r ? "," : "") + zN(e[r], n);
            }

            return o + "]";
          }

          for (i in o = "{", e) {
            e.hasOwnProperty(i) && (o += "function" != typeof e[i] ? (1 < o.length ? "," + n : n) + i + n + ":" + zN(e[i], n) : "");
          }

          return o + "}";
        }

        return "" + e;
      },
          UN = {
        serialize: zN,
        parse: function parse(e) {
          try {
            return JSON.parse(e);
          } catch (t) {}
        }
      },
          VN = {
        callbacks: {},
        count: 0,
        send: function send(t) {
          var n = this,
              r = bi.DOM,
              o = t.count !== undefined ? t.count : n.count,
              i = "tinymce_jsonp_" + o;
          n.callbacks[o] = function (e) {
            r.remove(i), delete n.callbacks[o], t.callback(e);
          }, r.add(r.doc.body, "script", {
            id: i,
            src: t.url,
            type: "text/javascript"
          }), n.count++;
        }
      },
          HN = {
        send: function send(e) {
          var t,
              n = 0,
              r = function r() {
            !e.async || 4 === t.readyState || 1e4 < n++ ? (e.success && n < 1e4 && 200 === t.status ? e.success.call(e.success_scope, "" + t.responseText, t, e) : e.error && e.error.call(e.error_scope, 1e4 < n ? "TIMED_OUT" : "GENERAL", t, e), t = null) : setTimeout(r, 10);
          };

          if (e.scope = e.scope || this, e.success_scope = e.success_scope || e.scope, e.error_scope = e.error_scope || e.scope, e.async = !1 !== e.async, e.data = e.data || "", HN.fire("beforeInitialize", {
            settings: e
          }), t = wh()) {
            if (t.overrideMimeType && t.overrideMimeType(e.content_type), t.open(e.type || (e.data ? "POST" : "GET"), e.url, e.async), e.crossDomain && (t.withCredentials = !0), e.content_type && t.setRequestHeader("Content-Type", e.content_type), e.requestheaders && Jt.each(e.requestheaders, function (e) {
              t.setRequestHeader(e.key, e.value);
            }), t.setRequestHeader("X-Requested-With", "XMLHttpRequest"), (t = HN.fire("beforeSend", {
              xhr: t,
              settings: e
            }).xhr).send(e.data), !e.async) return r();
            setTimeout(r, 10);
          }
        }
      };

      Jt.extend(HN, fp);

      var jN,
          qN,
          $N,
          WN,
          KN = Jt.extend,
          XN = function XN(e) {
        this.settings = KN({}, e), this.count = 0;
      };

      XN.sendRPC = function (e) {
        return new XN().send(e);
      }, XN.prototype = {
        send: function send(n) {
          var r = n.error,
              o = n.success;
          (n = KN(this.settings, n)).success = function (e, t) {
            void 0 === (e = UN.parse(e)) && (e = {
              error: "JSON Parse error."
            }), e.error ? r.call(n.error_scope || n.scope, e.error, t) : o.call(n.success_scope || n.scope, e.result);
          }, n.error = function (e, t) {
            r && r.call(n.error_scope || n.scope, e, t);
          }, n.data = UN.serialize({
            id: n.id || "c" + this.count++,
            method: n.method,
            params: n.params
          }), n.content_type = "application/json", HN.send(n);
        }
      };

      try {
        jN = H.window.localStorage;
      } catch (ZN) {
        qN = {}, $N = [], WN = {
          getItem: function getItem(e) {
            var t = qN[e];
            return t || null;
          },
          setItem: function setItem(e, t) {
            $N.push(e), qN[e] = String(t);
          },
          key: function key(e) {
            return $N[e];
          },
          removeItem: function removeItem(t) {
            $N = $N.filter(function (e) {
              return e === t;
            }), delete qN[t];
          },
          clear: function clear() {
            $N = [], qN = {};
          },
          length: 0
        }, Object.defineProperty(WN, "length", {
          get: function get() {
            return $N.length;
          },
          configurable: !1,
          enumerable: !1
        }), jN = WN;
      }

      var YN,
          GN = CN,
          JN = {
        geom: {
          Rect: _N
        },
        util: {
          Promise: pe,
          Delay: ye,
          Tools: Jt,
          VK: xv,
          URI: Ow,
          Class: IN,
          EventDispatcher: sp,
          Observable: fp,
          I18n: mh,
          XHR: HN,
          JSON: UN,
          JSONRequest: XN,
          JSONP: VN,
          LocalStorage: jN,
          Color: function Color(e) {
            var n = {},
                u = 0,
                s = 0,
                c = 0,
                t = function t(e) {
              var t;
              return "object" == typeof e ? "r" in e ? (u = e.r, s = e.g, c = e.b) : "v" in e && function (e, t, n) {
                var r, o, i, a;

                if (e = (parseInt(e, 10) || 0) % 360, t = parseInt(t, 10) / 100, n = parseInt(n, 10) / 100, t = MN(0, LN(t, 1)), n = MN(0, LN(n, 1)), 0 !== t) {
                  switch (r = e / 60, i = (o = n * t) * (1 - Math.abs(r % 2 - 1)), a = n - o, Math.floor(r)) {
                    case 0:
                      u = o, s = i, c = 0;
                      break;

                    case 1:
                      u = i, s = o, c = 0;
                      break;

                    case 2:
                      u = 0, s = o, c = i;
                      break;

                    case 3:
                      u = 0, s = i, c = o;
                      break;

                    case 4:
                      u = i, s = 0, c = o;
                      break;

                    case 5:
                      u = o, s = 0, c = i;
                      break;

                    default:
                      u = s = c = 0;
                  }

                  u = FN(255 * (u + a)), s = FN(255 * (s + a)), c = FN(255 * (c + a));
                } else u = s = c = FN(255 * n);
              }(e.h, e.s, e.v) : (t = /rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(e)) ? (u = parseInt(t[1], 10), s = parseInt(t[2], 10), c = parseInt(t[3], 10)) : (t = /#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(e)) ? (u = parseInt(t[1], 16), s = parseInt(t[2], 16), c = parseInt(t[3], 16)) : (t = /#([0-F])([0-F])([0-F])/gi.exec(e)) && (u = parseInt(t[1] + t[1], 16), s = parseInt(t[2] + t[2], 16), c = parseInt(t[3] + t[3], 16)), u = u < 0 ? 0 : 255 < u ? 255 : u, s = s < 0 ? 0 : 255 < s ? 255 : s, c = c < 0 ? 0 : 255 < c ? 255 : c, n;
            };

            return e && t(e), n.toRgb = function () {
              return {
                r: u,
                g: s,
                b: c
              };
            }, n.toHsv = function () {
              return e = u, t = s, n = c, o = 0, (i = LN(e /= 255, LN(t /= 255, n /= 255))) === (a = MN(e, MN(t, n))) ? {
                h: 0,
                s: 0,
                v: 100 * (o = i)
              } : (r = (a - i) / a, {
                h: FN(60 * ((e === i ? 3 : n === i ? 1 : 5) - (e === i ? t - n : n === i ? e - t : n - e) / ((o = a) - i))),
                s: FN(100 * r),
                v: FN(100 * o)
              });
              var e, t, n, r, o, i, a;
            }, n.toHex = function () {
              var e = function e(_e9) {
                return 1 < (_e9 = parseInt(_e9, 10).toString(16)).length ? _e9 : "0" + _e9;
              };

              return "#" + e(u) + e(s) + e(c);
            }, n.parse = t, n;
          }
        },
        dom: {
          EventUtils: Ae,
          Sizzle: At,
          DomQuery: vn,
          TreeWalker: ao,
          DOMUtils: bi,
          ScriptLoader: Ni,
          RangeUtils: EN,
          Serializer: py,
          ControlSelection: wy,
          BookmarkManager: yy,
          Selection: tC,
          Event: Ae.Event
        },
        html: {
          Styles: ui,
          Entities: Xo,
          Node: Zb,
          Schema: ii,
          SaxParser: Rv,
          DomParser: ly,
          Writer: Zc,
          Serializer: el
        },
        ui: {
          Factory: BN
        },
        Env: ge,
        AddOnManager: ki,
        Annotator: Mc,
        Formatter: Vb,
        UndoManager: Xv,
        EditorCommands: ap,
        WindowManager: lh,
        NotificationManager: ch,
        EditorObservable: Ap,
        Shortcuts: qp,
        Editor: Yw,
        FocusManager: Zw,
        EditorManager: CN,
        DOM: bi.DOM,
        ScriptLoader: Ni.ScriptLoader,
        PluginManager: ki.PluginManager,
        ThemeManager: ki.ThemeManager,
        trim: Jt.trim,
        isArray: Jt.isArray,
        is: Jt.is,
        toArray: Jt.toArray,
        makeMap: Jt.makeMap,
        each: Jt.each,
        map: Jt.map,
        grep: Jt.grep,
        inArray: Jt.inArray,
        extend: Jt.extend,
        create: Jt.create,
        walk: Jt.walk,
        createNS: Jt.createNS,
        resolve: Jt.resolve,
        explode: Jt.explode,
        _addCacheSuffix: Jt._addCacheSuffix,
        isOpera: ge.opera,
        isWebKit: ge.webkit,
        isIE: ge.ie,
        isGecko: ge.gecko,
        isMac: ge.mac
      },
          QN = GN = Jt.extend(GN, JN);
      YN = QN, window.tinymce = YN, window.tinyMCE = YN, function (e) {
        if (true) try {
          module.exports = e;
        } catch (t) {}
      }(QN);
    }(window);
    /***/
  },

  /***/
  "./src/app/form/form-elements/form-elements.component.scss":
  /*!*****************************************************************!*\
    !*** ./src/app/form/form-elements/form-elements.component.scss ***!
    \*****************************************************************/

  /*! exports provided: default */

  /***/
  function srcAppFormFormElementsFormElementsComponentScss(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony default export */


    __webpack_exports__["default"] = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Zvcm0vZm9ybS1lbGVtZW50cy9mb3JtLWVsZW1lbnRzLmNvbXBvbmVudC5zY3NzIn0= */";
    /***/
  },

  /***/
  "./src/app/form/form-elements/form-elements.component.ts":
  /*!***************************************************************!*\
    !*** ./src/app/form/form-elements/form-elements.component.ts ***!
    \***************************************************************/

  /*! exports provided: FormElementsComponent */

  /***/
  function srcAppFormFormElementsFormElementsComponentTs(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "FormElementsComponent", function () {
      return FormElementsComponent;
    });
    /* harmony import */


    var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
    /*! tslib */
    "./node_modules/tslib/tslib.es6.js");
    /* harmony import */


    var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(
    /*! @angular/core */
    "./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");

    var FormElementsComponent = /*#__PURE__*/function () {
      function FormElementsComponent() {
        _classCallCheck(this, FormElementsComponent);

        this.switch1 = false;
        this.switch2 = false;
        this.switch3 = false;
        this.switch4 = false;
        this.switch5 = true;
        this.switch6 = true;
        this.switch7 = true;
        this.switch8 = true; // colorpicker

        this.color1 = "#0071e9";
        this.color2 = "#c6007f"; // datepicker

        this.displayMonths = 2;
        this.navigation = 'select';
        this.showWeekNumbers = false;
        this.outsideDays = 'visible'; // timepicker

        this.time = {
          hour: 13,
          minute: 30
        };
        this.meridian = true;
        this.selectedPersonId = '5a15b13c36e7a7f00cf0d7cb';
        this.selectedPersonIdDisabled = '5a15b13c2340978ec3d2c0ea';
        this.selectedPersonIdMultiple = '5a15b13c663ea0af9ad0dae8';
        this.variableName = [{
          'id': '5a15b13c36e7a7f00cf0d7cb',
          'index': 2,
          'isActive': true,
          'picture': 'http://placehold.it/32x32',
          'age': 23,
          'name': 'Karyn Wright',
          'gender': 'female',
          'company': 'ZOLAR',
          'email': 'karynwright@zolar.com',
          'phone': '+1 (851) 583-2547'
        }, {
          'id': '5a15b13c2340978ec3d2c0ea',
          'index': 3,
          'isActive': false,
          'picture': 'http://placehold.it/32x32',
          'age': 35,
          'name': 'Rochelle Estes',
          'disabled': true,
          'gender': 'female',
          'company': 'EXTRAWEAR',
          'email': 'rochelleestes@extrawear.com',
          'phone': '+1 (849) 408-2029'
        }, {
          'id': '5a15b13c663ea0af9ad0dae8',
          'index': 4,
          'isActive': false,
          'picture': 'http://placehold.it/32x32',
          'age': 25,
          'name': 'Mendoza Ruiz',
          'gender': 'male',
          'company': 'ZYTRAX',
          'email': 'mendozaruiz@zytrax.com',
          'phone': '+1 (904) 536-2020'
        }, {
          'id': '5a15b13cc9eeb36511d65acf',
          'index': 5,
          'isActive': false,
          'picture': 'http://placehold.it/32x32',
          'age': 39,
          'name': 'Rosales Russell',
          'gender': 'male',
          'company': 'ELEMANTRA',
          'email': 'rosalesrussell@elemantra.com',
          'phone': '+1 (868) 473-3073'
        }, {
          'id': '5a15b13c728cd3f43cc0fe8a',
          'index': 6,
          'isActive': true,
          'picture': 'http://placehold.it/32x32',
          'age': 32,
          'name': 'Marquez Nolan',
          'gender': 'male',
          'company': 'MIRACLIS',
          'disabled': true,
          'email': 'marqueznolan@miraclis.com',
          'phone': '+1 (853) 571-3921'
        }, {
          'id': '5a15b13ca51b0aaf8a99c05a',
          'index': 7,
          'isActive': false,
          'picture': 'http://placehold.it/32x32',
          'age': 28,
          'name': 'Franklin James',
          'gender': 'male',
          'company': 'CAXT',
          'email': 'franklinjames@caxt.com',
          'phone': '+1 (868) 539-2984'
        }, {
          'id': '5a15b13cc3b9381ffcb1d6f7',
          'index': 8,
          'isActive': false,
          'picture': 'http://placehold.it/32x32',
          'age': 24,
          'name': 'Elsa Bradley',
          'gender': 'female',
          'company': 'MATRIXITY',
          'email': 'elsabradley@matrixity.com',
          'phone': '+1 (994) 583-3850'
        }, {
          'id': '5a15b13ce58cb6ff62c65164',
          'index': 9,
          'isActive': true,
          'picture': 'http://placehold.it/32x32',
          'age': 40,
          'name': 'Pearson Thompson',
          'gender': 'male',
          'company': 'EZENT',
          'email': 'pearsonthompson@ezent.com',
          'phone': '+1 (917) 537-2178'
        }, {
          'id': '5a15b13c90b95eb68010c86e',
          'index': 10,
          'isActive': true,
          'picture': 'http://placehold.it/32x32',
          'age': 32,
          'name': 'Ina Pugh',
          'gender': 'female',
          'company': 'MANTRIX',
          'email': 'inapugh@mantrix.com',
          'phone': '+1 (917) 450-2372'
        }, {
          'id': '5a15b13c2b1746e12788711f',
          'index': 11,
          'isActive': true,
          'picture': 'http://placehold.it/32x32',
          'age': 25,
          'name': 'Nguyen Elliott',
          'gender': 'male',
          'company': 'PORTALINE',
          'email': 'nguyenelliott@portaline.com',
          'phone': '+1 (905) 491-3377'
        }, {
          'id': '5a15b13c605403381eec5019',
          'index': 12,
          'isActive': true,
          'picture': 'http://placehold.it/32x32',
          'age': 31,
          'name': 'Mills Barnett',
          'gender': 'male',
          'company': 'FARMEX',
          'email': 'millsbarnett@farmex.com',
          'phone': '+1 (882) 462-3986'
        }, {
          'id': '5a15b13c67e2e6d1a3cd6ca5',
          'index': 13,
          'isActive': true,
          'picture': 'http://placehold.it/32x32',
          'age': 36,
          'name': 'Margaret Reynolds',
          'gender': 'female',
          'company': 'ROOFORIA',
          'email': 'margaretreynolds@rooforia.com',
          'phone': '+1 (935) 435-2345'
        }, {
          'id': '5a15b13c947c836d177aa85c',
          'index': 14,
          'isActive': false,
          'picture': 'http://placehold.it/32x32',
          'age': 29,
          'name': 'Yvette Navarro',
          'gender': 'female',
          'company': 'KINETICA',
          'email': 'yvettenavarro@kinetica.com',
          'phone': '+1 (807) 485-3824'
        }, {
          'id': '5a15b13c5dbbe61245c1fb73',
          'index': 15,
          'isActive': false,
          'picture': 'http://placehold.it/32x32',
          'age': 20,
          'name': 'Elisa Guzman',
          'gender': 'female',
          'company': 'KAGE',
          'email': 'elisaguzman@kage.com',
          'phone': '+1 (868) 594-2919'
        }, {
          'id': '5a15b13c38fd49fefea8db80',
          'index': 16,
          'isActive': false,
          'picture': 'http://placehold.it/32x32',
          'age': 33,
          'name': 'Jodie Bowman',
          'gender': 'female',
          'company': 'EMTRAC',
          'email': 'jodiebowman@emtrac.com',
          'phone': '+1 (891) 565-2560'
        }, {
          'id': '5a15b13c9680913c470eb8fd',
          'index': 17,
          'isActive': false,
          'picture': 'http://placehold.it/32x32',
          'age': 24,
          'name': 'Diann Booker',
          'gender': 'female',
          'company': 'LYRIA',
          'email': 'diannbooker@lyria.com',
          'phone': '+1 (830) 555-3209'
        }];
      }

      _createClass(FormElementsComponent, [{
        key: "ngOnInit",
        value: function ngOnInit() {}
      }]);

      return FormElementsComponent;
    }();

    FormElementsComponent = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
      selector: 'app-form-elements',
      template: Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(
      /*! raw-loader!./form-elements.component.html */
      "./node_modules/raw-loader/dist/cjs.js!./src/app/form/form-elements/form-elements.component.html"))["default"],
      styles: [Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(
      /*! ./form-elements.component.scss */
      "./src/app/form/form-elements/form-elements.component.scss"))["default"]]
    })], FormElementsComponent);
    /***/
  },

  /***/
  "./src/app/form/form.module.ts":
  /*!*************************************!*\
    !*** ./src/app/form/form.module.ts ***!
    \*************************************/

  /*! exports provided: FormModule */

  /***/
  function srcAppFormFormModuleTs(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "FormModule", function () {
      return FormModule;
    });
    /* harmony import */


    var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
    /*! tslib */
    "./node_modules/tslib/tslib.es6.js");
    /* harmony import */


    var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(
    /*! @angular/core */
    "./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");
    /* harmony import */


    var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(
    /*! @angular/common */
    "./node_modules/@angular/common/__ivy_ngcc__/fesm2015/common.js");
    /* harmony import */


    var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(
    /*! @angular/router */
    "./node_modules/@angular/router/__ivy_ngcc__/fesm2015/router.js");
    /* harmony import */


    var ngx_color_picker__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(
    /*! ngx-color-picker */
    "./node_modules/ngx-color-picker/__ivy_ngcc__/fesm2015/ngx-color-picker.js");
    /* harmony import */


    var angular2_tinymce__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(
    /*! angular2-tinymce */
    "./node_modules/angular2-tinymce/__ivy_ngcc__/fesm2015/angular2-tinymce.js");
    /* harmony import */


    var _form_elements_form_elements_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(
    /*! ./form-elements/form-elements.component */
    "./src/app/form/form-elements/form-elements.component.ts");
    /* harmony import */


    var _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(
    /*! @ng-bootstrap/ng-bootstrap */
    "./node_modules/@ng-bootstrap/ng-bootstrap/__ivy_ngcc__/fesm2015/ng-bootstrap.js");
    /* harmony import */


    var _shared_shared_module__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(
    /*! ../shared/shared.module */
    "./src/app/shared/shared.module.ts");
    /* harmony import */


    var _angular_forms__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(
    /*! @angular/forms */
    "./node_modules/@angular/forms/__ivy_ngcc__/fesm2015/forms.js");
    /* harmony import */


    var ngx_custom_validators__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(
    /*! ngx-custom-validators */
    "./node_modules/ngx-custom-validators/__ivy_ngcc__/fesm2015/ngx-custom-validators.js");
    /* harmony import */


    var angular2_wizard__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(
    /*! angular2-wizard */
    "./node_modules/angular2-wizard/__ivy_ngcc__/dist/index.js");
    /* harmony import */


    var angular2_wizard__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(angular2_wizard__WEBPACK_IMPORTED_MODULE_11__);
    /* harmony import */


    var _angular_common_http__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(
    /*! @angular/common/http */
    "./node_modules/@angular/common/__ivy_ngcc__/fesm2015/http.js");
    /* harmony import */


    var _ng_select_ng_select__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(
    /*! @ng-select/ng-select */
    "./node_modules/@ng-select/ng-select/__ivy_ngcc__/fesm2015/ng-select-ng-select.js");

    var routes = [{
      path: 'form-elements',
      component: _form_elements_form_elements_component__WEBPACK_IMPORTED_MODULE_6__["FormElementsComponent"]
    }];

    var FormModule = function FormModule() {
      _classCallCheck(this, FormModule);
    };

    FormModule = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
      declarations: [// ComponentsSidebarComponent,
      _form_elements_form_elements_component__WEBPACK_IMPORTED_MODULE_6__["FormElementsComponent"]],
      imports: [_angular_common__WEBPACK_IMPORTED_MODULE_2__["CommonModule"], _angular_router__WEBPACK_IMPORTED_MODULE_3__["RouterModule"].forChild(routes), _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_7__["NgbModule"], _shared_shared_module__WEBPACK_IMPORTED_MODULE_8__["SharedModule"], _angular_forms__WEBPACK_IMPORTED_MODULE_9__["FormsModule"], ngx_color_picker__WEBPACK_IMPORTED_MODULE_4__["ColorPickerModule"], // Select2Module,
      _ng_select_ng_select__WEBPACK_IMPORTED_MODULE_13__["NgSelectModule"], ngx_custom_validators__WEBPACK_IMPORTED_MODULE_10__["CustomFormsModule"], angular2_wizard__WEBPACK_IMPORTED_MODULE_11__["FormWizardModule"], _angular_common_http__WEBPACK_IMPORTED_MODULE_12__["HttpClientModule"], angular2_tinymce__WEBPACK_IMPORTED_MODULE_5__["TinymceModule"].withConfig({
        skin_url: '../assets/tinymce/skins/lightgray'
      })]
    })], FormModule);
    /***/
  }
}]);
//# sourceMappingURL=form-form-module-es5.js.map